function _mergeNamespaces(et,tt){for(var rt=0;rt<tt.length;rt++){const nt=tt[rt];if(typeof nt!="string"&&!Array.isArray(nt)){for(const at in nt)if(at!=="default"&&!(at in et)){const lt=Object.getOwnPropertyDescriptor(nt,at);lt&&Object.defineProperty(et,at,lt.get?lt:{enumerable:!0,get:()=>nt[at]})}}}return Object.freeze(Object.defineProperty(et,Symbol.toStringTag,{value:"Module"}))}(function(){const tt=document.createElement("link").relList;if(tt&&tt.supports&&tt.supports("modulepreload"))return;for(const at of document.querySelectorAll('link[rel="modulepreload"]'))nt(at);new MutationObserver(at=>{for(const lt of at)if(lt.type==="childList")for(const dt of lt.addedNodes)dt.tagName==="LINK"&&dt.rel==="modulepreload"&&nt(dt)}).observe(document,{childList:!0,subtree:!0});function rt(at){const lt={};return at.integrity&&(lt.integrity=at.integrity),at.referrerPolicy&&(lt.referrerPolicy=at.referrerPolicy),at.crossOrigin==="use-credentials"?lt.credentials="include":at.crossOrigin==="anonymous"?lt.credentials="omit":lt.credentials="same-origin",lt}function nt(at){if(at.ep)return;at.ep=!0;const lt=rt(at);fetch(at.href,lt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$b=Symbol.for("react.element"),n$h=Symbol.for("react.portal"),p$h=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$h=Symbol.for("react.profiler"),t$4=Symbol.for("react.provider"),u$4=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$b(et){return et===null||typeof et!="object"?null:(et=z$3&&et[z$3]||et["@@iterator"],typeof et=="function"?et:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$4=Object.assign,D$2={};function E$b(et,tt,rt){this.props=et,this.context=tt,this.refs=D$2,this.updater=rt||B$2}E$b.prototype.isReactComponent={};E$b.prototype.setState=function(et,tt){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,tt,"setState")};E$b.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function F$1(){}F$1.prototype=E$b.prototype;function G$2(et,tt,rt){this.props=et,this.context=tt,this.refs=D$2,this.updater=rt||B$2}var H$6=G$2.prototype=new F$1;H$6.constructor=G$2;C$4(H$6,E$b.prototype);H$6.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$4={key:!0,ref:!0,__self:!0,__source:!0};function M$8(et,tt,rt){var nt,at={},lt=null,dt=null;if(tt!=null)for(nt in tt.ref!==void 0&&(dt=tt.ref),tt.key!==void 0&&(lt=""+tt.key),tt)J$1.call(tt,nt)&&!L$4.hasOwnProperty(nt)&&(at[nt]=tt[nt]);var ot=arguments.length-2;if(ot===1)at.children=rt;else if(1<ot){for(var mt=Array(ot),xt=0;xt<ot;xt++)mt[xt]=arguments[xt+2];at.children=mt}if(et&&et.defaultProps)for(nt in ot=et.defaultProps,ot)at[nt]===void 0&&(at[nt]=ot[nt]);return{$$typeof:l$b,type:et,key:lt,ref:dt,props:at,_owner:K$2.current}}function N$2(et,tt){return{$$typeof:l$b,type:et.type,key:tt,ref:et.ref,props:et.props,_owner:et._owner}}function O$1(et){return typeof et=="object"&&et!==null&&et.$$typeof===l$b}function escape(et){var tt={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(rt){return tt[rt]})}var P$2=/\/+/g;function Q$2(et,tt){return typeof et=="object"&&et!==null&&et.key!=null?escape(""+et.key):tt.toString(36)}function R$2(et,tt,rt,nt,at){var lt=typeof et;(lt==="undefined"||lt==="boolean")&&(et=null);var dt=!1;if(et===null)dt=!0;else switch(lt){case"string":case"number":dt=!0;break;case"object":switch(et.$$typeof){case l$b:case n$h:dt=!0}}if(dt)return dt=et,at=at(dt),et=nt===""?"."+Q$2(dt,0):nt,I$2(at)?(rt="",et!=null&&(rt=et.replace(P$2,"$&/")+"/"),R$2(at,tt,rt,"",function(xt){return xt})):at!=null&&(O$1(at)&&(at=N$2(at,rt+(!at.key||dt&&dt.key===at.key?"":(""+at.key).replace(P$2,"$&/")+"/")+et)),tt.push(at)),1;if(dt=0,nt=nt===""?".":nt+":",I$2(et))for(var ot=0;ot<et.length;ot++){lt=et[ot];var mt=nt+Q$2(lt,ot);dt+=R$2(lt,tt,rt,mt,at)}else if(mt=A$b(et),typeof mt=="function")for(et=mt.call(et),ot=0;!(lt=et.next()).done;)lt=lt.value,mt=nt+Q$2(lt,ot++),dt+=R$2(lt,tt,rt,mt,at);else if(lt==="object")throw tt=String(et),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.");return dt}function S$2(et,tt,rt){if(et==null)return et;var nt=[],at=0;return R$2(et,nt,"","",function(lt){return tt.call(rt,lt,at++)}),nt}function T$2(et){if(et._status===-1){var tt=et._result;tt=tt(),tt.then(function(rt){(et._status===0||et._status===-1)&&(et._status=1,et._result=rt)},function(rt){(et._status===0||et._status===-1)&&(et._status=2,et._result=rt)}),et._status===-1&&(et._status=0,et._result=tt)}if(et._status===1)return et._result.default;throw et._result}var U$2={current:null},V$5={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$5,ReactCurrentOwner:K$2};react_production_min.Children={map:S$2,forEach:function(et,tt,rt){S$2(et,function(){tt.apply(this,arguments)},rt)},count:function(et){var tt=0;return S$2(et,function(){tt++}),tt},toArray:function(et){return S$2(et,function(tt){return tt})||[]},only:function(et){if(!O$1(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};react_production_min.Component=E$b;react_production_min.Fragment=p$h;react_production_min.Profiler=r$h;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(et,tt,rt){if(et==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+et+".");var nt=C$4({},et.props),at=et.key,lt=et.ref,dt=et._owner;if(tt!=null){if(tt.ref!==void 0&&(lt=tt.ref,dt=K$2.current),tt.key!==void 0&&(at=""+tt.key),et.type&&et.type.defaultProps)var ot=et.type.defaultProps;for(mt in tt)J$1.call(tt,mt)&&!L$4.hasOwnProperty(mt)&&(nt[mt]=tt[mt]===void 0&&ot!==void 0?ot[mt]:tt[mt])}var mt=arguments.length-2;if(mt===1)nt.children=rt;else if(1<mt){ot=Array(mt);for(var xt=0;xt<mt;xt++)ot[xt]=arguments[xt+2];nt.children=ot}return{$$typeof:l$b,type:et.type,key:at,ref:lt,props:nt,_owner:dt}};react_production_min.createContext=function(et){return et={$$typeof:u$4,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},et.Provider={$$typeof:t$4,_context:et},et.Consumer=et};react_production_min.createElement=M$8;react_production_min.createFactory=function(et){var tt=M$8.bind(null,et);return tt.type=et,tt};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(et){return{$$typeof:v$7,render:et}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(et){return{$$typeof:y$2,_payload:{_status:-1,_result:et},_init:T$2}};react_production_min.memo=function(et,tt){return{$$typeof:x$2,type:et,compare:tt===void 0?null:tt}};react_production_min.startTransition=function(et){var tt=V$5.transition;V$5.transition={};try{et()}finally{V$5.transition=tt}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(et,tt){return U$2.current.useCallback(et,tt)};react_production_min.useContext=function(et){return U$2.current.useContext(et)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(et){return U$2.current.useDeferredValue(et)};react_production_min.useEffect=function(et,tt){return U$2.current.useEffect(et,tt)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(et,tt,rt){return U$2.current.useImperativeHandle(et,tt,rt)};react_production_min.useInsertionEffect=function(et,tt){return U$2.current.useInsertionEffect(et,tt)};react_production_min.useLayoutEffect=function(et,tt){return U$2.current.useLayoutEffect(et,tt)};react_production_min.useMemo=function(et,tt){return U$2.current.useMemo(et,tt)};react_production_min.useReducer=function(et,tt,rt){return U$2.current.useReducer(et,tt,rt)};react_production_min.useRef=function(et){return U$2.current.useRef(et)};react_production_min.useState=function(et){return U$2.current.useState(et)};react_production_min.useSyncExternalStore=function(et,tt,rt){return U$2.current.useSyncExternalStore(et,tt,rt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$3=Symbol.for("react.element"),l$a=Symbol.for("react.fragment"),m$d=Object.prototype.hasOwnProperty,n$g=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$g={key:!0,ref:!0,__self:!0,__source:!0};function q$3(et,tt,rt){var nt,at={},lt=null,dt=null;rt!==void 0&&(lt=""+rt),tt.key!==void 0&&(lt=""+tt.key),tt.ref!==void 0&&(dt=tt.ref);for(nt in tt)m$d.call(tt,nt)&&!p$g.hasOwnProperty(nt)&&(at[nt]=tt[nt]);if(et&&et.defaultProps)for(nt in tt=et.defaultProps,tt)at[nt]===void 0&&(at[nt]=tt[nt]);return{$$typeof:k$3,type:et,key:lt,ref:dt,props:at,_owner:n$g.current}}reactJsxRuntime_production_min.Fragment=l$a;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function tt(Xt,Qt){var lr=Xt.length;Xt.push(Qt);e:for(;0<lr;){var cr=lr-1>>>1,sr=Xt[cr];if(0<at(sr,Qt))Xt[cr]=Qt,Xt[lr]=sr,lr=cr;else break e}}function rt(Xt){return Xt.length===0?null:Xt[0]}function nt(Xt){if(Xt.length===0)return null;var Qt=Xt[0],lr=Xt.pop();if(lr!==Qt){Xt[0]=lr;e:for(var cr=0,sr=Xt.length,dr=sr>>>1;cr<dr;){var Rr=2*(cr+1)-1,jr=Xt[Rr],Sr=Rr+1,dn=Xt[Sr];if(0>at(jr,lr))Sr<sr&&0>at(dn,jr)?(Xt[cr]=dn,Xt[Sr]=lr,cr=Sr):(Xt[cr]=jr,Xt[Rr]=lr,cr=Rr);else if(Sr<sr&&0>at(dn,lr))Xt[cr]=dn,Xt[Sr]=lr,cr=Sr;else break e}}return Qt}function at(Xt,Qt){var lr=Xt.sortIndex-Qt.sortIndex;return lr!==0?lr:Xt.id-Qt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var lt=performance;et.unstable_now=function(){return lt.now()}}else{var dt=Date,ot=dt.now();et.unstable_now=function(){return dt.now()-ot}}var mt=[],xt=[],Et=1,At=null,Tt=3,Ft=!1,Mt=!1,Lt=!1,Gt=typeof setTimeout=="function"?setTimeout:null,Pt=typeof clearTimeout=="function"?clearTimeout:null,$t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function It(Xt){for(var Qt=rt(xt);Qt!==null;){if(Qt.callback===null)nt(xt);else if(Qt.startTime<=Xt)nt(xt),Qt.sortIndex=Qt.expirationTime,tt(mt,Qt);else break;Qt=rt(xt)}}function Ot(Xt){if(Lt=!1,It(Xt),!Mt)if(rt(mt)!==null)Mt=!0,hr(Vt);else{var Qt=rt(xt);Qt!==null&&Tr(Ot,Qt.startTime-Xt)}}function Vt(Xt,Qt){Mt=!1,Lt&&(Lt=!1,Pt(nr),nr=-1),Ft=!0;var lr=Tt;try{for(It(Qt),At=rt(mt);At!==null&&(!(At.expirationTime>Qt)||Xt&&!ur());){var cr=At.callback;if(typeof cr=="function"){At.callback=null,Tt=At.priorityLevel;var sr=cr(At.expirationTime<=Qt);Qt=et.unstable_now(),typeof sr=="function"?At.callback=sr:At===rt(mt)&&nt(mt),It(Qt)}else nt(mt);At=rt(mt)}if(At!==null)var dr=!0;else{var Rr=rt(xt);Rr!==null&&Tr(Ot,Rr.startTime-Qt),dr=!1}return dr}finally{At=null,Tt=lr,Ft=!1}}var Ut=!1,Wt=null,nr=-1,er=5,Kt=-1;function ur(){return!(et.unstable_now()-Kt<er)}function vr(){if(Wt!==null){var Xt=et.unstable_now();Kt=Xt;var Qt=!0;try{Qt=Wt(!0,Xt)}finally{Qt?Lr():(Ut=!1,Wt=null)}}else Ut=!1}var Lr;if(typeof $t=="function")Lr=function(){$t(vr)};else if(typeof MessageChannel<"u"){var Er=new MessageChannel,Cr=Er.port2;Er.port1.onmessage=vr,Lr=function(){Cr.postMessage(null)}}else Lr=function(){Gt(vr,0)};function hr(Xt){Wt=Xt,Ut||(Ut=!0,Lr())}function Tr(Xt,Qt){nr=Gt(function(){Xt(et.unstable_now())},Qt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(Xt){Xt.callback=null},et.unstable_continueExecution=function(){Mt||Ft||(Mt=!0,hr(Vt))},et.unstable_forceFrameRate=function(Xt){0>Xt||125<Xt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):er=0<Xt?Math.floor(1e3/Xt):5},et.unstable_getCurrentPriorityLevel=function(){return Tt},et.unstable_getFirstCallbackNode=function(){return rt(mt)},et.unstable_next=function(Xt){switch(Tt){case 1:case 2:case 3:var Qt=3;break;default:Qt=Tt}var lr=Tt;Tt=Qt;try{return Xt()}finally{Tt=lr}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(Xt,Qt){switch(Xt){case 1:case 2:case 3:case 4:case 5:break;default:Xt=3}var lr=Tt;Tt=Xt;try{return Qt()}finally{Tt=lr}},et.unstable_scheduleCallback=function(Xt,Qt,lr){var cr=et.unstable_now();switch(typeof lr=="object"&&lr!==null?(lr=lr.delay,lr=typeof lr=="number"&&0<lr?cr+lr:cr):lr=cr,Xt){case 1:var sr=-1;break;case 2:sr=250;break;case 5:sr=1073741823;break;case 4:sr=1e4;break;default:sr=5e3}return sr=lr+sr,Xt={id:Et++,callback:Qt,priorityLevel:Xt,startTime:lr,expirationTime:sr,sortIndex:-1},lr>cr?(Xt.sortIndex=lr,tt(xt,Xt),rt(mt)===null&&Xt===rt(xt)&&(Lt?(Pt(nr),nr=-1):Lt=!0,Tr(Ot,lr-cr))):(Xt.sortIndex=sr,tt(mt,Xt),Mt||Ft||(Mt=!0,hr(Vt))),Xt},et.unstable_shouldYield=ur,et.unstable_wrapCallback=function(Xt){var Qt=Tt;return function(){var lr=Tt;Tt=Qt;try{return Xt.apply(this,arguments)}finally{Tt=lr}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$f(et){for(var tt="https://reactjs.org/docs/error-decoder.html?invariant="+et,rt=1;rt<arguments.length;rt++)tt+="&args[]="+encodeURIComponent(arguments[rt]);return"Minified React error #"+et+"; visit "+tt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(et,tt){ha(et,tt),ha(et+"Capture",tt)}function ha(et,tt){for(ea[et]=tt,et=0;et<tt.length;et++)da.add(tt[et])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(et){return ja.call(ma,et)?!0:ja.call(la,et)?!1:ka.test(et)?ma[et]=!0:(la[et]=!0,!1)}function pa(et,tt,rt,nt){if(rt!==null&&rt.type===0)return!1;switch(typeof tt){case"function":case"symbol":return!0;case"boolean":return nt?!1:rt!==null?!rt.acceptsBooleans:(et=et.toLowerCase().slice(0,5),et!=="data-"&&et!=="aria-");default:return!1}}function qa(et,tt,rt,nt){if(tt===null||typeof tt>"u"||pa(et,tt,rt,nt))return!0;if(nt)return!1;if(rt!==null)switch(rt.type){case 3:return!tt;case 4:return tt===!1;case 5:return isNaN(tt);case 6:return isNaN(tt)||1>tt}return!1}function v$6(et,tt,rt,nt,at,lt,dt){this.acceptsBooleans=tt===2||tt===3||tt===4,this.attributeName=nt,this.attributeNamespace=at,this.mustUseProperty=rt,this.propertyName=et,this.type=tt,this.sanitizeURL=lt,this.removeEmptyString=dt}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(et){z$2[et]=new v$6(et,0,!1,et,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(et){var tt=et[0];z$2[tt]=new v$6(tt,1,!1,et[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(et){z$2[et]=new v$6(et,2,!1,et.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(et){z$2[et]=new v$6(et,2,!1,et,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(et){z$2[et]=new v$6(et,3,!1,et.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(et){z$2[et]=new v$6(et,3,!0,et,null,!1,!1)});["capture","download"].forEach(function(et){z$2[et]=new v$6(et,4,!1,et,null,!1,!1)});["cols","rows","size","span"].forEach(function(et){z$2[et]=new v$6(et,6,!1,et,null,!1,!1)});["rowSpan","start"].forEach(function(et){z$2[et]=new v$6(et,5,!1,et.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(et){return et[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(et){var tt=et.replace(ra,sa);z$2[tt]=new v$6(tt,1,!1,et,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(et){var tt=et.replace(ra,sa);z$2[tt]=new v$6(tt,1,!1,et,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(et){var tt=et.replace(ra,sa);z$2[tt]=new v$6(tt,1,!1,et,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(et){z$2[et]=new v$6(et,1,!1,et.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$6("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(et){z$2[et]=new v$6(et,1,!1,et.toLowerCase(),null,!0,!0)});function ta(et,tt,rt,nt){var at=z$2.hasOwnProperty(tt)?z$2[tt]:null;(at!==null?at.type!==0:nt||!(2<tt.length)||tt[0]!=="o"&&tt[0]!=="O"||tt[1]!=="n"&&tt[1]!=="N")&&(qa(tt,rt,at,nt)&&(rt=null),nt||at===null?oa(tt)&&(rt===null?et.removeAttribute(tt):et.setAttribute(tt,""+rt)):at.mustUseProperty?et[at.propertyName]=rt===null?at.type===3?!1:"":rt:(tt=at.attributeName,nt=at.attributeNamespace,rt===null?et.removeAttribute(tt):(at=at.type,rt=at===3||at===4&&rt===!0?"":""+rt,nt?et.setAttributeNS(nt,tt,rt):et.setAttribute(tt,rt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(et){return et===null||typeof et!="object"?null:(et=Ja&&et[Ja]||et["@@iterator"],typeof et=="function"?et:null)}var A$a=Object.assign,La;function Ma(et){if(La===void 0)try{throw Error()}catch(rt){var tt=rt.stack.trim().match(/\n( *(at )?)/);La=tt&&tt[1]||""}return`
`+La+et}var Na=!1;function Oa(et,tt){if(!et||Na)return"";Na=!0;var rt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(tt)if(tt=function(){throw Error()},Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(xt){var nt=xt}Reflect.construct(et,[],tt)}else{try{tt.call()}catch(xt){nt=xt}et.call(tt.prototype)}else{try{throw Error()}catch(xt){nt=xt}et()}}catch(xt){if(xt&&nt&&typeof xt.stack=="string"){for(var at=xt.stack.split(`
`),lt=nt.stack.split(`
`),dt=at.length-1,ot=lt.length-1;1<=dt&&0<=ot&&at[dt]!==lt[ot];)ot--;for(;1<=dt&&0<=ot;dt--,ot--)if(at[dt]!==lt[ot]){if(dt!==1||ot!==1)do if(dt--,ot--,0>ot||at[dt]!==lt[ot]){var mt=`
`+at[dt].replace(" at new "," at ");return et.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",et.displayName)),mt}while(1<=dt&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=rt}return(et=et?et.displayName||et.name:"")?Ma(et):""}function Pa(et){switch(et.tag){case 5:return Ma(et.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return et=Oa(et.type,!1),et;case 11:return et=Oa(et.type.render,!1),et;case 1:return et=Oa(et.type,!0),et;default:return""}}function Qa(et){if(et==null)return null;if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et;switch(et){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof et=="object")switch(et.$$typeof){case Ca:return(et.displayName||"Context")+".Consumer";case Ba:return(et._context.displayName||"Context")+".Provider";case Da:var tt=et.render;return et=et.displayName,et||(et=tt.displayName||tt.name||"",et=et!==""?"ForwardRef("+et+")":"ForwardRef"),et;case Ga:return tt=et.displayName||null,tt!==null?tt:Qa(et.type)||"Memo";case Ha:tt=et._payload,et=et._init;try{return Qa(et(tt))}catch{}}return null}function Ra(et){var tt=et.type;switch(et.tag){case 24:return"Cache";case 9:return(tt.displayName||"Context")+".Consumer";case 10:return(tt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return et=tt.render,et=et.displayName||et.name||"",tt.displayName||(et!==""?"ForwardRef("+et+")":"ForwardRef");case 7:return"Fragment";case 5:return tt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(tt);case 8:return tt===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof tt=="function")return tt.displayName||tt.name||null;if(typeof tt=="string")return tt}return null}function Sa(et){switch(typeof et){case"boolean":case"number":case"string":case"undefined":return et;case"object":return et;default:return""}}function Ta(et){var tt=et.type;return(et=et.nodeName)&&et.toLowerCase()==="input"&&(tt==="checkbox"||tt==="radio")}function Ua(et){var tt=Ta(et)?"checked":"value",rt=Object.getOwnPropertyDescriptor(et.constructor.prototype,tt),nt=""+et[tt];if(!et.hasOwnProperty(tt)&&typeof rt<"u"&&typeof rt.get=="function"&&typeof rt.set=="function"){var at=rt.get,lt=rt.set;return Object.defineProperty(et,tt,{configurable:!0,get:function(){return at.call(this)},set:function(dt){nt=""+dt,lt.call(this,dt)}}),Object.defineProperty(et,tt,{enumerable:rt.enumerable}),{getValue:function(){return nt},setValue:function(dt){nt=""+dt},stopTracking:function(){et._valueTracker=null,delete et[tt]}}}}function Va(et){et._valueTracker||(et._valueTracker=Ua(et))}function Wa(et){if(!et)return!1;var tt=et._valueTracker;if(!tt)return!0;var rt=tt.getValue(),nt="";return et&&(nt=Ta(et)?et.checked?"true":"false":et.value),et=nt,et!==rt?(tt.setValue(et),!0):!1}function Xa(et){if(et=et||(typeof document<"u"?document:void 0),typeof et>"u")return null;try{return et.activeElement||et.body}catch{return et.body}}function Ya(et,tt){var rt=tt.checked;return A$a({},tt,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:rt??et._wrapperState.initialChecked})}function Za(et,tt){var rt=tt.defaultValue==null?"":tt.defaultValue,nt=tt.checked!=null?tt.checked:tt.defaultChecked;rt=Sa(tt.value!=null?tt.value:rt),et._wrapperState={initialChecked:nt,initialValue:rt,controlled:tt.type==="checkbox"||tt.type==="radio"?tt.checked!=null:tt.value!=null}}function ab(et,tt){tt=tt.checked,tt!=null&&ta(et,"checked",tt,!1)}function bb(et,tt){ab(et,tt);var rt=Sa(tt.value),nt=tt.type;if(rt!=null)nt==="number"?(rt===0&&et.value===""||et.value!=rt)&&(et.value=""+rt):et.value!==""+rt&&(et.value=""+rt);else if(nt==="submit"||nt==="reset"){et.removeAttribute("value");return}tt.hasOwnProperty("value")?cb(et,tt.type,rt):tt.hasOwnProperty("defaultValue")&&cb(et,tt.type,Sa(tt.defaultValue)),tt.checked==null&&tt.defaultChecked!=null&&(et.defaultChecked=!!tt.defaultChecked)}function db(et,tt,rt){if(tt.hasOwnProperty("value")||tt.hasOwnProperty("defaultValue")){var nt=tt.type;if(!(nt!=="submit"&&nt!=="reset"||tt.value!==void 0&&tt.value!==null))return;tt=""+et._wrapperState.initialValue,rt||tt===et.value||(et.value=tt),et.defaultValue=tt}rt=et.name,rt!==""&&(et.name=""),et.defaultChecked=!!et._wrapperState.initialChecked,rt!==""&&(et.name=rt)}function cb(et,tt,rt){(tt!=="number"||Xa(et.ownerDocument)!==et)&&(rt==null?et.defaultValue=""+et._wrapperState.initialValue:et.defaultValue!==""+rt&&(et.defaultValue=""+rt))}var eb=Array.isArray;function fb(et,tt,rt,nt){if(et=et.options,tt){tt={};for(var at=0;at<rt.length;at++)tt["$"+rt[at]]=!0;for(rt=0;rt<et.length;rt++)at=tt.hasOwnProperty("$"+et[rt].value),et[rt].selected!==at&&(et[rt].selected=at),at&&nt&&(et[rt].defaultSelected=!0)}else{for(rt=""+Sa(rt),tt=null,at=0;at<et.length;at++){if(et[at].value===rt){et[at].selected=!0,nt&&(et[at].defaultSelected=!0);return}tt!==null||et[at].disabled||(tt=et[at])}tt!==null&&(tt.selected=!0)}}function gb(et,tt){if(tt.dangerouslySetInnerHTML!=null)throw Error(p$f(91));return A$a({},tt,{value:void 0,defaultValue:void 0,children:""+et._wrapperState.initialValue})}function hb(et,tt){var rt=tt.value;if(rt==null){if(rt=tt.children,tt=tt.defaultValue,rt!=null){if(tt!=null)throw Error(p$f(92));if(eb(rt)){if(1<rt.length)throw Error(p$f(93));rt=rt[0]}tt=rt}tt==null&&(tt=""),rt=tt}et._wrapperState={initialValue:Sa(rt)}}function ib(et,tt){var rt=Sa(tt.value),nt=Sa(tt.defaultValue);rt!=null&&(rt=""+rt,rt!==et.value&&(et.value=rt),tt.defaultValue==null&&et.defaultValue!==rt&&(et.defaultValue=rt)),nt!=null&&(et.defaultValue=""+nt)}function jb(et){var tt=et.textContent;tt===et._wrapperState.initialValue&&tt!==""&&tt!==null&&(et.value=tt)}function kb(et){switch(et){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(et,tt){return et==null||et==="http://www.w3.org/1999/xhtml"?kb(tt):et==="http://www.w3.org/2000/svg"&&tt==="foreignObject"?"http://www.w3.org/1999/xhtml":et}var mb,nb=function(et){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(tt,rt,nt,at){MSApp.execUnsafeLocalFunction(function(){return et(tt,rt,nt,at)})}:et}(function(et,tt){if(et.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in et)et.innerHTML=tt;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+tt.valueOf().toString()+"</svg>",tt=mb.firstChild;et.firstChild;)et.removeChild(et.firstChild);for(;tt.firstChild;)et.appendChild(tt.firstChild)}});function ob(et,tt){if(tt){var rt=et.firstChild;if(rt&&rt===et.lastChild&&rt.nodeType===3){rt.nodeValue=tt;return}}et.textContent=tt}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(et){qb.forEach(function(tt){tt=tt+et.charAt(0).toUpperCase()+et.substring(1),pb[tt]=pb[et]})});function rb(et,tt,rt){return tt==null||typeof tt=="boolean"||tt===""?"":rt||typeof tt!="number"||tt===0||pb.hasOwnProperty(et)&&pb[et]?(""+tt).trim():tt+"px"}function sb(et,tt){et=et.style;for(var rt in tt)if(tt.hasOwnProperty(rt)){var nt=rt.indexOf("--")===0,at=rb(rt,tt[rt],nt);rt==="float"&&(rt="cssFloat"),nt?et.setProperty(rt,at):et[rt]=at}}var tb=A$a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(et,tt){if(tt){if(tb[et]&&(tt.children!=null||tt.dangerouslySetInnerHTML!=null))throw Error(p$f(137,et));if(tt.dangerouslySetInnerHTML!=null){if(tt.children!=null)throw Error(p$f(60));if(typeof tt.dangerouslySetInnerHTML!="object"||!("__html"in tt.dangerouslySetInnerHTML))throw Error(p$f(61))}if(tt.style!=null&&typeof tt.style!="object")throw Error(p$f(62))}}function vb(et,tt){if(et.indexOf("-")===-1)return typeof tt.is=="string";switch(et){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(et){return et=et.target||et.srcElement||window,et.correspondingUseElement&&(et=et.correspondingUseElement),et.nodeType===3?et.parentNode:et}var yb=null,zb=null,Ab=null;function Bb(et){if(et=Cb(et)){if(typeof yb!="function")throw Error(p$f(280));var tt=et.stateNode;tt&&(tt=Db(tt),yb(et.stateNode,et.type,tt))}}function Eb(et){zb?Ab?Ab.push(et):Ab=[et]:zb=et}function Fb(){if(zb){var et=zb,tt=Ab;if(Ab=zb=null,Bb(et),tt)for(et=0;et<tt.length;et++)Bb(tt[et])}}function Gb(et,tt){return et(tt)}function Hb(){}var Ib=!1;function Jb(et,tt,rt){if(Ib)return et(tt,rt);Ib=!0;try{return Gb(et,tt,rt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(et,tt){var rt=et.stateNode;if(rt===null)return null;var nt=Db(rt);if(nt===null)return null;rt=nt[tt];e:switch(tt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(et=et.type,nt=!(et==="button"||et==="input"||et==="select"||et==="textarea")),et=!nt;break e;default:et=!1}if(et)return null;if(rt&&typeof rt!="function")throw Error(p$f(231,tt,typeof rt));return rt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(et,tt,rt,nt,at,lt,dt,ot,mt){var xt=Array.prototype.slice.call(arguments,3);try{tt.apply(rt,xt)}catch(Et){this.onError(Et)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(et){Ob=!0,Pb=et}};function Tb(et,tt,rt,nt,at,lt,dt,ot,mt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(et,tt,rt,nt,at,lt,dt,ot,mt){if(Tb.apply(this,arguments),Ob){if(Ob){var xt=Pb;Ob=!1,Pb=null}else throw Error(p$f(198));Qb||(Qb=!0,Rb=xt)}}function Vb(et){var tt=et,rt=et;if(et.alternate)for(;tt.return;)tt=tt.return;else{et=tt;do tt=et,tt.flags&4098&&(rt=tt.return),et=tt.return;while(et)}return tt.tag===3?rt:null}function Wb(et){if(et.tag===13){var tt=et.memoizedState;if(tt===null&&(et=et.alternate,et!==null&&(tt=et.memoizedState)),tt!==null)return tt.dehydrated}return null}function Xb(et){if(Vb(et)!==et)throw Error(p$f(188))}function Yb(et){var tt=et.alternate;if(!tt){if(tt=Vb(et),tt===null)throw Error(p$f(188));return tt!==et?null:et}for(var rt=et,nt=tt;;){var at=rt.return;if(at===null)break;var lt=at.alternate;if(lt===null){if(nt=at.return,nt!==null){rt=nt;continue}break}if(at.child===lt.child){for(lt=at.child;lt;){if(lt===rt)return Xb(at),et;if(lt===nt)return Xb(at),tt;lt=lt.sibling}throw Error(p$f(188))}if(rt.return!==nt.return)rt=at,nt=lt;else{for(var dt=!1,ot=at.child;ot;){if(ot===rt){dt=!0,rt=at,nt=lt;break}if(ot===nt){dt=!0,nt=at,rt=lt;break}ot=ot.sibling}if(!dt){for(ot=lt.child;ot;){if(ot===rt){dt=!0,rt=lt,nt=at;break}if(ot===nt){dt=!0,nt=lt,rt=at;break}ot=ot.sibling}if(!dt)throw Error(p$f(189))}}if(rt.alternate!==nt)throw Error(p$f(190))}if(rt.tag!==3)throw Error(p$f(188));return rt.stateNode.current===rt?et:tt}function Zb(et){return et=Yb(et),et!==null?$b(et):null}function $b(et){if(et.tag===5||et.tag===6)return et;for(et=et.child;et!==null;){var tt=$b(et);if(tt!==null)return tt;et=et.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(et){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,et,void 0,(et.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(et){return et>>>=0,et===0?32:31-(pc(et)/qc|0)|0}var rc=64,sc=4194304;function tc(et){switch(et&-et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return et}}function uc(et,tt){var rt=et.pendingLanes;if(rt===0)return 0;var nt=0,at=et.suspendedLanes,lt=et.pingedLanes,dt=rt&268435455;if(dt!==0){var ot=dt&~at;ot!==0?nt=tc(ot):(lt&=dt,lt!==0&&(nt=tc(lt)))}else dt=rt&~at,dt!==0?nt=tc(dt):lt!==0&&(nt=tc(lt));if(nt===0)return 0;if(tt!==0&&tt!==nt&&!(tt&at)&&(at=nt&-nt,lt=tt&-tt,at>=lt||at===16&&(lt&4194240)!==0))return tt;if(nt&4&&(nt|=rt&16),tt=et.entangledLanes,tt!==0)for(et=et.entanglements,tt&=nt;0<tt;)rt=31-oc(tt),at=1<<rt,nt|=et[rt],tt&=~at;return nt}function vc(et,tt){switch(et){case 1:case 2:case 4:return tt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return tt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(et,tt){for(var rt=et.suspendedLanes,nt=et.pingedLanes,at=et.expirationTimes,lt=et.pendingLanes;0<lt;){var dt=31-oc(lt),ot=1<<dt,mt=at[dt];mt===-1?(!(ot&rt)||ot&nt)&&(at[dt]=vc(ot,tt)):mt<=tt&&(et.expiredLanes|=ot),lt&=~ot}}function xc(et){return et=et.pendingLanes&-1073741825,et!==0?et:et&1073741824?1073741824:0}function yc(){var et=rc;return rc<<=1,!(rc&4194240)&&(rc=64),et}function zc(et){for(var tt=[],rt=0;31>rt;rt++)tt.push(et);return tt}function Ac(et,tt,rt){et.pendingLanes|=tt,tt!==536870912&&(et.suspendedLanes=0,et.pingedLanes=0),et=et.eventTimes,tt=31-oc(tt),et[tt]=rt}function Bc(et,tt){var rt=et.pendingLanes&~tt;et.pendingLanes=tt,et.suspendedLanes=0,et.pingedLanes=0,et.expiredLanes&=tt,et.mutableReadLanes&=tt,et.entangledLanes&=tt,tt=et.entanglements;var nt=et.eventTimes;for(et=et.expirationTimes;0<rt;){var at=31-oc(rt),lt=1<<at;tt[at]=0,nt[at]=-1,et[at]=-1,rt&=~lt}}function Cc(et,tt){var rt=et.entangledLanes|=tt;for(et=et.entanglements;rt;){var nt=31-oc(rt),at=1<<nt;at&tt|et[nt]&tt&&(et[nt]|=tt),rt&=~at}}var C$3=0;function Dc(et){return et&=-et,1<et?4<et?et&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(et,tt){switch(et){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(tt.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(tt.pointerId)}}function Tc(et,tt,rt,nt,at,lt){return et===null||et.nativeEvent!==lt?(et={blockedOn:tt,domEventName:rt,eventSystemFlags:nt,nativeEvent:lt,targetContainers:[at]},tt!==null&&(tt=Cb(tt),tt!==null&&Fc(tt)),et):(et.eventSystemFlags|=nt,tt=et.targetContainers,at!==null&&tt.indexOf(at)===-1&&tt.push(at),et)}function Uc(et,tt,rt,nt,at){switch(tt){case"focusin":return Lc=Tc(Lc,et,tt,rt,nt,at),!0;case"dragenter":return Mc=Tc(Mc,et,tt,rt,nt,at),!0;case"mouseover":return Nc=Tc(Nc,et,tt,rt,nt,at),!0;case"pointerover":var lt=at.pointerId;return Oc.set(lt,Tc(Oc.get(lt)||null,et,tt,rt,nt,at)),!0;case"gotpointercapture":return lt=at.pointerId,Pc.set(lt,Tc(Pc.get(lt)||null,et,tt,rt,nt,at)),!0}return!1}function Vc(et){var tt=Wc(et.target);if(tt!==null){var rt=Vb(tt);if(rt!==null){if(tt=rt.tag,tt===13){if(tt=Wb(rt),tt!==null){et.blockedOn=tt,Ic(et.priority,function(){Gc(rt)});return}}else if(tt===3&&rt.stateNode.current.memoizedState.isDehydrated){et.blockedOn=rt.tag===3?rt.stateNode.containerInfo:null;return}}}et.blockedOn=null}function Xc(et){if(et.blockedOn!==null)return!1;for(var tt=et.targetContainers;0<tt.length;){var rt=Yc(et.domEventName,et.eventSystemFlags,tt[0],et.nativeEvent);if(rt===null){rt=et.nativeEvent;var nt=new rt.constructor(rt.type,rt);wb=nt,rt.target.dispatchEvent(nt),wb=null}else return tt=Cb(rt),tt!==null&&Fc(tt),et.blockedOn=rt,!1;tt.shift()}return!0}function Zc(et,tt,rt){Xc(et)&&rt.delete(tt)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(et,tt){et.blockedOn===tt&&(et.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(et){function tt(at){return ad(at,et)}if(0<Kc.length){ad(Kc[0],et);for(var rt=1;rt<Kc.length;rt++){var nt=Kc[rt];nt.blockedOn===et&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,et),Mc!==null&&ad(Mc,et),Nc!==null&&ad(Nc,et),Oc.forEach(tt),Pc.forEach(tt),rt=0;rt<Qc.length;rt++)nt=Qc[rt],nt.blockedOn===et&&(nt.blockedOn=null);for(;0<Qc.length&&(rt=Qc[0],rt.blockedOn===null);)Vc(rt),rt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(et,tt,rt,nt){var at=C$3,lt=cd.transition;cd.transition=null;try{C$3=1,fd(et,tt,rt,nt)}finally{C$3=at,cd.transition=lt}}function gd(et,tt,rt,nt){var at=C$3,lt=cd.transition;cd.transition=null;try{C$3=4,fd(et,tt,rt,nt)}finally{C$3=at,cd.transition=lt}}function fd(et,tt,rt,nt){if(dd){var at=Yc(et,tt,rt,nt);if(at===null)hd(et,tt,nt,id,rt),Sc(et,nt);else if(Uc(at,et,tt,rt,nt))nt.stopPropagation();else if(Sc(et,nt),tt&4&&-1<Rc.indexOf(et)){for(;at!==null;){var lt=Cb(at);if(lt!==null&&Ec(lt),lt=Yc(et,tt,rt,nt),lt===null&&hd(et,tt,nt,id,rt),lt===at)break;at=lt}at!==null&&nt.stopPropagation()}else hd(et,tt,nt,null,rt)}}var id=null;function Yc(et,tt,rt,nt){if(id=null,et=xb(nt),et=Wc(et),et!==null)if(tt=Vb(et),tt===null)et=null;else if(rt=tt.tag,rt===13){if(et=Wb(tt),et!==null)return et;et=null}else if(rt===3){if(tt.stateNode.current.memoizedState.isDehydrated)return tt.tag===3?tt.stateNode.containerInfo:null;et=null}else tt!==et&&(et=null);return id=et,null}function jd(et){switch(et){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var et,tt=ld,rt=tt.length,nt,at="value"in kd?kd.value:kd.textContent,lt=at.length;for(et=0;et<rt&&tt[et]===at[et];et++);var dt=rt-et;for(nt=1;nt<=dt&&tt[rt-nt]===at[lt-nt];nt++);return md=at.slice(et,1<nt?1-nt:void 0)}function od(et){var tt=et.keyCode;return"charCode"in et?(et=et.charCode,et===0&&tt===13&&(et=13)):et=tt,et===10&&(et=13),32<=et||et===13?et:0}function pd(){return!0}function qd(){return!1}function rd(et){function tt(rt,nt,at,lt,dt){this._reactName=rt,this._targetInst=at,this.type=nt,this.nativeEvent=lt,this.target=dt,this.currentTarget=null;for(var ot in et)et.hasOwnProperty(ot)&&(rt=et[ot],this[ot]=rt?rt(lt):lt[ot]);return this.isDefaultPrevented=(lt.defaultPrevented!=null?lt.defaultPrevented:lt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$a(tt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var rt=this.nativeEvent;rt&&(rt.preventDefault?rt.preventDefault():typeof rt.returnValue!="unknown"&&(rt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var rt=this.nativeEvent;rt&&(rt.stopPropagation?rt.stopPropagation():typeof rt.cancelBubble!="unknown"&&(rt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),tt}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(et){return et.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$a({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$a({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(et){return et.relatedTarget===void 0?et.fromElement===et.srcElement?et.toElement:et.fromElement:et.relatedTarget},movementX:function(et){return"movementX"in et?et.movementX:(et!==yd&&(yd&&et.type==="mousemove"?(wd=et.screenX-yd.screenX,xd=et.screenY-yd.screenY):xd=wd=0,yd=et),wd)},movementY:function(et){return"movementY"in et?et.movementY:xd}}),Bd=rd(Ad),Cd=A$a({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$a({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$a({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$a({},sd,{clipboardData:function(et){return"clipboardData"in et?et.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$a({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(et){var tt=this.nativeEvent;return tt.getModifierState?tt.getModifierState(et):(et=Od[et])?!!tt[et]:!1}function zd(){return Pd}var Qd=A$a({},ud,{key:function(et){if(et.key){var tt=Md[et.key]||et.key;if(tt!=="Unidentified")return tt}return et.type==="keypress"?(et=od(et),et===13?"Enter":String.fromCharCode(et)):et.type==="keydown"||et.type==="keyup"?Nd[et.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(et){return et.type==="keypress"?od(et):0},keyCode:function(et){return et.type==="keydown"||et.type==="keyup"?et.keyCode:0},which:function(et){return et.type==="keypress"?od(et):et.type==="keydown"||et.type==="keyup"?et.keyCode:0}}),Rd=rd(Qd),Sd=A$a({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$a({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$a({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$a({},Ad,{deltaX:function(et){return"deltaX"in et?et.deltaX:"wheelDeltaX"in et?-et.wheelDeltaX:0},deltaY:function(et){return"deltaY"in et?et.deltaY:"wheelDeltaY"in et?-et.wheelDeltaY:"wheelDelta"in et?-et.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(et,tt){switch(et){case"keyup":return $d.indexOf(tt.keyCode)!==-1;case"keydown":return tt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(et){return et=et.detail,typeof et=="object"&&"data"in et?et.data:null}var ie$1=!1;function je$1(et,tt){switch(et){case"compositionend":return he$1(tt);case"keypress":return tt.which!==32?null:(fe$1=!0,ee$1);case"textInput":return et=tt.data,et===ee$1&&fe$1?null:et;default:return null}}function ke$1(et,tt){if(ie$1)return et==="compositionend"||!ae$1&&ge$1(et,tt)?(et=nd(),md=ld=kd=null,ie$1=!1,et):null;switch(et){case"paste":return null;case"keypress":if(!(tt.ctrlKey||tt.altKey||tt.metaKey)||tt.ctrlKey&&tt.altKey){if(tt.char&&1<tt.char.length)return tt.char;if(tt.which)return String.fromCharCode(tt.which)}return null;case"compositionend":return de$1&&tt.locale!=="ko"?null:tt.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(et){var tt=et&&et.nodeName&&et.nodeName.toLowerCase();return tt==="input"?!!le$1[et.type]:tt==="textarea"}function ne$1(et,tt,rt,nt){Eb(nt),tt=oe$1(tt,"onChange"),0<tt.length&&(rt=new td("onChange","change",null,rt,nt),et.push({event:rt,listeners:tt}))}var pe$1=null,qe$1=null;function re$1(et){se$1(et,0)}function te$1(et){var tt=ue(et);if(Wa(tt))return et}function ve$1(et,tt){if(et==="change")return tt}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(et){if(et.propertyName==="value"&&te$1(qe$1)){var tt=[];ne$1(tt,qe$1,et,xb(et)),Jb(re$1,tt)}}function Ce(et,tt,rt){et==="focusin"?(Ae$1(),pe$1=tt,qe$1=rt,pe$1.attachEvent("onpropertychange",Be$1)):et==="focusout"&&Ae$1()}function De$1(et){if(et==="selectionchange"||et==="keyup"||et==="keydown")return te$1(qe$1)}function Ee$1(et,tt){if(et==="click")return te$1(tt)}function Fe$1(et,tt){if(et==="input"||et==="change")return te$1(tt)}function Ge(et,tt){return et===tt&&(et!==0||1/et===1/tt)||et!==et&&tt!==tt}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(et,tt){if(He(et,tt))return!0;if(typeof et!="object"||et===null||typeof tt!="object"||tt===null)return!1;var rt=Object.keys(et),nt=Object.keys(tt);if(rt.length!==nt.length)return!1;for(nt=0;nt<rt.length;nt++){var at=rt[nt];if(!ja.call(tt,at)||!He(et[at],tt[at]))return!1}return!0}function Je(et){for(;et&&et.firstChild;)et=et.firstChild;return et}function Ke(et,tt){var rt=Je(et);et=0;for(var nt;rt;){if(rt.nodeType===3){if(nt=et+rt.textContent.length,et<=tt&&nt>=tt)return{node:rt,offset:tt-et};et=nt}e:{for(;rt;){if(rt.nextSibling){rt=rt.nextSibling;break e}rt=rt.parentNode}rt=void 0}rt=Je(rt)}}function Le(et,tt){return et&&tt?et===tt?!0:et&&et.nodeType===3?!1:tt&&tt.nodeType===3?Le(et,tt.parentNode):"contains"in et?et.contains(tt):et.compareDocumentPosition?!!(et.compareDocumentPosition(tt)&16):!1:!1}function Me$1(){for(var et=window,tt=Xa();tt instanceof et.HTMLIFrameElement;){try{var rt=typeof tt.contentWindow.location.href=="string"}catch{rt=!1}if(rt)et=tt.contentWindow;else break;tt=Xa(et.document)}return tt}function Ne$1(et){var tt=et&&et.nodeName&&et.nodeName.toLowerCase();return tt&&(tt==="input"&&(et.type==="text"||et.type==="search"||et.type==="tel"||et.type==="url"||et.type==="password")||tt==="textarea"||et.contentEditable==="true")}function Oe$1(et){var tt=Me$1(),rt=et.focusedElem,nt=et.selectionRange;if(tt!==rt&&rt&&rt.ownerDocument&&Le(rt.ownerDocument.documentElement,rt)){if(nt!==null&&Ne$1(rt)){if(tt=nt.start,et=nt.end,et===void 0&&(et=tt),"selectionStart"in rt)rt.selectionStart=tt,rt.selectionEnd=Math.min(et,rt.value.length);else if(et=(tt=rt.ownerDocument||document)&&tt.defaultView||window,et.getSelection){et=et.getSelection();var at=rt.textContent.length,lt=Math.min(nt.start,at);nt=nt.end===void 0?lt:Math.min(nt.end,at),!et.extend&&lt>nt&&(at=nt,nt=lt,lt=at),at=Ke(rt,lt);var dt=Ke(rt,nt);at&&dt&&(et.rangeCount!==1||et.anchorNode!==at.node||et.anchorOffset!==at.offset||et.focusNode!==dt.node||et.focusOffset!==dt.offset)&&(tt=tt.createRange(),tt.setStart(at.node,at.offset),et.removeAllRanges(),lt>nt?(et.addRange(tt),et.extend(dt.node,dt.offset)):(tt.setEnd(dt.node,dt.offset),et.addRange(tt)))}}for(tt=[],et=rt;et=et.parentNode;)et.nodeType===1&&tt.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof rt.focus=="function"&&rt.focus(),rt=0;rt<tt.length;rt++)et=tt[rt],et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$1=!1;function Ue(et,tt,rt){var nt=rt.window===rt?rt.document:rt.nodeType===9?rt:rt.ownerDocument;Te$1||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne$1(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se$1&&Ie(Se$1,nt)||(Se$1=nt,nt=oe$1(Re$1,"onSelect"),0<nt.length&&(tt=new td("onSelect","select",null,tt,rt),et.push({event:tt,listeners:nt}),tt.target=Qe)))}function Ve$1(et,tt){var rt={};return rt[et.toLowerCase()]=tt.toLowerCase(),rt["Webkit"+et]="webkit"+tt,rt["Moz"+et]="moz"+tt,rt}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(et){if(Xe[et])return Xe[et];if(!We[et])return et;var tt=We[et],rt;for(rt in tt)if(tt.hasOwnProperty(rt)&&rt in Ye$1)return Xe[et]=tt[rt];return et}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(et,tt){df.set(et,tt),fa(tt,[et])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(et,tt,rt){var nt=et.type||"unknown-event";et.currentTarget=rt,Ub(nt,tt,void 0,et),et.currentTarget=null}function se$1(et,tt){tt=(tt&4)!==0;for(var rt=0;rt<et.length;rt++){var nt=et[rt],at=nt.event;nt=nt.listeners;e:{var lt=void 0;if(tt)for(var dt=nt.length-1;0<=dt;dt--){var ot=nt[dt],mt=ot.instance,xt=ot.currentTarget;if(ot=ot.listener,mt!==lt&&at.isPropagationStopped())break e;nf(at,ot,xt),lt=mt}else for(dt=0;dt<nt.length;dt++){if(ot=nt[dt],mt=ot.instance,xt=ot.currentTarget,ot=ot.listener,mt!==lt&&at.isPropagationStopped())break e;nf(at,ot,xt),lt=mt}}}if(Qb)throw et=Rb,Qb=!1,Rb=null,et}function D$1(et,tt){var rt=tt[of];rt===void 0&&(rt=tt[of]=new Set);var nt=et+"__bubble";rt.has(nt)||(pf(tt,et,2,!1),rt.add(nt))}function qf(et,tt,rt){var nt=0;tt&&(nt|=4),pf(rt,et,nt,tt)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(et){if(!et[rf]){et[rf]=!0,da.forEach(function(rt){rt!=="selectionchange"&&(mf.has(rt)||qf(rt,!1,et),qf(rt,!0,et))});var tt=et.nodeType===9?et:et.ownerDocument;tt===null||tt[rf]||(tt[rf]=!0,qf("selectionchange",!1,tt))}}function pf(et,tt,rt,nt){switch(jd(tt)){case 1:var at=ed;break;case 4:at=gd;break;default:at=fd}rt=at.bind(null,tt,rt,et),at=void 0,!Lb||tt!=="touchstart"&&tt!=="touchmove"&&tt!=="wheel"||(at=!0),nt?at!==void 0?et.addEventListener(tt,rt,{capture:!0,passive:at}):et.addEventListener(tt,rt,!0):at!==void 0?et.addEventListener(tt,rt,{passive:at}):et.addEventListener(tt,rt,!1)}function hd(et,tt,rt,nt,at){var lt=nt;if(!(tt&1)&&!(tt&2)&&nt!==null)e:for(;;){if(nt===null)return;var dt=nt.tag;if(dt===3||dt===4){var ot=nt.stateNode.containerInfo;if(ot===at||ot.nodeType===8&&ot.parentNode===at)break;if(dt===4)for(dt=nt.return;dt!==null;){var mt=dt.tag;if((mt===3||mt===4)&&(mt=dt.stateNode.containerInfo,mt===at||mt.nodeType===8&&mt.parentNode===at))return;dt=dt.return}for(;ot!==null;){if(dt=Wc(ot),dt===null)return;if(mt=dt.tag,mt===5||mt===6){nt=lt=dt;continue e}ot=ot.parentNode}}nt=nt.return}Jb(function(){var xt=lt,Et=xb(rt),At=[];e:{var Tt=df.get(et);if(Tt!==void 0){var Ft=td,Mt=et;switch(et){case"keypress":if(od(rt)===0)break e;case"keydown":case"keyup":Ft=Rd;break;case"focusin":Mt="focus",Ft=Fd;break;case"focusout":Mt="blur",Ft=Fd;break;case"beforeblur":case"afterblur":Ft=Fd;break;case"click":if(rt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ft=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ft=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ft=Vd;break;case $e:case af:case bf:Ft=Hd;break;case cf:Ft=Xd;break;case"scroll":Ft=vd;break;case"wheel":Ft=Zd;break;case"copy":case"cut":case"paste":Ft=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ft=Td}var Lt=(tt&4)!==0,Gt=!Lt&&et==="scroll",Pt=Lt?Tt!==null?Tt+"Capture":null:Tt;Lt=[];for(var $t=xt,It;$t!==null;){It=$t;var Ot=It.stateNode;if(It.tag===5&&Ot!==null&&(It=Ot,Pt!==null&&(Ot=Kb($t,Pt),Ot!=null&&Lt.push(tf($t,Ot,It)))),Gt)break;$t=$t.return}0<Lt.length&&(Tt=new Ft(Tt,Mt,null,rt,Et),At.push({event:Tt,listeners:Lt}))}}if(!(tt&7)){e:{if(Tt=et==="mouseover"||et==="pointerover",Ft=et==="mouseout"||et==="pointerout",Tt&&rt!==wb&&(Mt=rt.relatedTarget||rt.fromElement)&&(Wc(Mt)||Mt[uf]))break e;if((Ft||Tt)&&(Tt=Et.window===Et?Et:(Tt=Et.ownerDocument)?Tt.defaultView||Tt.parentWindow:window,Ft?(Mt=rt.relatedTarget||rt.toElement,Ft=xt,Mt=Mt?Wc(Mt):null,Mt!==null&&(Gt=Vb(Mt),Mt!==Gt||Mt.tag!==5&&Mt.tag!==6)&&(Mt=null)):(Ft=null,Mt=xt),Ft!==Mt)){if(Lt=Bd,Ot="onMouseLeave",Pt="onMouseEnter",$t="mouse",(et==="pointerout"||et==="pointerover")&&(Lt=Td,Ot="onPointerLeave",Pt="onPointerEnter",$t="pointer"),Gt=Ft==null?Tt:ue(Ft),It=Mt==null?Tt:ue(Mt),Tt=new Lt(Ot,$t+"leave",Ft,rt,Et),Tt.target=Gt,Tt.relatedTarget=It,Ot=null,Wc(Et)===xt&&(Lt=new Lt(Pt,$t+"enter",Mt,rt,Et),Lt.target=It,Lt.relatedTarget=Gt,Ot=Lt),Gt=Ot,Ft&&Mt)t:{for(Lt=Ft,Pt=Mt,$t=0,It=Lt;It;It=vf(It))$t++;for(It=0,Ot=Pt;Ot;Ot=vf(Ot))It++;for(;0<$t-It;)Lt=vf(Lt),$t--;for(;0<It-$t;)Pt=vf(Pt),It--;for(;$t--;){if(Lt===Pt||Pt!==null&&Lt===Pt.alternate)break t;Lt=vf(Lt),Pt=vf(Pt)}Lt=null}else Lt=null;Ft!==null&&wf(At,Tt,Ft,Lt,!1),Mt!==null&&Gt!==null&&wf(At,Gt,Mt,Lt,!0)}}e:{if(Tt=xt?ue(xt):window,Ft=Tt.nodeName&&Tt.nodeName.toLowerCase(),Ft==="select"||Ft==="input"&&Tt.type==="file")var Vt=ve$1;else if(me(Tt))if(we$1)Vt=Fe$1;else{Vt=De$1;var Ut=Ce}else(Ft=Tt.nodeName)&&Ft.toLowerCase()==="input"&&(Tt.type==="checkbox"||Tt.type==="radio")&&(Vt=Ee$1);if(Vt&&(Vt=Vt(et,xt))){ne$1(At,Vt,rt,Et);break e}Ut&&Ut(et,Tt,xt),et==="focusout"&&(Ut=Tt._wrapperState)&&Ut.controlled&&Tt.type==="number"&&cb(Tt,"number",Tt.value)}switch(Ut=xt?ue(xt):window,et){case"focusin":(me(Ut)||Ut.contentEditable==="true")&&(Qe=Ut,Re$1=xt,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(At,rt,Et);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(At,rt,Et)}var Wt;if(ae$1)e:{switch(et){case"compositionstart":var nr="onCompositionStart";break e;case"compositionend":nr="onCompositionEnd";break e;case"compositionupdate":nr="onCompositionUpdate";break e}nr=void 0}else ie$1?ge$1(et,rt)&&(nr="onCompositionEnd"):et==="keydown"&&rt.keyCode===229&&(nr="onCompositionStart");nr&&(de$1&&rt.locale!=="ko"&&(ie$1||nr!=="onCompositionStart"?nr==="onCompositionEnd"&&ie$1&&(Wt=nd()):(kd=Et,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Ut=oe$1(xt,nr),0<Ut.length&&(nr=new Ld(nr,et,null,rt,Et),At.push({event:nr,listeners:Ut}),Wt?nr.data=Wt:(Wt=he$1(rt),Wt!==null&&(nr.data=Wt)))),(Wt=ce$1?je$1(et,rt):ke$1(et,rt))&&(xt=oe$1(xt,"onBeforeInput"),0<xt.length&&(Et=new Ld("onBeforeInput","beforeinput",null,rt,Et),At.push({event:Et,listeners:xt}),Et.data=Wt))}se$1(At,tt)})}function tf(et,tt,rt){return{instance:et,listener:tt,currentTarget:rt}}function oe$1(et,tt){for(var rt=tt+"Capture",nt=[];et!==null;){var at=et,lt=at.stateNode;at.tag===5&&lt!==null&&(at=lt,lt=Kb(et,rt),lt!=null&&nt.unshift(tf(et,lt,at)),lt=Kb(et,tt),lt!=null&&nt.push(tf(et,lt,at))),et=et.return}return nt}function vf(et){if(et===null)return null;do et=et.return;while(et&&et.tag!==5);return et||null}function wf(et,tt,rt,nt,at){for(var lt=tt._reactName,dt=[];rt!==null&&rt!==nt;){var ot=rt,mt=ot.alternate,xt=ot.stateNode;if(mt!==null&&mt===nt)break;ot.tag===5&&xt!==null&&(ot=xt,at?(mt=Kb(rt,lt),mt!=null&&dt.unshift(tf(rt,mt,ot))):at||(mt=Kb(rt,lt),mt!=null&&dt.push(tf(rt,mt,ot)))),rt=rt.return}dt.length!==0&&et.push({event:tt,listeners:dt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(et){return(typeof et=="string"?et:""+et).replace(xf,`
`).replace(yf,"")}function Af(et,tt,rt){if(tt=zf(tt),zf(et)!==tt&&rt)throw Error(p$f(425))}function Bf(){}var Cf=null,Df=null;function Ef(et,tt){return et==="textarea"||et==="noscript"||typeof tt.children=="string"||typeof tt.children=="number"||typeof tt.dangerouslySetInnerHTML=="object"&&tt.dangerouslySetInnerHTML!==null&&tt.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(et){return Hf.resolve(null).then(et).catch(If)}:Ff;function If(et){setTimeout(function(){throw et})}function Kf(et,tt){var rt=tt,nt=0;do{var at=rt.nextSibling;if(et.removeChild(rt),at&&at.nodeType===8)if(rt=at.data,rt==="/$"){if(nt===0){et.removeChild(at),bd(tt);return}nt--}else rt!=="$"&&rt!=="$?"&&rt!=="$!"||nt++;rt=at}while(rt);bd(tt)}function Lf(et){for(;et!=null;et=et.nextSibling){var tt=et.nodeType;if(tt===1||tt===3)break;if(tt===8){if(tt=et.data,tt==="$"||tt==="$!"||tt==="$?")break;if(tt==="/$")return null}}return et}function Mf(et){et=et.previousSibling;for(var tt=0;et;){if(et.nodeType===8){var rt=et.data;if(rt==="$"||rt==="$!"||rt==="$?"){if(tt===0)return et;tt--}else rt==="/$"&&tt++}et=et.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(et){var tt=et[Of];if(tt)return tt;for(var rt=et.parentNode;rt;){if(tt=rt[uf]||rt[Of]){if(rt=tt.alternate,tt.child!==null||rt!==null&&rt.child!==null)for(et=Mf(et);et!==null;){if(rt=et[Of])return rt;et=Mf(et)}return tt}et=rt,rt=et.parentNode}return null}function Cb(et){return et=et[Of]||et[uf],!et||et.tag!==5&&et.tag!==6&&et.tag!==13&&et.tag!==3?null:et}function ue(et){if(et.tag===5||et.tag===6)return et.stateNode;throw Error(p$f(33))}function Db(et){return et[Pf]||null}var Sf=[],Tf=-1;function Uf(et){return{current:et}}function E$a(et){0>Tf||(et.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(et,tt){Tf++,Sf[Tf]=et.current,et.current=tt}var Vf={},H$5=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(et,tt){var rt=et.type.contextTypes;if(!rt)return Vf;var nt=et.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===tt)return nt.__reactInternalMemoizedMaskedChildContext;var at={},lt;for(lt in rt)at[lt]=tt[lt];return nt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=tt,et.__reactInternalMemoizedMaskedChildContext=at),at}function Zf(et){return et=et.childContextTypes,et!=null}function $f(){E$a(Wf),E$a(H$5)}function ag(et,tt,rt){if(H$5.current!==Vf)throw Error(p$f(168));G$1(H$5,tt),G$1(Wf,rt)}function bg(et,tt,rt){var nt=et.stateNode;if(tt=tt.childContextTypes,typeof nt.getChildContext!="function")return rt;nt=nt.getChildContext();for(var at in nt)if(!(at in tt))throw Error(p$f(108,Ra(et)||"Unknown",at));return A$a({},rt,nt)}function cg(et){return et=(et=et.stateNode)&&et.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$5.current,G$1(H$5,et),G$1(Wf,Wf.current),!0}function dg(et,tt,rt){var nt=et.stateNode;if(!nt)throw Error(p$f(169));rt?(et=bg(et,tt,Xf),nt.__reactInternalMemoizedMergedChildContext=et,E$a(Wf),E$a(H$5),G$1(H$5,et)):E$a(Wf),G$1(Wf,rt)}var eg=null,fg=!1,gg=!1;function hg(et){eg===null?eg=[et]:eg.push(et)}function ig(et){fg=!0,hg(et)}function jg(){if(!gg&&eg!==null){gg=!0;var et=0,tt=C$3;try{var rt=eg;for(C$3=1;et<rt.length;et++){var nt=rt[et];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(at){throw eg!==null&&(eg=eg.slice(et+1)),ac(fc,jg),at}finally{C$3=tt,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(et,tt){kg[lg++]=ng,kg[lg++]=mg,mg=et,ng=tt}function ug(et,tt,rt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=et;var nt=rg;et=sg;var at=32-oc(nt)-1;nt&=~(1<<at),rt+=1;var lt=32-oc(tt)+at;if(30<lt){var dt=at-at%5;lt=(nt&(1<<dt)-1).toString(32),nt>>=dt,at-=dt,rg=1<<32-oc(tt)+at|rt<<at|nt,sg=lt+et}else rg=1<<lt|rt<<at|nt,sg=et}function vg(et){et.return!==null&&(tg(et,1),ug(et,1,0))}function wg(et){for(;et===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;et===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(et,tt){var rt=Bg(5,null,null,0);rt.elementType="DELETED",rt.stateNode=tt,rt.return=et,tt=et.deletions,tt===null?(et.deletions=[rt],et.flags|=16):tt.push(rt)}function Cg(et,tt){switch(et.tag){case 5:var rt=et.type;return tt=tt.nodeType!==1||rt.toLowerCase()!==tt.nodeName.toLowerCase()?null:tt,tt!==null?(et.stateNode=tt,xg=et,yg=Lf(tt.firstChild),!0):!1;case 6:return tt=et.pendingProps===""||tt.nodeType!==3?null:tt,tt!==null?(et.stateNode=tt,xg=et,yg=null,!0):!1;case 13:return tt=tt.nodeType!==8?null:tt,tt!==null?(rt=qg!==null?{id:rg,overflow:sg}:null,et.memoizedState={dehydrated:tt,treeContext:rt,retryLane:1073741824},rt=Bg(18,null,null,0),rt.stateNode=tt,rt.return=et,et.child=rt,xg=et,yg=null,!0):!1;default:return!1}}function Dg(et){return(et.mode&1)!==0&&(et.flags&128)===0}function Eg(et){if(I$1){var tt=yg;if(tt){var rt=tt;if(!Cg(et,tt)){if(Dg(et))throw Error(p$f(418));tt=Lf(rt.nextSibling);var nt=xg;tt&&Cg(et,tt)?Ag(nt,rt):(et.flags=et.flags&-4097|2,I$1=!1,xg=et)}}else{if(Dg(et))throw Error(p$f(418));et.flags=et.flags&-4097|2,I$1=!1,xg=et}}}function Fg(et){for(et=et.return;et!==null&&et.tag!==5&&et.tag!==3&&et.tag!==13;)et=et.return;xg=et}function Gg(et){if(et!==xg)return!1;if(!I$1)return Fg(et),I$1=!0,!1;var tt;if((tt=et.tag!==3)&&!(tt=et.tag!==5)&&(tt=et.type,tt=tt!=="head"&&tt!=="body"&&!Ef(et.type,et.memoizedProps)),tt&&(tt=yg)){if(Dg(et))throw Hg(),Error(p$f(418));for(;tt;)Ag(et,tt),tt=Lf(tt.nextSibling)}if(Fg(et),et.tag===13){if(et=et.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$f(317));e:{for(et=et.nextSibling,tt=0;et;){if(et.nodeType===8){var rt=et.data;if(rt==="/$"){if(tt===0){yg=Lf(et.nextSibling);break e}tt--}else rt!=="$"&&rt!=="$!"&&rt!=="$?"||tt++}et=et.nextSibling}yg=null}}else yg=xg?Lf(et.stateNode.nextSibling):null;return!0}function Hg(){for(var et=yg;et;)et=Lf(et.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(et){zg===null?zg=[et]:zg.push(et)}var Kg=ua.ReactCurrentBatchConfig;function Lg(et,tt){if(et&&et.defaultProps){tt=A$a({},tt),et=et.defaultProps;for(var rt in et)tt[rt]===void 0&&(tt[rt]=et[rt]);return tt}return tt}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(et){var tt=Mg.current;E$a(Mg),et._currentValue=tt}function Sg(et,tt,rt){for(;et!==null;){var nt=et.alternate;if((et.childLanes&tt)!==tt?(et.childLanes|=tt,nt!==null&&(nt.childLanes|=tt)):nt!==null&&(nt.childLanes&tt)!==tt&&(nt.childLanes|=tt),et===rt)break;et=et.return}}function Tg(et,tt){Ng=et,Pg=Og=null,et=et.dependencies,et!==null&&et.firstContext!==null&&(et.lanes&tt&&(Ug=!0),et.firstContext=null)}function Vg(et){var tt=et._currentValue;if(Pg!==et)if(et={context:et,memoizedValue:tt,next:null},Og===null){if(Ng===null)throw Error(p$f(308));Og=et,Ng.dependencies={lanes:0,firstContext:et}}else Og=Og.next=et;return tt}var Wg=null;function Xg(et){Wg===null?Wg=[et]:Wg.push(et)}function Yg(et,tt,rt,nt){var at=tt.interleaved;return at===null?(rt.next=rt,Xg(tt)):(rt.next=at.next,at.next=rt),tt.interleaved=rt,Zg(et,nt)}function Zg(et,tt){et.lanes|=tt;var rt=et.alternate;for(rt!==null&&(rt.lanes|=tt),rt=et,et=et.return;et!==null;)et.childLanes|=tt,rt=et.alternate,rt!==null&&(rt.childLanes|=tt),rt=et,et=et.return;return rt.tag===3?rt.stateNode:null}var $g=!1;function ah(et){et.updateQueue={baseState:et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(et,tt){et=et.updateQueue,tt.updateQueue===et&&(tt.updateQueue={baseState:et.baseState,firstBaseUpdate:et.firstBaseUpdate,lastBaseUpdate:et.lastBaseUpdate,shared:et.shared,effects:et.effects})}function ch(et,tt){return{eventTime:et,lane:tt,tag:0,payload:null,callback:null,next:null}}function dh(et,tt,rt){var nt=et.updateQueue;if(nt===null)return null;if(nt=nt.shared,K$1&2){var at=nt.pending;return at===null?tt.next=tt:(tt.next=at.next,at.next=tt),nt.pending=tt,Zg(et,rt)}return at=nt.interleaved,at===null?(tt.next=tt,Xg(nt)):(tt.next=at.next,at.next=tt),nt.interleaved=tt,Zg(et,rt)}function eh(et,tt,rt){if(tt=tt.updateQueue,tt!==null&&(tt=tt.shared,(rt&4194240)!==0)){var nt=tt.lanes;nt&=et.pendingLanes,rt|=nt,tt.lanes=rt,Cc(et,rt)}}function fh(et,tt){var rt=et.updateQueue,nt=et.alternate;if(nt!==null&&(nt=nt.updateQueue,rt===nt)){var at=null,lt=null;if(rt=rt.firstBaseUpdate,rt!==null){do{var dt={eventTime:rt.eventTime,lane:rt.lane,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null};lt===null?at=lt=dt:lt=lt.next=dt,rt=rt.next}while(rt!==null);lt===null?at=lt=tt:lt=lt.next=tt}else at=lt=tt;rt={baseState:nt.baseState,firstBaseUpdate:at,lastBaseUpdate:lt,shared:nt.shared,effects:nt.effects},et.updateQueue=rt;return}et=rt.lastBaseUpdate,et===null?rt.firstBaseUpdate=tt:et.next=tt,rt.lastBaseUpdate=tt}function gh(et,tt,rt,nt){var at=et.updateQueue;$g=!1;var lt=at.firstBaseUpdate,dt=at.lastBaseUpdate,ot=at.shared.pending;if(ot!==null){at.shared.pending=null;var mt=ot,xt=mt.next;mt.next=null,dt===null?lt=xt:dt.next=xt,dt=mt;var Et=et.alternate;Et!==null&&(Et=Et.updateQueue,ot=Et.lastBaseUpdate,ot!==dt&&(ot===null?Et.firstBaseUpdate=xt:ot.next=xt,Et.lastBaseUpdate=mt))}if(lt!==null){var At=at.baseState;dt=0,Et=xt=mt=null,ot=lt;do{var Tt=ot.lane,Ft=ot.eventTime;if((nt&Tt)===Tt){Et!==null&&(Et=Et.next={eventTime:Ft,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var Mt=et,Lt=ot;switch(Tt=tt,Ft=rt,Lt.tag){case 1:if(Mt=Lt.payload,typeof Mt=="function"){At=Mt.call(Ft,At,Tt);break e}At=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Lt.payload,Tt=typeof Mt=="function"?Mt.call(Ft,At,Tt):Mt,Tt==null)break e;At=A$a({},At,Tt);break e;case 2:$g=!0}}ot.callback!==null&&ot.lane!==0&&(et.flags|=64,Tt=at.effects,Tt===null?at.effects=[ot]:Tt.push(ot))}else Ft={eventTime:Ft,lane:Tt,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},Et===null?(xt=Et=Ft,mt=At):Et=Et.next=Ft,dt|=Tt;if(ot=ot.next,ot===null){if(ot=at.shared.pending,ot===null)break;Tt=ot,ot=Tt.next,Tt.next=null,at.lastBaseUpdate=Tt,at.shared.pending=null}}while(1);if(Et===null&&(mt=At),at.baseState=mt,at.firstBaseUpdate=xt,at.lastBaseUpdate=Et,tt=at.shared.interleaved,tt!==null){at=tt;do dt|=at.lane,at=at.next;while(at!==tt)}else lt===null&&(at.shared.lanes=0);hh|=dt,et.lanes=dt,et.memoizedState=At}}function ih(et,tt,rt){if(et=tt.effects,tt.effects=null,et!==null)for(tt=0;tt<et.length;tt++){var nt=et[tt],at=nt.callback;if(at!==null){if(nt.callback=null,nt=rt,typeof at!="function")throw Error(p$f(191,at));at.call(nt)}}}var jh=new aa.Component().refs;function kh(et,tt,rt,nt){tt=et.memoizedState,rt=rt(nt,tt),rt=rt==null?tt:A$a({},tt,rt),et.memoizedState=rt,et.lanes===0&&(et.updateQueue.baseState=rt)}var nh={isMounted:function(et){return(et=et._reactInternals)?Vb(et)===et:!1},enqueueSetState:function(et,tt,rt){et=et._reactInternals;var nt=L$3(),at=lh(et),lt=ch(nt,at);lt.payload=tt,rt!=null&&(lt.callback=rt),tt=dh(et,lt,at),tt!==null&&(mh(tt,et,at,nt),eh(tt,et,at))},enqueueReplaceState:function(et,tt,rt){et=et._reactInternals;var nt=L$3(),at=lh(et),lt=ch(nt,at);lt.tag=1,lt.payload=tt,rt!=null&&(lt.callback=rt),tt=dh(et,lt,at),tt!==null&&(mh(tt,et,at,nt),eh(tt,et,at))},enqueueForceUpdate:function(et,tt){et=et._reactInternals;var rt=L$3(),nt=lh(et),at=ch(rt,nt);at.tag=2,tt!=null&&(at.callback=tt),tt=dh(et,at,nt),tt!==null&&(mh(tt,et,nt,rt),eh(tt,et,nt))}};function oh(et,tt,rt,nt,at,lt,dt){return et=et.stateNode,typeof et.shouldComponentUpdate=="function"?et.shouldComponentUpdate(nt,lt,dt):tt.prototype&&tt.prototype.isPureReactComponent?!Ie(rt,nt)||!Ie(at,lt):!0}function ph(et,tt,rt){var nt=!1,at=Vf,lt=tt.contextType;return typeof lt=="object"&&lt!==null?lt=Vg(lt):(at=Zf(tt)?Xf:H$5.current,nt=tt.contextTypes,lt=(nt=nt!=null)?Yf(et,at):Vf),tt=new tt(rt,lt),et.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,tt.updater=nh,et.stateNode=tt,tt._reactInternals=et,nt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=at,et.__reactInternalMemoizedMaskedChildContext=lt),tt}function qh(et,tt,rt,nt){et=tt.state,typeof tt.componentWillReceiveProps=="function"&&tt.componentWillReceiveProps(rt,nt),typeof tt.UNSAFE_componentWillReceiveProps=="function"&&tt.UNSAFE_componentWillReceiveProps(rt,nt),tt.state!==et&&nh.enqueueReplaceState(tt,tt.state,null)}function rh(et,tt,rt,nt){var at=et.stateNode;at.props=rt,at.state=et.memoizedState,at.refs=jh,ah(et);var lt=tt.contextType;typeof lt=="object"&&lt!==null?at.context=Vg(lt):(lt=Zf(tt)?Xf:H$5.current,at.context=Yf(et,lt)),at.state=et.memoizedState,lt=tt.getDerivedStateFromProps,typeof lt=="function"&&(kh(et,tt,lt,rt),at.state=et.memoizedState),typeof tt.getDerivedStateFromProps=="function"||typeof at.getSnapshotBeforeUpdate=="function"||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(tt=at.state,typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount(),tt!==at.state&&nh.enqueueReplaceState(at,at.state,null),gh(et,rt,at,nt),at.state=et.memoizedState),typeof at.componentDidMount=="function"&&(et.flags|=4194308)}function sh(et,tt,rt){if(et=rt.ref,et!==null&&typeof et!="function"&&typeof et!="object"){if(rt._owner){if(rt=rt._owner,rt){if(rt.tag!==1)throw Error(p$f(309));var nt=rt.stateNode}if(!nt)throw Error(p$f(147,et));var at=nt,lt=""+et;return tt!==null&&tt.ref!==null&&typeof tt.ref=="function"&&tt.ref._stringRef===lt?tt.ref:(tt=function(dt){var ot=at.refs;ot===jh&&(ot=at.refs={}),dt===null?delete ot[lt]:ot[lt]=dt},tt._stringRef=lt,tt)}if(typeof et!="string")throw Error(p$f(284));if(!rt._owner)throw Error(p$f(290,et))}return et}function th(et,tt){throw et=Object.prototype.toString.call(tt),Error(p$f(31,et==="[object Object]"?"object with keys {"+Object.keys(tt).join(", ")+"}":et))}function uh(et){var tt=et._init;return tt(et._payload)}function vh(et){function tt(Pt,$t){if(et){var It=Pt.deletions;It===null?(Pt.deletions=[$t],Pt.flags|=16):It.push($t)}}function rt(Pt,$t){if(!et)return null;for(;$t!==null;)tt(Pt,$t),$t=$t.sibling;return null}function nt(Pt,$t){for(Pt=new Map;$t!==null;)$t.key!==null?Pt.set($t.key,$t):Pt.set($t.index,$t),$t=$t.sibling;return Pt}function at(Pt,$t){return Pt=wh(Pt,$t),Pt.index=0,Pt.sibling=null,Pt}function lt(Pt,$t,It){return Pt.index=It,et?(It=Pt.alternate,It!==null?(It=It.index,It<$t?(Pt.flags|=2,$t):It):(Pt.flags|=2,$t)):(Pt.flags|=1048576,$t)}function dt(Pt){return et&&Pt.alternate===null&&(Pt.flags|=2),Pt}function ot(Pt,$t,It,Ot){return $t===null||$t.tag!==6?($t=xh(It,Pt.mode,Ot),$t.return=Pt,$t):($t=at($t,It),$t.return=Pt,$t)}function mt(Pt,$t,It,Ot){var Vt=It.type;return Vt===ya?Et(Pt,$t,It.props.children,Ot,It.key):$t!==null&&($t.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===Ha&&uh(Vt)===$t.type)?(Ot=at($t,It.props),Ot.ref=sh(Pt,$t,It),Ot.return=Pt,Ot):(Ot=yh(It.type,It.key,It.props,null,Pt.mode,Ot),Ot.ref=sh(Pt,$t,It),Ot.return=Pt,Ot)}function xt(Pt,$t,It,Ot){return $t===null||$t.tag!==4||$t.stateNode.containerInfo!==It.containerInfo||$t.stateNode.implementation!==It.implementation?($t=zh(It,Pt.mode,Ot),$t.return=Pt,$t):($t=at($t,It.children||[]),$t.return=Pt,$t)}function Et(Pt,$t,It,Ot,Vt){return $t===null||$t.tag!==7?($t=Ah(It,Pt.mode,Ot,Vt),$t.return=Pt,$t):($t=at($t,It),$t.return=Pt,$t)}function At(Pt,$t,It){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return $t=xh(""+$t,Pt.mode,It),$t.return=Pt,$t;if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:return It=yh($t.type,$t.key,$t.props,null,Pt.mode,It),It.ref=sh(Pt,null,$t),It.return=Pt,It;case wa:return $t=zh($t,Pt.mode,It),$t.return=Pt,$t;case Ha:var Ot=$t._init;return At(Pt,Ot($t._payload),It)}if(eb($t)||Ka($t))return $t=Ah($t,Pt.mode,It,null),$t.return=Pt,$t;th(Pt,$t)}return null}function Tt(Pt,$t,It,Ot){var Vt=$t!==null?$t.key:null;if(typeof It=="string"&&It!==""||typeof It=="number")return Vt!==null?null:ot(Pt,$t,""+It,Ot);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case va:return It.key===Vt?mt(Pt,$t,It,Ot):null;case wa:return It.key===Vt?xt(Pt,$t,It,Ot):null;case Ha:return Vt=It._init,Tt(Pt,$t,Vt(It._payload),Ot)}if(eb(It)||Ka(It))return Vt!==null?null:Et(Pt,$t,It,Ot,null);th(Pt,It)}return null}function Ft(Pt,$t,It,Ot,Vt){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number")return Pt=Pt.get(It)||null,ot($t,Pt,""+Ot,Vt);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case va:return Pt=Pt.get(Ot.key===null?It:Ot.key)||null,mt($t,Pt,Ot,Vt);case wa:return Pt=Pt.get(Ot.key===null?It:Ot.key)||null,xt($t,Pt,Ot,Vt);case Ha:var Ut=Ot._init;return Ft(Pt,$t,It,Ut(Ot._payload),Vt)}if(eb(Ot)||Ka(Ot))return Pt=Pt.get(It)||null,Et($t,Pt,Ot,Vt,null);th($t,Ot)}return null}function Mt(Pt,$t,It,Ot){for(var Vt=null,Ut=null,Wt=$t,nr=$t=0,er=null;Wt!==null&&nr<It.length;nr++){Wt.index>nr?(er=Wt,Wt=null):er=Wt.sibling;var Kt=Tt(Pt,Wt,It[nr],Ot);if(Kt===null){Wt===null&&(Wt=er);break}et&&Wt&&Kt.alternate===null&&tt(Pt,Wt),$t=lt(Kt,$t,nr),Ut===null?Vt=Kt:Ut.sibling=Kt,Ut=Kt,Wt=er}if(nr===It.length)return rt(Pt,Wt),I$1&&tg(Pt,nr),Vt;if(Wt===null){for(;nr<It.length;nr++)Wt=At(Pt,It[nr],Ot),Wt!==null&&($t=lt(Wt,$t,nr),Ut===null?Vt=Wt:Ut.sibling=Wt,Ut=Wt);return I$1&&tg(Pt,nr),Vt}for(Wt=nt(Pt,Wt);nr<It.length;nr++)er=Ft(Wt,Pt,nr,It[nr],Ot),er!==null&&(et&&er.alternate!==null&&Wt.delete(er.key===null?nr:er.key),$t=lt(er,$t,nr),Ut===null?Vt=er:Ut.sibling=er,Ut=er);return et&&Wt.forEach(function(ur){return tt(Pt,ur)}),I$1&&tg(Pt,nr),Vt}function Lt(Pt,$t,It,Ot){var Vt=Ka(It);if(typeof Vt!="function")throw Error(p$f(150));if(It=Vt.call(It),It==null)throw Error(p$f(151));for(var Ut=Vt=null,Wt=$t,nr=$t=0,er=null,Kt=It.next();Wt!==null&&!Kt.done;nr++,Kt=It.next()){Wt.index>nr?(er=Wt,Wt=null):er=Wt.sibling;var ur=Tt(Pt,Wt,Kt.value,Ot);if(ur===null){Wt===null&&(Wt=er);break}et&&Wt&&ur.alternate===null&&tt(Pt,Wt),$t=lt(ur,$t,nr),Ut===null?Vt=ur:Ut.sibling=ur,Ut=ur,Wt=er}if(Kt.done)return rt(Pt,Wt),I$1&&tg(Pt,nr),Vt;if(Wt===null){for(;!Kt.done;nr++,Kt=It.next())Kt=At(Pt,Kt.value,Ot),Kt!==null&&($t=lt(Kt,$t,nr),Ut===null?Vt=Kt:Ut.sibling=Kt,Ut=Kt);return I$1&&tg(Pt,nr),Vt}for(Wt=nt(Pt,Wt);!Kt.done;nr++,Kt=It.next())Kt=Ft(Wt,Pt,nr,Kt.value,Ot),Kt!==null&&(et&&Kt.alternate!==null&&Wt.delete(Kt.key===null?nr:Kt.key),$t=lt(Kt,$t,nr),Ut===null?Vt=Kt:Ut.sibling=Kt,Ut=Kt);return et&&Wt.forEach(function(vr){return tt(Pt,vr)}),I$1&&tg(Pt,nr),Vt}function Gt(Pt,$t,It,Ot){if(typeof It=="object"&&It!==null&&It.type===ya&&It.key===null&&(It=It.props.children),typeof It=="object"&&It!==null){switch(It.$$typeof){case va:e:{for(var Vt=It.key,Ut=$t;Ut!==null;){if(Ut.key===Vt){if(Vt=It.type,Vt===ya){if(Ut.tag===7){rt(Pt,Ut.sibling),$t=at(Ut,It.props.children),$t.return=Pt,Pt=$t;break e}}else if(Ut.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===Ha&&uh(Vt)===Ut.type){rt(Pt,Ut.sibling),$t=at(Ut,It.props),$t.ref=sh(Pt,Ut,It),$t.return=Pt,Pt=$t;break e}rt(Pt,Ut);break}else tt(Pt,Ut);Ut=Ut.sibling}It.type===ya?($t=Ah(It.props.children,Pt.mode,Ot,It.key),$t.return=Pt,Pt=$t):(Ot=yh(It.type,It.key,It.props,null,Pt.mode,Ot),Ot.ref=sh(Pt,$t,It),Ot.return=Pt,Pt=Ot)}return dt(Pt);case wa:e:{for(Ut=It.key;$t!==null;){if($t.key===Ut)if($t.tag===4&&$t.stateNode.containerInfo===It.containerInfo&&$t.stateNode.implementation===It.implementation){rt(Pt,$t.sibling),$t=at($t,It.children||[]),$t.return=Pt,Pt=$t;break e}else{rt(Pt,$t);break}else tt(Pt,$t);$t=$t.sibling}$t=zh(It,Pt.mode,Ot),$t.return=Pt,Pt=$t}return dt(Pt);case Ha:return Ut=It._init,Gt(Pt,$t,Ut(It._payload),Ot)}if(eb(It))return Mt(Pt,$t,It,Ot);if(Ka(It))return Lt(Pt,$t,It,Ot);th(Pt,It)}return typeof It=="string"&&It!==""||typeof It=="number"?(It=""+It,$t!==null&&$t.tag===6?(rt(Pt,$t.sibling),$t=at($t,It),$t.return=Pt,Pt=$t):(rt(Pt,$t),$t=xh(It,Pt.mode,Ot),$t.return=Pt,Pt=$t),dt(Pt)):rt(Pt,$t)}return Gt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(et){if(et===Dh)throw Error(p$f(174));return et}function Ih(et,tt){switch(G$1(Gh,tt),G$1(Fh,et),G$1(Eh,Dh),et=tt.nodeType,et){case 9:case 11:tt=(tt=tt.documentElement)?tt.namespaceURI:lb(null,"");break;default:et=et===8?tt.parentNode:tt,tt=et.namespaceURI||null,et=et.tagName,tt=lb(tt,et)}E$a(Eh),G$1(Eh,tt)}function Jh(){E$a(Eh),E$a(Fh),E$a(Gh)}function Kh(et){Hh(Gh.current);var tt=Hh(Eh.current),rt=lb(tt,et.type);tt!==rt&&(G$1(Fh,et),G$1(Eh,rt))}function Lh(et){Fh.current===et&&(E$a(Eh),E$a(Fh))}var M$7=Uf(0);function Mh(et){for(var tt=et;tt!==null;){if(tt.tag===13){var rt=tt.memoizedState;if(rt!==null&&(rt=rt.dehydrated,rt===null||rt.data==="$?"||rt.data==="$!"))return tt}else if(tt.tag===19&&tt.memoizedProps.revealOrder!==void 0){if(tt.flags&128)return tt}else if(tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)return null;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}return null}var Nh=[];function Oh(){for(var et=0;et<Nh.length;et++)Nh[et]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$f(321))}function Wh(et,tt){if(tt===null)return!1;for(var rt=0;rt<tt.length&&rt<et.length;rt++)if(!He(et[rt],tt[rt]))return!1;return!0}function Xh(et,tt,rt,nt,at,lt){if(Rh=lt,N$1=tt,tt.memoizedState=null,tt.updateQueue=null,tt.lanes=0,Ph.current=et===null||et.memoizedState===null?Yh:Zh,et=rt(nt,at),Th){lt=0;do{if(Th=!1,Uh=0,25<=lt)throw Error(p$f(301));lt+=1,P$1=O=null,tt.updateQueue=null,Ph.current=$h,et=rt(nt,at)}while(Th)}if(Ph.current=ai,tt=O!==null&&O.next!==null,Rh=0,P$1=O=N$1=null,Sh=!1,tt)throw Error(p$f(300));return et}function bi(){var et=Uh!==0;return Uh=0,et}function ci(){var et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$1.memoizedState=P$1=et:P$1=P$1.next=et,P$1}function di(){if(O===null){var et=N$1.alternate;et=et!==null?et.memoizedState:null}else et=O.next;var tt=P$1===null?N$1.memoizedState:P$1.next;if(tt!==null)P$1=tt,O=et;else{if(et===null)throw Error(p$f(310));O=et,et={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P$1===null?N$1.memoizedState=P$1=et:P$1=P$1.next=et}return P$1}function ei(et,tt){return typeof tt=="function"?tt(et):tt}function fi(et){var tt=di(),rt=tt.queue;if(rt===null)throw Error(p$f(311));rt.lastRenderedReducer=et;var nt=O,at=nt.baseQueue,lt=rt.pending;if(lt!==null){if(at!==null){var dt=at.next;at.next=lt.next,lt.next=dt}nt.baseQueue=at=lt,rt.pending=null}if(at!==null){lt=at.next,nt=nt.baseState;var ot=dt=null,mt=null,xt=lt;do{var Et=xt.lane;if((Rh&Et)===Et)mt!==null&&(mt=mt.next={lane:0,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null}),nt=xt.hasEagerState?xt.eagerState:et(nt,xt.action);else{var At={lane:Et,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null};mt===null?(ot=mt=At,dt=nt):mt=mt.next=At,N$1.lanes|=Et,hh|=Et}xt=xt.next}while(xt!==null&&xt!==lt);mt===null?dt=nt:mt.next=ot,He(nt,tt.memoizedState)||(Ug=!0),tt.memoizedState=nt,tt.baseState=dt,tt.baseQueue=mt,rt.lastRenderedState=nt}if(et=rt.interleaved,et!==null){at=et;do lt=at.lane,N$1.lanes|=lt,hh|=lt,at=at.next;while(at!==et)}else at===null&&(rt.lanes=0);return[tt.memoizedState,rt.dispatch]}function gi(et){var tt=di(),rt=tt.queue;if(rt===null)throw Error(p$f(311));rt.lastRenderedReducer=et;var nt=rt.dispatch,at=rt.pending,lt=tt.memoizedState;if(at!==null){rt.pending=null;var dt=at=at.next;do lt=et(lt,dt.action),dt=dt.next;while(dt!==at);He(lt,tt.memoizedState)||(Ug=!0),tt.memoizedState=lt,tt.baseQueue===null&&(tt.baseState=lt),rt.lastRenderedState=lt}return[lt,nt]}function hi(){}function ii(et,tt){var rt=N$1,nt=di(),at=tt(),lt=!He(nt.memoizedState,at);if(lt&&(nt.memoizedState=at,Ug=!0),nt=nt.queue,ji(ki.bind(null,rt,nt,et),[et]),nt.getSnapshot!==tt||lt||P$1!==null&&P$1.memoizedState.tag&1){if(rt.flags|=2048,li(9,mi.bind(null,rt,nt,at,tt),void 0,null),R$1===null)throw Error(p$f(349));Rh&30||ni(rt,tt,at)}return at}function ni(et,tt,rt){et.flags|=16384,et={getSnapshot:tt,value:rt},tt=N$1.updateQueue,tt===null?(tt={lastEffect:null,stores:null},N$1.updateQueue=tt,tt.stores=[et]):(rt=tt.stores,rt===null?tt.stores=[et]:rt.push(et))}function mi(et,tt,rt,nt){tt.value=rt,tt.getSnapshot=nt,oi(tt)&&pi(et)}function ki(et,tt,rt){return rt(function(){oi(tt)&&pi(et)})}function oi(et){var tt=et.getSnapshot;et=et.value;try{var rt=tt();return!He(et,rt)}catch{return!0}}function pi(et){var tt=Zg(et,1);tt!==null&&mh(tt,et,1,-1)}function qi(et){var tt=ci();return typeof et=="function"&&(et=et()),tt.memoizedState=tt.baseState=et,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:et},tt.queue=et,et=et.dispatch=ri.bind(null,N$1,et),[tt.memoizedState,et]}function li(et,tt,rt,nt){return et={tag:et,create:tt,destroy:rt,deps:nt,next:null},tt=N$1.updateQueue,tt===null?(tt={lastEffect:null,stores:null},N$1.updateQueue=tt,tt.lastEffect=et.next=et):(rt=tt.lastEffect,rt===null?tt.lastEffect=et.next=et:(nt=rt.next,rt.next=et,et.next=nt,tt.lastEffect=et)),et}function si(){return di().memoizedState}function ti(et,tt,rt,nt){var at=ci();N$1.flags|=et,at.memoizedState=li(1|tt,rt,void 0,nt===void 0?null:nt)}function ui(et,tt,rt,nt){var at=di();nt=nt===void 0?null:nt;var lt=void 0;if(O!==null){var dt=O.memoizedState;if(lt=dt.destroy,nt!==null&&Wh(nt,dt.deps)){at.memoizedState=li(tt,rt,lt,nt);return}}N$1.flags|=et,at.memoizedState=li(1|tt,rt,lt,nt)}function vi(et,tt){return ti(8390656,8,et,tt)}function ji(et,tt){return ui(2048,8,et,tt)}function wi(et,tt){return ui(4,2,et,tt)}function xi(et,tt){return ui(4,4,et,tt)}function yi(et,tt){if(typeof tt=="function")return et=et(),tt(et),function(){tt(null)};if(tt!=null)return et=et(),tt.current=et,function(){tt.current=null}}function zi(et,tt,rt){return rt=rt!=null?rt.concat([et]):null,ui(4,4,yi.bind(null,tt,et),rt)}function Ai(){}function Bi(et,tt){var rt=di();tt=tt===void 0?null:tt;var nt=rt.memoizedState;return nt!==null&&tt!==null&&Wh(tt,nt[1])?nt[0]:(rt.memoizedState=[et,tt],et)}function Ci(et,tt){var rt=di();tt=tt===void 0?null:tt;var nt=rt.memoizedState;return nt!==null&&tt!==null&&Wh(tt,nt[1])?nt[0]:(et=et(),rt.memoizedState=[et,tt],et)}function Di(et,tt,rt){return Rh&21?(He(rt,tt)||(rt=yc(),N$1.lanes|=rt,hh|=rt,et.baseState=!0),tt):(et.baseState&&(et.baseState=!1,Ug=!0),et.memoizedState=rt)}function Ei(et,tt){var rt=C$3;C$3=rt!==0&&4>rt?rt:4,et(!0);var nt=Qh.transition;Qh.transition={};try{et(!1),tt()}finally{C$3=rt,Qh.transition=nt}}function Fi(){return di().memoizedState}function Gi(et,tt,rt){var nt=lh(et);if(rt={lane:nt,action:rt,hasEagerState:!1,eagerState:null,next:null},Hi(et))Ii(tt,rt);else if(rt=Yg(et,tt,rt,nt),rt!==null){var at=L$3();mh(rt,et,nt,at),Ji(rt,tt,nt)}}function ri(et,tt,rt){var nt=lh(et),at={lane:nt,action:rt,hasEagerState:!1,eagerState:null,next:null};if(Hi(et))Ii(tt,at);else{var lt=et.alternate;if(et.lanes===0&&(lt===null||lt.lanes===0)&&(lt=tt.lastRenderedReducer,lt!==null))try{var dt=tt.lastRenderedState,ot=lt(dt,rt);if(at.hasEagerState=!0,at.eagerState=ot,He(ot,dt)){var mt=tt.interleaved;mt===null?(at.next=at,Xg(tt)):(at.next=mt.next,mt.next=at),tt.interleaved=at;return}}catch{}finally{}rt=Yg(et,tt,at,nt),rt!==null&&(at=L$3(),mh(rt,et,nt,at),Ji(rt,tt,nt))}}function Hi(et){var tt=et.alternate;return et===N$1||tt!==null&&tt===N$1}function Ii(et,tt){Th=Sh=!0;var rt=et.pending;rt===null?tt.next=tt:(tt.next=rt.next,rt.next=tt),et.pending=tt}function Ji(et,tt,rt){if(rt&4194240){var nt=tt.lanes;nt&=et.pendingLanes,rt|=nt,tt.lanes=rt,Cc(et,rt)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(et,tt){return ci().memoizedState=[et,tt===void 0?null:tt],et},useContext:Vg,useEffect:vi,useImperativeHandle:function(et,tt,rt){return rt=rt!=null?rt.concat([et]):null,ti(4194308,4,yi.bind(null,tt,et),rt)},useLayoutEffect:function(et,tt){return ti(4194308,4,et,tt)},useInsertionEffect:function(et,tt){return ti(4,2,et,tt)},useMemo:function(et,tt){var rt=ci();return tt=tt===void 0?null:tt,et=et(),rt.memoizedState=[et,tt],et},useReducer:function(et,tt,rt){var nt=ci();return tt=rt!==void 0?rt(tt):tt,nt.memoizedState=nt.baseState=tt,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:et,lastRenderedState:tt},nt.queue=et,et=et.dispatch=Gi.bind(null,N$1,et),[nt.memoizedState,et]},useRef:function(et){var tt=ci();return et={current:et},tt.memoizedState=et},useState:qi,useDebugValue:Ai,useDeferredValue:function(et){return ci().memoizedState=et},useTransition:function(){var et=qi(!1),tt=et[0];return et=Ei.bind(null,et[1]),ci().memoizedState=et,[tt,et]},useMutableSource:function(){},useSyncExternalStore:function(et,tt,rt){var nt=N$1,at=ci();if(I$1){if(rt===void 0)throw Error(p$f(407));rt=rt()}else{if(rt=tt(),R$1===null)throw Error(p$f(349));Rh&30||ni(nt,tt,rt)}at.memoizedState=rt;var lt={value:rt,getSnapshot:tt};return at.queue=lt,vi(ki.bind(null,nt,lt,et),[et]),nt.flags|=2048,li(9,mi.bind(null,nt,lt,rt,tt),void 0,null),rt},useId:function(){var et=ci(),tt=R$1.identifierPrefix;if(I$1){var rt=sg,nt=rg;rt=(nt&~(1<<32-oc(nt)-1)).toString(32)+rt,tt=":"+tt+"R"+rt,rt=Uh++,0<rt&&(tt+="H"+rt.toString(32)),tt+=":"}else rt=Vh++,tt=":"+tt+"r"+rt.toString(32)+":";return et.memoizedState=tt},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var tt=di();return Di(tt,O.memoizedState,et)},useTransition:function(){var et=fi(ei)[0],tt=di().memoizedState;return[et,tt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var tt=di();return O===null?tt.memoizedState=et:Di(tt,O.memoizedState,et)},useTransition:function(){var et=gi(ei)[0],tt=di().memoizedState;return[et,tt]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(et,tt){try{var rt="",nt=tt;do rt+=Pa(nt),nt=nt.return;while(nt);var at=rt}catch(lt){at=`
Error generating stack: `+lt.message+`
`+lt.stack}return{value:et,source:tt,stack:at,digest:null}}function Li(et,tt,rt){return{value:et,source:null,stack:rt??null,digest:tt??null}}function Mi(et,tt){try{console.error(tt.value)}catch(rt){setTimeout(function(){throw rt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(et,tt,rt){rt=ch(-1,rt),rt.tag=3,rt.payload={element:null};var nt=tt.value;return rt.callback=function(){Pi||(Pi=!0,Qi=nt),Mi(et,tt)},rt}function Ri(et,tt,rt){rt=ch(-1,rt),rt.tag=3;var nt=et.type.getDerivedStateFromError;if(typeof nt=="function"){var at=tt.value;rt.payload=function(){return nt(at)},rt.callback=function(){Mi(et,tt)}}var lt=et.stateNode;return lt!==null&&typeof lt.componentDidCatch=="function"&&(rt.callback=function(){Mi(et,tt),typeof nt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var dt=tt.stack;this.componentDidCatch(tt.value,{componentStack:dt!==null?dt:""})}),rt}function Ti(et,tt,rt){var nt=et.pingCache;if(nt===null){nt=et.pingCache=new Ni;var at=new Set;nt.set(tt,at)}else at=nt.get(tt),at===void 0&&(at=new Set,nt.set(tt,at));at.has(rt)||(at.add(rt),et=Ui.bind(null,et,tt,rt),tt.then(et,et))}function Vi(et){do{var tt;if((tt=et.tag===13)&&(tt=et.memoizedState,tt=tt!==null?tt.dehydrated!==null:!0),tt)return et;et=et.return}while(et!==null);return null}function Wi(et,tt,rt,nt,at){return et.mode&1?(et.flags|=65536,et.lanes=at,et):(et===tt?et.flags|=65536:(et.flags|=128,rt.flags|=131072,rt.flags&=-52805,rt.tag===1&&(rt.alternate===null?rt.tag=17:(tt=ch(-1,1),tt.tag=2,dh(rt,tt,1))),rt.lanes|=1),et)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(et,tt,rt,nt){tt.child=et===null?Ch(tt,null,rt,nt):Bh(tt,et.child,rt,nt)}function Zi(et,tt,rt,nt,at){rt=rt.render;var lt=tt.ref;return Tg(tt,at),nt=Xh(et,tt,rt,nt,lt,at),rt=bi(),et!==null&&!Ug?(tt.updateQueue=et.updateQueue,tt.flags&=-2053,et.lanes&=~at,$i(et,tt,at)):(I$1&&rt&&vg(tt),tt.flags|=1,Yi(et,tt,nt,at),tt.child)}function aj(et,tt,rt,nt,at){if(et===null){var lt=rt.type;return typeof lt=="function"&&!bj(lt)&&lt.defaultProps===void 0&&rt.compare===null&&rt.defaultProps===void 0?(tt.tag=15,tt.type=lt,cj(et,tt,lt,nt,at)):(et=yh(rt.type,null,nt,tt,tt.mode,at),et.ref=tt.ref,et.return=tt,tt.child=et)}if(lt=et.child,!(et.lanes&at)){var dt=lt.memoizedProps;if(rt=rt.compare,rt=rt!==null?rt:Ie,rt(dt,nt)&&et.ref===tt.ref)return $i(et,tt,at)}return tt.flags|=1,et=wh(lt,nt),et.ref=tt.ref,et.return=tt,tt.child=et}function cj(et,tt,rt,nt,at){if(et!==null){var lt=et.memoizedProps;if(Ie(lt,nt)&&et.ref===tt.ref)if(Ug=!1,tt.pendingProps=nt=lt,(et.lanes&at)!==0)et.flags&131072&&(Ug=!0);else return tt.lanes=et.lanes,$i(et,tt,at)}return dj(et,tt,rt,nt,at)}function ej(et,tt,rt){var nt=tt.pendingProps,at=nt.children,lt=et!==null?et.memoizedState:null;if(nt.mode==="hidden")if(!(tt.mode&1))tt.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=rt;else{if(!(rt&1073741824))return et=lt!==null?lt.baseLanes|rt:rt,tt.lanes=tt.childLanes=1073741824,tt.memoizedState={baseLanes:et,cachePool:null,transitions:null},tt.updateQueue=null,G$1(fj,gj),gj|=et,null;tt.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=lt!==null?lt.baseLanes:rt,G$1(fj,gj),gj|=nt}else lt!==null?(nt=lt.baseLanes|rt,tt.memoizedState=null):nt=rt,G$1(fj,gj),gj|=nt;return Yi(et,tt,at,rt),tt.child}function hj(et,tt){var rt=tt.ref;(et===null&&rt!==null||et!==null&&et.ref!==rt)&&(tt.flags|=512,tt.flags|=2097152)}function dj(et,tt,rt,nt,at){var lt=Zf(rt)?Xf:H$5.current;return lt=Yf(tt,lt),Tg(tt,at),rt=Xh(et,tt,rt,nt,lt,at),nt=bi(),et!==null&&!Ug?(tt.updateQueue=et.updateQueue,tt.flags&=-2053,et.lanes&=~at,$i(et,tt,at)):(I$1&&nt&&vg(tt),tt.flags|=1,Yi(et,tt,rt,at),tt.child)}function ij(et,tt,rt,nt,at){if(Zf(rt)){var lt=!0;cg(tt)}else lt=!1;if(Tg(tt,at),tt.stateNode===null)jj(et,tt),ph(tt,rt,nt),rh(tt,rt,nt,at),nt=!0;else if(et===null){var dt=tt.stateNode,ot=tt.memoizedProps;dt.props=ot;var mt=dt.context,xt=rt.contextType;typeof xt=="object"&&xt!==null?xt=Vg(xt):(xt=Zf(rt)?Xf:H$5.current,xt=Yf(tt,xt));var Et=rt.getDerivedStateFromProps,At=typeof Et=="function"||typeof dt.getSnapshotBeforeUpdate=="function";At||typeof dt.UNSAFE_componentWillReceiveProps!="function"&&typeof dt.componentWillReceiveProps!="function"||(ot!==nt||mt!==xt)&&qh(tt,dt,nt,xt),$g=!1;var Tt=tt.memoizedState;dt.state=Tt,gh(tt,nt,dt,at),mt=tt.memoizedState,ot!==nt||Tt!==mt||Wf.current||$g?(typeof Et=="function"&&(kh(tt,rt,Et,nt),mt=tt.memoizedState),(ot=$g||oh(tt,rt,ot,nt,Tt,mt,xt))?(At||typeof dt.UNSAFE_componentWillMount!="function"&&typeof dt.componentWillMount!="function"||(typeof dt.componentWillMount=="function"&&dt.componentWillMount(),typeof dt.UNSAFE_componentWillMount=="function"&&dt.UNSAFE_componentWillMount()),typeof dt.componentDidMount=="function"&&(tt.flags|=4194308)):(typeof dt.componentDidMount=="function"&&(tt.flags|=4194308),tt.memoizedProps=nt,tt.memoizedState=mt),dt.props=nt,dt.state=mt,dt.context=xt,nt=ot):(typeof dt.componentDidMount=="function"&&(tt.flags|=4194308),nt=!1)}else{dt=tt.stateNode,bh(et,tt),ot=tt.memoizedProps,xt=tt.type===tt.elementType?ot:Lg(tt.type,ot),dt.props=xt,At=tt.pendingProps,Tt=dt.context,mt=rt.contextType,typeof mt=="object"&&mt!==null?mt=Vg(mt):(mt=Zf(rt)?Xf:H$5.current,mt=Yf(tt,mt));var Ft=rt.getDerivedStateFromProps;(Et=typeof Ft=="function"||typeof dt.getSnapshotBeforeUpdate=="function")||typeof dt.UNSAFE_componentWillReceiveProps!="function"&&typeof dt.componentWillReceiveProps!="function"||(ot!==At||Tt!==mt)&&qh(tt,dt,nt,mt),$g=!1,Tt=tt.memoizedState,dt.state=Tt,gh(tt,nt,dt,at);var Mt=tt.memoizedState;ot!==At||Tt!==Mt||Wf.current||$g?(typeof Ft=="function"&&(kh(tt,rt,Ft,nt),Mt=tt.memoizedState),(xt=$g||oh(tt,rt,xt,nt,Tt,Mt,mt)||!1)?(Et||typeof dt.UNSAFE_componentWillUpdate!="function"&&typeof dt.componentWillUpdate!="function"||(typeof dt.componentWillUpdate=="function"&&dt.componentWillUpdate(nt,Mt,mt),typeof dt.UNSAFE_componentWillUpdate=="function"&&dt.UNSAFE_componentWillUpdate(nt,Mt,mt)),typeof dt.componentDidUpdate=="function"&&(tt.flags|=4),typeof dt.getSnapshotBeforeUpdate=="function"&&(tt.flags|=1024)):(typeof dt.componentDidUpdate!="function"||ot===et.memoizedProps&&Tt===et.memoizedState||(tt.flags|=4),typeof dt.getSnapshotBeforeUpdate!="function"||ot===et.memoizedProps&&Tt===et.memoizedState||(tt.flags|=1024),tt.memoizedProps=nt,tt.memoizedState=Mt),dt.props=nt,dt.state=Mt,dt.context=mt,nt=xt):(typeof dt.componentDidUpdate!="function"||ot===et.memoizedProps&&Tt===et.memoizedState||(tt.flags|=4),typeof dt.getSnapshotBeforeUpdate!="function"||ot===et.memoizedProps&&Tt===et.memoizedState||(tt.flags|=1024),nt=!1)}return kj(et,tt,rt,nt,lt,at)}function kj(et,tt,rt,nt,at,lt){hj(et,tt);var dt=(tt.flags&128)!==0;if(!nt&&!dt)return at&&dg(tt,rt,!1),$i(et,tt,lt);nt=tt.stateNode,Xi.current=tt;var ot=dt&&typeof rt.getDerivedStateFromError!="function"?null:nt.render();return tt.flags|=1,et!==null&&dt?(tt.child=Bh(tt,et.child,null,lt),tt.child=Bh(tt,null,ot,lt)):Yi(et,tt,ot,lt),tt.memoizedState=nt.state,at&&dg(tt,rt,!0),tt.child}function lj(et){var tt=et.stateNode;tt.pendingContext?ag(et,tt.pendingContext,tt.pendingContext!==tt.context):tt.context&&ag(et,tt.context,!1),Ih(et,tt.containerInfo)}function mj(et,tt,rt,nt,at){return Ig(),Jg(at),tt.flags|=256,Yi(et,tt,rt,nt),tt.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(et){return{baseLanes:et,cachePool:null,transitions:null}}function pj(et,tt,rt){var nt=tt.pendingProps,at=M$7.current,lt=!1,dt=(tt.flags&128)!==0,ot;if((ot=dt)||(ot=et!==null&&et.memoizedState===null?!1:(at&2)!==0),ot?(lt=!0,tt.flags&=-129):(et===null||et.memoizedState!==null)&&(at|=1),G$1(M$7,at&1),et===null)return Eg(tt),et=tt.memoizedState,et!==null&&(et=et.dehydrated,et!==null)?(tt.mode&1?et.data==="$!"?tt.lanes=8:tt.lanes=1073741824:tt.lanes=1,null):(dt=nt.children,et=nt.fallback,lt?(nt=tt.mode,lt=tt.child,dt={mode:"hidden",children:dt},!(nt&1)&&lt!==null?(lt.childLanes=0,lt.pendingProps=dt):lt=qj(dt,nt,0,null),et=Ah(et,nt,rt,null),lt.return=tt,et.return=tt,lt.sibling=et,tt.child=lt,tt.child.memoizedState=oj(rt),tt.memoizedState=nj,et):rj(tt,dt));if(at=et.memoizedState,at!==null&&(ot=at.dehydrated,ot!==null))return sj(et,tt,dt,nt,ot,at,rt);if(lt){lt=nt.fallback,dt=tt.mode,at=et.child,ot=at.sibling;var mt={mode:"hidden",children:nt.children};return!(dt&1)&&tt.child!==at?(nt=tt.child,nt.childLanes=0,nt.pendingProps=mt,tt.deletions=null):(nt=wh(at,mt),nt.subtreeFlags=at.subtreeFlags&14680064),ot!==null?lt=wh(ot,lt):(lt=Ah(lt,dt,rt,null),lt.flags|=2),lt.return=tt,nt.return=tt,nt.sibling=lt,tt.child=nt,nt=lt,lt=tt.child,dt=et.child.memoizedState,dt=dt===null?oj(rt):{baseLanes:dt.baseLanes|rt,cachePool:null,transitions:dt.transitions},lt.memoizedState=dt,lt.childLanes=et.childLanes&~rt,tt.memoizedState=nj,nt}return lt=et.child,et=lt.sibling,nt=wh(lt,{mode:"visible",children:nt.children}),!(tt.mode&1)&&(nt.lanes=rt),nt.return=tt,nt.sibling=null,et!==null&&(rt=tt.deletions,rt===null?(tt.deletions=[et],tt.flags|=16):rt.push(et)),tt.child=nt,tt.memoizedState=null,nt}function rj(et,tt){return tt=qj({mode:"visible",children:tt},et.mode,0,null),tt.return=et,et.child=tt}function tj(et,tt,rt,nt){return nt!==null&&Jg(nt),Bh(tt,et.child,null,rt),et=rj(tt,tt.pendingProps.children),et.flags|=2,tt.memoizedState=null,et}function sj(et,tt,rt,nt,at,lt,dt){if(rt)return tt.flags&256?(tt.flags&=-257,nt=Li(Error(p$f(422))),tj(et,tt,dt,nt)):tt.memoizedState!==null?(tt.child=et.child,tt.flags|=128,null):(lt=nt.fallback,at=tt.mode,nt=qj({mode:"visible",children:nt.children},at,0,null),lt=Ah(lt,at,dt,null),lt.flags|=2,nt.return=tt,lt.return=tt,nt.sibling=lt,tt.child=nt,tt.mode&1&&Bh(tt,et.child,null,dt),tt.child.memoizedState=oj(dt),tt.memoizedState=nj,lt);if(!(tt.mode&1))return tj(et,tt,dt,null);if(at.data==="$!"){if(nt=at.nextSibling&&at.nextSibling.dataset,nt)var ot=nt.dgst;return nt=ot,lt=Error(p$f(419)),nt=Li(lt,nt,void 0),tj(et,tt,dt,nt)}if(ot=(dt&et.childLanes)!==0,Ug||ot){if(nt=R$1,nt!==null){switch(dt&-dt){case 4:at=2;break;case 16:at=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:at=32;break;case 536870912:at=268435456;break;default:at=0}at=at&(nt.suspendedLanes|dt)?0:at,at!==0&&at!==lt.retryLane&&(lt.retryLane=at,Zg(et,at),mh(nt,et,at,-1))}return uj(),nt=Li(Error(p$f(421))),tj(et,tt,dt,nt)}return at.data==="$?"?(tt.flags|=128,tt.child=et.child,tt=vj.bind(null,et),at._reactRetry=tt,null):(et=lt.treeContext,yg=Lf(at.nextSibling),xg=tt,I$1=!0,zg=null,et!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=et.id,sg=et.overflow,qg=tt),tt=rj(tt,nt.children),tt.flags|=4096,tt)}function wj(et,tt,rt){et.lanes|=tt;var nt=et.alternate;nt!==null&&(nt.lanes|=tt),Sg(et.return,tt,rt)}function xj(et,tt,rt,nt,at){var lt=et.memoizedState;lt===null?et.memoizedState={isBackwards:tt,rendering:null,renderingStartTime:0,last:nt,tail:rt,tailMode:at}:(lt.isBackwards=tt,lt.rendering=null,lt.renderingStartTime=0,lt.last=nt,lt.tail=rt,lt.tailMode=at)}function yj(et,tt,rt){var nt=tt.pendingProps,at=nt.revealOrder,lt=nt.tail;if(Yi(et,tt,nt.children,rt),nt=M$7.current,nt&2)nt=nt&1|2,tt.flags|=128;else{if(et!==null&&et.flags&128)e:for(et=tt.child;et!==null;){if(et.tag===13)et.memoizedState!==null&&wj(et,rt,tt);else if(et.tag===19)wj(et,rt,tt);else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===tt)break e;for(;et.sibling===null;){if(et.return===null||et.return===tt)break e;et=et.return}et.sibling.return=et.return,et=et.sibling}nt&=1}if(G$1(M$7,nt),!(tt.mode&1))tt.memoizedState=null;else switch(at){case"forwards":for(rt=tt.child,at=null;rt!==null;)et=rt.alternate,et!==null&&Mh(et)===null&&(at=rt),rt=rt.sibling;rt=at,rt===null?(at=tt.child,tt.child=null):(at=rt.sibling,rt.sibling=null),xj(tt,!1,at,rt,lt);break;case"backwards":for(rt=null,at=tt.child,tt.child=null;at!==null;){if(et=at.alternate,et!==null&&Mh(et)===null){tt.child=at;break}et=at.sibling,at.sibling=rt,rt=at,at=et}xj(tt,!0,rt,null,lt);break;case"together":xj(tt,!1,null,null,void 0);break;default:tt.memoizedState=null}return tt.child}function jj(et,tt){!(tt.mode&1)&&et!==null&&(et.alternate=null,tt.alternate=null,tt.flags|=2)}function $i(et,tt,rt){if(et!==null&&(tt.dependencies=et.dependencies),hh|=tt.lanes,!(rt&tt.childLanes))return null;if(et!==null&&tt.child!==et.child)throw Error(p$f(153));if(tt.child!==null){for(et=tt.child,rt=wh(et,et.pendingProps),tt.child=rt,rt.return=tt;et.sibling!==null;)et=et.sibling,rt=rt.sibling=wh(et,et.pendingProps),rt.return=tt;rt.sibling=null}return tt.child}function zj(et,tt,rt){switch(tt.tag){case 3:lj(tt),Ig();break;case 5:Kh(tt);break;case 1:Zf(tt.type)&&cg(tt);break;case 4:Ih(tt,tt.stateNode.containerInfo);break;case 10:var nt=tt.type._context,at=tt.memoizedProps.value;G$1(Mg,nt._currentValue),nt._currentValue=at;break;case 13:if(nt=tt.memoizedState,nt!==null)return nt.dehydrated!==null?(G$1(M$7,M$7.current&1),tt.flags|=128,null):rt&tt.child.childLanes?pj(et,tt,rt):(G$1(M$7,M$7.current&1),et=$i(et,tt,rt),et!==null?et.sibling:null);G$1(M$7,M$7.current&1);break;case 19:if(nt=(rt&tt.childLanes)!==0,et.flags&128){if(nt)return yj(et,tt,rt);tt.flags|=128}if(at=tt.memoizedState,at!==null&&(at.rendering=null,at.tail=null,at.lastEffect=null),G$1(M$7,M$7.current),nt)break;return null;case 22:case 23:return tt.lanes=0,ej(et,tt,rt)}return $i(et,tt,rt)}var Aj,Bj,Cj,Dj;Aj=function(et,tt){for(var rt=tt.child;rt!==null;){if(rt.tag===5||rt.tag===6)et.appendChild(rt.stateNode);else if(rt.tag!==4&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===tt)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===tt)return;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}};Bj=function(){};Cj=function(et,tt,rt,nt){var at=et.memoizedProps;if(at!==nt){et=tt.stateNode,Hh(Eh.current);var lt=null;switch(rt){case"input":at=Ya(et,at),nt=Ya(et,nt),lt=[];break;case"select":at=A$a({},at,{value:void 0}),nt=A$a({},nt,{value:void 0}),lt=[];break;case"textarea":at=gb(et,at),nt=gb(et,nt),lt=[];break;default:typeof at.onClick!="function"&&typeof nt.onClick=="function"&&(et.onclick=Bf)}ub(rt,nt);var dt;rt=null;for(xt in at)if(!nt.hasOwnProperty(xt)&&at.hasOwnProperty(xt)&&at[xt]!=null)if(xt==="style"){var ot=at[xt];for(dt in ot)ot.hasOwnProperty(dt)&&(rt||(rt={}),rt[dt]="")}else xt!=="dangerouslySetInnerHTML"&&xt!=="children"&&xt!=="suppressContentEditableWarning"&&xt!=="suppressHydrationWarning"&&xt!=="autoFocus"&&(ea.hasOwnProperty(xt)?lt||(lt=[]):(lt=lt||[]).push(xt,null));for(xt in nt){var mt=nt[xt];if(ot=at!=null?at[xt]:void 0,nt.hasOwnProperty(xt)&&mt!==ot&&(mt!=null||ot!=null))if(xt==="style")if(ot){for(dt in ot)!ot.hasOwnProperty(dt)||mt&&mt.hasOwnProperty(dt)||(rt||(rt={}),rt[dt]="");for(dt in mt)mt.hasOwnProperty(dt)&&ot[dt]!==mt[dt]&&(rt||(rt={}),rt[dt]=mt[dt])}else rt||(lt||(lt=[]),lt.push(xt,rt)),rt=mt;else xt==="dangerouslySetInnerHTML"?(mt=mt?mt.__html:void 0,ot=ot?ot.__html:void 0,mt!=null&&ot!==mt&&(lt=lt||[]).push(xt,mt)):xt==="children"?typeof mt!="string"&&typeof mt!="number"||(lt=lt||[]).push(xt,""+mt):xt!=="suppressContentEditableWarning"&&xt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(xt)?(mt!=null&&xt==="onScroll"&&D$1("scroll",et),lt||ot===mt||(lt=[])):(lt=lt||[]).push(xt,mt))}rt&&(lt=lt||[]).push("style",rt);var xt=lt;(tt.updateQueue=xt)&&(tt.flags|=4)}};Dj=function(et,tt,rt,nt){rt!==nt&&(tt.flags|=4)};function Ej(et,tt){if(!I$1)switch(et.tailMode){case"hidden":tt=et.tail;for(var rt=null;tt!==null;)tt.alternate!==null&&(rt=tt),tt=tt.sibling;rt===null?et.tail=null:rt.sibling=null;break;case"collapsed":rt=et.tail;for(var nt=null;rt!==null;)rt.alternate!==null&&(nt=rt),rt=rt.sibling;nt===null?tt||et.tail===null?et.tail=null:et.tail.sibling=null:nt.sibling=null}}function S$1(et){var tt=et.alternate!==null&&et.alternate.child===et.child,rt=0,nt=0;if(tt)for(var at=et.child;at!==null;)rt|=at.lanes|at.childLanes,nt|=at.subtreeFlags&14680064,nt|=at.flags&14680064,at.return=et,at=at.sibling;else for(at=et.child;at!==null;)rt|=at.lanes|at.childLanes,nt|=at.subtreeFlags,nt|=at.flags,at.return=et,at=at.sibling;return et.subtreeFlags|=nt,et.childLanes=rt,tt}function Fj(et,tt,rt){var nt=tt.pendingProps;switch(wg(tt),tt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(tt),null;case 1:return Zf(tt.type)&&$f(),S$1(tt),null;case 3:return nt=tt.stateNode,Jh(),E$a(Wf),E$a(H$5),Oh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(et===null||et.child===null)&&(Gg(tt)?tt.flags|=4:et===null||et.memoizedState.isDehydrated&&!(tt.flags&256)||(tt.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(et,tt),S$1(tt),null;case 5:Lh(tt);var at=Hh(Gh.current);if(rt=tt.type,et!==null&&tt.stateNode!=null)Cj(et,tt,rt,nt,at),et.ref!==tt.ref&&(tt.flags|=512,tt.flags|=2097152);else{if(!nt){if(tt.stateNode===null)throw Error(p$f(166));return S$1(tt),null}if(et=Hh(Eh.current),Gg(tt)){nt=tt.stateNode,rt=tt.type;var lt=tt.memoizedProps;switch(nt[Of]=tt,nt[Pf]=lt,et=(tt.mode&1)!==0,rt){case"dialog":D$1("cancel",nt),D$1("close",nt);break;case"iframe":case"object":case"embed":D$1("load",nt);break;case"video":case"audio":for(at=0;at<lf.length;at++)D$1(lf[at],nt);break;case"source":D$1("error",nt);break;case"img":case"image":case"link":D$1("error",nt),D$1("load",nt);break;case"details":D$1("toggle",nt);break;case"input":Za(nt,lt),D$1("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!lt.multiple},D$1("invalid",nt);break;case"textarea":hb(nt,lt),D$1("invalid",nt)}ub(rt,lt),at=null;for(var dt in lt)if(lt.hasOwnProperty(dt)){var ot=lt[dt];dt==="children"?typeof ot=="string"?nt.textContent!==ot&&(lt.suppressHydrationWarning!==!0&&Af(nt.textContent,ot,et),at=["children",ot]):typeof ot=="number"&&nt.textContent!==""+ot&&(lt.suppressHydrationWarning!==!0&&Af(nt.textContent,ot,et),at=["children",""+ot]):ea.hasOwnProperty(dt)&&ot!=null&&dt==="onScroll"&&D$1("scroll",nt)}switch(rt){case"input":Va(nt),db(nt,lt,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof lt.onClick=="function"&&(nt.onclick=Bf)}nt=at,tt.updateQueue=nt,nt!==null&&(tt.flags|=4)}else{dt=at.nodeType===9?at:at.ownerDocument,et==="http://www.w3.org/1999/xhtml"&&(et=kb(rt)),et==="http://www.w3.org/1999/xhtml"?rt==="script"?(et=dt.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild)):typeof nt.is=="string"?et=dt.createElement(rt,{is:nt.is}):(et=dt.createElement(rt),rt==="select"&&(dt=et,nt.multiple?dt.multiple=!0:nt.size&&(dt.size=nt.size))):et=dt.createElementNS(et,rt),et[Of]=tt,et[Pf]=nt,Aj(et,tt,!1,!1),tt.stateNode=et;e:{switch(dt=vb(rt,nt),rt){case"dialog":D$1("cancel",et),D$1("close",et),at=nt;break;case"iframe":case"object":case"embed":D$1("load",et),at=nt;break;case"video":case"audio":for(at=0;at<lf.length;at++)D$1(lf[at],et);at=nt;break;case"source":D$1("error",et),at=nt;break;case"img":case"image":case"link":D$1("error",et),D$1("load",et),at=nt;break;case"details":D$1("toggle",et),at=nt;break;case"input":Za(et,nt),at=Ya(et,nt),D$1("invalid",et);break;case"option":at=nt;break;case"select":et._wrapperState={wasMultiple:!!nt.multiple},at=A$a({},nt,{value:void 0}),D$1("invalid",et);break;case"textarea":hb(et,nt),at=gb(et,nt),D$1("invalid",et);break;default:at=nt}ub(rt,at),ot=at;for(lt in ot)if(ot.hasOwnProperty(lt)){var mt=ot[lt];lt==="style"?sb(et,mt):lt==="dangerouslySetInnerHTML"?(mt=mt?mt.__html:void 0,mt!=null&&nb(et,mt)):lt==="children"?typeof mt=="string"?(rt!=="textarea"||mt!=="")&&ob(et,mt):typeof mt=="number"&&ob(et,""+mt):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?mt!=null&&lt==="onScroll"&&D$1("scroll",et):mt!=null&&ta(et,lt,mt,dt))}switch(rt){case"input":Va(et),db(et,nt,!1);break;case"textarea":Va(et),jb(et);break;case"option":nt.value!=null&&et.setAttribute("value",""+Sa(nt.value));break;case"select":et.multiple=!!nt.multiple,lt=nt.value,lt!=null?fb(et,!!nt.multiple,lt,!1):nt.defaultValue!=null&&fb(et,!!nt.multiple,nt.defaultValue,!0);break;default:typeof at.onClick=="function"&&(et.onclick=Bf)}switch(rt){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(tt.flags|=4)}tt.ref!==null&&(tt.flags|=512,tt.flags|=2097152)}return S$1(tt),null;case 6:if(et&&tt.stateNode!=null)Dj(et,tt,et.memoizedProps,nt);else{if(typeof nt!="string"&&tt.stateNode===null)throw Error(p$f(166));if(rt=Hh(Gh.current),Hh(Eh.current),Gg(tt)){if(nt=tt.stateNode,rt=tt.memoizedProps,nt[Of]=tt,(lt=nt.nodeValue!==rt)&&(et=xg,et!==null))switch(et.tag){case 3:Af(nt.nodeValue,rt,(et.mode&1)!==0);break;case 5:et.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,rt,(et.mode&1)!==0)}lt&&(tt.flags|=4)}else nt=(rt.nodeType===9?rt:rt.ownerDocument).createTextNode(nt),nt[Of]=tt,tt.stateNode=nt}return S$1(tt),null;case 13:if(E$a(M$7),nt=tt.memoizedState,et===null||et.memoizedState!==null&&et.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&tt.mode&1&&!(tt.flags&128))Hg(),Ig(),tt.flags|=98560,lt=!1;else if(lt=Gg(tt),nt!==null&&nt.dehydrated!==null){if(et===null){if(!lt)throw Error(p$f(318));if(lt=tt.memoizedState,lt=lt!==null?lt.dehydrated:null,!lt)throw Error(p$f(317));lt[Of]=tt}else Ig(),!(tt.flags&128)&&(tt.memoizedState=null),tt.flags|=4;S$1(tt),lt=!1}else zg!==null&&(Gj(zg),zg=null),lt=!0;if(!lt)return tt.flags&65536?tt:null}return tt.flags&128?(tt.lanes=rt,tt):(nt=nt!==null,nt!==(et!==null&&et.memoizedState!==null)&&nt&&(tt.child.flags|=8192,tt.mode&1&&(et===null||M$7.current&1?T$1===0&&(T$1=3):uj())),tt.updateQueue!==null&&(tt.flags|=4),S$1(tt),null);case 4:return Jh(),Bj(et,tt),et===null&&sf(tt.stateNode.containerInfo),S$1(tt),null;case 10:return Rg(tt.type._context),S$1(tt),null;case 17:return Zf(tt.type)&&$f(),S$1(tt),null;case 19:if(E$a(M$7),lt=tt.memoizedState,lt===null)return S$1(tt),null;if(nt=(tt.flags&128)!==0,dt=lt.rendering,dt===null)if(nt)Ej(lt,!1);else{if(T$1!==0||et!==null&&et.flags&128)for(et=tt.child;et!==null;){if(dt=Mh(et),dt!==null){for(tt.flags|=128,Ej(lt,!1),nt=dt.updateQueue,nt!==null&&(tt.updateQueue=nt,tt.flags|=4),tt.subtreeFlags=0,nt=rt,rt=tt.child;rt!==null;)lt=rt,et=nt,lt.flags&=14680066,dt=lt.alternate,dt===null?(lt.childLanes=0,lt.lanes=et,lt.child=null,lt.subtreeFlags=0,lt.memoizedProps=null,lt.memoizedState=null,lt.updateQueue=null,lt.dependencies=null,lt.stateNode=null):(lt.childLanes=dt.childLanes,lt.lanes=dt.lanes,lt.child=dt.child,lt.subtreeFlags=0,lt.deletions=null,lt.memoizedProps=dt.memoizedProps,lt.memoizedState=dt.memoizedState,lt.updateQueue=dt.updateQueue,lt.type=dt.type,et=dt.dependencies,lt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext}),rt=rt.sibling;return G$1(M$7,M$7.current&1|2),tt.child}et=et.sibling}lt.tail!==null&&B$1()>Hj&&(tt.flags|=128,nt=!0,Ej(lt,!1),tt.lanes=4194304)}else{if(!nt)if(et=Mh(dt),et!==null){if(tt.flags|=128,nt=!0,rt=et.updateQueue,rt!==null&&(tt.updateQueue=rt,tt.flags|=4),Ej(lt,!0),lt.tail===null&&lt.tailMode==="hidden"&&!dt.alternate&&!I$1)return S$1(tt),null}else 2*B$1()-lt.renderingStartTime>Hj&&rt!==1073741824&&(tt.flags|=128,nt=!0,Ej(lt,!1),tt.lanes=4194304);lt.isBackwards?(dt.sibling=tt.child,tt.child=dt):(rt=lt.last,rt!==null?rt.sibling=dt:tt.child=dt,lt.last=dt)}return lt.tail!==null?(tt=lt.tail,lt.rendering=tt,lt.tail=tt.sibling,lt.renderingStartTime=B$1(),tt.sibling=null,rt=M$7.current,G$1(M$7,nt?rt&1|2:rt&1),tt):(S$1(tt),null);case 22:case 23:return Ij(),nt=tt.memoizedState!==null,et!==null&&et.memoizedState!==null!==nt&&(tt.flags|=8192),nt&&tt.mode&1?gj&1073741824&&(S$1(tt),tt.subtreeFlags&6&&(tt.flags|=8192)):S$1(tt),null;case 24:return null;case 25:return null}throw Error(p$f(156,tt.tag))}function Jj(et,tt){switch(wg(tt),tt.tag){case 1:return Zf(tt.type)&&$f(),et=tt.flags,et&65536?(tt.flags=et&-65537|128,tt):null;case 3:return Jh(),E$a(Wf),E$a(H$5),Oh(),et=tt.flags,et&65536&&!(et&128)?(tt.flags=et&-65537|128,tt):null;case 5:return Lh(tt),null;case 13:if(E$a(M$7),et=tt.memoizedState,et!==null&&et.dehydrated!==null){if(tt.alternate===null)throw Error(p$f(340));Ig()}return et=tt.flags,et&65536?(tt.flags=et&-65537|128,tt):null;case 19:return E$a(M$7),null;case 4:return Jh(),null;case 10:return Rg(tt.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$4=null;function Mj(et,tt){var rt=et.ref;if(rt!==null)if(typeof rt=="function")try{rt(null)}catch(nt){W$1(et,tt,nt)}else rt.current=null}function Nj(et,tt,rt){try{rt()}catch(nt){W$1(et,tt,nt)}}var Oj=!1;function Pj(et,tt){if(Cf=dd,et=Me$1(),Ne$1(et)){if("selectionStart"in et)var rt={start:et.selectionStart,end:et.selectionEnd};else e:{rt=(rt=et.ownerDocument)&&rt.defaultView||window;var nt=rt.getSelection&&rt.getSelection();if(nt&&nt.rangeCount!==0){rt=nt.anchorNode;var at=nt.anchorOffset,lt=nt.focusNode;nt=nt.focusOffset;try{rt.nodeType,lt.nodeType}catch{rt=null;break e}var dt=0,ot=-1,mt=-1,xt=0,Et=0,At=et,Tt=null;t:for(;;){for(var Ft;At!==rt||at!==0&&At.nodeType!==3||(ot=dt+at),At!==lt||nt!==0&&At.nodeType!==3||(mt=dt+nt),At.nodeType===3&&(dt+=At.nodeValue.length),(Ft=At.firstChild)!==null;)Tt=At,At=Ft;for(;;){if(At===et)break t;if(Tt===rt&&++xt===at&&(ot=dt),Tt===lt&&++Et===nt&&(mt=dt),(Ft=At.nextSibling)!==null)break;At=Tt,Tt=At.parentNode}At=Ft}rt=ot===-1||mt===-1?null:{start:ot,end:mt}}else rt=null}rt=rt||{start:0,end:0}}else rt=null;for(Df={focusedElem:et,selectionRange:rt},dd=!1,V$4=tt;V$4!==null;)if(tt=V$4,et=tt.child,(tt.subtreeFlags&1028)!==0&&et!==null)et.return=tt,V$4=et;else for(;V$4!==null;){tt=V$4;try{var Mt=tt.alternate;if(tt.flags&1024)switch(tt.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var Lt=Mt.memoizedProps,Gt=Mt.memoizedState,Pt=tt.stateNode,$t=Pt.getSnapshotBeforeUpdate(tt.elementType===tt.type?Lt:Lg(tt.type,Lt),Gt);Pt.__reactInternalSnapshotBeforeUpdate=$t}break;case 3:var It=tt.stateNode.containerInfo;It.nodeType===1?It.textContent="":It.nodeType===9&&It.documentElement&&It.removeChild(It.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$f(163))}}catch(Ot){W$1(tt,tt.return,Ot)}if(et=tt.sibling,et!==null){et.return=tt.return,V$4=et;break}V$4=tt.return}return Mt=Oj,Oj=!1,Mt}function Qj(et,tt,rt){var nt=tt.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var at=nt=nt.next;do{if((at.tag&et)===et){var lt=at.destroy;at.destroy=void 0,lt!==void 0&&Nj(tt,rt,lt)}at=at.next}while(at!==nt)}}function Rj(et,tt){if(tt=tt.updateQueue,tt=tt!==null?tt.lastEffect:null,tt!==null){var rt=tt=tt.next;do{if((rt.tag&et)===et){var nt=rt.create;rt.destroy=nt()}rt=rt.next}while(rt!==tt)}}function Sj(et){var tt=et.ref;if(tt!==null){var rt=et.stateNode;switch(et.tag){case 5:et=rt;break;default:et=rt}typeof tt=="function"?tt(et):tt.current=et}}function Tj(et){var tt=et.alternate;tt!==null&&(et.alternate=null,Tj(tt)),et.child=null,et.deletions=null,et.sibling=null,et.tag===5&&(tt=et.stateNode,tt!==null&&(delete tt[Of],delete tt[Pf],delete tt[of],delete tt[Qf],delete tt[Rf])),et.stateNode=null,et.return=null,et.dependencies=null,et.memoizedProps=null,et.memoizedState=null,et.pendingProps=null,et.stateNode=null,et.updateQueue=null}function Uj(et){return et.tag===5||et.tag===3||et.tag===4}function Vj(et){e:for(;;){for(;et.sibling===null;){if(et.return===null||Uj(et.return))return null;et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue e;et.child.return=et,et=et.child}if(!(et.flags&2))return et.stateNode}}function Wj(et,tt,rt){var nt=et.tag;if(nt===5||nt===6)et=et.stateNode,tt?rt.nodeType===8?rt.parentNode.insertBefore(et,tt):rt.insertBefore(et,tt):(rt.nodeType===8?(tt=rt.parentNode,tt.insertBefore(et,rt)):(tt=rt,tt.appendChild(et)),rt=rt._reactRootContainer,rt!=null||tt.onclick!==null||(tt.onclick=Bf));else if(nt!==4&&(et=et.child,et!==null))for(Wj(et,tt,rt),et=et.sibling;et!==null;)Wj(et,tt,rt),et=et.sibling}function Xj(et,tt,rt){var nt=et.tag;if(nt===5||nt===6)et=et.stateNode,tt?rt.insertBefore(et,tt):rt.appendChild(et);else if(nt!==4&&(et=et.child,et!==null))for(Xj(et,tt,rt),et=et.sibling;et!==null;)Xj(et,tt,rt),et=et.sibling}var X$1=null,Yj=!1;function Zj(et,tt,rt){for(rt=rt.child;rt!==null;)ak(et,tt,rt),rt=rt.sibling}function ak(et,tt,rt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,rt)}catch{}switch(rt.tag){case 5:U$1||Mj(rt,tt);case 6:var nt=X$1,at=Yj;X$1=null,Zj(et,tt,rt),X$1=nt,Yj=at,X$1!==null&&(Yj?(et=X$1,rt=rt.stateNode,et.nodeType===8?et.parentNode.removeChild(rt):et.removeChild(rt)):X$1.removeChild(rt.stateNode));break;case 18:X$1!==null&&(Yj?(et=X$1,rt=rt.stateNode,et.nodeType===8?Kf(et.parentNode,rt):et.nodeType===1&&Kf(et,rt),bd(et)):Kf(X$1,rt.stateNode));break;case 4:nt=X$1,at=Yj,X$1=rt.stateNode.containerInfo,Yj=!0,Zj(et,tt,rt),X$1=nt,Yj=at;break;case 0:case 11:case 14:case 15:if(!U$1&&(nt=rt.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){at=nt=nt.next;do{var lt=at,dt=lt.destroy;lt=lt.tag,dt!==void 0&&(lt&2||lt&4)&&Nj(rt,tt,dt),at=at.next}while(at!==nt)}Zj(et,tt,rt);break;case 1:if(!U$1&&(Mj(rt,tt),nt=rt.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=rt.memoizedProps,nt.state=rt.memoizedState,nt.componentWillUnmount()}catch(ot){W$1(rt,tt,ot)}Zj(et,tt,rt);break;case 21:Zj(et,tt,rt);break;case 22:rt.mode&1?(U$1=(nt=U$1)||rt.memoizedState!==null,Zj(et,tt,rt),U$1=nt):Zj(et,tt,rt);break;default:Zj(et,tt,rt)}}function bk(et){var tt=et.updateQueue;if(tt!==null){et.updateQueue=null;var rt=et.stateNode;rt===null&&(rt=et.stateNode=new Lj),tt.forEach(function(nt){var at=ck.bind(null,et,nt);rt.has(nt)||(rt.add(nt),nt.then(at,at))})}}function dk(et,tt){var rt=tt.deletions;if(rt!==null)for(var nt=0;nt<rt.length;nt++){var at=rt[nt];try{var lt=et,dt=tt,ot=dt;e:for(;ot!==null;){switch(ot.tag){case 5:X$1=ot.stateNode,Yj=!1;break e;case 3:X$1=ot.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=ot.stateNode.containerInfo,Yj=!0;break e}ot=ot.return}if(X$1===null)throw Error(p$f(160));ak(lt,dt,at),X$1=null,Yj=!1;var mt=at.alternate;mt!==null&&(mt.return=null),at.return=null}catch(xt){W$1(at,tt,xt)}}if(tt.subtreeFlags&12854)for(tt=tt.child;tt!==null;)ek(tt,et),tt=tt.sibling}function ek(et,tt){var rt=et.alternate,nt=et.flags;switch(et.tag){case 0:case 11:case 14:case 15:if(dk(tt,et),fk(et),nt&4){try{Qj(3,et,et.return),Rj(3,et)}catch(Lt){W$1(et,et.return,Lt)}try{Qj(5,et,et.return)}catch(Lt){W$1(et,et.return,Lt)}}break;case 1:dk(tt,et),fk(et),nt&512&&rt!==null&&Mj(rt,rt.return);break;case 5:if(dk(tt,et),fk(et),nt&512&&rt!==null&&Mj(rt,rt.return),et.flags&32){var at=et.stateNode;try{ob(at,"")}catch(Lt){W$1(et,et.return,Lt)}}if(nt&4&&(at=et.stateNode,at!=null)){var lt=et.memoizedProps,dt=rt!==null?rt.memoizedProps:lt,ot=et.type,mt=et.updateQueue;if(et.updateQueue=null,mt!==null)try{ot==="input"&&lt.type==="radio"&&lt.name!=null&&ab(at,lt),vb(ot,dt);var xt=vb(ot,lt);for(dt=0;dt<mt.length;dt+=2){var Et=mt[dt],At=mt[dt+1];Et==="style"?sb(at,At):Et==="dangerouslySetInnerHTML"?nb(at,At):Et==="children"?ob(at,At):ta(at,Et,At,xt)}switch(ot){case"input":bb(at,lt);break;case"textarea":ib(at,lt);break;case"select":var Tt=at._wrapperState.wasMultiple;at._wrapperState.wasMultiple=!!lt.multiple;var Ft=lt.value;Ft!=null?fb(at,!!lt.multiple,Ft,!1):Tt!==!!lt.multiple&&(lt.defaultValue!=null?fb(at,!!lt.multiple,lt.defaultValue,!0):fb(at,!!lt.multiple,lt.multiple?[]:"",!1))}at[Pf]=lt}catch(Lt){W$1(et,et.return,Lt)}}break;case 6:if(dk(tt,et),fk(et),nt&4){if(et.stateNode===null)throw Error(p$f(162));at=et.stateNode,lt=et.memoizedProps;try{at.nodeValue=lt}catch(Lt){W$1(et,et.return,Lt)}}break;case 3:if(dk(tt,et),fk(et),nt&4&&rt!==null&&rt.memoizedState.isDehydrated)try{bd(tt.containerInfo)}catch(Lt){W$1(et,et.return,Lt)}break;case 4:dk(tt,et),fk(et);break;case 13:dk(tt,et),fk(et),at=et.child,at.flags&8192&&(lt=at.memoizedState!==null,at.stateNode.isHidden=lt,!lt||at.alternate!==null&&at.alternate.memoizedState!==null||(gk=B$1())),nt&4&&bk(et);break;case 22:if(Et=rt!==null&&rt.memoizedState!==null,et.mode&1?(U$1=(xt=U$1)||Et,dk(tt,et),U$1=xt):dk(tt,et),fk(et),nt&8192){if(xt=et.memoizedState!==null,(et.stateNode.isHidden=xt)&&!Et&&et.mode&1)for(V$4=et,Et=et.child;Et!==null;){for(At=V$4=Et;V$4!==null;){switch(Tt=V$4,Ft=Tt.child,Tt.tag){case 0:case 11:case 14:case 15:Qj(4,Tt,Tt.return);break;case 1:Mj(Tt,Tt.return);var Mt=Tt.stateNode;if(typeof Mt.componentWillUnmount=="function"){nt=Tt,rt=Tt.return;try{tt=nt,Mt.props=tt.memoizedProps,Mt.state=tt.memoizedState,Mt.componentWillUnmount()}catch(Lt){W$1(nt,rt,Lt)}}break;case 5:Mj(Tt,Tt.return);break;case 22:if(Tt.memoizedState!==null){hk(At);continue}}Ft!==null?(Ft.return=Tt,V$4=Ft):hk(At)}Et=Et.sibling}e:for(Et=null,At=et;;){if(At.tag===5){if(Et===null){Et=At;try{at=At.stateNode,xt?(lt=at.style,typeof lt.setProperty=="function"?lt.setProperty("display","none","important"):lt.display="none"):(ot=At.stateNode,mt=At.memoizedProps.style,dt=mt!=null&&mt.hasOwnProperty("display")?mt.display:null,ot.style.display=rb("display",dt))}catch(Lt){W$1(et,et.return,Lt)}}}else if(At.tag===6){if(Et===null)try{At.stateNode.nodeValue=xt?"":At.memoizedProps}catch(Lt){W$1(et,et.return,Lt)}}else if((At.tag!==22&&At.tag!==23||At.memoizedState===null||At===et)&&At.child!==null){At.child.return=At,At=At.child;continue}if(At===et)break e;for(;At.sibling===null;){if(At.return===null||At.return===et)break e;Et===At&&(Et=null),At=At.return}Et===At&&(Et=null),At.sibling.return=At.return,At=At.sibling}}break;case 19:dk(tt,et),fk(et),nt&4&&bk(et);break;case 21:break;default:dk(tt,et),fk(et)}}function fk(et){var tt=et.flags;if(tt&2){try{e:{for(var rt=et.return;rt!==null;){if(Uj(rt)){var nt=rt;break e}rt=rt.return}throw Error(p$f(160))}switch(nt.tag){case 5:var at=nt.stateNode;nt.flags&32&&(ob(at,""),nt.flags&=-33);var lt=Vj(et);Xj(et,lt,at);break;case 3:case 4:var dt=nt.stateNode.containerInfo,ot=Vj(et);Wj(et,ot,dt);break;default:throw Error(p$f(161))}}catch(mt){W$1(et,et.return,mt)}et.flags&=-3}tt&4096&&(et.flags&=-4097)}function ik(et,tt,rt){V$4=et,jk(et)}function jk(et,tt,rt){for(var nt=(et.mode&1)!==0;V$4!==null;){var at=V$4,lt=at.child;if(at.tag===22&&nt){var dt=at.memoizedState!==null||Kj;if(!dt){var ot=at.alternate,mt=ot!==null&&ot.memoizedState!==null||U$1;ot=Kj;var xt=U$1;if(Kj=dt,(U$1=mt)&&!xt)for(V$4=at;V$4!==null;)dt=V$4,mt=dt.child,dt.tag===22&&dt.memoizedState!==null?kk(at):mt!==null?(mt.return=dt,V$4=mt):kk(at);for(;lt!==null;)V$4=lt,jk(lt),lt=lt.sibling;V$4=at,Kj=ot,U$1=xt}lk(et)}else at.subtreeFlags&8772&&lt!==null?(lt.return=at,V$4=lt):lk(et)}}function lk(et){for(;V$4!==null;){var tt=V$4;if(tt.flags&8772){var rt=tt.alternate;try{if(tt.flags&8772)switch(tt.tag){case 0:case 11:case 15:U$1||Rj(5,tt);break;case 1:var nt=tt.stateNode;if(tt.flags&4&&!U$1)if(rt===null)nt.componentDidMount();else{var at=tt.elementType===tt.type?rt.memoizedProps:Lg(tt.type,rt.memoizedProps);nt.componentDidUpdate(at,rt.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var lt=tt.updateQueue;lt!==null&&ih(tt,lt,nt);break;case 3:var dt=tt.updateQueue;if(dt!==null){if(rt=null,tt.child!==null)switch(tt.child.tag){case 5:rt=tt.child.stateNode;break;case 1:rt=tt.child.stateNode}ih(tt,dt,rt)}break;case 5:var ot=tt.stateNode;if(rt===null&&tt.flags&4){rt=ot;var mt=tt.memoizedProps;switch(tt.type){case"button":case"input":case"select":case"textarea":mt.autoFocus&&rt.focus();break;case"img":mt.src&&(rt.src=mt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(tt.memoizedState===null){var xt=tt.alternate;if(xt!==null){var Et=xt.memoizedState;if(Et!==null){var At=Et.dehydrated;At!==null&&bd(At)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$f(163))}U$1||tt.flags&512&&Sj(tt)}catch(Tt){W$1(tt,tt.return,Tt)}}if(tt===et){V$4=null;break}if(rt=tt.sibling,rt!==null){rt.return=tt.return,V$4=rt;break}V$4=tt.return}}function hk(et){for(;V$4!==null;){var tt=V$4;if(tt===et){V$4=null;break}var rt=tt.sibling;if(rt!==null){rt.return=tt.return,V$4=rt;break}V$4=tt.return}}function kk(et){for(;V$4!==null;){var tt=V$4;try{switch(tt.tag){case 0:case 11:case 15:var rt=tt.return;try{Rj(4,tt)}catch(mt){W$1(tt,rt,mt)}break;case 1:var nt=tt.stateNode;if(typeof nt.componentDidMount=="function"){var at=tt.return;try{nt.componentDidMount()}catch(mt){W$1(tt,at,mt)}}var lt=tt.return;try{Sj(tt)}catch(mt){W$1(tt,lt,mt)}break;case 5:var dt=tt.return;try{Sj(tt)}catch(mt){W$1(tt,dt,mt)}}}catch(mt){W$1(tt,tt.return,mt)}if(tt===et){V$4=null;break}var ot=tt.sibling;if(ot!==null){ot.return=tt.return,V$4=ot;break}V$4=tt.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R$1=null,Y$1=null,Z$b=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$3(){return K$1&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(et){return et.mode&1?K$1&2&&Z$b!==0?Z$b&-Z$b:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(et=C$3,et!==0||(et=window.event,et=et===void 0?16:jd(et.type)),et):1}function mh(et,tt,rt,nt){if(50<zk)throw zk=0,Ak=null,Error(p$f(185));Ac(et,rt,nt),(!(K$1&2)||et!==R$1)&&(et===R$1&&(!(K$1&2)&&(rk|=rt),T$1===4&&Dk(et,Z$b)),Ek(et,nt),rt===1&&K$1===0&&!(tt.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek(et,tt){var rt=et.callbackNode;wc(et,tt);var nt=uc(et,et===R$1?Z$b:0);if(nt===0)rt!==null&&bc(rt),et.callbackNode=null,et.callbackPriority=0;else if(tt=nt&-nt,et.callbackPriority!==tt){if(rt!=null&&bc(rt),tt===1)et.tag===0?ig(Fk.bind(null,et)):hg(Fk.bind(null,et)),Jf(function(){!(K$1&6)&&jg()}),rt=null;else{switch(Dc(nt)){case 1:rt=fc;break;case 4:rt=gc;break;case 16:rt=hc;break;case 536870912:rt=jc;break;default:rt=hc}rt=Gk(rt,Hk.bind(null,et))}et.callbackPriority=tt,et.callbackNode=rt}}function Hk(et,tt){if(Bk=-1,Ck=0,K$1&6)throw Error(p$f(327));var rt=et.callbackNode;if(Ik()&&et.callbackNode!==rt)return null;var nt=uc(et,et===R$1?Z$b:0);if(nt===0)return null;if(nt&30||nt&et.expiredLanes||tt)tt=Jk(et,nt);else{tt=nt;var at=K$1;K$1|=2;var lt=Kk();(R$1!==et||Z$b!==tt)&&(vk=null,Hj=B$1()+500,Lk(et,tt));do try{Mk();break}catch(ot){Nk(et,ot)}while(1);Qg(),nk.current=lt,K$1=at,Y$1!==null?tt=0:(R$1=null,Z$b=0,tt=T$1)}if(tt!==0){if(tt===2&&(at=xc(et),at!==0&&(nt=at,tt=Ok(et,at))),tt===1)throw rt=qk,Lk(et,0),Dk(et,nt),Ek(et,B$1()),rt;if(tt===6)Dk(et,nt);else{if(at=et.current.alternate,!(nt&30)&&!Pk(at)&&(tt=Jk(et,nt),tt===2&&(lt=xc(et),lt!==0&&(nt=lt,tt=Ok(et,lt))),tt===1))throw rt=qk,Lk(et,0),Dk(et,nt),Ek(et,B$1()),rt;switch(et.finishedWork=at,et.finishedLanes=nt,tt){case 0:case 1:throw Error(p$f(345));case 2:Qk(et,uk,vk);break;case 3:if(Dk(et,nt),(nt&130023424)===nt&&(tt=gk+500-B$1(),10<tt)){if(uc(et,0)!==0)break;if(at=et.suspendedLanes,(at&nt)!==nt){L$3(),et.pingedLanes|=et.suspendedLanes&at;break}et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),tt);break}Qk(et,uk,vk);break;case 4:if(Dk(et,nt),(nt&4194240)===nt)break;for(tt=et.eventTimes,at=-1;0<nt;){var dt=31-oc(nt);lt=1<<dt,dt=tt[dt],dt>at&&(at=dt),nt&=~lt}if(nt=at,nt=B$1()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*mk(nt/1960))-nt,10<nt){et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),nt);break}Qk(et,uk,vk);break;case 5:Qk(et,uk,vk);break;default:throw Error(p$f(329))}}}return Ek(et,B$1()),et.callbackNode===rt?Hk.bind(null,et):null}function Ok(et,tt){var rt=tk;return et.current.memoizedState.isDehydrated&&(Lk(et,tt).flags|=256),et=Jk(et,tt),et!==2&&(tt=uk,uk=rt,tt!==null&&Gj(tt)),et}function Gj(et){uk===null?uk=et:uk.push.apply(uk,et)}function Pk(et){for(var tt=et;;){if(tt.flags&16384){var rt=tt.updateQueue;if(rt!==null&&(rt=rt.stores,rt!==null))for(var nt=0;nt<rt.length;nt++){var at=rt[nt],lt=at.getSnapshot;at=at.value;try{if(!He(lt(),at))return!1}catch{return!1}}}if(rt=tt.child,tt.subtreeFlags&16384&&rt!==null)rt.return=tt,tt=rt;else{if(tt===et)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)return!0;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}}return!0}function Dk(et,tt){for(tt&=~sk,tt&=~rk,et.suspendedLanes|=tt,et.pingedLanes&=~tt,et=et.expirationTimes;0<tt;){var rt=31-oc(tt),nt=1<<rt;et[rt]=-1,tt&=~nt}}function Fk(et){if(K$1&6)throw Error(p$f(327));Ik();var tt=uc(et,0);if(!(tt&1))return Ek(et,B$1()),null;var rt=Jk(et,tt);if(et.tag!==0&&rt===2){var nt=xc(et);nt!==0&&(tt=nt,rt=Ok(et,nt))}if(rt===1)throw rt=qk,Lk(et,0),Dk(et,tt),Ek(et,B$1()),rt;if(rt===6)throw Error(p$f(345));return et.finishedWork=et.current.alternate,et.finishedLanes=tt,Qk(et,uk,vk),Ek(et,B$1()),null}function Rk(et,tt){var rt=K$1;K$1|=1;try{return et(tt)}finally{K$1=rt,K$1===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(et){xk!==null&&xk.tag===0&&!(K$1&6)&&Ik();var tt=K$1;K$1|=1;var rt=pk.transition,nt=C$3;try{if(pk.transition=null,C$3=1,et)return et()}finally{C$3=nt,pk.transition=rt,K$1=tt,!(K$1&6)&&jg()}}function Ij(){gj=fj.current,E$a(fj)}function Lk(et,tt){et.finishedWork=null,et.finishedLanes=0;var rt=et.timeoutHandle;if(rt!==-1&&(et.timeoutHandle=-1,Gf(rt)),Y$1!==null)for(rt=Y$1.return;rt!==null;){var nt=rt;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:Jh(),E$a(Wf),E$a(H$5),Oh();break;case 5:Lh(nt);break;case 4:Jh();break;case 13:E$a(M$7);break;case 19:E$a(M$7);break;case 10:Rg(nt.type._context);break;case 22:case 23:Ij()}rt=rt.return}if(R$1=et,Y$1=et=wh(et.current,null),Z$b=gj=tt,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(tt=0;tt<Wg.length;tt++)if(rt=Wg[tt],nt=rt.interleaved,nt!==null){rt.interleaved=null;var at=nt.next,lt=rt.pending;if(lt!==null){var dt=lt.next;lt.next=at,nt.next=dt}rt.pending=nt}Wg=null}return et}function Nk(et,tt){do{var rt=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var nt=N$1.memoizedState;nt!==null;){var at=nt.queue;at!==null&&(at.pending=null),nt=nt.next}Sh=!1}if(Rh=0,P$1=O=N$1=null,Th=!1,Uh=0,ok.current=null,rt===null||rt.return===null){T$1=1,qk=tt,Y$1=null;break}e:{var lt=et,dt=rt.return,ot=rt,mt=tt;if(tt=Z$b,ot.flags|=32768,mt!==null&&typeof mt=="object"&&typeof mt.then=="function"){var xt=mt,Et=ot,At=Et.tag;if(!(Et.mode&1)&&(At===0||At===11||At===15)){var Tt=Et.alternate;Tt?(Et.updateQueue=Tt.updateQueue,Et.memoizedState=Tt.memoizedState,Et.lanes=Tt.lanes):(Et.updateQueue=null,Et.memoizedState=null)}var Ft=Vi(dt);if(Ft!==null){Ft.flags&=-257,Wi(Ft,dt,ot,lt,tt),Ft.mode&1&&Ti(lt,xt,tt),tt=Ft,mt=xt;var Mt=tt.updateQueue;if(Mt===null){var Lt=new Set;Lt.add(mt),tt.updateQueue=Lt}else Mt.add(mt);break e}else{if(!(tt&1)){Ti(lt,xt,tt),uj();break e}mt=Error(p$f(426))}}else if(I$1&&ot.mode&1){var Gt=Vi(dt);if(Gt!==null){!(Gt.flags&65536)&&(Gt.flags|=256),Wi(Gt,dt,ot,lt,tt),Jg(Ki(mt,ot));break e}}lt=mt=Ki(mt,ot),T$1!==4&&(T$1=2),tk===null?tk=[lt]:tk.push(lt),lt=dt;do{switch(lt.tag){case 3:lt.flags|=65536,tt&=-tt,lt.lanes|=tt;var Pt=Oi(lt,mt,tt);fh(lt,Pt);break e;case 1:ot=mt;var $t=lt.type,It=lt.stateNode;if(!(lt.flags&128)&&(typeof $t.getDerivedStateFromError=="function"||It!==null&&typeof It.componentDidCatch=="function"&&(Si===null||!Si.has(It)))){lt.flags|=65536,tt&=-tt,lt.lanes|=tt;var Ot=Ri(lt,ot,tt);fh(lt,Ot);break e}}lt=lt.return}while(lt!==null)}Tk(rt)}catch(Vt){tt=Vt,Y$1===rt&&rt!==null&&(Y$1=rt=rt.return);continue}break}while(1)}function Kk(){var et=nk.current;return nk.current=ai,et===null?ai:et}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z$b)}function Jk(et,tt){var rt=K$1;K$1|=2;var nt=Kk();(R$1!==et||Z$b!==tt)&&(vk=null,Lk(et,tt));do try{Uk();break}catch(at){Nk(et,at)}while(1);if(Qg(),K$1=rt,nk.current=nt,Y$1!==null)throw Error(p$f(261));return R$1=null,Z$b=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(et){var tt=Wk(et.alternate,et,gj);et.memoizedProps=et.pendingProps,tt===null?Tk(et):Y$1=tt,ok.current=null}function Tk(et){var tt=et;do{var rt=tt.alternate;if(et=tt.return,tt.flags&32768){if(rt=Jj(rt,tt),rt!==null){rt.flags&=32767,Y$1=rt;return}if(et!==null)et.flags|=32768,et.subtreeFlags=0,et.deletions=null;else{T$1=6,Y$1=null;return}}else if(rt=Fj(rt,tt,gj),rt!==null){Y$1=rt;return}if(tt=tt.sibling,tt!==null){Y$1=tt;return}Y$1=tt=et}while(tt!==null);T$1===0&&(T$1=5)}function Qk(et,tt,rt){var nt=C$3,at=pk.transition;try{pk.transition=null,C$3=1,Xk(et,tt,rt,nt)}finally{pk.transition=at,C$3=nt}return null}function Xk(et,tt,rt,nt){do Ik();while(xk!==null);if(K$1&6)throw Error(p$f(327));rt=et.finishedWork;var at=et.finishedLanes;if(rt===null)return null;if(et.finishedWork=null,et.finishedLanes=0,rt===et.current)throw Error(p$f(177));et.callbackNode=null,et.callbackPriority=0;var lt=rt.lanes|rt.childLanes;if(Bc(et,lt),et===R$1&&(Y$1=R$1=null,Z$b=0),!(rt.subtreeFlags&2064)&&!(rt.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),lt=(rt.flags&15990)!==0,rt.subtreeFlags&15990||lt){lt=pk.transition,pk.transition=null;var dt=C$3;C$3=1;var ot=K$1;K$1|=4,ok.current=null,Pj(et,rt),ek(rt,et),Oe$1(Df),dd=!!Cf,Df=Cf=null,et.current=rt,ik(rt),dc(),K$1=ot,C$3=dt,pk.transition=lt}else et.current=rt;if(wk&&(wk=!1,xk=et,yk=at),lt=et.pendingLanes,lt===0&&(Si=null),mc(rt.stateNode),Ek(et,B$1()),tt!==null)for(nt=et.onRecoverableError,rt=0;rt<tt.length;rt++)at=tt[rt],nt(at.value,{componentStack:at.stack,digest:at.digest});if(Pi)throw Pi=!1,et=Qi,Qi=null,et;return yk&1&&et.tag!==0&&Ik(),lt=et.pendingLanes,lt&1?et===Ak?zk++:(zk=0,Ak=et):zk=0,jg(),null}function Ik(){if(xk!==null){var et=Dc(yk),tt=pk.transition,rt=C$3;try{if(pk.transition=null,C$3=16>et?16:et,xk===null)var nt=!1;else{if(et=xk,xk=null,yk=0,K$1&6)throw Error(p$f(331));var at=K$1;for(K$1|=4,V$4=et.current;V$4!==null;){var lt=V$4,dt=lt.child;if(V$4.flags&16){var ot=lt.deletions;if(ot!==null){for(var mt=0;mt<ot.length;mt++){var xt=ot[mt];for(V$4=xt;V$4!==null;){var Et=V$4;switch(Et.tag){case 0:case 11:case 15:Qj(8,Et,lt)}var At=Et.child;if(At!==null)At.return=Et,V$4=At;else for(;V$4!==null;){Et=V$4;var Tt=Et.sibling,Ft=Et.return;if(Tj(Et),Et===xt){V$4=null;break}if(Tt!==null){Tt.return=Ft,V$4=Tt;break}V$4=Ft}}}var Mt=lt.alternate;if(Mt!==null){var Lt=Mt.child;if(Lt!==null){Mt.child=null;do{var Gt=Lt.sibling;Lt.sibling=null,Lt=Gt}while(Lt!==null)}}V$4=lt}}if(lt.subtreeFlags&2064&&dt!==null)dt.return=lt,V$4=dt;else e:for(;V$4!==null;){if(lt=V$4,lt.flags&2048)switch(lt.tag){case 0:case 11:case 15:Qj(9,lt,lt.return)}var Pt=lt.sibling;if(Pt!==null){Pt.return=lt.return,V$4=Pt;break e}V$4=lt.return}}var $t=et.current;for(V$4=$t;V$4!==null;){dt=V$4;var It=dt.child;if(dt.subtreeFlags&2064&&It!==null)It.return=dt,V$4=It;else e:for(dt=$t;V$4!==null;){if(ot=V$4,ot.flags&2048)try{switch(ot.tag){case 0:case 11:case 15:Rj(9,ot)}}catch(Vt){W$1(ot,ot.return,Vt)}if(ot===dt){V$4=null;break e}var Ot=ot.sibling;if(Ot!==null){Ot.return=ot.return,V$4=Ot;break e}V$4=ot.return}}if(K$1=at,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,et)}catch{}nt=!0}return nt}finally{C$3=rt,pk.transition=tt}}return!1}function Yk(et,tt,rt){tt=Ki(rt,tt),tt=Oi(et,tt,1),et=dh(et,tt,1),tt=L$3(),et!==null&&(Ac(et,1,tt),Ek(et,tt))}function W$1(et,tt,rt){if(et.tag===3)Yk(et,et,rt);else for(;tt!==null;){if(tt.tag===3){Yk(tt,et,rt);break}else if(tt.tag===1){var nt=tt.stateNode;if(typeof tt.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Si===null||!Si.has(nt))){et=Ki(rt,et),et=Ri(tt,et,1),tt=dh(tt,et,1),et=L$3(),tt!==null&&(Ac(tt,1,et),Ek(tt,et));break}}tt=tt.return}}function Ui(et,tt,rt){var nt=et.pingCache;nt!==null&&nt.delete(tt),tt=L$3(),et.pingedLanes|=et.suspendedLanes&rt,R$1===et&&(Z$b&rt)===rt&&(T$1===4||T$1===3&&(Z$b&130023424)===Z$b&&500>B$1()-gk?Lk(et,0):sk|=rt),Ek(et,tt)}function Zk(et,tt){tt===0&&(et.mode&1?(tt=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):tt=1);var rt=L$3();et=Zg(et,tt),et!==null&&(Ac(et,tt,rt),Ek(et,rt))}function vj(et){var tt=et.memoizedState,rt=0;tt!==null&&(rt=tt.retryLane),Zk(et,rt)}function ck(et,tt){var rt=0;switch(et.tag){case 13:var nt=et.stateNode,at=et.memoizedState;at!==null&&(rt=at.retryLane);break;case 19:nt=et.stateNode;break;default:throw Error(p$f(314))}nt!==null&&nt.delete(tt),Zk(et,rt)}var Wk;Wk=function(et,tt,rt){if(et!==null)if(et.memoizedProps!==tt.pendingProps||Wf.current)Ug=!0;else{if(!(et.lanes&rt)&&!(tt.flags&128))return Ug=!1,zj(et,tt,rt);Ug=!!(et.flags&131072)}else Ug=!1,I$1&&tt.flags&1048576&&ug(tt,ng,tt.index);switch(tt.lanes=0,tt.tag){case 2:var nt=tt.type;jj(et,tt),et=tt.pendingProps;var at=Yf(tt,H$5.current);Tg(tt,rt),at=Xh(null,tt,nt,et,at,rt);var lt=bi();return tt.flags|=1,typeof at=="object"&&at!==null&&typeof at.render=="function"&&at.$$typeof===void 0?(tt.tag=1,tt.memoizedState=null,tt.updateQueue=null,Zf(nt)?(lt=!0,cg(tt)):lt=!1,tt.memoizedState=at.state!==null&&at.state!==void 0?at.state:null,ah(tt),at.updater=nh,tt.stateNode=at,at._reactInternals=tt,rh(tt,nt,et,rt),tt=kj(null,tt,nt,!0,lt,rt)):(tt.tag=0,I$1&&lt&&vg(tt),Yi(null,tt,at,rt),tt=tt.child),tt;case 16:nt=tt.elementType;e:{switch(jj(et,tt),et=tt.pendingProps,at=nt._init,nt=at(nt._payload),tt.type=nt,at=tt.tag=$k(nt),et=Lg(nt,et),at){case 0:tt=dj(null,tt,nt,et,rt);break e;case 1:tt=ij(null,tt,nt,et,rt);break e;case 11:tt=Zi(null,tt,nt,et,rt);break e;case 14:tt=aj(null,tt,nt,Lg(nt.type,et),rt);break e}throw Error(p$f(306,nt,""))}return tt;case 0:return nt=tt.type,at=tt.pendingProps,at=tt.elementType===nt?at:Lg(nt,at),dj(et,tt,nt,at,rt);case 1:return nt=tt.type,at=tt.pendingProps,at=tt.elementType===nt?at:Lg(nt,at),ij(et,tt,nt,at,rt);case 3:e:{if(lj(tt),et===null)throw Error(p$f(387));nt=tt.pendingProps,lt=tt.memoizedState,at=lt.element,bh(et,tt),gh(tt,nt,null,rt);var dt=tt.memoizedState;if(nt=dt.element,lt.isDehydrated)if(lt={element:nt,isDehydrated:!1,cache:dt.cache,pendingSuspenseBoundaries:dt.pendingSuspenseBoundaries,transitions:dt.transitions},tt.updateQueue.baseState=lt,tt.memoizedState=lt,tt.flags&256){at=Ki(Error(p$f(423)),tt),tt=mj(et,tt,nt,rt,at);break e}else if(nt!==at){at=Ki(Error(p$f(424)),tt),tt=mj(et,tt,nt,rt,at);break e}else for(yg=Lf(tt.stateNode.containerInfo.firstChild),xg=tt,I$1=!0,zg=null,rt=Ch(tt,null,nt,rt),tt.child=rt;rt;)rt.flags=rt.flags&-3|4096,rt=rt.sibling;else{if(Ig(),nt===at){tt=$i(et,tt,rt);break e}Yi(et,tt,nt,rt)}tt=tt.child}return tt;case 5:return Kh(tt),et===null&&Eg(tt),nt=tt.type,at=tt.pendingProps,lt=et!==null?et.memoizedProps:null,dt=at.children,Ef(nt,at)?dt=null:lt!==null&&Ef(nt,lt)&&(tt.flags|=32),hj(et,tt),Yi(et,tt,dt,rt),tt.child;case 6:return et===null&&Eg(tt),null;case 13:return pj(et,tt,rt);case 4:return Ih(tt,tt.stateNode.containerInfo),nt=tt.pendingProps,et===null?tt.child=Bh(tt,null,nt,rt):Yi(et,tt,nt,rt),tt.child;case 11:return nt=tt.type,at=tt.pendingProps,at=tt.elementType===nt?at:Lg(nt,at),Zi(et,tt,nt,at,rt);case 7:return Yi(et,tt,tt.pendingProps,rt),tt.child;case 8:return Yi(et,tt,tt.pendingProps.children,rt),tt.child;case 12:return Yi(et,tt,tt.pendingProps.children,rt),tt.child;case 10:e:{if(nt=tt.type._context,at=tt.pendingProps,lt=tt.memoizedProps,dt=at.value,G$1(Mg,nt._currentValue),nt._currentValue=dt,lt!==null)if(He(lt.value,dt)){if(lt.children===at.children&&!Wf.current){tt=$i(et,tt,rt);break e}}else for(lt=tt.child,lt!==null&&(lt.return=tt);lt!==null;){var ot=lt.dependencies;if(ot!==null){dt=lt.child;for(var mt=ot.firstContext;mt!==null;){if(mt.context===nt){if(lt.tag===1){mt=ch(-1,rt&-rt),mt.tag=2;var xt=lt.updateQueue;if(xt!==null){xt=xt.shared;var Et=xt.pending;Et===null?mt.next=mt:(mt.next=Et.next,Et.next=mt),xt.pending=mt}}lt.lanes|=rt,mt=lt.alternate,mt!==null&&(mt.lanes|=rt),Sg(lt.return,rt,tt),ot.lanes|=rt;break}mt=mt.next}}else if(lt.tag===10)dt=lt.type===tt.type?null:lt.child;else if(lt.tag===18){if(dt=lt.return,dt===null)throw Error(p$f(341));dt.lanes|=rt,ot=dt.alternate,ot!==null&&(ot.lanes|=rt),Sg(dt,rt,tt),dt=lt.sibling}else dt=lt.child;if(dt!==null)dt.return=lt;else for(dt=lt;dt!==null;){if(dt===tt){dt=null;break}if(lt=dt.sibling,lt!==null){lt.return=dt.return,dt=lt;break}dt=dt.return}lt=dt}Yi(et,tt,at.children,rt),tt=tt.child}return tt;case 9:return at=tt.type,nt=tt.pendingProps.children,Tg(tt,rt),at=Vg(at),nt=nt(at),tt.flags|=1,Yi(et,tt,nt,rt),tt.child;case 14:return nt=tt.type,at=Lg(nt,tt.pendingProps),at=Lg(nt.type,at),aj(et,tt,nt,at,rt);case 15:return cj(et,tt,tt.type,tt.pendingProps,rt);case 17:return nt=tt.type,at=tt.pendingProps,at=tt.elementType===nt?at:Lg(nt,at),jj(et,tt),tt.tag=1,Zf(nt)?(et=!0,cg(tt)):et=!1,Tg(tt,rt),ph(tt,nt,at),rh(tt,nt,at,rt),kj(null,tt,nt,!0,et,rt);case 19:return yj(et,tt,rt);case 22:return ej(et,tt,rt)}throw Error(p$f(156,tt.tag))};function Gk(et,tt){return ac(et,tt)}function al(et,tt,rt,nt){this.tag=et,this.key=rt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=tt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(et,tt,rt,nt){return new al(et,tt,rt,nt)}function bj(et){return et=et.prototype,!(!et||!et.isReactComponent)}function $k(et){if(typeof et=="function")return bj(et)?1:0;if(et!=null){if(et=et.$$typeof,et===Da)return 11;if(et===Ga)return 14}return 2}function wh(et,tt){var rt=et.alternate;return rt===null?(rt=Bg(et.tag,tt,et.key,et.mode),rt.elementType=et.elementType,rt.type=et.type,rt.stateNode=et.stateNode,rt.alternate=et,et.alternate=rt):(rt.pendingProps=tt,rt.type=et.type,rt.flags=0,rt.subtreeFlags=0,rt.deletions=null),rt.flags=et.flags&14680064,rt.childLanes=et.childLanes,rt.lanes=et.lanes,rt.child=et.child,rt.memoizedProps=et.memoizedProps,rt.memoizedState=et.memoizedState,rt.updateQueue=et.updateQueue,tt=et.dependencies,rt.dependencies=tt===null?null:{lanes:tt.lanes,firstContext:tt.firstContext},rt.sibling=et.sibling,rt.index=et.index,rt.ref=et.ref,rt}function yh(et,tt,rt,nt,at,lt){var dt=2;if(nt=et,typeof et=="function")bj(et)&&(dt=1);else if(typeof et=="string")dt=5;else e:switch(et){case ya:return Ah(rt.children,at,lt,tt);case za:dt=8,at|=8;break;case Aa:return et=Bg(12,rt,tt,at|2),et.elementType=Aa,et.lanes=lt,et;case Ea:return et=Bg(13,rt,tt,at),et.elementType=Ea,et.lanes=lt,et;case Fa:return et=Bg(19,rt,tt,at),et.elementType=Fa,et.lanes=lt,et;case Ia:return qj(rt,at,lt,tt);default:if(typeof et=="object"&&et!==null)switch(et.$$typeof){case Ba:dt=10;break e;case Ca:dt=9;break e;case Da:dt=11;break e;case Ga:dt=14;break e;case Ha:dt=16,nt=null;break e}throw Error(p$f(130,et==null?et:typeof et,""))}return tt=Bg(dt,rt,tt,at),tt.elementType=et,tt.type=nt,tt.lanes=lt,tt}function Ah(et,tt,rt,nt){return et=Bg(7,et,nt,tt),et.lanes=rt,et}function qj(et,tt,rt,nt){return et=Bg(22,et,nt,tt),et.elementType=Ia,et.lanes=rt,et.stateNode={isHidden:!1},et}function xh(et,tt,rt){return et=Bg(6,et,null,tt),et.lanes=rt,et}function zh(et,tt,rt){return tt=Bg(4,et.children!==null?et.children:[],et.key,tt),tt.lanes=rt,tt.stateNode={containerInfo:et.containerInfo,pendingChildren:null,implementation:et.implementation},tt}function bl(et,tt,rt,nt,at){this.tag=tt,this.containerInfo=et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=at,this.mutableSourceEagerHydrationData=null}function cl(et,tt,rt,nt,at,lt,dt,ot,mt){return et=new bl(et,tt,rt,ot,mt),tt===1?(tt=1,lt===!0&&(tt|=8)):tt=0,lt=Bg(3,null,null,tt),et.current=lt,lt.stateNode=et,lt.memoizedState={element:nt,isDehydrated:rt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(lt),et}function dl(et,tt,rt){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:et,containerInfo:tt,implementation:rt}}function el(et){if(!et)return Vf;et=et._reactInternals;e:{if(Vb(et)!==et||et.tag!==1)throw Error(p$f(170));var tt=et;do{switch(tt.tag){case 3:tt=tt.stateNode.context;break e;case 1:if(Zf(tt.type)){tt=tt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}tt=tt.return}while(tt!==null);throw Error(p$f(171))}if(et.tag===1){var rt=et.type;if(Zf(rt))return bg(et,rt,tt)}return tt}function fl(et,tt,rt,nt,at,lt,dt,ot,mt){return et=cl(rt,nt,!0,et,at,lt,dt,ot,mt),et.context=el(null),rt=et.current,nt=L$3(),at=lh(rt),lt=ch(nt,at),lt.callback=tt??null,dh(rt,lt,at),et.current.lanes=at,Ac(et,at,nt),Ek(et,nt),et}function gl(et,tt,rt,nt){var at=tt.current,lt=L$3(),dt=lh(at);return rt=el(rt),tt.context===null?tt.context=rt:tt.pendingContext=rt,tt=ch(lt,dt),tt.payload={element:et},nt=nt===void 0?null:nt,nt!==null&&(tt.callback=nt),et=dh(at,tt,dt),et!==null&&(mh(et,at,dt,lt),eh(et,at,dt)),dt}function hl(et){if(et=et.current,!et.child)return null;switch(et.child.tag){case 5:return et.child.stateNode;default:return et.child.stateNode}}function il(et,tt){if(et=et.memoizedState,et!==null&&et.dehydrated!==null){var rt=et.retryLane;et.retryLane=rt!==0&&rt<tt?rt:tt}}function jl(et,tt){il(et,tt),(et=et.alternate)&&il(et,tt)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(et){console.error(et)};function ml(et){this._internalRoot=et}nl.prototype.render=ml.prototype.render=function(et){var tt=this._internalRoot;if(tt===null)throw Error(p$f(409));gl(et,tt,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var et=this._internalRoot;if(et!==null){this._internalRoot=null;var tt=et.containerInfo;Sk(function(){gl(null,et,null,null)}),tt[uf]=null}};function nl(et){this._internalRoot=et}nl.prototype.unstable_scheduleHydration=function(et){if(et){var tt=Hc();et={blockedOn:null,target:et,priority:tt};for(var rt=0;rt<Qc.length&&tt!==0&&tt<Qc[rt].priority;rt++);Qc.splice(rt,0,et),rt===0&&Vc(et)}};function ol(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11)}function pl(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11&&(et.nodeType!==8||et.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(et,tt,rt,nt,at){if(at){if(typeof nt=="function"){var lt=nt;nt=function(){var xt=hl(dt);lt.call(xt)}}var dt=fl(tt,nt,et,0,null,!1,!1,"",ql);return et._reactRootContainer=dt,et[uf]=dt.current,sf(et.nodeType===8?et.parentNode:et),Sk(),dt}for(;at=et.lastChild;)et.removeChild(at);if(typeof nt=="function"){var ot=nt;nt=function(){var xt=hl(mt);ot.call(xt)}}var mt=cl(et,0,!1,null,null,!1,!1,"",ql);return et._reactRootContainer=mt,et[uf]=mt.current,sf(et.nodeType===8?et.parentNode:et),Sk(function(){gl(tt,mt,rt,nt)}),mt}function sl(et,tt,rt,nt,at){var lt=rt._reactRootContainer;if(lt){var dt=lt;if(typeof at=="function"){var ot=at;at=function(){var mt=hl(dt);ot.call(mt)}}gl(tt,dt,et,at)}else dt=rl(rt,tt,et,at,nt);return hl(dt)}Ec=function(et){switch(et.tag){case 3:var tt=et.stateNode;if(tt.current.memoizedState.isDehydrated){var rt=tc(tt.pendingLanes);rt!==0&&(Cc(tt,rt|1),Ek(tt,B$1()),!(K$1&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var nt=Zg(et,1);if(nt!==null){var at=L$3();mh(nt,et,1,at)}}),jl(et,1)}};Fc=function(et){if(et.tag===13){var tt=Zg(et,134217728);if(tt!==null){var rt=L$3();mh(tt,et,134217728,rt)}jl(et,134217728)}};Gc=function(et){if(et.tag===13){var tt=lh(et),rt=Zg(et,tt);if(rt!==null){var nt=L$3();mh(rt,et,tt,nt)}jl(et,tt)}};Hc=function(){return C$3};Ic=function(et,tt){var rt=C$3;try{return C$3=et,tt()}finally{C$3=rt}};yb=function(et,tt,rt){switch(tt){case"input":if(bb(et,rt),tt=rt.name,rt.type==="radio"&&tt!=null){for(rt=et;rt.parentNode;)rt=rt.parentNode;for(rt=rt.querySelectorAll("input[name="+JSON.stringify(""+tt)+'][type="radio"]'),tt=0;tt<rt.length;tt++){var nt=rt[tt];if(nt!==et&&nt.form===et.form){var at=Db(nt);if(!at)throw Error(p$f(90));Wa(nt),bb(nt,at)}}}break;case"textarea":ib(et,rt);break;case"select":tt=rt.value,tt!=null&&fb(et,!!rt.multiple,tt,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(et){return et=Zb(et),et===null?null:et.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(et,tt){var rt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(tt))throw Error(p$f(200));return dl(et,tt,null,rt)};reactDom_production_min.createRoot=function(et,tt){if(!ol(et))throw Error(p$f(299));var rt=!1,nt="",at=ll;return tt!=null&&(tt.unstable_strictMode===!0&&(rt=!0),tt.identifierPrefix!==void 0&&(nt=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(at=tt.onRecoverableError)),tt=cl(et,1,!1,null,null,rt,!1,nt,at),et[uf]=tt.current,sf(et.nodeType===8?et.parentNode:et),new ml(tt)};reactDom_production_min.findDOMNode=function(et){if(et==null)return null;if(et.nodeType===1)return et;var tt=et._reactInternals;if(tt===void 0)throw typeof et.render=="function"?Error(p$f(188)):(et=Object.keys(et).join(","),Error(p$f(268,et)));return et=Zb(tt),et=et===null?null:et.stateNode,et};reactDom_production_min.flushSync=function(et){return Sk(et)};reactDom_production_min.hydrate=function(et,tt,rt){if(!pl(tt))throw Error(p$f(200));return sl(null,et,tt,!0,rt)};reactDom_production_min.hydrateRoot=function(et,tt,rt){if(!ol(et))throw Error(p$f(405));var nt=rt!=null&&rt.hydratedSources||null,at=!1,lt="",dt=ll;if(rt!=null&&(rt.unstable_strictMode===!0&&(at=!0),rt.identifierPrefix!==void 0&&(lt=rt.identifierPrefix),rt.onRecoverableError!==void 0&&(dt=rt.onRecoverableError)),tt=fl(tt,null,et,1,rt??null,at,!1,lt,dt),et[uf]=tt.current,sf(et),nt)for(et=0;et<nt.length;et++)rt=nt[et],at=rt._getVersion,at=at(rt._source),tt.mutableSourceEagerHydrationData==null?tt.mutableSourceEagerHydrationData=[rt,at]:tt.mutableSourceEagerHydrationData.push(rt,at);return new nl(tt)};reactDom_production_min.render=function(et,tt,rt){if(!pl(tt))throw Error(p$f(200));return sl(null,et,tt,!1,rt)};reactDom_production_min.unmountComponentAtNode=function(et){if(!pl(et))throw Error(p$f(40));return et._reactRootContainer?(Sk(function(){sl(null,null,et,!1,function(){et._reactRootContainer=null,et[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(et,tt,rt,nt){if(!pl(rt))throw Error(p$f(200));if(et==null||et._reactInternals===void 0)throw Error(p$f(38));return sl(et,tt,rt,!1,nt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(et){console.error(et)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$c=reactDomExports;client.createRoot=m$c.createRoot,client.hydrateRoot=m$c.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$3.apply(this,arguments)}var Action;(function(et){et.Pop="POP",et.Push="PUSH",et.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(et){et===void 0&&(et={});function tt(nt,at){let{pathname:lt,search:dt,hash:ot}=nt.location;return createLocation("",{pathname:lt,search:dt,hash:ot},at.state&&at.state.usr||null,at.state&&at.state.key||"default")}function rt(nt,at){return typeof at=="string"?at:createPath(at)}return getUrlBasedHistory(tt,rt,null,et)}function invariant$1(et,tt){if(et===!1||et===null||typeof et>"u")throw new Error(tt)}function warning(et,tt){if(!et){typeof console<"u"&&console.warn(tt);try{throw new Error(tt)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(et,tt){return{usr:et.state,key:et.key,idx:tt}}function createLocation(et,tt,rt,nt){return rt===void 0&&(rt=null),_extends$3({pathname:typeof et=="string"?et:et.pathname,search:"",hash:""},typeof tt=="string"?parsePath(tt):tt,{state:rt,key:tt&&tt.key||nt||createKey()})}function createPath(et){let{pathname:tt="/",search:rt="",hash:nt=""}=et;return rt&&rt!=="?"&&(tt+=rt.charAt(0)==="?"?rt:"?"+rt),nt&&nt!=="#"&&(tt+=nt.charAt(0)==="#"?nt:"#"+nt),tt}function parsePath(et){let tt={};if(et){let rt=et.indexOf("#");rt>=0&&(tt.hash=et.substr(rt),et=et.substr(0,rt));let nt=et.indexOf("?");nt>=0&&(tt.search=et.substr(nt),et=et.substr(0,nt)),et&&(tt.pathname=et)}return tt}function getUrlBasedHistory(et,tt,rt,nt){nt===void 0&&(nt={});let{window:at=document.defaultView,v5Compat:lt=!1}=nt,dt=at.history,ot=Action.Pop,mt=null,xt=Et();xt==null&&(xt=0,dt.replaceState(_extends$3({},dt.state,{idx:xt}),""));function Et(){return(dt.state||{idx:null}).idx}function At(){ot=Action.Pop;let Gt=Et(),Pt=Gt==null?null:Gt-xt;xt=Gt,mt&&mt({action:ot,location:Lt.location,delta:Pt})}function Tt(Gt,Pt){ot=Action.Push;let $t=createLocation(Lt.location,Gt,Pt);rt&&rt($t,Gt),xt=Et()+1;let It=getHistoryState($t,xt),Ot=Lt.createHref($t);try{dt.pushState(It,"",Ot)}catch{at.location.assign(Ot)}lt&&mt&&mt({action:ot,location:Lt.location,delta:1})}function Ft(Gt,Pt){ot=Action.Replace;let $t=createLocation(Lt.location,Gt,Pt);rt&&rt($t,Gt),xt=Et();let It=getHistoryState($t,xt),Ot=Lt.createHref($t);dt.replaceState(It,"",Ot),lt&&mt&&mt({action:ot,location:Lt.location,delta:0})}function Mt(Gt){let Pt=at.location.origin!=="null"?at.location.origin:at.location.href,$t=typeof Gt=="string"?Gt:createPath(Gt);return invariant$1(Pt,"No window.location.(origin|href) available to create URL for href: "+$t),new URL($t,Pt)}let Lt={get action(){return ot},get location(){return et(at,dt)},listen(Gt){if(mt)throw new Error("A history only accepts one active listener");return at.addEventListener(PopStateEventType,At),mt=Gt,()=>{at.removeEventListener(PopStateEventType,At),mt=null}},createHref(Gt){return tt(at,Gt)},createURL:Mt,encodeLocation(Gt){let Pt=Mt(Gt);return{pathname:Pt.pathname,search:Pt.search,hash:Pt.hash}},push:Tt,replace:Ft,go(Gt){return dt.go(Gt)}};return Lt}var ResultType;(function(et){et.data="data",et.deferred="deferred",et.redirect="redirect",et.error="error"})(ResultType||(ResultType={}));const immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(et){return et.index===!0}function convertRoutesToDataRoutes(et,tt,rt,nt){return rt===void 0&&(rt=[]),nt===void 0&&(nt={}),et.map((at,lt)=>{let dt=[...rt,lt],ot=typeof at.id=="string"?at.id:dt.join("-");if(invariant$1(at.index!==!0||!at.children,"Cannot specify children on an index route"),invariant$1(!nt[ot],'Found a route id collision on id "'+ot+`".  Route id's must be globally unique within Data Router usages`),isIndexRoute(at)){let mt=_extends$3({},at,tt(at),{id:ot});return nt[ot]=mt,mt}else{let mt=_extends$3({},at,tt(at),{id:ot,children:void 0});return nt[ot]=mt,at.children&&(mt.children=convertRoutesToDataRoutes(at.children,tt,dt,nt)),mt}})}function matchRoutes(et,tt,rt){rt===void 0&&(rt="/");let nt=typeof tt=="string"?parsePath(tt):tt,at=stripBasename(nt.pathname||"/",rt);if(at==null)return null;let lt=flattenRoutes(et);rankRouteBranches(lt);let dt=null;for(let ot=0;dt==null&&ot<lt.length;++ot)dt=matchRouteBranch(lt[ot],safelyDecodeURI(at));return dt}function flattenRoutes(et,tt,rt,nt){tt===void 0&&(tt=[]),rt===void 0&&(rt=[]),nt===void 0&&(nt="");let at=(lt,dt,ot)=>{let mt={relativePath:ot===void 0?lt.path||"":ot,caseSensitive:lt.caseSensitive===!0,childrenIndex:dt,route:lt};mt.relativePath.startsWith("/")&&(invariant$1(mt.relativePath.startsWith(nt),'Absolute route path "'+mt.relativePath+'" nested under path '+('"'+nt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),mt.relativePath=mt.relativePath.slice(nt.length));let xt=joinPaths([nt,mt.relativePath]),Et=rt.concat(mt);lt.children&&lt.children.length>0&&(invariant$1(lt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+xt+'".')),flattenRoutes(lt.children,tt,Et,xt)),!(lt.path==null&&!lt.index)&&tt.push({path:xt,score:computeScore(xt,lt.index),routesMeta:Et})};return et.forEach((lt,dt)=>{var ot;if(lt.path===""||!((ot=lt.path)!=null&&ot.includes("?")))at(lt,dt);else for(let mt of explodeOptionalSegments(lt.path))at(lt,dt,mt)}),tt}function explodeOptionalSegments(et){let tt=et.split("/");if(tt.length===0)return[];let[rt,...nt]=tt,at=rt.endsWith("?"),lt=rt.replace(/\?$/,"");if(nt.length===0)return at?[lt,""]:[lt];let dt=explodeOptionalSegments(nt.join("/")),ot=[];return ot.push(...dt.map(mt=>mt===""?lt:[lt,mt].join("/"))),at&&ot.push(...dt),ot.map(mt=>et.startsWith("/")&&mt===""?"/":mt)}function rankRouteBranches(et){et.sort((tt,rt)=>tt.score!==rt.score?rt.score-tt.score:compareIndexes(tt.routesMeta.map(nt=>nt.childrenIndex),rt.routesMeta.map(nt=>nt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=et=>et==="*";function computeScore(et,tt){let rt=et.split("/"),nt=rt.length;return rt.some(isSplat)&&(nt+=splatPenalty),tt&&(nt+=indexRouteValue),rt.filter(at=>!isSplat(at)).reduce((at,lt)=>at+(paramRe.test(lt)?dynamicSegmentValue:lt===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(et,tt){return et.length===tt.length&&et.slice(0,-1).every((nt,at)=>nt===tt[at])?et[et.length-1]-tt[tt.length-1]:0}function matchRouteBranch(et,tt){let{routesMeta:rt}=et,nt={},at="/",lt=[];for(let dt=0;dt<rt.length;++dt){let ot=rt[dt],mt=dt===rt.length-1,xt=at==="/"?tt:tt.slice(at.length)||"/",Et=matchPath({path:ot.relativePath,caseSensitive:ot.caseSensitive,end:mt},xt);if(!Et)return null;Object.assign(nt,Et.params);let At=ot.route;lt.push({params:nt,pathname:joinPaths([at,Et.pathname]),pathnameBase:normalizePathname(joinPaths([at,Et.pathnameBase])),route:At}),Et.pathnameBase!=="/"&&(at=joinPaths([at,Et.pathnameBase]))}return lt}function matchPath(et,tt){typeof et=="string"&&(et={path:et,caseSensitive:!1,end:!0});let[rt,nt]=compilePath(et.path,et.caseSensitive,et.end),at=tt.match(rt);if(!at)return null;let lt=at[0],dt=lt.replace(/(.)\/+$/,"$1"),ot=at.slice(1);return{params:nt.reduce((xt,Et,At)=>{if(Et==="*"){let Tt=ot[At]||"";dt=lt.slice(0,lt.length-Tt.length).replace(/(.)\/+$/,"$1")}return xt[Et]=safelyDecodeURIComponent(ot[At]||"",Et),xt},{}),pathname:lt,pathnameBase:dt,pattern:et}}function compilePath(et,tt,rt){tt===void 0&&(tt=!1),rt===void 0&&(rt=!0),warning(et==="*"||!et.endsWith("*")||et.endsWith("/*"),'Route path "'+et+'" will be treated as if it were '+('"'+et.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+et.replace(/\*$/,"/*")+'".'));let nt=[],at="^"+et.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(dt,ot)=>(nt.push(ot),"/([^\\/]+)"));return et.endsWith("*")?(nt.push("*"),at+=et==="*"||et==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):rt?at+="\\/*$":et!==""&&et!=="/"&&(at+="(?:(?=\\/|$))"),[new RegExp(at,tt?void 0:"i"),nt]}function safelyDecodeURI(et){try{return decodeURI(et)}catch(tt){return warning(!1,'The URL path "'+et+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+tt+").")),et}}function safelyDecodeURIComponent(et,tt){try{return decodeURIComponent(et)}catch(rt){return warning(!1,'The value for the URL param "'+tt+'" will not be decoded because'+(' the string "'+et+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+rt+").")),et}}function stripBasename(et,tt){if(tt==="/")return et;if(!et.toLowerCase().startsWith(tt.toLowerCase()))return null;let rt=tt.endsWith("/")?tt.length-1:tt.length,nt=et.charAt(rt);return nt&&nt!=="/"?null:et.slice(rt)||"/"}function resolvePath(et,tt){tt===void 0&&(tt="/");let{pathname:rt,search:nt="",hash:at=""}=typeof et=="string"?parsePath(et):et;return{pathname:rt?rt.startsWith("/")?rt:resolvePathname(rt,tt):tt,search:normalizeSearch(nt),hash:normalizeHash(at)}}function resolvePathname(et,tt){let rt=tt.replace(/\/+$/,"").split("/");return et.split("/").forEach(at=>{at===".."?rt.length>1&&rt.pop():at!=="."&&rt.push(at)}),rt.length>1?rt.join("/"):"/"}function getInvalidPathError(et,tt,rt,nt){return"Cannot include a '"+et+"' character in a manually specified "+("`to."+tt+"` field ["+JSON.stringify(nt)+"].  Please separate it out to the ")+("`to."+rt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(et){return et.filter((tt,rt)=>rt===0||tt.route.path&&tt.route.path.length>0)}function resolveTo(et,tt,rt,nt){nt===void 0&&(nt=!1);let at;typeof et=="string"?at=parsePath(et):(at=_extends$3({},et),invariant$1(!at.pathname||!at.pathname.includes("?"),getInvalidPathError("?","pathname","search",at)),invariant$1(!at.pathname||!at.pathname.includes("#"),getInvalidPathError("#","pathname","hash",at)),invariant$1(!at.search||!at.search.includes("#"),getInvalidPathError("#","search","hash",at)));let lt=et===""||at.pathname==="",dt=lt?"/":at.pathname,ot;if(nt||dt==null)ot=rt;else{let At=tt.length-1;if(dt.startsWith("..")){let Tt=dt.split("/");for(;Tt[0]==="..";)Tt.shift(),At-=1;at.pathname=Tt.join("/")}ot=At>=0?tt[At]:"/"}let mt=resolvePath(at,ot),xt=dt&&dt!=="/"&&dt.endsWith("/"),Et=(lt||dt===".")&&rt.endsWith("/");return!mt.pathname.endsWith("/")&&(xt||Et)&&(mt.pathname+="/"),mt}const joinPaths=et=>et.join("/").replace(/\/\/+/g,"/"),normalizePathname=et=>et.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=et=>!et||et==="?"?"":et.startsWith("?")?et:"?"+et,normalizeHash=et=>!et||et==="#"?"":et.startsWith("#")?et:"#"+et,redirect=function(tt,rt){rt===void 0&&(rt=302);let nt=rt;typeof nt=="number"?nt={status:nt}:typeof nt.status>"u"&&(nt.status=302);let at=new Headers(nt.headers);return at.set("Location",tt),new Response(null,_extends$3({},nt,{headers:at}))};class ErrorResponse{constructor(tt,rt,nt,at){at===void 0&&(at=!1),this.status=tt,this.statusText=rt||"",this.internal=at,nt instanceof Error?(this.data=nt.toString(),this.error=nt):this.data=nt}}function isRouteErrorResponse(et){return et!=null&&typeof et.status=="number"&&typeof et.statusText=="string"&&typeof et.internal=="boolean"&&"data"in et}const validMutationMethodsArr=["post","put","patch","delete"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["get",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServer$1=!isBrowser$1,defaultMapRouteProperties=et=>({hasErrorBoundary:!!et.hasErrorBoundary});function createRouter(et){invariant$1(et.routes.length>0,"You must provide a non-empty routes array to createRouter");let tt;if(et.mapRouteProperties)tt=et.mapRouteProperties;else if(et.detectErrorBoundary){let Hr=et.detectErrorBoundary;tt=tn=>({hasErrorBoundary:Hr(tn)})}else tt=defaultMapRouteProperties;let rt={},nt=convertRoutesToDataRoutes(et.routes,tt,void 0,rt),at,lt=et.basename||"/",dt=_extends$3({v7_normalizeFormMethod:!1,v7_prependBasename:!1},et.future),ot=null,mt=new Set,xt=null,Et=null,At=null,Tt=et.hydrationData!=null,Ft=matchRoutes(nt,et.history.location,lt),Mt=null;if(Ft==null){let Hr=getInternalRouterError(404,{pathname:et.history.location.pathname}),{matches:tn,route:fn}=getShortCircuitMatches(nt);Ft=tn,Mt={[fn.id]:Hr}}let Lt=!Ft.some(Hr=>Hr.route.lazy)&&(!Ft.some(Hr=>Hr.route.loader)||et.hydrationData!=null),Gt,Pt={historyAction:et.history.action,location:et.history.location,matches:Ft,initialized:Lt,navigation:IDLE_NAVIGATION,restoreScrollPosition:et.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:et.hydrationData&&et.hydrationData.loaderData||{},actionData:et.hydrationData&&et.hydrationData.actionData||null,errors:et.hydrationData&&et.hydrationData.errors||Mt,fetchers:new Map,blockers:new Map},$t=Action.Pop,It=!1,Ot,Vt=!1,Ut=!1,Wt=[],nr=[],er=new Map,Kt=0,ur=-1,vr=new Map,Lr=new Set,Er=new Map,Cr=new Map,hr=new Map,Tr=!1;function Xt(){return ot=et.history.listen(Hr=>{let{action:tn,location:fn,delta:Vn}=Hr;if(Tr){Tr=!1;return}warning(hr.size===0||Vn!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Kn=mn({currentLocation:Pt.location,nextLocation:fn,historyAction:tn});if(Kn&&Vn!=null){Tr=!0,et.history.go(Vn*-1),yo(Kn,{state:"blocked",location:fn,proceed(){yo(Kn,{state:"proceeding",proceed:void 0,reset:void 0,location:fn}),et.history.go(Vn)},reset(){Mo(Kn),cr({blockers:new Map(Gt.state.blockers)})}});return}return jr(tn,fn)}),Pt.initialized||jr(Action.Pop,Pt.location),Gt}function Qt(){ot&&ot(),mt.clear(),Ot&&Ot.abort(),Pt.fetchers.forEach((Hr,tn)=>Zn(tn)),Pt.blockers.forEach((Hr,tn)=>Mo(tn))}function lr(Hr){return mt.add(Hr),()=>mt.delete(Hr)}function cr(Hr){Pt=_extends$3({},Pt,Hr),mt.forEach(tn=>tn(Pt))}function sr(Hr,tn){var fn,Vn;let Kn=Pt.actionData!=null&&Pt.navigation.formMethod!=null&&isMutationMethod(Pt.navigation.formMethod)&&Pt.navigation.state==="loading"&&((fn=Hr.state)==null?void 0:fn._isRedirect)!==!0,qr;tn.actionData?Object.keys(tn.actionData).length>0?qr=tn.actionData:qr=null:Kn?qr=Pt.actionData:qr=null;let Ur=tn.loaderData?mergeLoaderData(Pt.loaderData,tn.loaderData,tn.matches||[],tn.errors):Pt.loaderData;for(let[bn]of hr)Mo(bn);let pn=It===!0||Pt.navigation.formMethod!=null&&isMutationMethod(Pt.navigation.formMethod)&&((Vn=Hr.state)==null?void 0:Vn._isRedirect)!==!0;at&&(nt=at,at=void 0),cr(_extends$3({},tn,{actionData:qr,loaderData:Ur,historyAction:$t,location:Hr,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:to(Hr,tn.matches||Pt.matches),preventScrollReset:pn,blockers:new Map(Pt.blockers)})),Vt||$t===Action.Pop||($t===Action.Push?et.history.push(Hr,Hr.state):$t===Action.Replace&&et.history.replace(Hr,Hr.state)),$t=Action.Pop,It=!1,Vt=!1,Ut=!1,Wt=[],nr=[]}async function dr(Hr,tn){if(typeof Hr=="number"){et.history.go(Hr);return}let fn=normalizeTo(Pt.location,Pt.matches,lt,dt.v7_prependBasename,Hr,tn==null?void 0:tn.fromRouteId,tn==null?void 0:tn.relative),{path:Vn,submission:Kn,error:qr}=normalizeNavigateOptions(dt.v7_normalizeFormMethod,!1,fn,tn),Ur=Pt.location,pn=createLocation(Pt.location,Vn,tn&&tn.state);pn=_extends$3({},pn,et.history.encodeLocation(pn));let bn=tn&&tn.replace!=null?tn.replace:void 0,mr=Action.Push;bn===!0?mr=Action.Replace:bn===!1||Kn!=null&&isMutationMethod(Kn.formMethod)&&Kn.formAction===Pt.location.pathname+Pt.location.search&&(mr=Action.Replace);let tr=tn&&"preventScrollReset"in tn?tn.preventScrollReset===!0:void 0,ar=mn({currentLocation:Ur,nextLocation:pn,historyAction:mr});if(ar){yo(ar,{state:"blocked",location:pn,proceed(){yo(ar,{state:"proceeding",proceed:void 0,reset:void 0,location:pn}),dr(Hr,tn)},reset(){Mo(ar),cr({blockers:new Map(Pt.blockers)})}});return}return await jr(mr,pn,{submission:Kn,pendingError:qr,preventScrollReset:tr,replace:tn&&tn.replace})}function Rr(){if(yn(),cr({revalidation:"loading"}),Pt.navigation.state!=="submitting"){if(Pt.navigation.state==="idle"){jr(Pt.historyAction,Pt.location,{startUninterruptedRevalidation:!0});return}jr($t||Pt.historyAction,Pt.navigation.location,{overrideNavigation:Pt.navigation})}}async function jr(Hr,tn,fn){Ot&&Ot.abort(),Ot=null,$t=Hr,Vt=(fn&&fn.startUninterruptedRevalidation)===!0,eo(Pt.location,Pt.matches),It=(fn&&fn.preventScrollReset)===!0;let Vn=at||nt,Kn=fn&&fn.overrideNavigation,qr=matchRoutes(Vn,tn,lt);if(!qr){let yr=getInternalRouterError(404,{pathname:tn.pathname}),{matches:Ar,route:Dr}=getShortCircuitMatches(Vn);Bn(),sr(tn,{matches:Ar,loaderData:{},errors:{[Dr.id]:yr}});return}if(Pt.initialized&&isHashChangeOnly(Pt.location,tn)&&!(fn&&fn.submission&&isMutationMethod(fn.submission.formMethod))){sr(tn,{matches:qr});return}Ot=new AbortController;let Ur=createClientSideRequest(et.history,tn,Ot.signal,fn&&fn.submission),pn,bn;if(fn&&fn.pendingError)bn={[findNearestBoundary(qr).route.id]:fn.pendingError};else if(fn&&fn.submission&&isMutationMethod(fn.submission.formMethod)){let yr=await Sr(Ur,tn,fn.submission,qr,{replace:fn.replace});if(yr.shortCircuited)return;pn=yr.pendingActionData,bn=yr.pendingActionError,Kn=_extends$3({state:"loading",location:tn},fn.submission),Ur=new Request(Ur.url,{signal:Ur.signal})}let{shortCircuited:mr,loaderData:tr,errors:ar}=await dn(Ur,tn,qr,Kn,fn&&fn.submission,fn&&fn.fetcherSubmission,fn&&fn.replace,pn,bn);mr||(Ot=null,sr(tn,_extends$3({matches:qr},pn?{actionData:pn}:{},{loaderData:tr,errors:ar})))}async function Sr(Hr,tn,fn,Vn,Kn){yn();let qr=_extends$3({state:"submitting",location:tn},fn);cr({navigation:qr});let Ur,pn=getTargetMatch(Vn,tn);if(!pn.route.action&&!pn.route.lazy)Ur={type:ResultType.error,error:getInternalRouterError(405,{method:Hr.method,pathname:tn.pathname,routeId:pn.route.id})};else if(Ur=await callLoaderOrAction("action",Hr,pn,Vn,rt,tt,lt),Hr.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(Ur)){let bn;return Kn&&Kn.replace!=null?bn=Kn.replace:bn=Ur.location===Pt.location.pathname+Pt.location.search,await cn(Pt,Ur,{submission:fn,replace:bn}),{shortCircuited:!0}}if(isErrorResult(Ur)){let bn=findNearestBoundary(Vn,pn.route.id);return(Kn&&Kn.replace)!==!0&&($t=Action.Push),{pendingActionData:{},pendingActionError:{[bn.route.id]:Ur.error}}}if(isDeferredResult(Ur))throw getInternalRouterError(400,{type:"defer-action"});return{pendingActionData:{[pn.route.id]:Ur.data}}}async function dn(Hr,tn,fn,Vn,Kn,qr,Ur,pn,bn){let mr=Vn;mr||(mr=_extends$3({state:"loading",location:tn,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Kn));let tr=Kn||qr?Kn||qr:mr.formMethod&&mr.formAction&&mr.formData&&mr.formEncType?{formMethod:mr.formMethod,formAction:mr.formAction,formData:mr.formData,formEncType:mr.formEncType}:void 0,ar=at||nt,[yr,Ar]=getMatchesToLoad(et.history,Pt,fn,tr,tn,Ut,Wt,nr,Er,ar,lt,pn,bn);if(Bn(ro=>!(fn&&fn.some(co=>co.route.id===ro))||yr&&yr.some(co=>co.route.id===ro)),yr.length===0&&Ar.length===0){let ro=Eo();return sr(tn,_extends$3({matches:fn,loaderData:{},errors:bn||null},pn?{actionData:pn}:{},ro?{fetchers:new Map(Pt.fetchers)}:{})),{shortCircuited:!0}}if(!Vt){Ar.forEach(co=>{let vo=Pt.fetchers.get(co.key),jo={state:"loading",data:vo&&vo.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};Pt.fetchers.set(co.key,jo)});let ro=pn||Pt.actionData;cr(_extends$3({navigation:mr},ro?Object.keys(ro).length===0?{actionData:null}:{actionData:ro}:{},Ar.length>0?{fetchers:new Map(Pt.fetchers)}:{}))}ur=++Kt,Ar.forEach(ro=>{ro.controller&&er.set(ro.key,ro.controller)});let Dr=()=>Ar.forEach(ro=>jn(ro.key));Ot&&Ot.signal.addEventListener("abort",Dr);let{results:Zr,loaderResults:Xr,fetcherResults:Br}=await En(Pt.matches,fn,yr,Ar,Hr);if(Hr.signal.aborted)return{shortCircuited:!0};Ot&&Ot.signal.removeEventListener("abort",Dr),Ar.forEach(ro=>er.delete(ro.key));let en=findRedirect(Zr);if(en)return await cn(Pt,en,{replace:Ur}),{shortCircuited:!0};let{loaderData:Pn,errors:Fn}=processLoaderData(Pt,fn,yr,Xr,bn,Ar,Br,Cr);Cr.forEach((ro,co)=>{ro.subscribe(vo=>{(vo||ro.done)&&Cr.delete(co)})});let Mn=Eo(),ho=_i(ur),mo=Mn||ho||Ar.length>0;return _extends$3({loaderData:Pn,errors:Fn},mo?{fetchers:new Map(Pt.fetchers)}:{})}function Qr(Hr){return Pt.fetchers.get(Hr)||IDLE_FETCHER}function gn(Hr,tn,fn,Vn){if(isServer$1)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");er.has(Hr)&&jn(Hr);let Kn=at||nt,qr=normalizeTo(Pt.location,Pt.matches,lt,dt.v7_prependBasename,fn,tn,Vn==null?void 0:Vn.relative),Ur=matchRoutes(Kn,qr,lt);if(!Ur){Rn(Hr,tn,getInternalRouterError(404,{pathname:qr}));return}let{path:pn,submission:bn}=normalizeNavigateOptions(dt.v7_normalizeFormMethod,!0,qr,Vn),mr=getTargetMatch(Ur,pn);if(It=(Vn&&Vn.preventScrollReset)===!0,bn&&isMutationMethod(bn.formMethod)){ln(Hr,tn,pn,mr,Ur,bn);return}Er.set(Hr,{routeId:tn,path:pn}),Kr(Hr,tn,pn,mr,Ur,bn)}async function ln(Hr,tn,fn,Vn,Kn,qr){if(yn(),Er.delete(Hr),!Vn.route.action&&!Vn.route.lazy){let Io=getInternalRouterError(405,{method:qr.formMethod,pathname:fn,routeId:tn});Rn(Hr,tn,Io);return}let Ur=Pt.fetchers.get(Hr),pn=_extends$3({state:"submitting"},qr,{data:Ur&&Ur.data," _hasFetcherDoneAnything ":!0});Pt.fetchers.set(Hr,pn),cr({fetchers:new Map(Pt.fetchers)});let bn=new AbortController,mr=createClientSideRequest(et.history,fn,bn.signal,qr);er.set(Hr,bn);let tr=await callLoaderOrAction("action",mr,Vn,Kn,rt,tt,lt);if(mr.signal.aborted){er.get(Hr)===bn&&er.delete(Hr);return}if(isRedirectResult(tr)){er.delete(Hr),Lr.add(Hr);let Io=_extends$3({state:"loading"},qr,{data:void 0," _hasFetcherDoneAnything ":!0});return Pt.fetchers.set(Hr,Io),cr({fetchers:new Map(Pt.fetchers)}),cn(Pt,tr,{submission:qr,isFetchActionRedirect:!0})}if(isErrorResult(tr)){Rn(Hr,tn,tr.error);return}if(isDeferredResult(tr))throw getInternalRouterError(400,{type:"defer-action"});let ar=Pt.navigation.location||Pt.location,yr=createClientSideRequest(et.history,ar,bn.signal),Ar=at||nt,Dr=Pt.navigation.state!=="idle"?matchRoutes(Ar,Pt.navigation.location,lt):Pt.matches;invariant$1(Dr,"Didn't find any matches after fetcher action");let Zr=++Kt;vr.set(Hr,Zr);let Xr=_extends$3({state:"loading",data:tr.data},qr,{" _hasFetcherDoneAnything ":!0});Pt.fetchers.set(Hr,Xr);let[Br,en]=getMatchesToLoad(et.history,Pt,Dr,qr,ar,Ut,Wt,nr,Er,Ar,lt,{[Vn.route.id]:tr.data},void 0);en.filter(Io=>Io.key!==Hr).forEach(Io=>{let is=Io.key,Co=Pt.fetchers.get(is),Uo={state:"loading",data:Co&&Co.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};Pt.fetchers.set(is,Uo),Io.controller&&er.set(is,Io.controller)}),cr({fetchers:new Map(Pt.fetchers)});let Pn=()=>en.forEach(Io=>jn(Io.key));bn.signal.addEventListener("abort",Pn);let{results:Fn,loaderResults:Mn,fetcherResults:ho}=await En(Pt.matches,Dr,Br,en,yr);if(bn.signal.aborted)return;bn.signal.removeEventListener("abort",Pn),vr.delete(Hr),er.delete(Hr),en.forEach(Io=>er.delete(Io.key));let mo=findRedirect(Fn);if(mo)return cn(Pt,mo);let{loaderData:ro,errors:co}=processLoaderData(Pt,Pt.matches,Br,Mn,void 0,en,ho,Cr),vo={state:"idle",data:tr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};Pt.fetchers.set(Hr,vo);let jo=_i(Zr);Pt.navigation.state==="loading"&&Zr>ur?(invariant$1($t,"Expected pending action"),Ot&&Ot.abort(),sr(Pt.navigation.location,{matches:Dr,loaderData:ro,errors:co,fetchers:new Map(Pt.fetchers)})):(cr(_extends$3({errors:co,loaderData:mergeLoaderData(Pt.loaderData,ro,Dr,co)},jo?{fetchers:new Map(Pt.fetchers)}:{})),Ut=!1)}async function Kr(Hr,tn,fn,Vn,Kn,qr){let Ur=Pt.fetchers.get(Hr),pn=_extends$3({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},qr,{data:Ur&&Ur.data," _hasFetcherDoneAnything ":!0});Pt.fetchers.set(Hr,pn),cr({fetchers:new Map(Pt.fetchers)});let bn=new AbortController,mr=createClientSideRequest(et.history,fn,bn.signal);er.set(Hr,bn);let tr=await callLoaderOrAction("loader",mr,Vn,Kn,rt,tt,lt);if(isDeferredResult(tr)&&(tr=await resolveDeferredData(tr,mr.signal,!0)||tr),er.get(Hr)===bn&&er.delete(Hr),mr.signal.aborted)return;if(isRedirectResult(tr)){Lr.add(Hr),await cn(Pt,tr);return}if(isErrorResult(tr)){let yr=findNearestBoundary(Pt.matches,tn);Pt.fetchers.delete(Hr),cr({fetchers:new Map(Pt.fetchers),errors:{[yr.route.id]:tr.error}});return}invariant$1(!isDeferredResult(tr),"Unhandled fetcher deferred data");let ar={state:"idle",data:tr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};Pt.fetchers.set(Hr,ar),cr({fetchers:new Map(Pt.fetchers)})}async function cn(Hr,tn,fn){var Vn;let{submission:Kn,replace:qr,isFetchActionRedirect:Ur}=fn===void 0?{}:fn;tn.revalidate&&(Ut=!0);let pn=createLocation(Hr.location,tn.location,_extends$3({_isRedirect:!0},Ur?{_isFetchActionRedirect:!0}:{}));if(invariant$1(pn,"Expected a location on the redirect navigation"),ABSOLUTE_URL_REGEX.test(tn.location)&&isBrowser$1&&typeof((Vn=window)==null?void 0:Vn.location)<"u"){let Ar=et.history.createURL(tn.location),Dr=stripBasename(Ar.pathname,lt)==null;if(window.location.origin!==Ar.origin||Dr){qr?window.location.replace(tn.location):window.location.assign(tn.location);return}}Ot=null;let bn=qr===!0?Action.Replace:Action.Push,{formMethod:mr,formAction:tr,formEncType:ar,formData:yr}=Hr.navigation;!Kn&&mr&&tr&&yr&&ar&&(Kn={formMethod:mr,formAction:tr,formEncType:ar,formData:yr}),redirectPreserveMethodStatusCodes.has(tn.status)&&Kn&&isMutationMethod(Kn.formMethod)?await jr(bn,pn,{submission:_extends$3({},Kn,{formAction:tn.location}),preventScrollReset:It}):Ur?await jr(bn,pn,{overrideNavigation:{state:"loading",location:pn,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:Kn,preventScrollReset:It}):await jr(bn,pn,{overrideNavigation:{state:"loading",location:pn,formMethod:Kn?Kn.formMethod:void 0,formAction:Kn?Kn.formAction:void 0,formEncType:Kn?Kn.formEncType:void 0,formData:Kn?Kn.formData:void 0},preventScrollReset:It})}async function En(Hr,tn,fn,Vn,Kn){let qr=await Promise.all([...fn.map(bn=>callLoaderOrAction("loader",Kn,bn,tn,rt,tt,lt)),...Vn.map(bn=>bn.matches&&bn.match&&bn.controller?callLoaderOrAction("loader",createClientSideRequest(et.history,bn.path,bn.controller.signal),bn.match,bn.matches,rt,tt,lt):{type:ResultType.error,error:getInternalRouterError(404,{pathname:bn.path})})]),Ur=qr.slice(0,fn.length),pn=qr.slice(fn.length);return await Promise.all([resolveDeferredResults(Hr,fn,Ur,Ur.map(()=>Kn.signal),!1,Pt.loaderData),resolveDeferredResults(Hr,Vn.map(bn=>bn.match),pn,Vn.map(bn=>bn.controller?bn.controller.signal:null),!0)]),{results:qr,loaderResults:Ur,fetcherResults:pn}}function yn(){Ut=!0,Wt.push(...Bn()),Er.forEach((Hr,tn)=>{er.has(tn)&&(nr.push(tn),jn(tn))})}function Rn(Hr,tn,fn){let Vn=findNearestBoundary(Pt.matches,tn);Zn(Hr),cr({errors:{[Vn.route.id]:fn},fetchers:new Map(Pt.fetchers)})}function Zn(Hr){er.has(Hr)&&jn(Hr),Er.delete(Hr),vr.delete(Hr),Lr.delete(Hr),Pt.fetchers.delete(Hr)}function jn(Hr){let tn=er.get(Hr);invariant$1(tn,"Expected fetch controller: "+Hr),tn.abort(),er.delete(Hr)}function so(Hr){for(let tn of Hr){let Vn={state:"idle",data:Qr(tn).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};Pt.fetchers.set(tn,Vn)}}function Eo(){let Hr=[],tn=!1;for(let fn of Lr){let Vn=Pt.fetchers.get(fn);invariant$1(Vn,"Expected fetcher: "+fn),Vn.state==="loading"&&(Lr.delete(fn),Hr.push(fn),tn=!0)}return so(Hr),tn}function _i(Hr){let tn=[];for(let[fn,Vn]of vr)if(Vn<Hr){let Kn=Pt.fetchers.get(fn);invariant$1(Kn,"Expected fetcher: "+fn),Kn.state==="loading"&&(jn(fn),vr.delete(fn),tn.push(fn))}return so(tn),tn.length>0}function po(Hr,tn){let fn=Pt.blockers.get(Hr)||IDLE_BLOCKER;return hr.get(Hr)!==tn&&hr.set(Hr,tn),fn}function Mo(Hr){Pt.blockers.delete(Hr),hr.delete(Hr)}function yo(Hr,tn){let fn=Pt.blockers.get(Hr)||IDLE_BLOCKER;invariant$1(fn.state==="unblocked"&&tn.state==="blocked"||fn.state==="blocked"&&tn.state==="blocked"||fn.state==="blocked"&&tn.state==="proceeding"||fn.state==="blocked"&&tn.state==="unblocked"||fn.state==="proceeding"&&tn.state==="unblocked","Invalid blocker state transition: "+fn.state+" -> "+tn.state),Pt.blockers.set(Hr,tn),cr({blockers:new Map(Pt.blockers)})}function mn(Hr){let{currentLocation:tn,nextLocation:fn,historyAction:Vn}=Hr;if(hr.size===0)return;hr.size>1&&warning(!1,"A router only supports one blocker at a time");let Kn=Array.from(hr.entries()),[qr,Ur]=Kn[Kn.length-1],pn=Pt.blockers.get(qr);if(!(pn&&pn.state==="proceeding")&&Ur({currentLocation:tn,nextLocation:fn,historyAction:Vn}))return qr}function Bn(Hr){let tn=[];return Cr.forEach((fn,Vn)=>{(!Hr||Hr(Vn))&&(fn.cancel(),tn.push(Vn),Cr.delete(Vn))}),tn}function no(Hr,tn,fn){if(xt=Hr,At=tn,Et=fn||(Vn=>Vn.key),!Tt&&Pt.navigation===IDLE_NAVIGATION){Tt=!0;let Vn=to(Pt.location,Pt.matches);Vn!=null&&cr({restoreScrollPosition:Vn})}return()=>{xt=null,At=null,Et=null}}function eo(Hr,tn){if(xt&&Et&&At){let fn=tn.map(Kn=>createUseMatchesMatch(Kn,Pt.loaderData)),Vn=Et(Hr,fn)||Hr.key;xt[Vn]=At()}}function to(Hr,tn){if(xt&&Et&&At){let fn=tn.map(qr=>createUseMatchesMatch(qr,Pt.loaderData)),Vn=Et(Hr,fn)||Hr.key,Kn=xt[Vn];if(typeof Kn=="number")return Kn}return null}function Yn(Hr){rt={},at=convertRoutesToDataRoutes(Hr,tt,void 0,rt)}return Gt={get basename(){return lt},get state(){return Pt},get routes(){return nt},initialize:Xt,subscribe:lr,enableScrollRestoration:no,navigate:dr,fetch:gn,revalidate:Rr,createHref:Hr=>et.history.createHref(Hr),encodeLocation:Hr=>et.history.encodeLocation(Hr),getFetcher:Qr,deleteFetcher:Zn,dispose:Qt,getBlocker:po,deleteBlocker:Mo,_internalFetchControllers:er,_internalActiveDeferreds:Cr,_internalSetRoutes:Yn},Gt}function isSubmissionNavigation(et){return et!=null&&"formData"in et}function normalizeTo(et,tt,rt,nt,at,lt,dt){let ot,mt;if(lt!=null&&dt!=="path"){ot=[];for(let Et of tt)if(ot.push(Et),Et.route.id===lt){mt=Et;break}}else ot=tt,mt=tt[tt.length-1];let xt=resolveTo(at||".",getPathContributingMatches(ot).map(Et=>Et.pathnameBase),stripBasename(et.pathname,rt)||et.pathname,dt==="path");return at==null&&(xt.search=et.search,xt.hash=et.hash),(at==null||at===""||at===".")&&mt&&mt.route.index&&!hasNakedIndexQuery(xt.search)&&(xt.search=xt.search?xt.search.replace(/^\?/,"?index&"):"?index"),nt&&rt!=="/"&&(xt.pathname=xt.pathname==="/"?rt:joinPaths([rt,xt.pathname])),createPath(xt)}function normalizeNavigateOptions(et,tt,rt,nt){if(!nt||!isSubmissionNavigation(nt))return{path:rt};if(nt.formMethod&&!isValidMethod(nt.formMethod))return{path:rt,error:getInternalRouterError(405,{method:nt.formMethod})};let at;if(nt.formData){let ot=nt.formMethod||"get";if(at={formMethod:et?ot.toUpperCase():ot.toLowerCase(),formAction:stripHashFromPath(rt),formEncType:nt&&nt.formEncType||"application/x-www-form-urlencoded",formData:nt.formData},isMutationMethod(at.formMethod))return{path:rt,submission:at}}let lt=parsePath(rt),dt=convertFormDataToSearchParams(nt.formData);return tt&&lt.search&&hasNakedIndexQuery(lt.search)&&dt.append("index",""),lt.search="?"+dt,{path:createPath(lt),submission:at}}function getLoaderMatchesUntilBoundary(et,tt){let rt=et;if(tt){let nt=et.findIndex(at=>at.route.id===tt);nt>=0&&(rt=et.slice(0,nt))}return rt}function getMatchesToLoad(et,tt,rt,nt,at,lt,dt,ot,mt,xt,Et,At,Tt){let Ft=Tt?Object.values(Tt)[0]:At?Object.values(At)[0]:void 0,Mt=et.createURL(tt.location),Lt=et.createURL(at),Gt=Tt?Object.keys(Tt)[0]:void 0,$t=getLoaderMatchesUntilBoundary(rt,Gt).filter((Ot,Vt)=>{if(Ot.route.lazy)return!0;if(Ot.route.loader==null)return!1;if(isNewLoader(tt.loaderData,tt.matches[Vt],Ot)||dt.some(nr=>nr===Ot.route.id))return!0;let Ut=tt.matches[Vt],Wt=Ot;return shouldRevalidateLoader(Ot,_extends$3({currentUrl:Mt,currentParams:Ut.params,nextUrl:Lt,nextParams:Wt.params},nt,{actionResult:Ft,defaultShouldRevalidate:lt||Mt.pathname+Mt.search===Lt.pathname+Lt.search||Mt.search!==Lt.search||isNewRouteInstance(Ut,Wt)}))}),It=[];return mt.forEach((Ot,Vt)=>{if(!rt.some(er=>er.route.id===Ot.routeId))return;let Ut=matchRoutes(xt,Ot.path,Et);if(!Ut){It.push({key:Vt,routeId:Ot.routeId,path:Ot.path,matches:null,match:null,controller:null});return}let Wt=getTargetMatch(Ut,Ot.path);if(ot.includes(Vt)){It.push({key:Vt,routeId:Ot.routeId,path:Ot.path,matches:Ut,match:Wt,controller:new AbortController});return}shouldRevalidateLoader(Wt,_extends$3({currentUrl:Mt,currentParams:tt.matches[tt.matches.length-1].params,nextUrl:Lt,nextParams:rt[rt.length-1].params},nt,{actionResult:Ft,defaultShouldRevalidate:lt}))&&It.push({key:Vt,routeId:Ot.routeId,path:Ot.path,matches:Ut,match:Wt,controller:new AbortController})}),[$t,It]}function isNewLoader(et,tt,rt){let nt=!tt||rt.route.id!==tt.route.id,at=et[rt.route.id]===void 0;return nt||at}function isNewRouteInstance(et,tt){let rt=et.route.path;return et.pathname!==tt.pathname||rt!=null&&rt.endsWith("*")&&et.params["*"]!==tt.params["*"]}function shouldRevalidateLoader(et,tt){if(et.route.shouldRevalidate){let rt=et.route.shouldRevalidate(tt);if(typeof rt=="boolean")return rt}return tt.defaultShouldRevalidate}async function loadLazyRouteModule(et,tt,rt){if(!et.lazy)return;let nt=await et.lazy();if(!et.lazy)return;let at=rt[et.id];invariant$1(at,"No route found in manifest");let lt={};for(let dt in nt){let mt=at[dt]!==void 0&&dt!=="hasErrorBoundary";warning(!mt,'Route "'+at.id+'" has a static property "'+dt+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+dt+'" will be ignored.')),!mt&&!immutableRouteKeys.has(dt)&&(lt[dt]=nt[dt])}Object.assign(at,lt),Object.assign(at,_extends$3({},tt(at),{lazy:void 0}))}async function callLoaderOrAction(et,tt,rt,nt,at,lt,dt,ot,mt,xt){ot===void 0&&(ot=!1),mt===void 0&&(mt=!1);let Et,At,Tt,Ft=Gt=>{let Pt,$t=new Promise((It,Ot)=>Pt=Ot);return Tt=()=>Pt(),tt.signal.addEventListener("abort",Tt),Promise.race([Gt({request:tt,params:rt.params,context:xt}),$t])};try{let Gt=rt.route[et];if(rt.route.lazy)if(Gt)At=(await Promise.all([Ft(Gt),loadLazyRouteModule(rt.route,lt,at)]))[0];else if(await loadLazyRouteModule(rt.route,lt,at),Gt=rt.route[et],Gt)At=await Ft(Gt);else if(et==="action"){let Pt=new URL(tt.url),$t=Pt.pathname+Pt.search;throw getInternalRouterError(405,{method:tt.method,pathname:$t,routeId:rt.route.id})}else return{type:ResultType.data,data:void 0};else if(Gt)At=await Ft(Gt);else{let Pt=new URL(tt.url),$t=Pt.pathname+Pt.search;throw getInternalRouterError(404,{pathname:$t})}invariant$1(At!==void 0,"You defined "+(et==="action"?"an action":"a loader")+" for route "+('"'+rt.route.id+"\" but didn't return anything from your `"+et+"` ")+"function. Please return a value or `null`.")}catch(Gt){Et=ResultType.error,At=Gt}finally{Tt&&tt.signal.removeEventListener("abort",Tt)}if(isResponse(At)){let Gt=At.status;if(redirectStatusCodes.has(Gt)){let It=At.headers.get("Location");if(invariant$1(It,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX.test(It))It=normalizeTo(new URL(tt.url),nt.slice(0,nt.indexOf(rt)+1),dt,!0,It);else if(!ot){let Ot=new URL(tt.url),Vt=It.startsWith("//")?new URL(Ot.protocol+It):new URL(It),Ut=stripBasename(Vt.pathname,dt)!=null;Vt.origin===Ot.origin&&Ut&&(It=Vt.pathname+Vt.search+Vt.hash)}if(ot)throw At.headers.set("Location",It),At;return{type:ResultType.redirect,status:Gt,location:It,revalidate:At.headers.get("X-Remix-Revalidate")!==null}}if(mt)throw{type:Et||ResultType.data,response:At};let Pt,$t=At.headers.get("Content-Type");return $t&&/\bapplication\/json\b/.test($t)?Pt=await At.json():Pt=await At.text(),Et===ResultType.error?{type:Et,error:new ErrorResponse(Gt,At.statusText,Pt),headers:At.headers}:{type:ResultType.data,data:Pt,statusCode:At.status,headers:At.headers}}if(Et===ResultType.error)return{type:Et,error:At};if(isDeferredData(At)){var Mt,Lt;return{type:ResultType.deferred,deferredData:At,statusCode:(Mt=At.init)==null?void 0:Mt.status,headers:((Lt=At.init)==null?void 0:Lt.headers)&&new Headers(At.init.headers)}}return{type:ResultType.data,data:At}}function createClientSideRequest(et,tt,rt,nt){let at=et.createURL(stripHashFromPath(tt)).toString(),lt={signal:rt};if(nt&&isMutationMethod(nt.formMethod)){let{formMethod:dt,formEncType:ot,formData:mt}=nt;lt.method=dt.toUpperCase(),lt.body=ot==="application/x-www-form-urlencoded"?convertFormDataToSearchParams(mt):mt}return new Request(at,lt)}function convertFormDataToSearchParams(et){let tt=new URLSearchParams;for(let[rt,nt]of et.entries())tt.append(rt,nt instanceof File?nt.name:nt);return tt}function processRouteLoaderData(et,tt,rt,nt,at){let lt={},dt=null,ot,mt=!1,xt={};return rt.forEach((Et,At)=>{let Tt=tt[At].route.id;if(invariant$1(!isRedirectResult(Et),"Cannot handle redirect results in processLoaderData"),isErrorResult(Et)){let Ft=findNearestBoundary(et,Tt),Mt=Et.error;nt&&(Mt=Object.values(nt)[0],nt=void 0),dt=dt||{},dt[Ft.route.id]==null&&(dt[Ft.route.id]=Mt),lt[Tt]=void 0,mt||(mt=!0,ot=isRouteErrorResponse(Et.error)?Et.error.status:500),Et.headers&&(xt[Tt]=Et.headers)}else isDeferredResult(Et)?(at.set(Tt,Et.deferredData),lt[Tt]=Et.deferredData.data):lt[Tt]=Et.data,Et.statusCode!=null&&Et.statusCode!==200&&!mt&&(ot=Et.statusCode),Et.headers&&(xt[Tt]=Et.headers)}),nt&&(dt=nt,lt[Object.keys(nt)[0]]=void 0),{loaderData:lt,errors:dt,statusCode:ot||200,loaderHeaders:xt}}function processLoaderData(et,tt,rt,nt,at,lt,dt,ot){let{loaderData:mt,errors:xt}=processRouteLoaderData(tt,rt,nt,at,ot);for(let Et=0;Et<lt.length;Et++){let{key:At,match:Tt,controller:Ft}=lt[Et];invariant$1(dt!==void 0&&dt[Et]!==void 0,"Did not find corresponding fetcher result");let Mt=dt[Et];if(!(Ft&&Ft.signal.aborted))if(isErrorResult(Mt)){let Lt=findNearestBoundary(et.matches,Tt==null?void 0:Tt.route.id);xt&&xt[Lt.route.id]||(xt=_extends$3({},xt,{[Lt.route.id]:Mt.error})),et.fetchers.delete(At)}else if(isRedirectResult(Mt))invariant$1(!1,"Unhandled fetcher revalidation redirect");else if(isDeferredResult(Mt))invariant$1(!1,"Unhandled fetcher deferred data");else{let Lt={state:"idle",data:Mt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};et.fetchers.set(At,Lt)}}return{loaderData:mt,errors:xt}}function mergeLoaderData(et,tt,rt,nt){let at=_extends$3({},tt);for(let lt of rt){let dt=lt.route.id;if(tt.hasOwnProperty(dt)?tt[dt]!==void 0&&(at[dt]=tt[dt]):et[dt]!==void 0&&lt.route.loader&&(at[dt]=et[dt]),nt&&nt.hasOwnProperty(dt))break}return at}function findNearestBoundary(et,tt){return(tt?et.slice(0,et.findIndex(nt=>nt.route.id===tt)+1):[...et]).reverse().find(nt=>nt.route.hasErrorBoundary===!0)||et[0]}function getShortCircuitMatches(et){let tt=et.find(rt=>rt.index||!rt.path||rt.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:tt}],route:tt}}function getInternalRouterError(et,tt){let{pathname:rt,routeId:nt,method:at,type:lt}=tt===void 0?{}:tt,dt="Unknown Server Error",ot="Unknown @remix-run/router error";return et===400?(dt="Bad Request",at&&rt&&nt?ot="You made a "+at+' request to "'+rt+'" but '+('did not provide a `loader` for route "'+nt+'", ')+"so there is no way to handle the request.":lt==="defer-action"&&(ot="defer() is not supported in actions")):et===403?(dt="Forbidden",ot='Route "'+nt+'" does not match URL "'+rt+'"'):et===404?(dt="Not Found",ot='No route matches URL "'+rt+'"'):et===405&&(dt="Method Not Allowed",at&&rt&&nt?ot="You made a "+at.toUpperCase()+' request to "'+rt+'" but '+('did not provide an `action` for route "'+nt+'", ')+"so there is no way to handle the request.":at&&(ot='Invalid request method "'+at.toUpperCase()+'"')),new ErrorResponse(et||500,dt,new Error(ot),!0)}function findRedirect(et){for(let tt=et.length-1;tt>=0;tt--){let rt=et[tt];if(isRedirectResult(rt))return rt}}function stripHashFromPath(et){let tt=typeof et=="string"?parsePath(et):et;return createPath(_extends$3({},tt,{hash:""}))}function isHashChangeOnly(et,tt){return et.pathname!==tt.pathname||et.search!==tt.search?!1:et.hash===""?tt.hash!=="":et.hash===tt.hash?!0:tt.hash!==""}function isDeferredResult(et){return et.type===ResultType.deferred}function isErrorResult(et){return et.type===ResultType.error}function isRedirectResult(et){return(et&&et.type)===ResultType.redirect}function isDeferredData(et){let tt=et;return tt&&typeof tt=="object"&&typeof tt.data=="object"&&typeof tt.subscribe=="function"&&typeof tt.cancel=="function"&&typeof tt.resolveData=="function"}function isResponse(et){return et!=null&&typeof et.status=="number"&&typeof et.statusText=="string"&&typeof et.headers=="object"&&typeof et.body<"u"}function isValidMethod(et){return validRequestMethods.has(et.toLowerCase())}function isMutationMethod(et){return validMutationMethods.has(et.toLowerCase())}async function resolveDeferredResults(et,tt,rt,nt,at,lt){for(let dt=0;dt<rt.length;dt++){let ot=rt[dt],mt=tt[dt];if(!mt)continue;let xt=et.find(At=>At.route.id===mt.route.id),Et=xt!=null&&!isNewRouteInstance(xt,mt)&&(lt&&lt[mt.route.id])!==void 0;if(isDeferredResult(ot)&&(at||Et)){let At=nt[dt];invariant$1(At,"Expected an AbortSignal for revalidating fetcher deferred result"),await resolveDeferredData(ot,At,at).then(Tt=>{Tt&&(rt[dt]=Tt||rt[dt])})}}}async function resolveDeferredData(et,tt,rt){if(rt===void 0&&(rt=!1),!await et.deferredData.resolveData(tt)){if(rt)try{return{type:ResultType.data,data:et.deferredData.unwrappedData}}catch(at){return{type:ResultType.error,error:at}}return{type:ResultType.data,data:et.deferredData.data}}}function hasNakedIndexQuery(et){return new URLSearchParams(et).getAll("index").some(tt=>tt==="")}function createUseMatchesMatch(et,tt){let{route:rt,pathname:nt,params:at}=et;return{id:rt.id,pathname:nt,params:at,data:tt[rt.id],handle:rt.handle}}function getTargetMatch(et,tt){let rt=typeof tt=="string"?parsePath(tt).search:tt.search;if(et[et.length-1].route.index&&hasNakedIndexQuery(rt||""))return et[et.length-1];let nt=getPathContributingMatches(et);return nt[nt.length-1]}/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(et){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(et)}function useNavigate(){let{isDataRoute:et}=reactExports.useContext(RouteContext);return et?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let et=reactExports.useContext(DataRouterContext),{basename:tt,navigator:rt}=reactExports.useContext(NavigationContext),{matches:nt}=reactExports.useContext(RouteContext),{pathname:at}=useLocation(),lt=JSON.stringify(getPathContributingMatches(nt).map(mt=>mt.pathnameBase)),dt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{dt.current=!0}),reactExports.useCallback(function(mt,xt){if(xt===void 0&&(xt={}),!dt.current)return;if(typeof mt=="number"){rt.go(mt);return}let Et=resolveTo(mt,JSON.parse(lt),at,xt.relative==="path");et==null&&tt!=="/"&&(Et.pathname=Et.pathname==="/"?tt:joinPaths([tt,Et.pathname])),(xt.replace?rt.replace:rt.push)(Et,xt.state,xt)},[tt,rt,lt,at,et])}const OutletContext=reactExports.createContext(null);function useOutletContext(){return reactExports.useContext(OutletContext)}function useOutlet(et){let tt=reactExports.useContext(RouteContext).outlet;return tt&&reactExports.createElement(OutletContext.Provider,{value:et},tt)}function useParams(){let{matches:et}=reactExports.useContext(RouteContext),tt=et[et.length-1];return tt?tt.params:{}}function useRoutesImpl(et,tt,rt){useInRouterContext()||invariant$1(!1);let{navigator:nt}=reactExports.useContext(NavigationContext),{matches:at}=reactExports.useContext(RouteContext),lt=at[at.length-1],dt=lt?lt.params:{};lt&&lt.pathname;let ot=lt?lt.pathnameBase:"/";lt&&lt.route;let mt=useLocation(),xt;if(tt){var Et;let Lt=typeof tt=="string"?parsePath(tt):tt;ot==="/"||(Et=Lt.pathname)!=null&&Et.startsWith(ot)||invariant$1(!1),xt=Lt}else xt=mt;let At=xt.pathname||"/",Tt=ot==="/"?At:At.slice(ot.length)||"/",Ft=matchRoutes(et,{pathname:Tt}),Mt=_renderMatches(Ft&&Ft.map(Lt=>Object.assign({},Lt,{params:Object.assign({},dt,Lt.params),pathname:joinPaths([ot,nt.encodeLocation?nt.encodeLocation(Lt.pathname).pathname:Lt.pathname]),pathnameBase:Lt.pathnameBase==="/"?ot:joinPaths([ot,nt.encodeLocation?nt.encodeLocation(Lt.pathnameBase).pathname:Lt.pathnameBase])})),at,rt);return tt&&Mt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},xt),navigationType:Action.Pop}},Mt):Mt}function DefaultErrorComponent(){let et=useRouteError(),tt=isRouteErrorResponse(et)?et.status+" "+et.statusText:et instanceof Error?et.message:JSON.stringify(et),rt=et instanceof Error?et.stack:null,at={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},lt=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},tt),rt?reactExports.createElement("pre",{style:at},rt):null,lt)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(tt){super(tt),this.state={location:tt.location,revalidation:tt.revalidation,error:tt.error}}static getDerivedStateFromError(tt){return{error:tt}}static getDerivedStateFromProps(tt,rt){return rt.location!==tt.location||rt.revalidation!=="idle"&&tt.revalidation==="idle"?{error:tt.error,location:tt.location,revalidation:tt.revalidation}:{error:tt.error||rt.error,location:rt.location,revalidation:tt.revalidation||rt.revalidation}}componentDidCatch(tt,rt){console.error("React Router caught the following error during render",tt,rt)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(et){let{routeContext:tt,match:rt,children:nt}=et,at=reactExports.useContext(DataRouterContext);return at&&at.static&&at.staticContext&&(rt.route.errorElement||rt.route.ErrorBoundary)&&(at.staticContext._deepestRenderedBoundaryId=rt.route.id),reactExports.createElement(RouteContext.Provider,{value:tt},nt)}function _renderMatches(et,tt,rt){var nt;if(tt===void 0&&(tt=[]),rt===void 0&&(rt=null),et==null){var at;if((at=rt)!=null&&at.errors)et=rt.matches;else return null}let lt=et,dt=(nt=rt)==null?void 0:nt.errors;if(dt!=null){let ot=lt.findIndex(mt=>mt.route.id&&(dt==null?void 0:dt[mt.route.id]));ot>=0||invariant$1(!1),lt=lt.slice(0,Math.min(lt.length,ot+1))}return lt.reduceRight((ot,mt,xt)=>{let Et=mt.route.id?dt==null?void 0:dt[mt.route.id]:null,At=null;rt&&(At=mt.route.errorElement||defaultErrorElement);let Tt=tt.concat(lt.slice(0,xt+1)),Ft=()=>{let Mt;return Et?Mt=At:mt.route.Component?Mt=reactExports.createElement(mt.route.Component,null):mt.route.element?Mt=mt.route.element:Mt=ot,reactExports.createElement(RenderedRoute,{match:mt,routeContext:{outlet:ot,matches:Tt,isDataRoute:rt!=null},children:Mt})};return rt&&(mt.route.ErrorBoundary||mt.route.errorElement||xt===0)?reactExports.createElement(RenderErrorBoundary,{location:rt.location,revalidation:rt.revalidation,component:At,error:Et,children:Ft(),routeContext:{outlet:null,matches:Tt,isDataRoute:!0}}):Ft()},null)}var DataRouterHook$1;(function(et){et.UseBlocker="useBlocker",et.UseRevalidator="useRevalidator",et.UseNavigateStable="useNavigate"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(et){et.UseBlocker="useBlocker",et.UseLoaderData="useLoaderData",et.UseActionData="useActionData",et.UseRouteError="useRouteError",et.UseNavigation="useNavigation",et.UseRouteLoaderData="useRouteLoaderData",et.UseMatches="useMatches",et.UseRevalidator="useRevalidator",et.UseNavigateStable="useNavigate",et.UseRouteId="useRouteId"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterContext(et){let tt=reactExports.useContext(DataRouterContext);return tt||invariant$1(!1),tt}function useDataRouterState(et){let tt=reactExports.useContext(DataRouterStateContext);return tt||invariant$1(!1),tt}function useRouteContext(et){let tt=reactExports.useContext(RouteContext);return tt||invariant$1(!1),tt}function useCurrentRouteId(et){let tt=useRouteContext(),rt=tt.matches[tt.matches.length-1];return rt.route.id||invariant$1(!1),rt.route.id}function useRouteError(){var et;let tt=reactExports.useContext(RouteErrorContext),rt=useDataRouterState(DataRouterStateHook$1.UseRouteError),nt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return tt||((et=rt.errors)==null?void 0:et[nt])}function useNavigateStable(){let{router:et}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),tt=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),rt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{rt.current=!0}),reactExports.useCallback(function(at,lt){lt===void 0&&(lt={}),rt.current&&(typeof at=="number"?et.navigate(at):et.navigate(at,_extends$2({fromRouteId:tt},lt)))},[et,tt])}function RouterProvider(et){let{fallbackElement:tt,router:rt}=et,[nt,at]=reactExports.useState(rt.state);reactExports.useLayoutEffect(()=>rt.subscribe(at),[rt,at]);let lt=reactExports.useMemo(()=>({createHref:rt.createHref,encodeLocation:rt.encodeLocation,go:mt=>rt.navigate(mt),push:(mt,xt,Et)=>rt.navigate(mt,{state:xt,preventScrollReset:Et==null?void 0:Et.preventScrollReset}),replace:(mt,xt,Et)=>rt.navigate(mt,{replace:!0,state:xt,preventScrollReset:Et==null?void 0:Et.preventScrollReset})}),[rt]),dt=rt.basename||"/",ot=reactExports.useMemo(()=>({router:rt,navigator:lt,static:!1,basename:dt}),[rt,lt,dt]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:ot},reactExports.createElement(DataRouterStateContext.Provider,{value:nt},reactExports.createElement(Router$1,{basename:rt.basename,location:rt.state.location,navigationType:rt.state.historyAction,navigator:lt},rt.state.initialized?reactExports.createElement(DataRoutes,{routes:rt.routes,state:nt}):tt))),null)}function DataRoutes(et){let{routes:tt,state:rt}=et;return useRoutesImpl(tt,void 0,rt)}function Outlet(et){return useOutlet(et.context)}function Router$1(et){let{basename:tt="/",children:rt=null,location:nt,navigationType:at=Action.Pop,navigator:lt,static:dt=!1}=et;useInRouterContext()&&invariant$1(!1);let ot=tt.replace(/^\/*/,"/"),mt=reactExports.useMemo(()=>({basename:ot,navigator:lt,static:dt}),[ot,lt,dt]);typeof nt=="string"&&(nt=parsePath(nt));let{pathname:xt="/",search:Et="",hash:At="",state:Tt=null,key:Ft="default"}=nt,Mt=reactExports.useMemo(()=>{let Lt=stripBasename(xt,ot);return Lt==null?null:{location:{pathname:Lt,search:Et,hash:At,state:Tt,key:Ft},navigationType:at}},[ot,xt,Et,At,Tt,Ft,at]);return Mt==null?null:reactExports.createElement(NavigationContext.Provider,{value:mt},reactExports.createElement(LocationContext.Provider,{children:rt,value:Mt}))}var AwaitRenderStatus;(function(et){et[et.pending=0]="pending",et[et.success=1]="success",et[et.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function mapRouteProperties(et){let tt={hasErrorBoundary:et.ErrorBoundary!=null||et.errorElement!=null};return et.Component&&Object.assign(tt,{element:reactExports.createElement(et.Component),Component:void 0}),et.ErrorBoundary&&Object.assign(tt,{errorElement:reactExports.createElement(et.ErrorBoundary),ErrorBoundary:void 0}),tt}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends$1.apply(this,arguments)}function createSearchParams(et){return et===void 0&&(et=""),new URLSearchParams(typeof et=="string"||Array.isArray(et)||et instanceof URLSearchParams?et:Object.keys(et).reduce((tt,rt)=>{let nt=et[rt];return tt.concat(Array.isArray(nt)?nt.map(at=>[rt,at]):[[rt,nt]])},[]))}function getSearchParamsForLocation(et,tt){let rt=createSearchParams(et);if(tt)for(let nt of tt.keys())rt.has(nt)||tt.getAll(nt).forEach(at=>{rt.append(nt,at)});return rt}function createBrowserRouter(et,tt){return createRouter({basename:tt==null?void 0:tt.basename,future:_extends$1({},tt==null?void 0:tt.future,{v7_prependBasename:!0}),history:createBrowserHistory({window:tt==null?void 0:tt.window}),hydrationData:(tt==null?void 0:tt.hydrationData)||parseHydrationData(),routes:et,mapRouteProperties}).initialize()}function parseHydrationData(){var et;let tt=(et=window)==null?void 0:et.__staticRouterHydrationData;return tt&&tt.errors&&(tt=_extends$1({},tt,{errors:deserializeErrors(tt.errors)})),tt}function deserializeErrors(et){if(!et)return null;let tt=Object.entries(et),rt={};for(let[nt,at]of tt)if(at&&at.__type==="RouteErrorResponse")rt[nt]=new ErrorResponse(at.status,at.statusText,at.data,at.internal===!0);else if(at&&at.__type==="Error"){let lt=new Error(at.message);lt.stack="",rt[nt]=lt}else rt[nt]=at;return rt}var DataRouterHook;(function(et){et.UseScrollRestoration="useScrollRestoration",et.UseSubmitImpl="useSubmitImpl",et.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(et){et.UseFetchers="useFetchers",et.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useSearchParams(et){let tt=reactExports.useRef(createSearchParams(et)),rt=reactExports.useRef(!1),nt=useLocation(),at=reactExports.useMemo(()=>getSearchParamsForLocation(nt.search,rt.current?null:tt.current),[nt.search]),lt=useNavigate(),dt=reactExports.useCallback((ot,mt)=>{const xt=createSearchParams(typeof ot=="function"?ot(at):ot);rt.current=!0,lt("?"+xt,mt)},[lt,at]);return[at,dt]}function err(et){const tt=new Error(et);if(tt.stack===void 0)try{throw tt}catch{}return tt}var err_1=err,Recoil_err=err_1;function isPromise(et){return!!et&&typeof et.then=="function"}var Recoil_isPromise=isPromise;function nullthrows(et,tt){if(et!=null)return et;throw Recoil_err(tt??"Got unexpected null or undefined")}var Recoil_nullthrows=nullthrows;function _defineProperty$b(et,tt,rt){return tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}class BaseLoadable{getValue(){throw Recoil_err("BaseLoadable")}toPromise(){throw Recoil_err("BaseLoadable")}valueMaybe(){throw Recoil_err("BaseLoadable")}valueOrThrow(){throw Recoil_err(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Recoil_err("BaseLoadable")}promiseOrThrow(){throw Recoil_err(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Recoil_err("BaseLoadable")}errorOrThrow(){throw Recoil_err(`Loadable expected error, but in "${this.state}" state`)}is(tt){return tt.state===this.state&&tt.contents===this.contents}map(tt){throw Recoil_err("BaseLoadable")}}class ValueLoadable extends BaseLoadable{constructor(tt){super(),_defineProperty$b(this,"state","hasValue"),_defineProperty$b(this,"contents",void 0),this.contents=tt}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(tt){try{const rt=tt(this.contents);return Recoil_isPromise(rt)?loadableWithPromise(rt):isLoadable(rt)?rt:loadableWithValue(rt)}catch(rt){return Recoil_isPromise(rt)?loadableWithPromise(rt.next(()=>this.map(tt))):loadableWithError(rt)}}}class ErrorLoadable extends BaseLoadable{constructor(tt){super(),_defineProperty$b(this,"state","hasError"),_defineProperty$b(this,"contents",void 0),this.contents=tt}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(tt){return this}}class LoadingLoadable extends BaseLoadable{constructor(tt){super(),_defineProperty$b(this,"state","loading"),_defineProperty$b(this,"contents",void 0),this.contents=tt}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(tt){return loadableWithPromise(this.contents.then(rt=>{const nt=tt(rt);if(isLoadable(nt)){const at=nt;switch(at.state){case"hasValue":return at.contents;case"hasError":throw at.contents;case"loading":return at.contents}}return nt}).catch(rt=>{if(Recoil_isPromise(rt))return rt.then(()=>this.map(tt).contents);throw rt}))}}function loadableWithValue(et){return Object.freeze(new ValueLoadable(et))}function loadableWithError(et){return Object.freeze(new ErrorLoadable(et))}function loadableWithPromise(et){return Object.freeze(new LoadingLoadable(et))}function loadableLoading(){return Object.freeze(new LoadingLoadable(new Promise(()=>{})))}function loadableAllArray(et){return et.every(tt=>tt.state==="hasValue")?loadableWithValue(et.map(tt=>tt.contents)):et.some(tt=>tt.state==="hasError")?loadableWithError(Recoil_nullthrows(et.find(tt=>tt.state==="hasError"),"Invalid loadable passed to loadableAll").contents):loadableWithPromise(Promise.all(et.map(tt=>tt.contents)))}function loadableAll(et){const rt=(Array.isArray(et)?et:Object.getOwnPropertyNames(et).map(at=>et[at])).map(at=>isLoadable(at)?at:Recoil_isPromise(at)?loadableWithPromise(at):loadableWithValue(at)),nt=loadableAllArray(rt);return Array.isArray(et)?nt:nt.map(at=>Object.getOwnPropertyNames(et).reduce((lt,dt,ot)=>({...lt,[dt]:at[ot]}),{}))}function isLoadable(et){return et instanceof BaseLoadable}const LoadableStaticInterface={of:et=>Recoil_isPromise(et)?loadableWithPromise(et):isLoadable(et)?et:loadableWithValue(et),error:et=>loadableWithError(et),loading:()=>loadableLoading(),all:loadableAll,isLoadable};var Recoil_Loadable={loadableWithValue,loadableWithError,loadableWithPromise,loadableLoading,loadableAll,isLoadable,RecoilLoadable:LoadableStaticInterface},Recoil_Loadable_1=Recoil_Loadable.loadableWithValue,Recoil_Loadable_2=Recoil_Loadable.loadableWithError,Recoil_Loadable_3=Recoil_Loadable.loadableWithPromise,Recoil_Loadable_4=Recoil_Loadable.loadableLoading,Recoil_Loadable_5=Recoil_Loadable.loadableAll,Recoil_Loadable_6=Recoil_Loadable.isLoadable,Recoil_Loadable_7=Recoil_Loadable.RecoilLoadable,Recoil_Loadable$1=Object.freeze({__proto__:null,loadableWithValue:Recoil_Loadable_1,loadableWithError:Recoil_Loadable_2,loadableWithPromise:Recoil_Loadable_3,loadableLoading:Recoil_Loadable_4,loadableAll:Recoil_Loadable_5,isLoadable:Recoil_Loadable_6,RecoilLoadable:Recoil_Loadable_7});const env={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function readProcessEnvBooleanFlag(et,tt){var rt,nt;const at=(rt=process.env[et])===null||rt===void 0||(nt=rt.toLowerCase())===null||nt===void 0?void 0:nt.trim();if(at==null||at==="")return;if(!["true","false"].includes(at))throw Recoil_err(`({}).${et} value must be 'true', 'false', or empty: ${at}`);tt(at==="true")}function readProcessEnvStringArrayFlag(et,tt){var rt;const nt=(rt=process.env[et])===null||rt===void 0?void 0:rt.trim();nt==null||nt===""||tt(nt.split(/\s*,\s*|\s+/))}function applyProcessEnvFlagOverrides(){var et;typeof process>"u"||((et=process)===null||et===void 0?void 0:et.env)!=null&&(readProcessEnvBooleanFlag("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",tt=>{env.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=tt}),readProcessEnvStringArrayFlag("RECOIL_GKS_ENABLED",tt=>{tt.forEach(rt=>{env.RECOIL_GKS_ENABLED.add(rt)})}))}applyProcessEnvFlagOverrides();var Recoil_RecoilEnv=env;function Recoil_gkx_OSS(et){return Recoil_RecoilEnv.RECOIL_GKS_ENABLED.has(et)}Recoil_gkx_OSS.setPass=et=>{Recoil_RecoilEnv.RECOIL_GKS_ENABLED.add(et)};Recoil_gkx_OSS.setFail=et=>{Recoil_RecoilEnv.RECOIL_GKS_ENABLED.delete(et)};Recoil_gkx_OSS.clear=()=>{Recoil_RecoilEnv.RECOIL_GKS_ENABLED.clear()};var Recoil_gkx=Recoil_gkx_OSS;function recoverableViolation(et,tt,{error:rt}={}){return null}var recoverableViolation_1=recoverableViolation,Recoil_recoverableViolation=recoverableViolation_1,_createMutableSource,_useMutableSource,_useSyncExternalStore;const createMutableSource=(_createMutableSource=React.createMutableSource)!==null&&_createMutableSource!==void 0?_createMutableSource:React.unstable_createMutableSource,useMutableSource=(_useMutableSource=React.useMutableSource)!==null&&_useMutableSource!==void 0?_useMutableSource:React.unstable_useMutableSource,useSyncExternalStore=(_useSyncExternalStore=React.useSyncExternalStore)!==null&&_useSyncExternalStore!==void 0?_useSyncExternalStore:React.unstable_useSyncExternalStore;function currentRendererSupportsUseSyncExternalStore(){var et;const{ReactCurrentDispatcher:tt,ReactCurrentOwner:rt}=React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((et=tt==null?void 0:tt.current)!==null&&et!==void 0?et:rt.currentDispatcher).useSyncExternalStore!=null}function reactMode(){return Recoil_gkx("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Recoil_gkx("recoil_sync_external_store")&&useSyncExternalStore!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Recoil_gkx("recoil_mutable_source")&&useMutableSource!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Recoil_gkx("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Recoil_gkx("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function isFastRefreshEnabled(){return!1}var Recoil_ReactMode={createMutableSource,useMutableSource,useSyncExternalStore,currentRendererSupportsUseSyncExternalStore,reactMode,isFastRefreshEnabled};class AbstractRecoilValue{constructor(tt){_defineProperty$b(this,"key",void 0),this.key=tt}toJSON(){return{key:this.key}}}class RecoilState extends AbstractRecoilValue{}class RecoilValueReadOnly extends AbstractRecoilValue{}function isRecoilValue(et){return et instanceof RecoilState||et instanceof RecoilValueReadOnly}var Recoil_RecoilValue={AbstractRecoilValue,RecoilState,RecoilValueReadOnly,isRecoilValue},Recoil_RecoilValue_1=Recoil_RecoilValue.AbstractRecoilValue,Recoil_RecoilValue_2=Recoil_RecoilValue.RecoilState,Recoil_RecoilValue_3=Recoil_RecoilValue.RecoilValueReadOnly,Recoil_RecoilValue_4=Recoil_RecoilValue.isRecoilValue,Recoil_RecoilValue$1=Object.freeze({__proto__:null,AbstractRecoilValue:Recoil_RecoilValue_1,RecoilState:Recoil_RecoilValue_2,RecoilValueReadOnly:Recoil_RecoilValue_3,isRecoilValue:Recoil_RecoilValue_4});function mapIterable(et,tt){return function*(){let rt=0;for(const nt of et)yield tt(nt,rt++)}()}var Recoil_mapIterable=mapIterable;class DefaultValue{}const DEFAULT_VALUE=new DefaultValue,nodes=new Map,recoilValues=new Map;function recoilValuesForKeys(et){return Recoil_mapIterable(et,tt=>Recoil_nullthrows(recoilValues.get(tt)))}function checkForDuplicateAtomKey(et){if(nodes.has(et)){const tt=`Duplicate atom key "${et}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(tt)}}function registerNode(et){Recoil_RecoilEnv.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&checkForDuplicateAtomKey(et.key),nodes.set(et.key,et);const tt=et.set==null?new Recoil_RecoilValue$1.RecoilValueReadOnly(et.key):new Recoil_RecoilValue$1.RecoilState(et.key);return recoilValues.set(et.key,tt),tt}class NodeMissingError extends Error{}function getNode(et){const tt=nodes.get(et);if(tt==null)throw new NodeMissingError(`Missing definition for RecoilValue: "${et}""`);return tt}function getNodeMaybe(et){return nodes.get(et)}const configDeletionHandlers=new Map;function deleteNodeConfigIfPossible(et){var tt;if(!Recoil_gkx("recoil_memory_managament_2020"))return;const rt=nodes.get(et);if(rt!=null&&(tt=rt.shouldDeleteConfigOnRelease)!==null&&tt!==void 0&&tt.call(rt)){var nt;nodes.delete(et),(nt=getConfigDeletionHandler(et))===null||nt===void 0||nt(),configDeletionHandlers.delete(et)}}function setConfigDeletionHandler(et,tt){Recoil_gkx("recoil_memory_managament_2020")&&(tt===void 0?configDeletionHandlers.delete(et):configDeletionHandlers.set(et,tt))}function getConfigDeletionHandler(et){return configDeletionHandlers.get(et)}var Recoil_Node={nodes,recoilValues,registerNode,getNode,getNodeMaybe,deleteNodeConfigIfPossible,setConfigDeletionHandler,getConfigDeletionHandler,recoilValuesForKeys,NodeMissingError,DefaultValue,DEFAULT_VALUE};function enqueueExecution(et,tt){tt()}var Recoil_Queue={enqueueExecution};function createCommonjsModule(et,tt){return tt={exports:{}},et(tt,tt.exports),tt.exports}var hamt_1=createCommonjsModule(function(et){var tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(qr){return typeof qr}:function(qr){return qr&&typeof Symbol=="function"&&qr.constructor===Symbol&&qr!==Symbol.prototype?"symbol":typeof qr},rt={},nt=5,at=Math.pow(2,nt),lt=at-1,dt=at/2,ot=at/4,mt={},xt=function(Ur){return function(){return Ur}},Et=rt.hash=function(qr){var Ur=typeof qr>"u"?"undefined":tt(qr);if(Ur==="number")return qr;Ur!=="string"&&(qr+="");for(var pn=0,bn=0,mr=qr.length;bn<mr;++bn){var tr=qr.charCodeAt(bn);pn=(pn<<5)-pn+tr|0}return pn},At=function(Ur){return Ur-=Ur>>1&1431655765,Ur=(Ur&858993459)+(Ur>>2&858993459),Ur=Ur+(Ur>>4)&252645135,Ur+=Ur>>8,Ur+=Ur>>16,Ur&127},Tt=function(Ur,pn){return pn>>>Ur&lt},Ft=function(Ur){return 1<<Ur},Mt=function(Ur,pn){return At(Ur&pn-1)},Lt=function(Ur,pn,bn,mr){var tr=mr;if(!Ur){var ar=mr.length;tr=new Array(ar);for(var yr=0;yr<ar;++yr)tr[yr]=mr[yr]}return tr[pn]=bn,tr},Gt=function(Ur,pn,bn){var mr=bn.length-1,tr=0,ar=0,yr=bn;if(Ur)tr=ar=pn;else for(yr=new Array(mr);tr<pn;)yr[ar++]=bn[tr++];for(++tr;tr<=mr;)yr[ar++]=bn[tr++];return Ur&&(yr.length=mr),yr},Pt=function(Ur,pn,bn,mr){var tr=mr.length;if(Ur){for(var ar=tr;ar>=pn;)mr[ar--]=mr[ar];return mr[pn]=bn,mr}for(var yr=0,Ar=0,Dr=new Array(tr+1);yr<pn;)Dr[Ar++]=mr[yr++];for(Dr[pn]=bn;yr<tr;)Dr[++Ar]=mr[yr++];return Dr},$t=1,It=2,Ot=3,Vt=4,Ut={__hamt_isEmpty:!0},Wt=function(Ur){return Ur===Ut||Ur&&Ur.__hamt_isEmpty},nr=function(Ur,pn,bn,mr){return{type:$t,edit:Ur,hash:pn,key:bn,value:mr,_modify:Xt}},er=function(Ur,pn,bn){return{type:It,edit:Ur,hash:pn,children:bn,_modify:Qt}},Kt=function(Ur,pn,bn){return{type:Ot,edit:Ur,mask:pn,children:bn,_modify:lr}},ur=function(Ur,pn,bn){return{type:Vt,edit:Ur,size:pn,children:bn,_modify:cr}},vr=function(Ur){return Ur===Ut||Ur.type===$t||Ur.type===It},Lr=function(Ur,pn,bn,mr,tr){for(var ar=[],yr=mr,Ar=0,Dr=0;yr;++Dr)yr&1&&(ar[Dr]=tr[Ar++]),yr>>>=1;return ar[pn]=bn,ur(Ur,Ar+1,ar)},Er=function(Ur,pn,bn,mr){for(var tr=new Array(pn-1),ar=0,yr=0,Ar=0,Dr=mr.length;Ar<Dr;++Ar)if(Ar!==bn){var Zr=mr[Ar];Zr&&!Wt(Zr)&&(tr[ar++]=Zr,yr|=1<<Ar)}return Kt(Ur,yr,tr)},Cr=function qr(Ur,pn,bn,mr,tr,ar){if(bn===tr)return er(Ur,bn,[ar,mr]);var yr=Tt(pn,bn),Ar=Tt(pn,tr);return Kt(Ur,Ft(yr)|Ft(Ar),yr===Ar?[qr(Ur,pn+nt,bn,mr,tr,ar)]:yr<Ar?[mr,ar]:[ar,mr])},hr=function(Ur,pn,bn,mr,tr,ar,yr,Ar){for(var Dr=tr.length,Zr=0;Zr<Dr;++Zr){var Xr=tr[Zr];if(bn(yr,Xr.key)){var Br=Xr.value,en=ar(Br);return en===Br?tr:en===mt?(--Ar.value,Gt(Ur,Zr,tr)):Lt(Ur,Zr,nr(pn,mr,yr,en),tr)}}var Pn=ar();return Pn===mt?tr:(++Ar.value,Lt(Ur,Dr,nr(pn,mr,yr,Pn),tr))},Tr=function(Ur,pn){return Ur===pn.edit},Xt=function(Ur,pn,bn,mr,tr,ar,yr){if(pn(ar,this.key)){var Ar=mr(this.value);return Ar===this.value?this:Ar===mt?(--yr.value,Ut):Tr(Ur,this)?(this.value=Ar,this):nr(Ur,tr,ar,Ar)}var Dr=mr();return Dr===mt?this:(++yr.value,Cr(Ur,bn,this.hash,this,tr,nr(Ur,tr,ar,Dr)))},Qt=function(Ur,pn,bn,mr,tr,ar,yr){if(tr===this.hash){var Ar=Tr(Ur,this),Dr=hr(Ar,Ur,pn,this.hash,this.children,mr,ar,yr);return Dr===this.children?this:Dr.length>1?er(Ur,this.hash,Dr):Dr[0]}var Zr=mr();return Zr===mt?this:(++yr.value,Cr(Ur,bn,this.hash,this,tr,nr(Ur,tr,ar,Zr)))},lr=function(Ur,pn,bn,mr,tr,ar,yr){var Ar=this.mask,Dr=this.children,Zr=Tt(bn,tr),Xr=Ft(Zr),Br=Mt(Ar,Xr),en=Ar&Xr,Pn=en?Dr[Br]:Ut,Fn=Pn._modify(Ur,pn,bn+nt,mr,tr,ar,yr);if(Pn===Fn)return this;var Mn=Tr(Ur,this),ho=Ar,mo=void 0;if(en&&Wt(Fn)){if(ho&=~Xr,!ho)return Ut;if(Dr.length<=2&&vr(Dr[Br^1]))return Dr[Br^1];mo=Gt(Mn,Br,Dr)}else if(!en&&!Wt(Fn)){if(Dr.length>=dt)return Lr(Ur,Zr,Fn,Ar,Dr);ho|=Xr,mo=Pt(Mn,Br,Fn,Dr)}else mo=Lt(Mn,Br,Fn,Dr);return Mn?(this.mask=ho,this.children=mo,this):Kt(Ur,ho,mo)},cr=function(Ur,pn,bn,mr,tr,ar,yr){var Ar=this.size,Dr=this.children,Zr=Tt(bn,tr),Xr=Dr[Zr],Br=(Xr||Ut)._modify(Ur,pn,bn+nt,mr,tr,ar,yr);if(Xr===Br)return this;var en=Tr(Ur,this),Pn=void 0;if(Wt(Xr)&&!Wt(Br))++Ar,Pn=Lt(en,Zr,Br,Dr);else if(!Wt(Xr)&&Wt(Br)){if(--Ar,Ar<=ot)return Er(Ur,Ar,Zr,Dr);Pn=Lt(en,Zr,Ut,Dr)}else Pn=Lt(en,Zr,Br,Dr);return en?(this.size=Ar,this.children=Pn,this):ur(Ur,Ar,Pn)};Ut._modify=function(qr,Ur,pn,bn,mr,tr,ar){var yr=bn();return yr===mt?Ut:(++ar.value,nr(qr,mr,tr,yr))};function sr(qr,Ur,pn,bn,mr){this._editable=qr,this._edit=Ur,this._config=pn,this._root=bn,this._size=mr}sr.prototype.setTree=function(qr,Ur){return this._editable?(this._root=qr,this._size=Ur,this):qr===this._root?this:new sr(this._editable,this._edit,this._config,qr,Ur)};var dr=rt.tryGetHash=function(qr,Ur,pn,bn){for(var mr=bn._root,tr=0,ar=bn._config.keyEq;;)switch(mr.type){case $t:return ar(pn,mr.key)?mr.value:qr;case It:{if(Ur===mr.hash)for(var yr=mr.children,Ar=0,Dr=yr.length;Ar<Dr;++Ar){var Zr=yr[Ar];if(ar(pn,Zr.key))return Zr.value}return qr}case Ot:{var Xr=Tt(tr,Ur),Br=Ft(Xr);if(mr.mask&Br){mr=mr.children[Mt(mr.mask,Br)],tr+=nt;break}return qr}case Vt:{if(mr=mr.children[Tt(tr,Ur)],mr){tr+=nt;break}return qr}default:return qr}};sr.prototype.tryGetHash=function(qr,Ur,pn){return dr(qr,Ur,pn,this)};var Rr=rt.tryGet=function(qr,Ur,pn){return dr(qr,pn._config.hash(Ur),Ur,pn)};sr.prototype.tryGet=function(qr,Ur){return Rr(qr,Ur,this)};var jr=rt.getHash=function(qr,Ur,pn){return dr(void 0,qr,Ur,pn)};sr.prototype.getHash=function(qr,Ur){return jr(qr,Ur,this)},rt.get=function(qr,Ur){return dr(void 0,Ur._config.hash(qr),qr,Ur)},sr.prototype.get=function(qr,Ur){return Rr(Ur,qr,this)};var Sr=rt.has=function(qr,Ur,pn){return dr(mt,qr,Ur,pn)!==mt};sr.prototype.hasHash=function(qr,Ur){return Sr(qr,Ur,this)};var dn=rt.has=function(qr,Ur){return Sr(Ur._config.hash(qr),qr,Ur)};sr.prototype.has=function(qr){return dn(qr,this)};var Qr=function(Ur,pn){return Ur===pn};rt.make=function(qr){return new sr(0,0,{keyEq:qr&&qr.keyEq||Qr,hash:qr&&qr.hash||Et},Ut,0)},rt.empty=rt.make();var gn=rt.isEmpty=function(qr){return qr&&!!Wt(qr._root)};sr.prototype.isEmpty=function(){return gn(this)};var ln=rt.modifyHash=function(qr,Ur,pn,bn){var mr={value:bn._size},tr=bn._root._modify(bn._editable?bn._edit:NaN,bn._config.keyEq,0,qr,Ur,pn,mr);return bn.setTree(tr,mr.value)};sr.prototype.modifyHash=function(qr,Ur,pn){return ln(pn,qr,Ur,this)};var Kr=rt.modify=function(qr,Ur,pn){return ln(qr,pn._config.hash(Ur),Ur,pn)};sr.prototype.modify=function(qr,Ur){return Kr(Ur,qr,this)};var cn=rt.setHash=function(qr,Ur,pn,bn){return ln(xt(pn),qr,Ur,bn)};sr.prototype.setHash=function(qr,Ur,pn){return cn(qr,Ur,pn,this)};var En=rt.set=function(qr,Ur,pn){return cn(pn._config.hash(qr),qr,Ur,pn)};sr.prototype.set=function(qr,Ur){return En(qr,Ur,this)};var yn=xt(mt),Rn=rt.removeHash=function(qr,Ur,pn){return ln(yn,qr,Ur,pn)};sr.prototype.removeHash=sr.prototype.deleteHash=function(qr,Ur){return Rn(qr,Ur,this)};var Zn=rt.remove=function(qr,Ur){return Rn(Ur._config.hash(qr),qr,Ur)};sr.prototype.remove=sr.prototype.delete=function(qr){return Zn(qr,this)};var jn=rt.beginMutation=function(qr){return new sr(qr._editable+1,qr._edit+1,qr._config,qr._root,qr._size)};sr.prototype.beginMutation=function(){return jn(this)};var so=rt.endMutation=function(qr){return qr._editable=qr._editable&&qr._editable-1,qr};sr.prototype.endMutation=function(){return so(this)};var Eo=rt.mutate=function(qr,Ur){var pn=jn(Ur);return qr(pn),so(pn)};sr.prototype.mutate=function(qr){return Eo(qr,this)};var _i=function(Ur){return Ur&&po(Ur[0],Ur[1],Ur[2],Ur[3],Ur[4])},po=function(Ur,pn,bn,mr,tr){for(;bn<Ur;){var ar=pn[bn++];if(ar&&!Wt(ar))return Mo(ar,mr,[Ur,pn,bn,mr,tr])}return _i(tr)},Mo=function(Ur,pn,bn){switch(Ur.type){case $t:return{value:pn(Ur),rest:bn};case It:case Vt:case Ot:var mr=Ur.children;return po(mr.length,mr,0,pn,bn);default:return _i(bn)}},yo={done:!0};function mn(qr){this.v=qr}mn.prototype.next=function(){if(!this.v)return yo;var qr=this.v;return this.v=_i(qr.rest),qr},mn.prototype[Symbol.iterator]=function(){return this};var Bn=function(Ur,pn){return new mn(Mo(Ur._root,pn))},no=function(Ur){return[Ur.key,Ur.value]},eo=rt.entries=function(qr){return Bn(qr,no)};sr.prototype.entries=sr.prototype[Symbol.iterator]=function(){return eo(this)};var to=function(Ur){return Ur.key},Yn=rt.keys=function(qr){return Bn(qr,to)};sr.prototype.keys=function(){return Yn(this)};var Hr=function(Ur){return Ur.value},tn=rt.values=sr.prototype.values=function(qr){return Bn(qr,Hr)};sr.prototype.values=function(){return tn(this)};var fn=rt.fold=function(qr,Ur,pn){var bn=pn._root;if(bn.type===$t)return qr(Ur,bn.value,bn.key);for(var mr=[bn.children],tr=void 0;tr=mr.pop();)for(var ar=0,yr=tr.length;ar<yr;){var Ar=tr[ar++];Ar&&Ar.type&&(Ar.type===$t?Ur=qr(Ur,Ar.value,Ar.key):mr.push(Ar.children))}return Ur};sr.prototype.fold=function(qr,Ur){return fn(qr,Ur,this)};var Vn=rt.forEach=function(qr,Ur){return fn(function(pn,bn,mr){return qr(bn,mr,Ur)},null,Ur)};sr.prototype.forEach=function(qr){return Vn(qr,this)};var Kn=rt.count=function(qr){return qr._size};sr.prototype.count=function(){return Kn(this)},Object.defineProperty(sr.prototype,"size",{get:sr.prototype.count}),et.exports?et.exports=rt:(void 0).hamt=rt});class BuiltInMap{constructor(tt){_defineProperty$b(this,"_map",void 0),this._map=new Map(tt==null?void 0:tt.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(tt){return this._map.get(tt)}has(tt){return this._map.has(tt)}set(tt,rt){return this._map.set(tt,rt),this}delete(tt){return this._map.delete(tt),this}clone(){return persistentMap(this)}toMap(){return new Map(this._map)}}class HashArrayMappedTrieMap{constructor(tt){if(_defineProperty$b(this,"_hamt",hamt_1.empty.beginMutation()),tt instanceof HashArrayMappedTrieMap){const rt=tt._hamt.endMutation();tt._hamt=rt.beginMutation(),this._hamt=rt.beginMutation()}else if(tt)for(const[rt,nt]of tt.entries())this._hamt.set(rt,nt)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(tt){return this._hamt.get(tt)}has(tt){return this._hamt.has(tt)}set(tt,rt){return this._hamt.set(tt,rt),this}delete(tt){return this._hamt.delete(tt),this}clone(){return persistentMap(this)}toMap(){return new Map(this._hamt)}}function persistentMap(et){return Recoil_gkx("recoil_hamt_2020")?new HashArrayMappedTrieMap(et):new BuiltInMap(et)}var Recoil_PersistentMap={persistentMap},Recoil_PersistentMap_1=Recoil_PersistentMap.persistentMap,Recoil_PersistentMap$1=Object.freeze({__proto__:null,persistentMap:Recoil_PersistentMap_1});function differenceSets(et,...tt){const rt=new Set;e:for(const nt of et){for(const at of tt)if(at.has(nt))continue e;rt.add(nt)}return rt}var Recoil_differenceSets=differenceSets;function mapMap(et,tt){const rt=new Map;return et.forEach((nt,at)=>{rt.set(at,tt(nt,at))}),rt}var Recoil_mapMap=mapMap;function makeGraph(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function cloneGraph(et){return{nodeDeps:Recoil_mapMap(et.nodeDeps,tt=>new Set(tt)),nodeToNodeSubscriptions:Recoil_mapMap(et.nodeToNodeSubscriptions,tt=>new Set(tt))}}function mergeDepsIntoGraph(et,tt,rt,nt){const{nodeDeps:at,nodeToNodeSubscriptions:lt}=rt,dt=at.get(et);if(dt&&nt&&dt!==nt.nodeDeps.get(et))return;at.set(et,tt);const ot=dt==null?tt:Recoil_differenceSets(tt,dt);for(const mt of ot)lt.has(mt)||lt.set(mt,new Set),Recoil_nullthrows(lt.get(mt)).add(et);if(dt){const mt=Recoil_differenceSets(dt,tt);for(const xt of mt){if(!lt.has(xt))return;const Et=Recoil_nullthrows(lt.get(xt));Et.delete(et),Et.size===0&&lt.delete(xt)}}}function saveDepsToStore(et,tt,rt,nt){var at,lt,dt,ot;const mt=rt.getState();nt===mt.currentTree.version||nt===((at=mt.nextTree)===null||at===void 0?void 0:at.version)||((lt=mt.previousTree)===null||lt===void 0||lt.version);const xt=rt.getGraph(nt);if(mergeDepsIntoGraph(et,tt,xt),nt===((dt=mt.previousTree)===null||dt===void 0?void 0:dt.version)){const At=rt.getGraph(mt.currentTree.version);mergeDepsIntoGraph(et,tt,At,xt)}if(nt===((ot=mt.previousTree)===null||ot===void 0?void 0:ot.version)||nt===mt.currentTree.version){var Et;const At=(Et=mt.nextTree)===null||Et===void 0?void 0:Et.version;if(At!==void 0){const Tt=rt.getGraph(At);mergeDepsIntoGraph(et,tt,Tt,xt)}}}var Recoil_Graph={cloneGraph,graph:makeGraph,saveDepsToStore};let nextTreeStateVersion=0;const getNextTreeStateVersion=()=>nextTreeStateVersion++;let nextStoreID=0;const getNextStoreID=()=>nextStoreID++;let nextComponentID=0;const getNextComponentID=()=>nextComponentID++;var Recoil_Keys={getNextTreeStateVersion,getNextStoreID,getNextComponentID};const{persistentMap:persistentMap$1}=Recoil_PersistentMap$1,{graph}=Recoil_Graph,{getNextTreeStateVersion:getNextTreeStateVersion$1}=Recoil_Keys;function makeEmptyTreeState(){const et=getNextTreeStateVersion$1();return{version:et,stateID:et,transactionMetadata:{},dirtyAtoms:new Set,atomValues:persistentMap$1(),nonvalidatedAtoms:persistentMap$1()}}function makeEmptyStoreState(){const et=makeEmptyTreeState();return{currentTree:et,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(et.version,graph()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Recoil_State={makeEmptyTreeState,makeEmptyStoreState,getNextTreeStateVersion:getNextTreeStateVersion$1};class RetentionZone{}function retentionZone(){return new RetentionZone}var Recoil_RetentionZone={RetentionZone,retentionZone};function setByAddingToSet(et,tt){const rt=new Set(et);return rt.add(tt),rt}function setByDeletingFromSet(et,tt){const rt=new Set(et);return rt.delete(tt),rt}function mapBySettingInMap(et,tt,rt){const nt=new Map(et);return nt.set(tt,rt),nt}function mapByUpdatingInMap(et,tt,rt){const nt=new Map(et);return nt.set(tt,rt(nt.get(tt))),nt}function mapByDeletingFromMap(et,tt){const rt=new Map(et);return rt.delete(tt),rt}function mapByDeletingMultipleFromMap(et,tt){const rt=new Map(et);return tt.forEach(nt=>rt.delete(nt)),rt}var Recoil_CopyOnWrite={setByAddingToSet,setByDeletingFromSet,mapBySettingInMap,mapByUpdatingInMap,mapByDeletingFromMap,mapByDeletingMultipleFromMap};function*filterIterable(et,tt){let rt=0;for(const nt of et)tt(nt,rt++)&&(yield nt)}var Recoil_filterIterable=filterIterable;function lazyProxy(et,tt){return new Proxy(et,{get:(nt,at)=>(!(at in nt)&&at in tt&&(nt[at]=tt[at]()),nt[at]),ownKeys:nt=>Object.keys(nt)})}var Recoil_lazyProxy=lazyProxy;const{getNode:getNode$1,getNodeMaybe:getNodeMaybe$1,recoilValuesForKeys:recoilValuesForKeys$1}=Recoil_Node,{RetentionZone:RetentionZone$1}=Recoil_RetentionZone,{setByAddingToSet:setByAddingToSet$1}=Recoil_CopyOnWrite,emptySet=Object.freeze(new Set);class ReadOnlyRecoilValueError extends Error{}function initializeRetentionForNode(et,tt,rt){if(!Recoil_gkx("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:nt}=et.getState().retention;function at(lt){let dt=nt.get(lt);dt||nt.set(lt,dt=new Set),dt.add(tt)}if(rt instanceof RetentionZone$1)at(rt);else if(Array.isArray(rt))for(const lt of rt)at(lt);return()=>{if(!Recoil_gkx("recoil_memory_managament_2020"))return;const{retention:lt}=et.getState();function dt(ot){const mt=lt.nodesRetainedByZone.get(ot);mt==null||mt.delete(tt),mt&&mt.size===0&&lt.nodesRetainedByZone.delete(ot)}if(rt instanceof RetentionZone$1)dt(rt);else if(Array.isArray(rt))for(const ot of rt)dt(ot)}}function initializeNodeIfNewToStore(et,tt,rt,nt){const at=et.getState();if(at.nodeCleanupFunctions.has(rt))return;const lt=getNode$1(rt),dt=initializeRetentionForNode(et,rt,lt.retainedBy),ot=lt.init(et,tt,nt);at.nodeCleanupFunctions.set(rt,()=>{ot(),dt()})}function initializeNode(et,tt,rt){initializeNodeIfNewToStore(et,et.getState().currentTree,tt,rt)}function cleanUpNode(et,tt){var rt;const nt=et.getState();(rt=nt.nodeCleanupFunctions.get(tt))===null||rt===void 0||rt(),nt.nodeCleanupFunctions.delete(tt)}function getNodeLoadable(et,tt,rt){return initializeNodeIfNewToStore(et,tt,rt,"get"),getNode$1(rt).get(et,tt)}function peekNodeLoadable(et,tt,rt){return getNode$1(rt).peek(et,tt)}function setUnvalidatedAtomValue_DEPRECATED(et,tt,rt){var nt;const at=getNodeMaybe$1(tt);return at==null||(nt=at.invalidate)===null||nt===void 0||nt.call(at,et),{...et,atomValues:et.atomValues.clone().delete(tt),nonvalidatedAtoms:et.nonvalidatedAtoms.clone().set(tt,rt),dirtyAtoms:setByAddingToSet$1(et.dirtyAtoms,tt)}}function setNodeValue(et,tt,rt,nt){const at=getNode$1(rt);if(at.set==null)throw new ReadOnlyRecoilValueError(`Attempt to set read-only RecoilValue: ${rt}`);const lt=at.set;return initializeNodeIfNewToStore(et,tt,rt,"set"),lt(et,tt,nt)}function peekNodeInfo(et,tt,rt){const nt=et.getState(),at=et.getGraph(tt.version),lt=getNode$1(rt).nodeType;return Recoil_lazyProxy({type:lt},{loadable:()=>peekNodeLoadable(et,tt,rt),isActive:()=>nt.knownAtoms.has(rt)||nt.knownSelectors.has(rt),isSet:()=>lt==="selector"?!1:tt.atomValues.has(rt),isModified:()=>tt.dirtyAtoms.has(rt),deps:()=>{var dt;return recoilValuesForKeys$1((dt=at.nodeDeps.get(rt))!==null&&dt!==void 0?dt:[])},subscribers:()=>{var dt,ot;return{nodes:recoilValuesForKeys$1(Recoil_filterIterable(getDownstreamNodes(et,tt,new Set([rt])),mt=>mt!==rt)),components:Recoil_mapIterable((dt=(ot=nt.nodeToComponentSubscriptions.get(rt))===null||ot===void 0?void 0:ot.values())!==null&&dt!==void 0?dt:[],([mt])=>({name:mt}))}}})}function getDownstreamNodes(et,tt,rt){const nt=new Set,at=Array.from(rt),lt=et.getGraph(tt.version);for(let ot=at.pop();ot;ot=at.pop()){var dt;nt.add(ot);const mt=(dt=lt.nodeToNodeSubscriptions.get(ot))!==null&&dt!==void 0?dt:emptySet;for(const xt of mt)nt.has(xt)||at.push(xt)}return nt}var Recoil_FunctionalCore={getNodeLoadable,peekNodeLoadable,setNodeValue,initializeNode,cleanUpNode,setUnvalidatedAtomValue_DEPRECATED,peekNodeInfo,getDownstreamNodes};let _invalidateMemoizedSnapshot=null;function setInvalidateMemoizedSnapshot(et){_invalidateMemoizedSnapshot=et}function invalidateMemoizedSnapshot(){var et;(et=_invalidateMemoizedSnapshot)===null||et===void 0||et()}var Recoil_SnapshotCache={setInvalidateMemoizedSnapshot,invalidateMemoizedSnapshot};const{getDownstreamNodes:getDownstreamNodes$1,getNodeLoadable:getNodeLoadable$1,setNodeValue:setNodeValue$1}=Recoil_FunctionalCore,{getNextComponentID:getNextComponentID$1}=Recoil_Keys,{getNode:getNode$2,getNodeMaybe:getNodeMaybe$2}=Recoil_Node,{DefaultValue:DefaultValue$1}=Recoil_Node,{reactMode:reactMode$1}=Recoil_ReactMode,{AbstractRecoilValue:AbstractRecoilValue$1,RecoilState:RecoilState$1,RecoilValueReadOnly:RecoilValueReadOnly$1,isRecoilValue:isRecoilValue$1}=Recoil_RecoilValue$1,{invalidateMemoizedSnapshot:invalidateMemoizedSnapshot$1}=Recoil_SnapshotCache;function getRecoilValueAsLoadable(et,{key:tt},rt=et.getState().currentTree){var nt,at;const lt=et.getState();rt.version===lt.currentTree.version||rt.version===((nt=lt.nextTree)===null||nt===void 0?void 0:nt.version)||(rt.version,(at=lt.previousTree)===null||at===void 0||at.version);const dt=getNodeLoadable$1(et,rt,tt);return dt.state==="loading"&&dt.contents.catch(()=>{}),dt}function applyAtomValueWrites(et,tt){const rt=et.clone();return tt.forEach((nt,at)=>{nt.state==="hasValue"&&nt.contents instanceof DefaultValue$1?rt.delete(at):rt.set(at,nt)}),rt}function valueFromValueOrUpdater(et,tt,{key:rt},nt){if(typeof nt=="function"){const at=getNodeLoadable$1(et,tt,rt);if(at.state==="loading"){const lt=`Tried to set atom or selector "${rt}" using an updater function while the current state is pending, this is not currently supported.`;throw Recoil_err(lt)}else if(at.state==="hasError")throw at.contents;return nt(at.contents)}else return nt}function applyAction(et,tt,rt){if(rt.type==="set"){const{recoilValue:at,valueOrUpdater:lt}=rt,dt=valueFromValueOrUpdater(et,tt,at,lt),ot=setNodeValue$1(et,tt,at.key,dt);for(const[mt,xt]of ot.entries())writeLoadableToTreeState(tt,mt,xt)}else if(rt.type==="setLoadable"){const{recoilValue:{key:at},loadable:lt}=rt;writeLoadableToTreeState(tt,at,lt)}else if(rt.type==="markModified"){const{recoilValue:{key:at}}=rt;tt.dirtyAtoms.add(at)}else if(rt.type==="setUnvalidated"){var nt;const{recoilValue:{key:at},unvalidatedValue:lt}=rt,dt=getNodeMaybe$2(at);dt==null||(nt=dt.invalidate)===null||nt===void 0||nt.call(dt,tt),tt.atomValues.delete(at),tt.nonvalidatedAtoms.set(at,lt),tt.dirtyAtoms.add(at)}else Recoil_recoverableViolation(`Unknown action ${rt.type}`)}function writeLoadableToTreeState(et,tt,rt){rt.state==="hasValue"&&rt.contents instanceof DefaultValue$1?et.atomValues.delete(tt):et.atomValues.set(tt,rt),et.dirtyAtoms.add(tt),et.nonvalidatedAtoms.delete(tt)}function applyActionsToStore(et,tt){et.replaceState(rt=>{const nt=copyTreeState(rt);for(const at of tt)applyAction(et,nt,at);return invalidateDownstreams(et,nt),invalidateMemoizedSnapshot$1(),nt})}function queueOrPerformStateUpdate(et,tt){if(batchStack.length){const rt=batchStack[batchStack.length-1];let nt=rt.get(et);nt||rt.set(et,nt=[]),nt.push(tt)}else applyActionsToStore(et,[tt])}const batchStack=[];function batchStart(){const et=new Map;return batchStack.push(et),()=>{for(const[tt,rt]of et)applyActionsToStore(tt,rt);batchStack.pop()}}function copyTreeState(et){return{...et,atomValues:et.atomValues.clone(),nonvalidatedAtoms:et.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(et.dirtyAtoms)}}function invalidateDownstreams(et,tt){const rt=getDownstreamNodes$1(et,tt,tt.dirtyAtoms);for(const lt of rt){var nt,at;(nt=getNodeMaybe$2(lt))===null||nt===void 0||(at=nt.invalidate)===null||at===void 0||at.call(nt,tt)}}function setRecoilValue(et,tt,rt){queueOrPerformStateUpdate(et,{type:"set",recoilValue:tt,valueOrUpdater:rt})}function setRecoilValueLoadable(et,tt,rt){if(rt instanceof DefaultValue$1)return setRecoilValue(et,tt,rt);queueOrPerformStateUpdate(et,{type:"setLoadable",recoilValue:tt,loadable:rt})}function markRecoilValueModified(et,tt){queueOrPerformStateUpdate(et,{type:"markModified",recoilValue:tt})}function setUnvalidatedRecoilValue(et,tt,rt){queueOrPerformStateUpdate(et,{type:"setUnvalidated",recoilValue:tt,unvalidatedValue:rt})}function subscribeToRecoilValue(et,{key:tt},rt,nt=null){const at=getNextComponentID$1(),lt=et.getState();lt.nodeToComponentSubscriptions.has(tt)||lt.nodeToComponentSubscriptions.set(tt,new Map),Recoil_nullthrows(lt.nodeToComponentSubscriptions.get(tt)).set(at,[nt??"<not captured>",rt]);const dt=reactMode$1();if(dt.early&&(dt.mode==="LEGACY"||dt.mode==="MUTABLE_SOURCE")){const ot=et.getState().nextTree;ot&&ot.dirtyAtoms.has(tt)&&rt(ot)}return{release:()=>{const ot=et.getState(),mt=ot.nodeToComponentSubscriptions.get(tt);mt===void 0||!mt.has(at)||(mt.delete(at),mt.size===0&&ot.nodeToComponentSubscriptions.delete(tt))}}}function refreshRecoilValue(et,tt){var rt;const{currentTree:nt}=et.getState(),at=getNode$2(tt.key);(rt=at.clearCache)===null||rt===void 0||rt.call(at,et,nt)}var Recoil_RecoilValueInterface={RecoilValueReadOnly:RecoilValueReadOnly$1,AbstractRecoilValue:AbstractRecoilValue$1,RecoilState:RecoilState$1,getRecoilValueAsLoadable,setRecoilValue,setRecoilValueLoadable,markRecoilValueModified,setUnvalidatedRecoilValue,subscribeToRecoilValue,isRecoilValue:isRecoilValue$1,applyAtomValueWrites,batchStart,writeLoadableToTreeState,invalidateDownstreams,copyTreeState,refreshRecoilValue};function someSet(et,tt,rt){const nt=et.entries();let at=nt.next();for(;!at.done;){const lt=at.value;if(tt.call(rt,lt[1],lt[0],et))return!0;at=nt.next()}return!1}var Recoil_someSet=someSet;const{cleanUpNode:cleanUpNode$1}=Recoil_FunctionalCore,{deleteNodeConfigIfPossible:deleteNodeConfigIfPossible$1,getNode:getNode$3}=Recoil_Node,{RetentionZone:RetentionZone$2}=Recoil_RetentionZone,SUSPENSE_TIMEOUT_MS=12e4,emptySet$1=new Set;function releaseRetainablesNowOnCurrentTree(et,tt){const rt=et.getState(),nt=rt.currentTree;if(rt.nextTree)return;const at=new Set;for(const dt of tt)if(dt instanceof RetentionZone$2)for(const ot of nodesRetainedByZone(rt,dt))at.add(ot);else at.add(dt);const lt=findReleasableNodes(et,at);for(const dt of lt)releaseNode(et,nt,dt)}function findReleasableNodes(et,tt){const rt=et.getState(),nt=rt.currentTree,at=et.getGraph(nt.version),lt=new Set,dt=new Set;return ot(tt),lt;function ot(mt){const xt=new Set,Et=getDownstreamNodesInTopologicalOrder(et,nt,mt,lt,dt);for(const Mt of Et){var At;if(getNode$3(Mt).retainedBy==="recoilRoot"){dt.add(Mt);continue}if(((At=rt.retention.referenceCounts.get(Mt))!==null&&At!==void 0?At:0)>0){dt.add(Mt);continue}if(zonesThatCouldRetainNode(Mt).some(Gt=>rt.retention.referenceCounts.get(Gt))){dt.add(Mt);continue}const Lt=at.nodeToNodeSubscriptions.get(Mt);if(Lt&&Recoil_someSet(Lt,Gt=>dt.has(Gt))){dt.add(Mt);continue}lt.add(Mt),xt.add(Mt)}const Tt=new Set;for(const Mt of xt)for(const Lt of(Ft=at.nodeDeps.get(Mt))!==null&&Ft!==void 0?Ft:emptySet$1){var Ft;lt.has(Lt)||Tt.add(Lt)}Tt.size&&ot(Tt)}}function getDownstreamNodesInTopologicalOrder(et,tt,rt,nt,at){const lt=et.getGraph(tt.version),dt=[],ot=new Set;for(;rt.size>0;)mt(Recoil_nullthrows(rt.values().next().value));return dt;function mt(xt){if(nt.has(xt)||at.has(xt)){rt.delete(xt);return}if(ot.has(xt))return;const Et=lt.nodeToNodeSubscriptions.get(xt);if(Et)for(const At of Et)mt(At);ot.add(xt),rt.delete(xt),dt.push(xt)}}function releaseNode(et,tt,rt){if(!Recoil_gkx("recoil_memory_managament_2020"))return;cleanUpNode$1(et,rt);const nt=et.getState();nt.knownAtoms.delete(rt),nt.knownSelectors.delete(rt),nt.nodeTransactionSubscriptions.delete(rt),nt.retention.referenceCounts.delete(rt);const at=zonesThatCouldRetainNode(rt);for(const mt of at){var lt;(lt=nt.retention.nodesRetainedByZone.get(mt))===null||lt===void 0||lt.delete(rt)}tt.atomValues.delete(rt),tt.dirtyAtoms.delete(rt),tt.nonvalidatedAtoms.delete(rt);const dt=nt.graphsByVersion.get(tt.version);if(dt){const mt=dt.nodeDeps.get(rt);if(mt!==void 0){dt.nodeDeps.delete(rt);for(const xt of mt){var ot;(ot=dt.nodeToNodeSubscriptions.get(xt))===null||ot===void 0||ot.delete(rt)}}dt.nodeToNodeSubscriptions.delete(rt)}deleteNodeConfigIfPossible$1(rt)}function nodesRetainedByZone(et,tt){var rt;return(rt=et.retention.nodesRetainedByZone.get(tt))!==null&&rt!==void 0?rt:emptySet$1}function zonesThatCouldRetainNode(et){const tt=getNode$3(et).retainedBy;return tt===void 0||tt==="components"||tt==="recoilRoot"?[]:tt instanceof RetentionZone$2?[tt]:tt}function scheduleOrPerformPossibleReleaseOfRetainable(et,tt){const rt=et.getState();rt.nextTree?rt.retention.retainablesToCheckForRelease.add(tt):releaseRetainablesNowOnCurrentTree(et,new Set([tt]))}function updateRetainCount(et,tt,rt){var nt;if(!Recoil_gkx("recoil_memory_managament_2020"))return;const at=et.getState().retention.referenceCounts,lt=((nt=at.get(tt))!==null&&nt!==void 0?nt:0)+rt;lt===0?updateRetainCountToZero(et,tt):at.set(tt,lt)}function updateRetainCountToZero(et,tt){if(!Recoil_gkx("recoil_memory_managament_2020"))return;et.getState().retention.referenceCounts.delete(tt),scheduleOrPerformPossibleReleaseOfRetainable(et,tt)}function releaseScheduledRetainablesNow(et){if(!Recoil_gkx("recoil_memory_managament_2020"))return;const tt=et.getState();releaseRetainablesNowOnCurrentTree(et,tt.retention.retainablesToCheckForRelease),tt.retention.retainablesToCheckForRelease.clear()}function retainedByOptionWithDefault(et){return et===void 0?"recoilRoot":et}var Recoil_Retention={SUSPENSE_TIMEOUT_MS,updateRetainCount,updateRetainCountToZero,releaseScheduledRetainablesNow,retainedByOptionWithDefault};const{unstable_batchedUpdates:unstable_batchedUpdates$1}=ReactDOM;var ReactBatchedUpdates={unstable_batchedUpdates:unstable_batchedUpdates$1};const{unstable_batchedUpdates:unstable_batchedUpdates$1$1}=ReactBatchedUpdates;var Recoil_ReactBatchedUpdates={unstable_batchedUpdates:unstable_batchedUpdates$1$1};const{batchStart:batchStart$1}=Recoil_RecoilValueInterface,{unstable_batchedUpdates:unstable_batchedUpdates$2}=Recoil_ReactBatchedUpdates;let batcher=unstable_batchedUpdates$2||(et=>et());const setBatcher=et=>{batcher=et},getBatcher=()=>batcher,batchUpdates=et=>{batcher(()=>{let tt=()=>{};try{tt=batchStart$1(),et()}finally{tt()}})};var Recoil_Batching={getBatcher,setBatcher,batchUpdates};function*concatIterables(et){for(const tt of et)for(const rt of tt)yield rt}var Recoil_concatIterables=concatIterables;const isSSR=typeof Window>"u"||typeof window>"u",isWindow=et=>!isSSR&&(et===window||et instanceof Window),isReactNative=typeof navigator<"u"&&navigator.product==="ReactNative";var Recoil_Environment={isSSR,isReactNative,isWindow};function memoizeWithArgsHash(et,tt){let rt;return(...nt)=>{rt||(rt={});const at=tt(...nt);return Object.hasOwnProperty.call(rt,at)||(rt[at]=et(...nt)),rt[at]}}function memoizeOneWithArgsHash(et,tt){let rt,nt;return(...at)=>{const lt=tt(...at);return rt===lt||(rt=lt,nt=et(...at)),nt}}function memoizeOneWithArgsHashAndInvalidation(et,tt){let rt,nt;return[(...dt)=>{const ot=tt(...dt);return rt===ot||(rt=ot,nt=et(...dt)),nt},()=>{rt=null}]}var Recoil_Memoize={memoizeWithArgsHash,memoizeOneWithArgsHash,memoizeOneWithArgsHashAndInvalidation};const{batchUpdates:batchUpdates$1}=Recoil_Batching,{initializeNode:initializeNode$1,peekNodeInfo:peekNodeInfo$1}=Recoil_FunctionalCore,{graph:graph$1}=Recoil_Graph,{getNextStoreID:getNextStoreID$1}=Recoil_Keys,{DEFAULT_VALUE:DEFAULT_VALUE$1,recoilValues:recoilValues$1,recoilValuesForKeys:recoilValuesForKeys$2}=Recoil_Node,{AbstractRecoilValue:AbstractRecoilValue$2,getRecoilValueAsLoadable:getRecoilValueAsLoadable$1,setRecoilValue:setRecoilValue$1,setUnvalidatedRecoilValue:setUnvalidatedRecoilValue$1}=Recoil_RecoilValueInterface,{updateRetainCount:updateRetainCount$1}=Recoil_Retention,{setInvalidateMemoizedSnapshot:setInvalidateMemoizedSnapshot$1}=Recoil_SnapshotCache,{getNextTreeStateVersion:getNextTreeStateVersion$2,makeEmptyStoreState:makeEmptyStoreState$1}=Recoil_State,{isSSR:isSSR$1}=Recoil_Environment,{memoizeOneWithArgsHashAndInvalidation:memoizeOneWithArgsHashAndInvalidation$1}=Recoil_Memoize;class Snapshot{constructor(tt,rt){_defineProperty$b(this,"_store",void 0),_defineProperty$b(this,"_refCount",1),_defineProperty$b(this,"getLoadable",nt=>(this.checkRefCount_INTERNAL(),getRecoilValueAsLoadable$1(this._store,nt))),_defineProperty$b(this,"getPromise",nt=>(this.checkRefCount_INTERNAL(),this.getLoadable(nt).toPromise())),_defineProperty$b(this,"getNodes_UNSTABLE",nt=>{if(this.checkRefCount_INTERNAL(),(nt==null?void 0:nt.isModified)===!0){if((nt==null?void 0:nt.isInitialized)===!1)return[];const dt=this._store.getState().currentTree;return recoilValuesForKeys$2(dt.dirtyAtoms)}const at=this._store.getState().knownAtoms,lt=this._store.getState().knownSelectors;return(nt==null?void 0:nt.isInitialized)==null?recoilValues$1.values():nt.isInitialized===!0?recoilValuesForKeys$2(Recoil_concatIterables([at,lt])):Recoil_filterIterable(recoilValues$1.values(),({key:dt})=>!at.has(dt)&&!lt.has(dt))}),_defineProperty$b(this,"getInfo_UNSTABLE",({key:nt})=>(this.checkRefCount_INTERNAL(),peekNodeInfo$1(this._store,this._store.getState().currentTree,nt))),_defineProperty$b(this,"map",nt=>{this.checkRefCount_INTERNAL();const at=new MutableSnapshot(this,batchUpdates$1);return nt(at),at}),_defineProperty$b(this,"asyncMap",async nt=>{this.checkRefCount_INTERNAL();const at=new MutableSnapshot(this,batchUpdates$1);return at.retain(),await nt(at),at.autoRelease_INTERNAL(),at}),this._store={storeID:getNextStoreID$1(),parentStoreID:rt,getState:()=>tt,replaceState:nt=>{tt.currentTree=nt(tt.currentTree)},getGraph:nt=>{const at=tt.graphsByVersion;if(at.has(nt))return Recoil_nullthrows(at.get(nt));const lt=graph$1();return at.set(nt,lt),lt},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Recoil_err("Cannot subscribe to Snapshots")}};for(const nt of this._store.getState().knownAtoms)initializeNode$1(this._store,nt,"get"),updateRetainCount$1(this._store,nt,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let tt=!1;return()=>{tt||(tt=!0,this._release())}}autoRelease_INTERNAL(){isSSR$1||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(tt=>tt()),this._store.getState().nodeCleanupFunctions.clear(),!Recoil_gkx("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Recoil_gkx("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function cloneStoreState(et,tt,rt=!1){const nt=et.getState(),at=rt?getNextTreeStateVersion$2():tt.version;return{currentTree:{version:rt?at:tt.version,stateID:rt?at:tt.stateID,transactionMetadata:{...tt.transactionMetadata},dirtyAtoms:new Set(tt.dirtyAtoms),atomValues:tt.atomValues.clone(),nonvalidatedAtoms:tt.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(nt.knownAtoms),knownSelectors:new Set(nt.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(at,et.getGraph(tt.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Recoil_mapIterable(nt.nodeCleanupFunctions.entries(),([lt])=>[lt,()=>{}]))}}function freshSnapshot(et){const tt=new Snapshot(makeEmptyStoreState$1());return et!=null?tt.map(et):tt}const[memoizedCloneSnapshot,invalidateMemoizedSnapshot$2]=memoizeOneWithArgsHashAndInvalidation$1((et,tt)=>{var rt;const nt=et.getState(),at=tt==="latest"?(rt=nt.nextTree)!==null&&rt!==void 0?rt:nt.currentTree:Recoil_nullthrows(nt.previousTree);return new Snapshot(cloneStoreState(et,at),et.storeID)},(et,tt)=>{var rt,nt;return String(tt)+String(et.storeID)+String((rt=et.getState().nextTree)===null||rt===void 0?void 0:rt.version)+String(et.getState().currentTree.version)+String((nt=et.getState().previousTree)===null||nt===void 0?void 0:nt.version)});setInvalidateMemoizedSnapshot$1(invalidateMemoizedSnapshot$2);function cloneSnapshot(et,tt="latest"){const rt=memoizedCloneSnapshot(et,tt);return rt.isRetained()?rt:(invalidateMemoizedSnapshot$2(),memoizedCloneSnapshot(et,tt))}class MutableSnapshot extends Snapshot{constructor(tt,rt){super(cloneStoreState(tt.getStore_INTERNAL(),tt.getStore_INTERNAL().getState().currentTree,!0),tt.getStoreID()),_defineProperty$b(this,"_batch",void 0),_defineProperty$b(this,"set",(nt,at)=>{this.checkRefCount_INTERNAL();const lt=this.getStore_INTERNAL();this._batch(()=>{updateRetainCount$1(lt,nt.key,1),setRecoilValue$1(this.getStore_INTERNAL(),nt,at)})}),_defineProperty$b(this,"reset",nt=>{this.checkRefCount_INTERNAL();const at=this.getStore_INTERNAL();this._batch(()=>{updateRetainCount$1(at,nt.key,1),setRecoilValue$1(this.getStore_INTERNAL(),nt,DEFAULT_VALUE$1)})}),_defineProperty$b(this,"setUnvalidatedAtomValues_DEPRECATED",nt=>{this.checkRefCount_INTERNAL();const at=this.getStore_INTERNAL();batchUpdates$1(()=>{for(const[lt,dt]of nt.entries())updateRetainCount$1(at,lt,1),setUnvalidatedRecoilValue$1(at,new AbstractRecoilValue$2(lt),dt)})}),this._batch=rt}}var Recoil_Snapshot={Snapshot,MutableSnapshot,freshSnapshot,cloneSnapshot},Recoil_Snapshot_1=Recoil_Snapshot.Snapshot,Recoil_Snapshot_2=Recoil_Snapshot.MutableSnapshot,Recoil_Snapshot_3=Recoil_Snapshot.freshSnapshot,Recoil_Snapshot_4=Recoil_Snapshot.cloneSnapshot,Recoil_Snapshot$1=Object.freeze({__proto__:null,Snapshot:Recoil_Snapshot_1,MutableSnapshot:Recoil_Snapshot_2,freshSnapshot:Recoil_Snapshot_3,cloneSnapshot:Recoil_Snapshot_4});function unionSets(...et){const tt=new Set;for(const rt of et)for(const nt of rt)tt.add(nt);return tt}var Recoil_unionSets=unionSets;const{useRef}=React;function useRefInitOnce(et){const tt=useRef(et);return tt.current===et&&typeof et=="function"&&(tt.current=et()),tt}var Recoil_useRefInitOnce=useRefInitOnce;const{getNextTreeStateVersion:getNextTreeStateVersion$3,makeEmptyStoreState:makeEmptyStoreState$2}=Recoil_State,{cleanUpNode:cleanUpNode$2,getDownstreamNodes:getDownstreamNodes$2,initializeNode:initializeNode$2,setNodeValue:setNodeValue$2,setUnvalidatedAtomValue_DEPRECATED:setUnvalidatedAtomValue_DEPRECATED$1}=Recoil_FunctionalCore,{graph:graph$2}=Recoil_Graph,{cloneGraph:cloneGraph$1}=Recoil_Graph,{getNextStoreID:getNextStoreID$2}=Recoil_Keys,{createMutableSource:createMutableSource$1,reactMode:reactMode$2}=Recoil_ReactMode,{applyAtomValueWrites:applyAtomValueWrites$1}=Recoil_RecoilValueInterface,{releaseScheduledRetainablesNow:releaseScheduledRetainablesNow$1}=Recoil_Retention,{freshSnapshot:freshSnapshot$1}=Recoil_Snapshot$1,{useCallback,useContext,useEffect,useMemo,useRef:useRef$1,useState}=React;function notInAContext(){throw Recoil_err("This component must be used inside a <RecoilRoot> component.")}const defaultStore=Object.freeze({storeID:getNextStoreID$2(),getState:notInAContext,replaceState:notInAContext,getGraph:notInAContext,subscribeToTransactions:notInAContext,addTransactionMetadata:notInAContext});let stateReplacerIsBeingExecuted=!1;function startNextTreeIfNeeded(et){if(stateReplacerIsBeingExecuted)throw Recoil_err("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const tt=et.getState();if(tt.nextTree===null){Recoil_gkx("recoil_memory_managament_2020")&&Recoil_gkx("recoil_release_on_cascading_update_killswitch_2021")&&tt.commitDepth>0&&releaseScheduledRetainablesNow$1(et);const rt=tt.currentTree.version,nt=getNextTreeStateVersion$3();tt.nextTree={...tt.currentTree,version:nt,stateID:nt,dirtyAtoms:new Set,transactionMetadata:{}},tt.graphsByVersion.set(nt,cloneGraph$1(Recoil_nullthrows(tt.graphsByVersion.get(rt))))}}const AppContext=React.createContext({current:defaultStore}),useStoreRef=()=>useContext(AppContext),MutableSourceContext=React.createContext(null);function useRecoilMutableSource(){return useContext(MutableSourceContext)}function notifyComponents(et,tt,rt){const nt=getDownstreamNodes$2(et,rt,rt.dirtyAtoms);for(const at of nt){const lt=tt.nodeToComponentSubscriptions.get(at);if(lt)for(const[dt,[ot,mt]]of lt)mt(rt)}}function sendEndOfBatchNotifications(et){const tt=et.getState(),rt=tt.currentTree,nt=rt.dirtyAtoms;if(nt.size){for(const[at,lt]of tt.nodeTransactionSubscriptions)if(nt.has(at))for(const[dt,ot]of lt)ot(et);for(const[at,lt]of tt.transactionSubscriptions)lt(et);(!reactMode$2().early||tt.suspendedComponentResolvers.size>0)&&(notifyComponents(et,tt,rt),tt.suspendedComponentResolvers.forEach(at=>at()),tt.suspendedComponentResolvers.clear())}tt.queuedComponentCallbacks_DEPRECATED.forEach(at=>at(rt)),tt.queuedComponentCallbacks_DEPRECATED.splice(0,tt.queuedComponentCallbacks_DEPRECATED.length)}function endBatch(et){const tt=et.getState();tt.commitDepth++;try{const{nextTree:rt}=tt;if(rt==null)return;tt.previousTree=tt.currentTree,tt.currentTree=rt,tt.nextTree=null,sendEndOfBatchNotifications(et),tt.previousTree!=null?tt.graphsByVersion.delete(tt.previousTree.version):Recoil_recoverableViolation("Ended batch with no previous state, which is unexpected","recoil"),tt.previousTree=null,Recoil_gkx("recoil_memory_managament_2020")&&rt==null&&releaseScheduledRetainablesNow$1(et)}finally{tt.commitDepth--}}function Batcher({setNotifyBatcherOfChange:et}){const tt=useStoreRef(),[,rt]=useState([]);return et(()=>rt({})),useEffect(()=>(et(()=>rt({})),()=>{et(()=>{})}),[et]),useEffect(()=>{Recoil_Queue.enqueueExecution("Batcher",()=>{endBatch(tt.current)})}),null}function initialStoreState_DEPRECATED(et,tt){const rt=makeEmptyStoreState$2();return tt({set:(nt,at)=>{const lt=rt.currentTree,dt=setNodeValue$2(et,lt,nt.key,at),ot=new Set(dt.keys()),mt=lt.nonvalidatedAtoms.clone();for(const xt of ot)mt.delete(xt);rt.currentTree={...lt,dirtyAtoms:Recoil_unionSets(lt.dirtyAtoms,ot),atomValues:applyAtomValueWrites$1(lt.atomValues,dt),nonvalidatedAtoms:mt}},setUnvalidatedAtomValues:nt=>{nt.forEach((at,lt)=>{rt.currentTree=setUnvalidatedAtomValue_DEPRECATED$1(rt.currentTree,lt,at)})}}),rt}function initialStoreState(et){const tt=freshSnapshot$1(et),rt=tt.getStore_INTERNAL().getState();return tt.retain(),rt.nodeCleanupFunctions.forEach(nt=>nt()),rt.nodeCleanupFunctions.clear(),rt}let nextID=0;function RecoilRoot_INTERNAL({initializeState_DEPRECATED:et,initializeState:tt,store_INTERNAL:rt,children:nt}){let at;const lt=Ft=>{const Mt=at.current.graphsByVersion;if(Mt.has(Ft))return Recoil_nullthrows(Mt.get(Ft));const Lt=graph$2();return Mt.set(Ft,Lt),Lt},dt=(Ft,Mt)=>{if(Mt==null){const{transactionSubscriptions:Lt}=At.current.getState(),Gt=nextID++;return Lt.set(Gt,Ft),{release:()=>{Lt.delete(Gt)}}}else{const{nodeTransactionSubscriptions:Lt}=At.current.getState();Lt.has(Mt)||Lt.set(Mt,new Map);const Gt=nextID++;return Recoil_nullthrows(Lt.get(Mt)).set(Gt,Ft),{release:()=>{const Pt=Lt.get(Mt);Pt&&(Pt.delete(Gt),Pt.size===0&&Lt.delete(Mt))}}}},ot=Ft=>{startNextTreeIfNeeded(At.current);for(const Mt of Object.keys(Ft))Recoil_nullthrows(At.current.getState().nextTree).transactionMetadata[Mt]=Ft[Mt]},mt=Ft=>{startNextTreeIfNeeded(At.current);const Mt=Recoil_nullthrows(at.current.nextTree);let Lt;try{stateReplacerIsBeingExecuted=!0,Lt=Ft(Mt)}finally{stateReplacerIsBeingExecuted=!1}Lt!==Mt&&(at.current.nextTree=Lt,reactMode$2().early&&notifyComponents(At.current,at.current,Lt),Recoil_nullthrows(xt.current)())},xt=useRef$1(null),Et=useCallback(Ft=>{xt.current=Ft},[xt]),At=Recoil_useRefInitOnce(()=>rt??{storeID:getNextStoreID$2(),getState:()=>at.current,replaceState:mt,getGraph:lt,subscribeToTransactions:dt,addTransactionMetadata:ot});rt!=null&&(At.current=rt),at=Recoil_useRefInitOnce(()=>et!=null?initialStoreState_DEPRECATED(At.current,et):tt!=null?initialStoreState(tt):makeEmptyStoreState$2());const Tt=useMemo(()=>createMutableSource$1==null?void 0:createMutableSource$1(at,()=>at.current.currentTree.version),[at]);return useEffect(()=>{const Ft=At.current;for(const Mt of new Set(Ft.getState().knownAtoms))initializeNode$2(Ft,Mt,"get");return()=>{for(const Mt of Ft.getState().knownAtoms)cleanUpNode$2(Ft,Mt)}},[At]),React.createElement(AppContext.Provider,{value:At},React.createElement(MutableSourceContext.Provider,{value:Tt},React.createElement(Batcher,{setNotifyBatcherOfChange:Et}),nt))}function RecoilRoot(et){const{override:tt,...rt}=et,nt=useStoreRef();return tt===!1&&nt.current!==defaultStore?et.children:React.createElement(RecoilRoot_INTERNAL,rt)}function useRecoilStoreID(){return useStoreRef().current.storeID}var Recoil_RecoilRoot={RecoilRoot,useStoreRef,useRecoilMutableSource,useRecoilStoreID,notifyComponents_FOR_TESTING:notifyComponents,sendEndOfBatchNotifications_FOR_TESTING:sendEndOfBatchNotifications};function shallowArrayEqual(et,tt){if(et===tt)return!0;if(et.length!==tt.length)return!1;for(let rt=0,nt=et.length;rt<nt;rt++)if(et[rt]!==tt[rt])return!1;return!0}var Recoil_shallowArrayEqual=shallowArrayEqual;const{useEffect:useEffect$1,useRef:useRef$2}=React;function usePrevious(et){const tt=useRef$2();return useEffect$1(()=>{tt.current=et}),tt.current}var Recoil_usePrevious=usePrevious;const{useStoreRef:useStoreRef$1}=Recoil_RecoilRoot,{SUSPENSE_TIMEOUT_MS:SUSPENSE_TIMEOUT_MS$1}=Recoil_Retention,{updateRetainCount:updateRetainCount$2}=Recoil_Retention,{RetentionZone:RetentionZone$3}=Recoil_RetentionZone,{useEffect:useEffect$2,useRef:useRef$3}=React,{isSSR:isSSR$2}=Recoil_Environment;function useRetain(et){if(Recoil_gkx("recoil_memory_managament_2020"))return useRetain_ACTUAL(et)}function useRetain_ACTUAL(et){const rt=(Array.isArray(et)?et:[et]).map(dt=>dt instanceof RetentionZone$3?dt:dt.key),nt=useStoreRef$1();useEffect$2(()=>{if(!Recoil_gkx("recoil_memory_managament_2020"))return;const dt=nt.current;if(at.current&&!isSSR$2)window.clearTimeout(at.current),at.current=null;else for(const ot of rt)updateRetainCount$2(dt,ot,1);return()=>{for(const ot of rt)updateRetainCount$2(dt,ot,-1)}},[nt,...rt]);const at=useRef$3(),lt=Recoil_usePrevious(rt);if(!isSSR$2&&(lt===void 0||!Recoil_shallowArrayEqual(lt,rt))){const dt=nt.current;for(const ot of rt)updateRetainCount$2(dt,ot,1);if(lt)for(const ot of lt)updateRetainCount$2(dt,ot,-1);at.current&&window.clearTimeout(at.current),at.current=window.setTimeout(()=>{at.current=null;for(const ot of rt)updateRetainCount$2(dt,ot,-1)},SUSPENSE_TIMEOUT_MS$1)}}var Recoil_useRetain=useRetain;function useComponentName(){return"<component name not available>"}var Recoil_useComponentName=useComponentName;const{batchUpdates:batchUpdates$2}=Recoil_Batching,{DEFAULT_VALUE:DEFAULT_VALUE$2}=Recoil_Node,{currentRendererSupportsUseSyncExternalStore:currentRendererSupportsUseSyncExternalStore$1,reactMode:reactMode$3,useMutableSource:useMutableSource$1,useSyncExternalStore:useSyncExternalStore$1}=Recoil_ReactMode,{useRecoilMutableSource:useRecoilMutableSource$1,useStoreRef:useStoreRef$2}=Recoil_RecoilRoot,{AbstractRecoilValue:AbstractRecoilValue$3,getRecoilValueAsLoadable:getRecoilValueAsLoadable$2,setRecoilValue:setRecoilValue$2,setUnvalidatedRecoilValue:setUnvalidatedRecoilValue$2,subscribeToRecoilValue:subscribeToRecoilValue$1}=Recoil_RecoilValueInterface,{useCallback:useCallback$1,useEffect:useEffect$3,useMemo:useMemo$1,useRef:useRef$4,useState:useState$1}=React,{setByAddingToSet:setByAddingToSet$2}=Recoil_CopyOnWrite,{isSSR:isSSR$3}=Recoil_Environment;function handleLoadable(et,tt,rt){if(et.state==="hasValue")return et.contents;throw et.state==="loading"?new Promise(at=>{const lt=rt.current.getState().suspendedComponentResolvers;lt.add(at),isSSR$3&&Recoil_isPromise(et.contents)&&et.contents.finally(()=>{lt.delete(at)})}):et.state==="hasError"?et.contents:Recoil_err(`Invalid value of loadable atom "${tt.key}"`)}function useRecoilInterface_DEPRECATED(){const et=Recoil_useComponentName(),tt=useStoreRef$2(),[,rt]=useState$1([]),nt=useRef$4(new Set);nt.current=new Set;const at=useRef$4(new Set),lt=useRef$4(new Map),dt=useCallback$1(mt=>{const xt=lt.current.get(mt);xt&&(xt.release(),lt.current.delete(mt))},[lt]),ot=useCallback$1((mt,xt)=>{lt.current.has(xt)&&rt([])},[]);return useEffect$3(()=>{const mt=tt.current;Recoil_differenceSets(nt.current,at.current).forEach(xt=>{if(lt.current.has(xt))return;const Et=subscribeToRecoilValue$1(mt,new AbstractRecoilValue$3(xt),Tt=>ot(Tt,xt),et);lt.current.set(xt,Et),mt.getState().nextTree?mt.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{ot(mt.getState(),xt)}):ot(mt.getState(),xt)}),Recoil_differenceSets(at.current,nt.current).forEach(xt=>{dt(xt)}),at.current=nt.current}),useEffect$3(()=>{const mt=lt.current;return Recoil_differenceSets(nt.current,new Set(mt.keys())).forEach(xt=>{const Et=subscribeToRecoilValue$1(tt.current,new AbstractRecoilValue$3(xt),At=>ot(At,xt),et);mt.set(xt,Et)}),()=>mt.forEach((xt,Et)=>dt(Et))},[et,tt,dt,ot]),useMemo$1(()=>{function mt(Mt){return Lt=>{setRecoilValue$2(tt.current,Mt,Lt)}}function xt(Mt){return()=>setRecoilValue$2(tt.current,Mt,DEFAULT_VALUE$2)}function Et(Mt){var Lt;nt.current.has(Mt.key)||(nt.current=setByAddingToSet$2(nt.current,Mt.key));const Gt=tt.current.getState();return getRecoilValueAsLoadable$2(tt.current,Mt,reactMode$3().early&&(Lt=Gt.nextTree)!==null&&Lt!==void 0?Lt:Gt.currentTree)}function At(Mt){const Lt=Et(Mt);return handleLoadable(Lt,Mt,tt)}function Tt(Mt){return[At(Mt),mt(Mt)]}function Ft(Mt){return[Et(Mt),mt(Mt)]}return{getRecoilValue:At,getRecoilValueLoadable:Et,getRecoilState:Tt,getRecoilStateLoadable:Ft,getSetRecoilState:mt,getResetRecoilState:xt}},[nt,tt])}const recoilComponentGetRecoilValueCount_FOR_TESTING={current:0};function useRecoilValueLoadable_SYNC_EXTERNAL_STORE(et){const tt=useStoreRef$2(),rt=Recoil_useComponentName(),nt=useCallback$1(()=>{var ot;const mt=tt.current,xt=mt.getState(),Et=reactMode$3().early&&(ot=xt.nextTree)!==null&&ot!==void 0?ot:xt.currentTree;return{loadable:getRecoilValueAsLoadable$2(mt,et,Et),key:et.key}},[tt,et]),at=useCallback$1(ot=>{let mt;return()=>{var xt,Et;const At=ot();return(xt=mt)!==null&&xt!==void 0&&xt.loadable.is(At.loadable)&&((Et=mt)===null||Et===void 0?void 0:Et.key)===At.key?mt:(mt=At,At)}},[]),lt=useMemo$1(()=>at(nt),[nt,at]),dt=useCallback$1(ot=>{const mt=tt.current;return subscribeToRecoilValue$1(mt,et,ot,rt).release},[tt,et,rt]);return useSyncExternalStore$1(dt,lt,lt).loadable}function useRecoilValueLoadable_MUTABLE_SOURCE(et){const tt=useStoreRef$2(),rt=useCallback$1(()=>{var xt;const Et=tt.current,At=Et.getState(),Tt=reactMode$3().early&&(xt=At.nextTree)!==null&&xt!==void 0?xt:At.currentTree;return getRecoilValueAsLoadable$2(Et,et,Tt)},[tt,et]),nt=useCallback$1(()=>rt(),[rt]),at=Recoil_useComponentName(),lt=useCallback$1((xt,Et)=>{const At=tt.current;return subscribeToRecoilValue$1(At,et,()=>{if(!Recoil_gkx("recoil_suppress_rerender_in_callback"))return Et();const Ft=rt();mt.current.is(Ft)||Et(),mt.current=Ft},at).release},[tt,et,at,rt]),dt=useRecoilMutableSource$1();if(dt==null)throw Recoil_err("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const ot=useMutableSource$1(dt,nt,lt),mt=useRef$4(ot);return useEffect$3(()=>{mt.current=ot}),ot}function useRecoilValueLoadable_TRANSITION_SUPPORT(et){const tt=useStoreRef$2(),rt=Recoil_useComponentName(),nt=useCallback$1(()=>{var mt;const xt=tt.current,Et=xt.getState(),At=reactMode$3().early&&(mt=Et.nextTree)!==null&&mt!==void 0?mt:Et.currentTree;return getRecoilValueAsLoadable$2(xt,et,At)},[tt,et]),at=useCallback$1(()=>({loadable:nt(),key:et.key}),[nt,et.key]),lt=useCallback$1(mt=>{const xt=at();return mt.loadable.is(xt.loadable)&&mt.key===xt.key?mt:xt},[at]);useEffect$3(()=>{const mt=subscribeToRecoilValue$1(tt.current,et,xt=>{ot(lt)},rt);return ot(lt),mt.release},[rt,et,tt,lt]);const[dt,ot]=useState$1(at);return dt.key!==et.key?at().loadable:dt.loadable}function useRecoilValueLoadable_LEGACY(et){const tt=useStoreRef$2(),[,rt]=useState$1([]),nt=Recoil_useComponentName(),at=useCallback$1(()=>{var ot;const mt=tt.current,xt=mt.getState(),Et=reactMode$3().early&&(ot=xt.nextTree)!==null&&ot!==void 0?ot:xt.currentTree;return getRecoilValueAsLoadable$2(mt,et,Et)},[tt,et]),lt=at(),dt=useRef$4(lt);return useEffect$3(()=>{dt.current=lt}),useEffect$3(()=>{const ot=tt.current,mt=ot.getState(),xt=subscribeToRecoilValue$1(ot,et,At=>{var Tt;if(!Recoil_gkx("recoil_suppress_rerender_in_callback"))return rt([]);const Ft=at();(Tt=dt.current)!==null&&Tt!==void 0&&Tt.is(Ft)||rt(Ft),dt.current=Ft},nt);if(mt.nextTree)ot.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{dt.current=null,rt([])});else{var Et;if(!Recoil_gkx("recoil_suppress_rerender_in_callback"))return rt([]);const At=at();(Et=dt.current)!==null&&Et!==void 0&&Et.is(At)||rt(At),dt.current=At}return xt.release},[nt,at,et,tt]),lt}function useRecoilValueLoadable(et){return Recoil_gkx("recoil_memory_managament_2020")&&Recoil_useRetain(et),{TRANSITION_SUPPORT:useRecoilValueLoadable_TRANSITION_SUPPORT,SYNC_EXTERNAL_STORE:currentRendererSupportsUseSyncExternalStore$1()?useRecoilValueLoadable_SYNC_EXTERNAL_STORE:useRecoilValueLoadable_TRANSITION_SUPPORT,MUTABLE_SOURCE:useRecoilValueLoadable_MUTABLE_SOURCE,LEGACY:useRecoilValueLoadable_LEGACY}[reactMode$3().mode](et)}function useRecoilValue(et){const tt=useStoreRef$2(),rt=useRecoilValueLoadable(et);return handleLoadable(rt,et,tt)}function useSetRecoilState(et){const tt=useStoreRef$2();return useCallback$1(rt=>{setRecoilValue$2(tt.current,et,rt)},[tt,et])}function useResetRecoilState(et){const tt=useStoreRef$2();return useCallback$1(()=>{setRecoilValue$2(tt.current,et,DEFAULT_VALUE$2)},[tt,et])}function useRecoilState(et){return[useRecoilValue(et),useSetRecoilState(et)]}function useRecoilStateLoadable(et){return[useRecoilValueLoadable(et),useSetRecoilState(et)]}function useSetUnvalidatedAtomValues(){const et=useStoreRef$2();return(tt,rt={})=>{batchUpdates$2(()=>{et.current.addTransactionMetadata(rt),tt.forEach((nt,at)=>setUnvalidatedRecoilValue$2(et.current,new AbstractRecoilValue$3(at),nt))})}}function useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE(et){return Recoil_gkx("recoil_memory_managament_2020")&&Recoil_useRetain(et),useRecoilValueLoadable_TRANSITION_SUPPORT(et)}function useRecoilValue_TRANSITION_SUPPORT_UNSTABLE(et){const tt=useStoreRef$2(),rt=useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE(et);return handleLoadable(rt,et,tt)}function useRecoilState_TRANSITION_SUPPORT_UNSTABLE(et){return[useRecoilValue_TRANSITION_SUPPORT_UNSTABLE(et),useSetRecoilState(et)]}var Recoil_Hooks={recoilComponentGetRecoilValueCount_FOR_TESTING,useRecoilInterface:useRecoilInterface_DEPRECATED,useRecoilState,useRecoilStateLoadable,useRecoilValue,useRecoilValueLoadable,useResetRecoilState,useSetRecoilState,useSetUnvalidatedAtomValues,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE,useRecoilState_TRANSITION_SUPPORT_UNSTABLE};function filterMap(et,tt){const rt=new Map;for(const[nt,at]of et)tt(at,nt)&&rt.set(nt,at);return rt}var Recoil_filterMap=filterMap;function filterSet(et,tt){const rt=new Set;for(const nt of et)tt(nt)&&rt.add(nt);return rt}var Recoil_filterSet=filterSet;function mergeMaps(...et){const tt=new Map;for(let rt=0;rt<et.length;rt++){const nt=et[rt].keys();let at;for(;!(at=nt.next()).done;)tt.set(at.value,et[rt].get(at.value))}return tt}var Recoil_mergeMaps=mergeMaps;const{batchUpdates:batchUpdates$3}=Recoil_Batching,{DEFAULT_VALUE:DEFAULT_VALUE$3,getNode:getNode$4,nodes:nodes$1}=Recoil_Node,{useStoreRef:useStoreRef$3}=Recoil_RecoilRoot,{AbstractRecoilValue:AbstractRecoilValue$4,setRecoilValueLoadable:setRecoilValueLoadable$1}=Recoil_RecoilValueInterface,{SUSPENSE_TIMEOUT_MS:SUSPENSE_TIMEOUT_MS$2}=Recoil_Retention,{cloneSnapshot:cloneSnapshot$1}=Recoil_Snapshot$1,{useCallback:useCallback$2,useEffect:useEffect$4,useRef:useRef$5,useState:useState$2}=React,{isSSR:isSSR$4}=Recoil_Environment;function useTransactionSubscription(et){const tt=useStoreRef$3();useEffect$4(()=>tt.current.subscribeToTransactions(et).release,[et,tt])}function externallyVisibleAtomValuesInState(et){const tt=et.atomValues.toMap(),rt=Recoil_mapMap(Recoil_filterMap(tt,(nt,at)=>{const dt=getNode$4(at).persistence_UNSTABLE;return dt!=null&&dt.type!=="none"&&nt.state==="hasValue"}),nt=>nt.contents);return Recoil_mergeMaps(et.nonvalidatedAtoms.toMap(),rt)}function useTransactionObservation_DEPRECATED(et){useTransactionSubscription(useCallback$2(tt=>{let rt=tt.getState().previousTree;const nt=tt.getState().currentTree;rt||(rt=tt.getState().currentTree);const at=externallyVisibleAtomValuesInState(nt),lt=externallyVisibleAtomValuesInState(rt),dt=Recoil_mapMap(nodes$1,mt=>{var xt,Et,At,Tt;return{persistence_UNSTABLE:{type:(xt=(Et=mt.persistence_UNSTABLE)===null||Et===void 0?void 0:Et.type)!==null&&xt!==void 0?xt:"none",backButton:(At=(Tt=mt.persistence_UNSTABLE)===null||Tt===void 0?void 0:Tt.backButton)!==null&&At!==void 0?At:!1}}}),ot=Recoil_filterSet(nt.dirtyAtoms,mt=>at.has(mt)||lt.has(mt));et({atomValues:at,previousAtomValues:lt,atomInfo:dt,modifiedAtoms:ot,transactionMetadata:{...nt.transactionMetadata}})},[et]))}function useRecoilTransactionObserver(et){useTransactionSubscription(useCallback$2(tt=>{const rt=cloneSnapshot$1(tt,"latest"),nt=cloneSnapshot$1(tt,"previous");et({snapshot:rt,previousSnapshot:nt})},[et]))}function useRecoilSnapshot(){const et=useStoreRef$3(),[tt,rt]=useState$2(()=>cloneSnapshot$1(et.current)),nt=Recoil_usePrevious(tt),at=useRef$5(),lt=useRef$5();if(useTransactionSubscription(useCallback$2(ot=>rt(cloneSnapshot$1(ot)),[])),useEffect$4(()=>{const ot=tt.retain();if(at.current&&!isSSR$4){var mt;window.clearTimeout(at.current),at.current=null,(mt=lt.current)===null||mt===void 0||mt.call(lt),lt.current=null}return()=>{window.setTimeout(ot,10)}},[tt]),nt!==tt&&!isSSR$4){if(at.current){var dt;window.clearTimeout(at.current),at.current=null,(dt=lt.current)===null||dt===void 0||dt.call(lt),lt.current=null}lt.current=tt.retain(),at.current=window.setTimeout(()=>{var ot;at.current=null,(ot=lt.current)===null||ot===void 0||ot.call(lt),lt.current=null},SUSPENSE_TIMEOUT_MS$2)}return tt}function gotoSnapshot(et,tt){var rt;const nt=et.getState(),at=(rt=nt.nextTree)!==null&&rt!==void 0?rt:nt.currentTree,lt=tt.getStore_INTERNAL().getState().currentTree;batchUpdates$3(()=>{const dt=new Set;for(const xt of[at.atomValues.keys(),lt.atomValues.keys()])for(const Et of xt){var ot,mt;((ot=at.atomValues.get(Et))===null||ot===void 0?void 0:ot.contents)!==((mt=lt.atomValues.get(Et))===null||mt===void 0?void 0:mt.contents)&&getNode$4(Et).shouldRestoreFromSnapshots&&dt.add(Et)}dt.forEach(xt=>{setRecoilValueLoadable$1(et,new AbstractRecoilValue$4(xt),lt.atomValues.has(xt)?Recoil_nullthrows(lt.atomValues.get(xt)):DEFAULT_VALUE$3)}),et.replaceState(xt=>({...xt,stateID:tt.getID()}))})}function useGotoRecoilSnapshot(){const et=useStoreRef$3();return useCallback$2(tt=>gotoSnapshot(et.current,tt),[et])}var Recoil_SnapshotHooks={useRecoilSnapshot,gotoSnapshot,useGotoRecoilSnapshot,useRecoilTransactionObserver,useTransactionObservation_DEPRECATED,useTransactionSubscription_DEPRECATED:useTransactionSubscription};const{peekNodeInfo:peekNodeInfo$2}=Recoil_FunctionalCore,{useStoreRef:useStoreRef$4}=Recoil_RecoilRoot;function useGetRecoilValueInfo(){const et=useStoreRef$4();return({key:tt})=>peekNodeInfo$2(et.current,et.current.getState().currentTree,tt)}var Recoil_useGetRecoilValueInfo=useGetRecoilValueInfo;const{reactMode:reactMode$4}=Recoil_ReactMode,{RecoilRoot:RecoilRoot$1,useStoreRef:useStoreRef$5}=Recoil_RecoilRoot,{useMemo:useMemo$2}=React;function useRecoilBridgeAcrossReactRoots(){reactMode$4().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const et=useStoreRef$5().current;return useMemo$2(()=>{function tt({children:rt}){return React.createElement(RecoilRoot$1,{store_INTERNAL:et},rt)}return tt},[et])}var Recoil_useRecoilBridgeAcrossReactRoots=useRecoilBridgeAcrossReactRoots;const{loadableWithValue:loadableWithValue$1}=Recoil_Loadable$1,{initializeNode:initializeNode$3}=Recoil_FunctionalCore,{DEFAULT_VALUE:DEFAULT_VALUE$4,getNode:getNode$5}=Recoil_Node,{copyTreeState:copyTreeState$1,getRecoilValueAsLoadable:getRecoilValueAsLoadable$3,invalidateDownstreams:invalidateDownstreams$1,writeLoadableToTreeState:writeLoadableToTreeState$1}=Recoil_RecoilValueInterface;function isAtom(et){return getNode$5(et.key).nodeType==="atom"}class TransactionInterfaceImpl{constructor(tt,rt){_defineProperty$b(this,"_store",void 0),_defineProperty$b(this,"_treeState",void 0),_defineProperty$b(this,"_changes",void 0),_defineProperty$b(this,"get",nt=>{if(this._changes.has(nt.key))return this._changes.get(nt.key);if(!isAtom(nt))throw Recoil_err("Reading selectors within atomicUpdate is not supported");const at=getRecoilValueAsLoadable$3(this._store,nt,this._treeState);if(at.state==="hasValue")return at.contents;throw at.state==="hasError"?at.contents:Recoil_err(`Expected Recoil atom ${nt.key} to have a value, but it is in a loading state.`)}),_defineProperty$b(this,"set",(nt,at)=>{if(!isAtom(nt))throw Recoil_err("Setting selectors within atomicUpdate is not supported");if(typeof at=="function"){const lt=this.get(nt);this._changes.set(nt.key,at(lt))}else initializeNode$3(this._store,nt.key,"set"),this._changes.set(nt.key,at)}),_defineProperty$b(this,"reset",nt=>{this.set(nt,DEFAULT_VALUE$4)}),this._store=tt,this._treeState=rt,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const tt=copyTreeState$1(this._treeState);for(const[rt,nt]of this._changes)writeLoadableToTreeState$1(tt,rt,loadableWithValue$1(nt));return invalidateDownstreams$1(this._store,tt),tt}}function atomicUpdater(et){return tt=>{et.replaceState(rt=>{const nt=new TransactionInterfaceImpl(et,rt);return tt(nt),nt.newTreeState_INTERNAL()})}}var Recoil_AtomicUpdates={atomicUpdater},Recoil_AtomicUpdates_1=Recoil_AtomicUpdates.atomicUpdater,Recoil_AtomicUpdates$1=Object.freeze({__proto__:null,atomicUpdater:Recoil_AtomicUpdates_1});function invariant(et,tt){if(!et)throw new Error(tt)}var invariant_1=invariant,Recoil_invariant=invariant_1;const{atomicUpdater:atomicUpdater$1}=Recoil_AtomicUpdates$1,{batchUpdates:batchUpdates$4}=Recoil_Batching,{DEFAULT_VALUE:DEFAULT_VALUE$5}=Recoil_Node,{useStoreRef:useStoreRef$6}=Recoil_RecoilRoot,{refreshRecoilValue:refreshRecoilValue$1,setRecoilValue:setRecoilValue$3}=Recoil_RecoilValueInterface,{cloneSnapshot:cloneSnapshot$2}=Recoil_Snapshot$1,{gotoSnapshot:gotoSnapshot$1}=Recoil_SnapshotHooks,{useCallback:useCallback$3}=React;class Sentinel{}const SENTINEL=new Sentinel;function recoilCallback(et,tt,rt,nt){let at=SENTINEL,lt;if(batchUpdates$4(()=>{const ot="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof tt!="function")throw Recoil_err(ot);const mt=Recoil_lazyProxy({...nt??{},set:(Et,At)=>setRecoilValue$3(et,Et,At),reset:Et=>setRecoilValue$3(et,Et,DEFAULT_VALUE$5),refresh:Et=>refreshRecoilValue$1(et,Et),gotoSnapshot:Et=>gotoSnapshot$1(et,Et),transact_UNSTABLE:Et=>atomicUpdater$1(et)(Et)},{snapshot:()=>{const Et=cloneSnapshot$2(et);return lt=Et.retain(),Et}}),xt=tt(mt);if(typeof xt!="function")throw Recoil_err(ot);at=xt(...rt)}),at instanceof Sentinel&&Recoil_invariant(!1),Recoil_isPromise(at))at=at.finally(()=>{var ot;(ot=lt)===null||ot===void 0||ot()});else{var dt;(dt=lt)===null||dt===void 0||dt()}return at}function useRecoilCallback(et,tt){const rt=useStoreRef$6();return useCallback$3((...nt)=>recoilCallback(rt.current,et,nt),tt!=null?[...tt,rt]:void 0)}var Recoil_useRecoilCallback={recoilCallback,useRecoilCallback};const{useStoreRef:useStoreRef$7}=Recoil_RecoilRoot,{refreshRecoilValue:refreshRecoilValue$2}=Recoil_RecoilValueInterface,{useCallback:useCallback$4}=React;function useRecoilRefresher(et){const tt=useStoreRef$7();return useCallback$4(()=>{const rt=tt.current;refreshRecoilValue$2(rt,et)},[et,tt])}var Recoil_useRecoilRefresher=useRecoilRefresher;const{atomicUpdater:atomicUpdater$2}=Recoil_AtomicUpdates$1,{useStoreRef:useStoreRef$8}=Recoil_RecoilRoot,{useMemo:useMemo$3}=React;function useRecoilTransaction(et,tt){const rt=useStoreRef$8();return useMemo$3(()=>(...nt)=>{atomicUpdater$2(rt.current)(lt=>{et(lt)(...nt)})},tt!=null?[...tt,rt]:void 0)}var Recoil_useRecoilTransaction=useRecoilTransaction;class WrappedValue{constructor(tt){_defineProperty$b(this,"value",void 0),this.value=tt}}var Recoil_Wrapper={WrappedValue},Recoil_Wrapper_1=Recoil_Wrapper.WrappedValue,Recoil_Wrapper$1=Object.freeze({__proto__:null,WrappedValue:Recoil_Wrapper_1});const{isFastRefreshEnabled:isFastRefreshEnabled$2}=Recoil_ReactMode;class ChangedPathError extends Error{}class TreeCache{constructor(tt){var rt,nt,at;_defineProperty$b(this,"_name",void 0),_defineProperty$b(this,"_numLeafs",void 0),_defineProperty$b(this,"_root",void 0),_defineProperty$b(this,"_onHit",void 0),_defineProperty$b(this,"_onSet",void 0),_defineProperty$b(this,"_mapNodeValue",void 0),this._name=tt==null?void 0:tt.name,this._numLeafs=0,this._root=null,this._onHit=(rt=tt==null?void 0:tt.onHit)!==null&&rt!==void 0?rt:()=>{},this._onSet=(nt=tt==null?void 0:tt.onSet)!==null&&nt!==void 0?nt:()=>{},this._mapNodeValue=(at=tt==null?void 0:tt.mapNodeValue)!==null&&at!==void 0?at:lt=>lt}size(){return this._numLeafs}root(){return this._root}get(tt,rt){var nt;return(nt=this.getLeafNode(tt,rt))===null||nt===void 0?void 0:nt.value}getLeafNode(tt,rt){if(this._root==null)return;let nt=this._root;for(;nt;){if(rt==null||rt.onNodeVisit(nt),nt.type==="leaf")return this._onHit(nt),nt;const at=this._mapNodeValue(tt(nt.nodeKey));nt=nt.branches.get(at)}}set(tt,rt,nt){const at=()=>{var lt,dt,ot,mt;let xt,Et;for(const[Gt,Pt]of tt){var At,Tt,Ft;const $t=this._root;if(($t==null?void 0:$t.type)==="leaf")throw this.invalidCacheError();const It=xt;if(xt=It?It.branches.get(Et):$t,xt=(At=xt)!==null&&At!==void 0?At:{type:"branch",nodeKey:Gt,parent:It,branches:new Map,branchKey:Et},xt.type!=="branch"||xt.nodeKey!==Gt)throw this.invalidCacheError();It==null||It.branches.set(Et,xt),nt==null||(Tt=nt.onNodeVisit)===null||Tt===void 0||Tt.call(nt,xt),Et=this._mapNodeValue(Pt),this._root=(Ft=this._root)!==null&&Ft!==void 0?Ft:xt}const Mt=xt?(lt=xt)===null||lt===void 0?void 0:lt.branches.get(Et):this._root;if(Mt!=null&&(Mt.type!=="leaf"||Mt.branchKey!==Et))throw this.invalidCacheError();const Lt={type:"leaf",value:rt,parent:xt,branchKey:Et};(dt=xt)===null||dt===void 0||dt.branches.set(Et,Lt),this._root=(ot=this._root)!==null&&ot!==void 0?ot:Lt,this._numLeafs++,this._onSet(Lt),nt==null||(mt=nt.onNodeVisit)===null||mt===void 0||mt.call(nt,Lt)};try{at()}catch(lt){if(lt instanceof ChangedPathError)this.clear(),at();else throw lt}}delete(tt){const rt=this.root();if(!rt)return!1;if(tt===rt)return this._root=null,this._numLeafs=0,!0;let nt=tt.parent,at=tt.branchKey;for(;nt;){var lt;if(nt.branches.delete(at),nt===rt)return nt.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(nt.branches.size>0)break;at=(lt=nt)===null||lt===void 0?void 0:lt.branchKey,nt=nt.parent}for(;nt!==rt;nt=nt.parent)if(nt==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const tt=isFastRefreshEnabled$2()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Recoil_recoverableViolation(tt+(this._name!=null?` - ${this._name}`:"")),new ChangedPathError}}var Recoil_TreeCache={TreeCache},Recoil_TreeCache_1=Recoil_TreeCache.TreeCache,Recoil_TreeCache$1=Object.freeze({__proto__:null,TreeCache:Recoil_TreeCache_1});class LRUCache{constructor(tt){var rt;_defineProperty$b(this,"_maxSize",void 0),_defineProperty$b(this,"_size",void 0),_defineProperty$b(this,"_head",void 0),_defineProperty$b(this,"_tail",void 0),_defineProperty$b(this,"_map",void 0),_defineProperty$b(this,"_keyMapper",void 0),this._maxSize=tt.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(rt=tt.mapKey)!==null&&rt!==void 0?rt:nt=>nt}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(tt){return this._map.has(this._keyMapper(tt))}get(tt){const rt=this._keyMapper(tt),nt=this._map.get(rt);if(nt)return this.set(tt,nt.value),nt.value}set(tt,rt){const nt=this._keyMapper(tt);this._map.get(nt)&&this.delete(tt);const lt=this.head(),dt={key:tt,right:lt,left:null,value:rt};lt?lt.left=dt:this._tail=dt,this._map.set(nt,dt),this._head=dt,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const tt=this.tail();tt&&this.delete(tt.key)}delete(tt){const rt=this._keyMapper(tt);if(!this._size||!this._map.has(rt))return;const nt=Recoil_nullthrows(this._map.get(rt)),at=nt.right,lt=nt.left;at&&(at.left=nt.left),lt&&(lt.right=nt.right),nt===this.head()&&(this._head=at),nt===this.tail()&&(this._tail=lt),this._map.delete(rt),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var Recoil_LRUCache={LRUCache},Recoil_LRUCache_1=Recoil_LRUCache.LRUCache,Recoil_LRUCache$1=Object.freeze({__proto__:null,LRUCache:Recoil_LRUCache_1});const{LRUCache:LRUCache$1}=Recoil_LRUCache$1,{TreeCache:TreeCache$1}=Recoil_TreeCache$1;function treeCacheLRU({name:et,maxSize:tt,mapNodeValue:rt=nt=>nt}){const nt=new LRUCache$1({maxSize:tt}),at=new TreeCache$1({name:et,mapNodeValue:rt,onHit:lt=>{nt.set(lt,!0)},onSet:lt=>{const dt=nt.tail();nt.set(lt,!0),dt&&at.size()>tt&&at.delete(dt.key)}});return at}var Recoil_treeCacheLRU=treeCacheLRU;function stringify$1(et,tt,rt){if(typeof et=="string"&&!et.includes('"')&&!et.includes("\\"))return`"${et}"`;switch(typeof et){case"undefined":return"";case"boolean":return et?"true":"false";case"number":case"symbol":return String(et);case"string":return JSON.stringify(et);case"function":if((tt==null?void 0:tt.allowFunctions)!==!0)throw Recoil_err("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${et.name})__`}if(et===null)return"null";if(typeof et!="object"){var nt;return(nt=JSON.stringify(et))!==null&&nt!==void 0?nt:""}if(Recoil_isPromise(et))return"__PROMISE__";if(Array.isArray(et))return`[${et.map((at,lt)=>stringify$1(at,tt,lt.toString()))}]`;if(typeof et.toJSON=="function")return stringify$1(et.toJSON(rt),tt,rt);if(et instanceof Map){const at={};for(const[lt,dt]of et)at[typeof lt=="string"?lt:stringify$1(lt,tt)]=dt;return stringify$1(at,tt,rt)}return et instanceof Set?stringify$1(Array.from(et).sort((at,lt)=>stringify$1(at,tt).localeCompare(stringify$1(lt,tt))),tt,rt):Symbol!==void 0&&et[Symbol.iterator]!=null&&typeof et[Symbol.iterator]=="function"?stringify$1(Array.from(et),tt,rt):`{${Object.keys(et).filter(at=>et[at]!==void 0).sort().map(at=>`${stringify$1(at,tt)}:${stringify$1(et[at],tt,at)}`).join(",")}}`}function stableStringify(et,tt={allowFunctions:!1}){return stringify$1(et,tt)}var Recoil_stableStringify=stableStringify;const{TreeCache:TreeCache$2}=Recoil_TreeCache$1,defaultPolicy={equality:"reference",eviction:"keep-all",maxSize:1/0};function treeCacheFromPolicy({equality:et=defaultPolicy.equality,eviction:tt=defaultPolicy.eviction,maxSize:rt=defaultPolicy.maxSize}=defaultPolicy,nt){const at=getValueMapper(et);return getTreeCache(tt,rt,at,nt)}function getValueMapper(et){switch(et){case"reference":return tt=>tt;case"value":return tt=>Recoil_stableStringify(tt)}throw Recoil_err(`Unrecognized equality policy ${et}`)}function getTreeCache(et,tt,rt,nt){switch(et){case"keep-all":return new TreeCache$2({name:nt,mapNodeValue:rt});case"lru":return Recoil_treeCacheLRU({name:nt,maxSize:Recoil_nullthrows(tt),mapNodeValue:rt});case"most-recent":return Recoil_treeCacheLRU({name:nt,maxSize:1,mapNodeValue:rt})}throw Recoil_err(`Unrecognized eviction policy ${et}`)}var Recoil_treeCacheFromPolicy=treeCacheFromPolicy;function startPerfBlock(et){return()=>null}var Recoil_PerformanceTimings={startPerfBlock};const{isLoadable:isLoadable$1,loadableWithError:loadableWithError$1,loadableWithPromise:loadableWithPromise$1,loadableWithValue:loadableWithValue$2}=Recoil_Loadable$1,{WrappedValue:WrappedValue$1}=Recoil_Wrapper$1,{getNodeLoadable:getNodeLoadable$2,peekNodeLoadable:peekNodeLoadable$1,setNodeValue:setNodeValue$3}=Recoil_FunctionalCore,{saveDepsToStore:saveDepsToStore$1}=Recoil_Graph,{DEFAULT_VALUE:DEFAULT_VALUE$6,getConfigDeletionHandler:getConfigDeletionHandler$1,getNode:getNode$6,registerNode:registerNode$1}=Recoil_Node,{isRecoilValue:isRecoilValue$3}=Recoil_RecoilValue$1,{markRecoilValueModified:markRecoilValueModified$1}=Recoil_RecoilValueInterface,{retainedByOptionWithDefault:retainedByOptionWithDefault$1}=Recoil_Retention,{recoilCallback:recoilCallback$1}=Recoil_useRecoilCallback,{startPerfBlock:startPerfBlock$1}=Recoil_PerformanceTimings;class Canceled{}const CANCELED=new Canceled,dependencyStack=[],waitingStores=new Map,getNewExecutionID=(()=>{let et=0;return()=>et++})();function selector(et){let tt=null;const{key:rt,get:nt,cachePolicy_UNSTABLE:at}=et,lt=et.set!=null?et.set:void 0,dt=new Set,ot=Recoil_treeCacheFromPolicy(at??{equality:"reference",eviction:"keep-all"},rt),mt=retainedByOptionWithDefault$1(et.retainedBy_UNSTABLE),xt=new Map;let Et=0;function At(){return!Recoil_gkx("recoil_memory_managament_2020")||Et>0}function Tt(sr){return sr.getState().knownSelectors.add(rt),Et++,()=>{Et--}}function Ft(){return getConfigDeletionHandler$1(rt)!==void 0&&!At()}function Mt(sr,dr,Rr,jr,Sr){hr(dr,jr,Sr),Lt(sr,Rr)}function Lt(sr,dr){Er(sr,dr)&&Lr(sr),Pt(dr,!0)}function Gt(sr,dr){Er(sr,dr)&&(Recoil_nullthrows(Kt(sr)).stateVersions.clear(),Pt(dr,!1))}function Pt(sr,dr){const Rr=waitingStores.get(sr);if(Rr!=null){for(const jr of Rr)markRecoilValueModified$1(jr,Recoil_nullthrows(tt));dr&&waitingStores.delete(sr)}}function $t(sr,dr){let Rr=waitingStores.get(dr);Rr==null&&waitingStores.set(dr,Rr=new Set),Rr.add(sr)}function It(sr,dr,Rr,jr,Sr,dn){return dr.then(Qr=>{if(!At())throw Lr(sr),CANCELED;const gn=loadableWithValue$2(Qr);return Mt(sr,Rr,Sr,gn,jr),Qr}).catch(Qr=>{if(!At())throw Lr(sr),CANCELED;if(Recoil_isPromise(Qr))return Ot(sr,Qr,Rr,jr,Sr,dn);const gn=loadableWithError$1(Qr);throw Mt(sr,Rr,Sr,gn,jr),Qr})}function Ot(sr,dr,Rr,jr,Sr,dn){return dr.then(Qr=>{if(!At())throw Lr(sr),CANCELED;dn.loadingDepKey!=null&&dn.loadingDepPromise===dr?Rr.atomValues.set(dn.loadingDepKey,loadableWithValue$2(Qr)):sr.getState().knownSelectors.forEach(cn=>{Rr.atomValues.delete(cn)});const gn=Wt(sr,Rr);if(gn&&gn.state!=="loading"){if((Er(sr,Sr)||Kt(sr)==null)&&Lt(sr,Sr),gn.state==="hasValue")return gn.contents;throw gn.contents}if(!Er(sr,Sr)){const cn=er(sr,Rr);if(cn!=null)return cn.loadingLoadable.contents}const[ln,Kr]=Ut(sr,Rr,Sr);if(ln.state!=="loading"&&Mt(sr,Rr,Sr,ln,Kr),ln.state==="hasError")throw ln.contents;return ln.contents}).catch(Qr=>{if(Qr instanceof Canceled)throw CANCELED;if(!At())throw Lr(sr),CANCELED;const gn=loadableWithError$1(Qr);throw Mt(sr,Rr,Sr,gn,jr),Qr})}function Vt(sr,dr,Rr,jr){var Sr,dn,Qr,gn;if(Er(sr,jr)||dr.version===((Sr=sr.getState())===null||Sr===void 0||(dn=Sr.currentTree)===null||dn===void 0?void 0:dn.version)||dr.version===((Qr=sr.getState())===null||Qr===void 0||(gn=Qr.nextTree)===null||gn===void 0?void 0:gn.version)){var ln,Kr,cn;saveDepsToStore$1(rt,Rr,sr,(ln=(Kr=sr.getState())===null||Kr===void 0||(cn=Kr.nextTree)===null||cn===void 0?void 0:cn.version)!==null&&ln!==void 0?ln:sr.getState().currentTree.version)}for(const En of Rr)dt.add(En)}function Ut(sr,dr,Rr){const jr=startPerfBlock$1(rt);let Sr=!0,dn=!0;const Qr=()=>{jr(),dn=!1};let gn,ln=!1,Kr;const cn={loadingDepKey:null,loadingDepPromise:null},En=new Map;function yn({key:Zn}){const jn=getNodeLoadable$2(sr,dr,Zn);switch(En.set(Zn,jn),Sr||(Vt(sr,dr,new Set(En.keys()),Rr),Gt(sr,Rr)),jn.state){case"hasValue":return jn.contents;case"hasError":throw jn.contents;case"loading":throw cn.loadingDepKey=Zn,cn.loadingDepPromise=jn.contents,jn.contents}throw Recoil_err("Invalid Loadable state")}const Rn=Zn=>(...jn)=>{if(dn)throw Recoil_err("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return tt==null&&Recoil_invariant(!1),recoilCallback$1(sr,Zn,jn,{node:tt})};try{gn=nt({get:yn,getCallback:Rn}),gn=isRecoilValue$3(gn)?yn(gn):gn,isLoadable$1(gn)&&(gn.state==="hasError"&&(ln=!0),gn=gn.contents),Recoil_isPromise(gn)?gn=It(sr,gn,dr,En,Rr,cn).finally(Qr):Qr(),gn=gn instanceof WrappedValue$1?gn.value:gn}catch(Zn){gn=Zn,Recoil_isPromise(gn)?gn=Ot(sr,gn,dr,En,Rr,cn).finally(Qr):(ln=!0,Qr())}return ln?Kr=loadableWithError$1(gn):Recoil_isPromise(gn)?Kr=loadableWithPromise$1(gn):Kr=loadableWithValue$2(gn),Sr=!1,vr(sr,Rr,En),Vt(sr,dr,new Set(En.keys()),Rr),[Kr,En]}function Wt(sr,dr){let Rr=dr.atomValues.get(rt);if(Rr!=null)return Rr;const jr=new Set;try{Rr=ot.get(dn=>(typeof dn!="string"&&Recoil_invariant(!1),getNodeLoadable$2(sr,dr,dn).contents),{onNodeVisit:dn=>{dn.type==="branch"&&dn.nodeKey!==rt&&jr.add(dn.nodeKey)}})}catch(dn){throw Recoil_err(`Problem with cache lookup for selector "${rt}": ${dn.message}`)}if(Rr){var Sr;dr.atomValues.set(rt,Rr),Vt(sr,dr,jr,(Sr=Kt(sr))===null||Sr===void 0?void 0:Sr.executionID)}return Rr}function nr(sr,dr){const Rr=Wt(sr,dr);if(Rr!=null)return Lr(sr),Rr;const jr=er(sr,dr);if(jr!=null){var Sr;return((Sr=jr.loadingLoadable)===null||Sr===void 0?void 0:Sr.state)==="loading"&&$t(sr,jr.executionID),jr.loadingLoadable}const dn=getNewExecutionID(),[Qr,gn]=Ut(sr,dr,dn);return Qr.state==="loading"?(ur(sr,dn,Qr,gn,dr),$t(sr,dn)):(Lr(sr),hr(dr,Qr,gn)),Qr}function er(sr,dr){const Rr=Recoil_concatIterables([xt.has(sr)?[Recoil_nullthrows(xt.get(sr))]:[],Recoil_mapIterable(Recoil_filterIterable(xt,([Sr])=>Sr!==sr),([,Sr])=>Sr)]);function jr(Sr){for(const[dn,Qr]of Sr)if(!getNodeLoadable$2(sr,dr,dn).is(Qr))return!0;return!1}for(const Sr of Rr){if(Sr.stateVersions.get(dr.version)||!jr(Sr.depValuesDiscoveredSoFarDuringAsyncWork))return Sr.stateVersions.set(dr.version,!0),Sr;Sr.stateVersions.set(dr.version,!1)}}function Kt(sr){return xt.get(sr)}function ur(sr,dr,Rr,jr,Sr){xt.set(sr,{depValuesDiscoveredSoFarDuringAsyncWork:jr,executionID:dr,loadingLoadable:Rr,stateVersions:new Map([[Sr.version,!0]])})}function vr(sr,dr,Rr){if(Er(sr,dr)){const jr=Kt(sr);jr!=null&&(jr.depValuesDiscoveredSoFarDuringAsyncWork=Rr)}}function Lr(sr){xt.delete(sr)}function Er(sr,dr){var Rr;return dr===((Rr=Kt(sr))===null||Rr===void 0?void 0:Rr.executionID)}function Cr(sr){return Array.from(sr.entries()).map(([dr,Rr])=>[dr,Rr.contents])}function hr(sr,dr,Rr){sr.atomValues.set(rt,dr);try{ot.set(Cr(Rr),dr)}catch(jr){throw Recoil_err(`Problem with setting cache for selector "${rt}": ${jr.message}`)}}function Tr(sr){if(dependencyStack.includes(rt)){const dr=`Recoil selector has circular dependencies: ${dependencyStack.slice(dependencyStack.indexOf(rt)).join(" → ")}`;return loadableWithError$1(Recoil_err(dr))}dependencyStack.push(rt);try{return sr()}finally{dependencyStack.pop()}}function Xt(sr,dr){const Rr=dr.atomValues.get(rt);return Rr??ot.get(jr=>{var Sr;return typeof jr!="string"&&Recoil_invariant(!1),(Sr=peekNodeLoadable$1(sr,dr,jr))===null||Sr===void 0?void 0:Sr.contents})}function Qt(sr,dr){return Tr(()=>nr(sr,dr))}function lr(sr){sr.atomValues.delete(rt)}function cr(sr,dr){tt==null&&Recoil_invariant(!1);for(const jr of dt){var Rr;const Sr=getNode$6(jr);(Rr=Sr.clearCache)===null||Rr===void 0||Rr.call(Sr,sr,dr)}dt.clear(),lr(dr),ot.clear(),markRecoilValueModified$1(sr,tt)}return lt!=null?tt=registerNode$1({key:rt,nodeType:"selector",peek:Xt,get:Qt,set:(dr,Rr,jr)=>{let Sr=!1;const dn=new Map;function Qr({key:cn}){if(Sr)throw Recoil_err("Recoil: Async selector sets are not currently supported.");const En=getNodeLoadable$2(dr,Rr,cn);if(En.state==="hasValue")return En.contents;if(En.state==="loading"){const yn=`Getting value of asynchronous atom or selector "${cn}" in a pending state while setting selector "${rt}" is not yet supported.`;throw Recoil_err(yn)}else throw En.contents}function gn(cn,En){if(Sr)throw Recoil_err("Recoil: Async selector sets are not currently supported.");const yn=typeof En=="function"?En(Qr(cn)):En;setNodeValue$3(dr,Rr,cn.key,yn).forEach((Zn,jn)=>dn.set(jn,Zn))}function ln(cn){gn(cn,DEFAULT_VALUE$6)}const Kr=lt({set:gn,get:Qr,reset:ln},jr);if(Kr!==void 0)throw Recoil_isPromise(Kr)?Recoil_err("Recoil: Async selector sets are not currently supported."):Recoil_err("Recoil: selector set should be a void function.");return Sr=!0,dn},init:Tt,invalidate:lr,clearCache:cr,shouldDeleteConfigOnRelease:Ft,dangerouslyAllowMutability:et.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:mt}):tt=registerNode$1({key:rt,nodeType:"selector",peek:Xt,get:Qt,init:Tt,invalidate:lr,clearCache:cr,shouldDeleteConfigOnRelease:Ft,dangerouslyAllowMutability:et.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:mt})}selector.value=et=>new WrappedValue$1(et);var Recoil_selector=selector;const{isLoadable:isLoadable$2,loadableWithError:loadableWithError$2,loadableWithPromise:loadableWithPromise$2,loadableWithValue:loadableWithValue$3}=Recoil_Loadable$1,{WrappedValue:WrappedValue$2}=Recoil_Wrapper$1,{peekNodeInfo:peekNodeInfo$3}=Recoil_FunctionalCore,{DEFAULT_VALUE:DEFAULT_VALUE$7,DefaultValue:DefaultValue$2,getConfigDeletionHandler:getConfigDeletionHandler$2,registerNode:registerNode$2,setConfigDeletionHandler:setConfigDeletionHandler$1}=Recoil_Node,{isRecoilValue:isRecoilValue$4}=Recoil_RecoilValue$1,{getRecoilValueAsLoadable:getRecoilValueAsLoadable$4,markRecoilValueModified:markRecoilValueModified$2,setRecoilValue:setRecoilValue$4,setRecoilValueLoadable:setRecoilValueLoadable$2}=Recoil_RecoilValueInterface,{retainedByOptionWithDefault:retainedByOptionWithDefault$2}=Recoil_Retention,unwrap=et=>et instanceof WrappedValue$2?et.value:et;function baseAtom(et){const{key:tt,persistence_UNSTABLE:rt}=et,nt=retainedByOptionWithDefault$2(et.retainedBy_UNSTABLE);let at=0;function lt($t){return loadableWithPromise$2($t.then(It=>(dt=loadableWithValue$3(It),It)).catch(It=>{throw dt=loadableWithError$2(It),It}))}let dt=Recoil_isPromise(et.default)?lt(et.default):isLoadable$2(et.default)?et.default.state==="loading"?lt(et.default.contents):et.default:loadableWithValue$3(unwrap(et.default));dt.contents;let ot;const mt=new Map;function xt($t){return $t}function Et($t,It){const Ot=It.then(Vt=>{var Ut,Wt;return((Wt=((Ut=$t.getState().nextTree)!==null&&Ut!==void 0?Ut:$t.getState().currentTree).atomValues.get(tt))===null||Wt===void 0?void 0:Wt.contents)===Ot&&setRecoilValue$4($t,Pt,Vt),Vt}).catch(Vt=>{var Ut,Wt;throw((Wt=((Ut=$t.getState().nextTree)!==null&&Ut!==void 0?Ut:$t.getState().currentTree).atomValues.get(tt))===null||Wt===void 0?void 0:Wt.contents)===Ot&&setRecoilValueLoadable$2($t,Pt,loadableWithError$2(Vt)),Vt});return Ot}function At($t,It,Ot){var Vt;at++;const Ut=()=>{var Kt;at--,(Kt=mt.get($t))===null||Kt===void 0||Kt.forEach(ur=>ur()),mt.delete($t)};if($t.getState().knownAtoms.add(tt),dt.state==="loading"){const Kt=()=>{var ur;((ur=$t.getState().nextTree)!==null&&ur!==void 0?ur:$t.getState().currentTree).atomValues.has(tt)||markRecoilValueModified$2($t,Pt)};dt.contents.finally(Kt)}const Wt=(Vt=et.effects)!==null&&Vt!==void 0?Vt:et.effects_UNSTABLE;if(Wt!=null){let Er=function(lr){if(ur&&lr.key===tt){const cr=Kt;return cr instanceof DefaultValue$2?Tt($t,It):Recoil_isPromise(cr)?loadableWithPromise$2(cr.then(sr=>sr instanceof DefaultValue$2?dt.toPromise():sr)):loadableWithValue$3(cr)}return getRecoilValueAsLoadable$4($t,lr)},Cr=function(lr){return Er(lr).toPromise()},hr=function(lr){var cr;const sr=peekNodeInfo$3($t,(cr=$t.getState().nextTree)!==null&&cr!==void 0?cr:$t.getState().currentTree,lr.key);return ur&&lr.key===tt&&!(Kt instanceof DefaultValue$2)?{...sr,isSet:!0,loadable:Er(lr)}:sr},Kt=DEFAULT_VALUE$7,ur=!0,vr=!1,Lr=null;const Tr=lr=>cr=>{if(ur){const sr=Er(Pt),dr=sr.state==="hasValue"?sr.contents:DEFAULT_VALUE$7;Kt=typeof cr=="function"?cr(dr):cr,Recoil_isPromise(Kt)&&(Kt=Kt.then(Rr=>(Lr={effect:lr,value:Rr},Rr)))}else{if(Recoil_isPromise(cr))throw Recoil_err("Setting atoms to async values is not implemented.");typeof cr!="function"&&(Lr={effect:lr,value:unwrap(cr)}),setRecoilValue$4($t,Pt,typeof cr=="function"?sr=>{const dr=unwrap(cr(sr));return Lr={effect:lr,value:dr},dr}:unwrap(cr))}},Xt=lr=>()=>Tr(lr)(DEFAULT_VALUE$7),Qt=lr=>cr=>{var sr;const{release:dr}=$t.subscribeToTransactions(Rr=>{var jr;let{currentTree:Sr,previousTree:dn}=Rr.getState();dn||(dn=Sr);const Qr=(jr=Sr.atomValues.get(tt))!==null&&jr!==void 0?jr:dt;if(Qr.state==="hasValue"){var gn,ln,Kr,cn;const En=Qr.contents,yn=(gn=dn.atomValues.get(tt))!==null&&gn!==void 0?gn:dt,Rn=yn.state==="hasValue"?yn.contents:DEFAULT_VALUE$7;((ln=Lr)===null||ln===void 0?void 0:ln.effect)!==lr||((Kr=Lr)===null||Kr===void 0?void 0:Kr.value)!==En?cr(En,Rn,!Sr.atomValues.has(tt)):((cn=Lr)===null||cn===void 0?void 0:cn.effect)===lr&&(Lr=null)}},tt);mt.set($t,[...(sr=mt.get($t))!==null&&sr!==void 0?sr:[],dr])};for(const lr of Wt)try{const cr=lr({node:Pt,storeID:$t.storeID,parentStoreID_UNSTABLE:$t.parentStoreID,trigger:Ot,setSelf:Tr(lr),resetSelf:Xt(lr),onSet:Qt(lr),getPromise:Cr,getLoadable:Er,getInfo_UNSTABLE:hr});if(cr!=null){var nr;mt.set($t,[...(nr=mt.get($t))!==null&&nr!==void 0?nr:[],cr])}}catch(cr){Kt=cr,vr=!0}if(ur=!1,!(Kt instanceof DefaultValue$2)){var er;const lr=vr?loadableWithError$2(Kt):Recoil_isPromise(Kt)?loadableWithPromise$2(Et($t,Kt)):loadableWithValue$3(unwrap(Kt));lr.contents,It.atomValues.set(tt,lr),(er=$t.getState().nextTree)===null||er===void 0||er.atomValues.set(tt,lr)}}return Ut}function Tt($t,It){var Ot,Vt;return(Ot=(Vt=It.atomValues.get(tt))!==null&&Vt!==void 0?Vt:ot)!==null&&Ot!==void 0?Ot:dt}function Ft($t,It){if(It.atomValues.has(tt))return Recoil_nullthrows(It.atomValues.get(tt));if(It.nonvalidatedAtoms.has(tt)){if(ot!=null)return ot;if(rt==null)return dt;const Ot=It.nonvalidatedAtoms.get(tt),Vt=rt.validator(Ot,DEFAULT_VALUE$7);return ot=Vt instanceof DefaultValue$2?dt:loadableWithValue$3(Vt),ot}else return dt}function Mt(){ot=void 0}function Lt($t,It,Ot){if(It.atomValues.has(tt)){const Vt=Recoil_nullthrows(It.atomValues.get(tt));if(Vt.state==="hasValue"&&Ot===Vt.contents)return new Map}else if(!It.nonvalidatedAtoms.has(tt)&&Ot instanceof DefaultValue$2)return new Map;return ot=void 0,new Map().set(tt,loadableWithValue$3(Ot))}function Gt(){return getConfigDeletionHandler$2(tt)!==void 0&&at<=0}const Pt=registerNode$2({key:tt,nodeType:"atom",peek:Tt,get:Ft,set:Lt,init:At,invalidate:Mt,shouldDeleteConfigOnRelease:Gt,dangerouslyAllowMutability:et.dangerouslyAllowMutability,persistence_UNSTABLE:et.persistence_UNSTABLE?{type:et.persistence_UNSTABLE.type,backButton:et.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:nt});return Pt}function atom(et){const{...tt}=et,rt="default"in et?et.default:new Promise(()=>{});return isRecoilValue$4(rt)?atomWithFallback({...tt,default:rt}):baseAtom({...tt,default:rt})}function atomWithFallback(et){const tt=atom({...et,default:DEFAULT_VALUE$7,persistence_UNSTABLE:et.persistence_UNSTABLE===void 0?void 0:{...et.persistence_UNSTABLE,validator:nt=>nt instanceof DefaultValue$2?nt:Recoil_nullthrows(et.persistence_UNSTABLE).validator(nt,DEFAULT_VALUE$7)},effects:et.effects,effects_UNSTABLE:et.effects_UNSTABLE}),rt=Recoil_selector({key:`${et.key}__withFallback`,get:({get:nt})=>{const at=nt(tt);return at instanceof DefaultValue$2?et.default:at},set:({set:nt},at)=>nt(tt,at),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:et.dangerouslyAllowMutability});return setConfigDeletionHandler$1(rt.key,getConfigDeletionHandler$2(et.key)),rt}atom.value=et=>new WrappedValue$2(et);var Recoil_atom=atom;class MapCache{constructor(tt){var rt;_defineProperty$b(this,"_map",void 0),_defineProperty$b(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(rt=tt==null?void 0:tt.mapKey)!==null&&rt!==void 0?rt:nt=>nt}size(){return this._map.size}has(tt){return this._map.has(this._keyMapper(tt))}get(tt){return this._map.get(this._keyMapper(tt))}set(tt,rt){this._map.set(this._keyMapper(tt),rt)}delete(tt){this._map.delete(this._keyMapper(tt))}clear(){this._map.clear()}}var Recoil_MapCache={MapCache},Recoil_MapCache_1=Recoil_MapCache.MapCache,Recoil_MapCache$1=Object.freeze({__proto__:null,MapCache:Recoil_MapCache_1});const{LRUCache:LRUCache$2}=Recoil_LRUCache$1,{MapCache:MapCache$1}=Recoil_MapCache$1,defaultPolicy$1={equality:"reference",eviction:"none",maxSize:1/0};function cacheFromPolicy({equality:et=defaultPolicy$1.equality,eviction:tt=defaultPolicy$1.eviction,maxSize:rt=defaultPolicy$1.maxSize}=defaultPolicy$1){const nt=getValueMapper$1(et);return getCache(tt,rt,nt)}function getValueMapper$1(et){switch(et){case"reference":return tt=>tt;case"value":return tt=>Recoil_stableStringify(tt)}throw Recoil_err(`Unrecognized equality policy ${et}`)}function getCache(et,tt,rt){switch(et){case"keep-all":return new MapCache$1({mapKey:rt});case"lru":return new LRUCache$2({mapKey:rt,maxSize:Recoil_nullthrows(tt)});case"most-recent":return new LRUCache$2({mapKey:rt,maxSize:1})}throw Recoil_err(`Unrecognized eviction policy ${et}`)}var Recoil_cacheFromPolicy=cacheFromPolicy;const{setConfigDeletionHandler:setConfigDeletionHandler$2}=Recoil_Node;function atomFamily(et){var tt,rt;const nt=Recoil_cacheFromPolicy({equality:(tt=(rt=et.cachePolicyForParams_UNSTABLE)===null||rt===void 0?void 0:rt.equality)!==null&&tt!==void 0?tt:"value",eviction:"keep-all"});return at=>{var lt,dt;const ot=nt.get(at);if(ot!=null)return ot;const{cachePolicyForParams_UNSTABLE:mt,...xt}=et,Et="default"in et?et.default:new Promise(()=>{}),At=Recoil_atom({...xt,key:`${et.key}__${(lt=Recoil_stableStringify(at))!==null&&lt!==void 0?lt:"void"}`,default:typeof Et=="function"?Et(at):Et,retainedBy_UNSTABLE:typeof et.retainedBy_UNSTABLE=="function"?et.retainedBy_UNSTABLE(at):et.retainedBy_UNSTABLE,effects:typeof et.effects=="function"?et.effects(at):typeof et.effects_UNSTABLE=="function"?et.effects_UNSTABLE(at):(dt=et.effects)!==null&&dt!==void 0?dt:et.effects_UNSTABLE});return nt.set(at,At),setConfigDeletionHandler$2(At.key,()=>{nt.delete(at)}),At}}var Recoil_atomFamily=atomFamily;const{setConfigDeletionHandler:setConfigDeletionHandler$3}=Recoil_Node;let nextIndex=0;function selectorFamily(et){var tt,rt;const nt=Recoil_cacheFromPolicy({equality:(tt=(rt=et.cachePolicyForParams_UNSTABLE)===null||rt===void 0?void 0:rt.equality)!==null&&tt!==void 0?tt:"value",eviction:"keep-all"});return at=>{var lt;let dt;try{dt=nt.get(at)}catch(Tt){throw Recoil_err(`Problem with cache lookup for selector ${et.key}: ${Tt.message}`)}if(dt!=null)return dt;const ot=`${et.key}__selectorFamily/${(lt=Recoil_stableStringify(at,{allowFunctions:!0}))!==null&&lt!==void 0?lt:"void"}/${nextIndex++}`,mt=Tt=>et.get(at)(Tt),xt=et.cachePolicy_UNSTABLE,Et=typeof et.retainedBy_UNSTABLE=="function"?et.retainedBy_UNSTABLE(at):et.retainedBy_UNSTABLE;let At;if(et.set!=null){const Tt=et.set;At=Recoil_selector({key:ot,get:mt,set:(Mt,Lt)=>Tt(at)(Mt,Lt),cachePolicy_UNSTABLE:xt,dangerouslyAllowMutability:et.dangerouslyAllowMutability,retainedBy_UNSTABLE:Et})}else At=Recoil_selector({key:ot,get:mt,cachePolicy_UNSTABLE:xt,dangerouslyAllowMutability:et.dangerouslyAllowMutability,retainedBy_UNSTABLE:Et});return nt.set(at,At),setConfigDeletionHandler$3(At.key,()=>{nt.delete(at)}),At}}var Recoil_selectorFamily=selectorFamily;const constantSelector=Recoil_selectorFamily({key:"__constant",get:et=>()=>et,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function constSelector(et){return constantSelector(et)}var Recoil_constSelector=constSelector;const throwingSelector=Recoil_selectorFamily({key:"__error",get:et=>()=>{throw Recoil_err(et)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function errorSelector(et){return throwingSelector(et)}var Recoil_errorSelector=errorSelector;function readOnlySelector(et){return et}var Recoil_readOnlySelector=readOnlySelector;const{loadableWithError:loadableWithError$3,loadableWithPromise:loadableWithPromise$3,loadableWithValue:loadableWithValue$4}=Recoil_Loadable$1;function concurrentRequests(et,tt){const rt=Array(tt.length).fill(void 0),nt=Array(tt.length).fill(void 0);for(const[at,lt]of tt.entries())try{rt[at]=et(lt)}catch(dt){nt[at]=dt}return[rt,nt]}function isError(et){return et!=null&&!Recoil_isPromise(et)}function unwrapDependencies(et){return Array.isArray(et)?et:Object.getOwnPropertyNames(et).map(tt=>et[tt])}function wrapResults(et,tt){return Array.isArray(et)?tt:Object.getOwnPropertyNames(et).reduce((rt,nt,at)=>({...rt,[nt]:tt[at]}),{})}function wrapLoadables(et,tt,rt){const nt=rt.map((at,lt)=>at==null?loadableWithValue$4(tt[lt]):Recoil_isPromise(at)?loadableWithPromise$3(at):loadableWithError$3(at));return wrapResults(et,nt)}function combineAsyncResultsWithSyncResults(et,tt){return tt.map((rt,nt)=>rt===void 0?et[nt]:rt)}const waitForNone=Recoil_selectorFamily({key:"__waitForNone",get:et=>({get:tt})=>{const rt=unwrapDependencies(et),[nt,at]=concurrentRequests(tt,rt);return wrapLoadables(et,nt,at)},dangerouslyAllowMutability:!0}),waitForAny=Recoil_selectorFamily({key:"__waitForAny",get:et=>({get:tt})=>{const rt=unwrapDependencies(et),[nt,at]=concurrentRequests(tt,rt);return at.some(lt=>!Recoil_isPromise(lt))?wrapLoadables(et,nt,at):new Promise(lt=>{for(const[dt,ot]of at.entries())Recoil_isPromise(ot)&&ot.then(mt=>{nt[dt]=mt,at[dt]=void 0,lt(wrapLoadables(et,nt,at))}).catch(mt=>{at[dt]=mt,lt(wrapLoadables(et,nt,at))})})},dangerouslyAllowMutability:!0}),waitForAll=Recoil_selectorFamily({key:"__waitForAll",get:et=>({get:tt})=>{const rt=unwrapDependencies(et),[nt,at]=concurrentRequests(tt,rt);if(at.every(dt=>dt==null))return wrapResults(et,nt);const lt=at.find(isError);if(lt!=null)throw lt;return Promise.all(at).then(dt=>wrapResults(et,combineAsyncResultsWithSyncResults(nt,dt)))},dangerouslyAllowMutability:!0}),waitForAllSettled=Recoil_selectorFamily({key:"__waitForAllSettled",get:et=>({get:tt})=>{const rt=unwrapDependencies(et),[nt,at]=concurrentRequests(tt,rt);return at.every(lt=>!Recoil_isPromise(lt))?wrapLoadables(et,nt,at):Promise.all(at.map((lt,dt)=>Recoil_isPromise(lt)?lt.then(ot=>{nt[dt]=ot,at[dt]=void 0}).catch(ot=>{nt[dt]=void 0,at[dt]=ot}):null)).then(()=>wrapLoadables(et,nt,at))},dangerouslyAllowMutability:!0}),noWait=Recoil_selectorFamily({key:"__noWait",get:et=>({get:tt})=>{try{return Recoil_selector.value(loadableWithValue$4(tt(et)))}catch(rt){return Recoil_selector.value(Recoil_isPromise(rt)?loadableWithPromise$3(rt):loadableWithError$3(rt))}},dangerouslyAllowMutability:!0});var Recoil_WaitFor={waitForNone,waitForAny,waitForAll,waitForAllSettled,noWait};const{RecoilLoadable}=Recoil_Loadable$1,{DefaultValue:DefaultValue$3}=Recoil_Node,{RecoilRoot:RecoilRoot$2,useRecoilStoreID:useRecoilStoreID$1}=Recoil_RecoilRoot,{isRecoilValue:isRecoilValue$5}=Recoil_RecoilValue$1,{retentionZone:retentionZone$1}=Recoil_RetentionZone,{freshSnapshot:freshSnapshot$2}=Recoil_Snapshot$1,{useRecoilState:useRecoilState$1,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:useRecoilState_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilStateLoadable:useRecoilStateLoadable$1,useRecoilValue:useRecoilValue$1,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:useRecoilValue_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilValueLoadable:useRecoilValueLoadable$1,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE$1,useResetRecoilState:useResetRecoilState$1,useSetRecoilState:useSetRecoilState$1}=Recoil_Hooks,{useGotoRecoilSnapshot:useGotoRecoilSnapshot$1,useRecoilSnapshot:useRecoilSnapshot$1,useRecoilTransactionObserver:useRecoilTransactionObserver$1}=Recoil_SnapshotHooks,{useRecoilCallback:useRecoilCallback$1}=Recoil_useRecoilCallback,{noWait:noWait$1,waitForAll:waitForAll$1,waitForAllSettled:waitForAllSettled$1,waitForAny:waitForAny$1,waitForNone:waitForNone$1}=Recoil_WaitFor;var Recoil_index={DefaultValue:DefaultValue$3,isRecoilValue:isRecoilValue$5,RecoilLoadable,RecoilEnv:Recoil_RecoilEnv,RecoilRoot:RecoilRoot$2,useRecoilStoreID:useRecoilStoreID$1,useRecoilBridgeAcrossReactRoots_UNSTABLE:Recoil_useRecoilBridgeAcrossReactRoots,atom:Recoil_atom,selector:Recoil_selector,atomFamily:Recoil_atomFamily,selectorFamily:Recoil_selectorFamily,constSelector:Recoil_constSelector,errorSelector:Recoil_errorSelector,readOnlySelector:Recoil_readOnlySelector,noWait:noWait$1,waitForNone:waitForNone$1,waitForAny:waitForAny$1,waitForAll:waitForAll$1,waitForAllSettled:waitForAllSettled$1,useRecoilValue:useRecoilValue$1,useRecoilValueLoadable:useRecoilValueLoadable$1,useRecoilState:useRecoilState$1,useRecoilStateLoadable:useRecoilStateLoadable$1,useSetRecoilState:useSetRecoilState$1,useResetRecoilState:useResetRecoilState$1,useGetRecoilValueInfo_UNSTABLE:Recoil_useGetRecoilValueInfo,useRecoilRefresher_UNSTABLE:Recoil_useRecoilRefresher,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:useRecoilValue_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:useRecoilState_TRANSITION_SUPPORT_UNSTABLE$1,useRecoilCallback:useRecoilCallback$1,useRecoilTransaction_UNSTABLE:Recoil_useRecoilTransaction,useGotoRecoilSnapshot:useGotoRecoilSnapshot$1,useRecoilSnapshot:useRecoilSnapshot$1,useRecoilTransactionObserver_UNSTABLE:useRecoilTransactionObserver$1,snapshot_UNSTABLE:freshSnapshot$2,useRetain:Recoil_useRetain,retentionZone:retentionZone$1},Recoil_index_5=Recoil_index.RecoilRoot,Recoil_index_8=Recoil_index.atom,Recoil_index_22=Recoil_index.useRecoilState,Recoil_index_25=Recoil_index.useResetRecoilState,dist$1={};Object.defineProperty(dist$1,"__esModule",{value:!0});var recoilPersist_1=dist$1.recoilPersist=void 0;const recoilPersist=(et={})=>{if(typeof window>"u")return{persistAtom:()=>{}};const{key:tt="recoil-persist",storage:rt=localStorage}=et,nt=({onSet:mt,node:xt,trigger:Et,setSelf:At})=>{if(Et==="get"){const Tt=lt();typeof Tt.then=="function"&&Tt.then(Ft=>{Ft.hasOwnProperty(xt.key)&&At(Ft[xt.key])}),Tt.hasOwnProperty(xt.key)&&At(Tt[xt.key])}mt(async(Tt,Ft,Mt)=>{const Lt=lt();typeof Lt.then=="function"?Lt.then(Gt=>at(Tt,Gt,xt.key,Mt)):at(Tt,Lt,xt.key,Mt)})},at=(mt,xt,Et,At)=>{At?delete xt[Et]:xt[Et]=mt,ot(xt)},lt=()=>{const mt=rt.getItem(tt);return mt==null?{}:typeof mt=="string"?dt(mt):typeof mt.then=="function"?mt.then(dt):{}},dt=mt=>{if(mt===void 0)return{};try{return JSON.parse(mt)}catch(xt){return console.error(xt),{}}},ot=mt=>{try{typeof rt.mergeItem=="function"?rt.mergeItem(tt,JSON.stringify(mt)):rt.setItem(tt,JSON.stringify(mt))}catch(xt){console.error(xt)}};return{persistAtom:nt}};recoilPersist_1=dist$1.recoilPersist=recoilPersist;const{persistAtom}=recoilPersist_1(),userState=Recoil_index_8({key:"userState",default:{role:"GUEST",user_id:"",name:"",create_at:"",first:!1},effects_UNSTABLE:[persistAtom]}),envState=Recoil_index_8({key:"envState",default:{theme:"system",backNoti:!0},effects_UNSTABLE:[persistAtom]}),filterState=Recoil_index_8({key:"filterState",default:{searchRange:100,preferCategory:["DAILY","GROUP","ADS","INFO","EVENT","PRESENT"]},effects_UNSTABLE:[persistAtom]}),common={black:"#000",white:"#fff"},common$1=common,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey;function isPlainObject$1(et){return et!==null&&typeof et=="object"&&et.constructor===Object}function deepClone(et){if(!isPlainObject$1(et))return et;const tt={};return Object.keys(et).forEach(rt=>{tt[rt]=deepClone(et[rt])}),tt}function deepmerge(et,tt,rt={clone:!0}){const nt=rt.clone?{...et}:et;return isPlainObject$1(et)&&isPlainObject$1(tt)&&Object.keys(tt).forEach(at=>{at!=="__proto__"&&(isPlainObject$1(tt[at])&&at in et&&isPlainObject$1(et[at])?nt[at]=deepmerge(et[at],tt[at],rt):rt.clone?nt[at]=isPlainObject$1(tt[at])?deepClone(tt[at]):tt[at]:nt[at]=tt[at])}),nt}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function et(nt,at,lt,dt,ot,mt){if(mt!==ReactPropTypesSecret){var xt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw xt.name="Invariant Violation",xt}}et.isRequired=et;function tt(){return et}var rt={array:et,bigint:et,bool:et,func:et,number:et,object:et,string:et,symbol:et,any:et,arrayOf:tt,element:et,elementType:et,instanceOf:tt,node:et,objectOf:tt,oneOf:tt,oneOfType:tt,shape:tt,exact:tt,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return rt.PropTypes=rt,rt};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;function formatMuiErrorMessage(et){let tt="https://mui.com/production-error/?code="+et;for(let rt=1;rt<arguments.length;rt+=1)tt+="&args[]="+encodeURIComponent(arguments[rt]);return"Minified MUI error #"+et+"; visit "+tt+" for the full message."}var reactIs$2={exports:{}},reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=Symbol.for("react.element"),c$e=Symbol.for("react.portal"),d$9=Symbol.for("react.fragment"),e$1=Symbol.for("react.strict_mode"),f$2=Symbol.for("react.profiler"),g$5=Symbol.for("react.provider"),h$c=Symbol.for("react.context"),k$2=Symbol.for("react.server_context"),l$9=Symbol.for("react.forward_ref"),m$b=Symbol.for("react.suspense"),n$f=Symbol.for("react.suspense_list"),p$e=Symbol.for("react.memo"),q$2=Symbol.for("react.lazy"),t$3=Symbol.for("react.offscreen"),u$3;u$3=Symbol.for("react.module.reference");function v$5(et){if(typeof et=="object"&&et!==null){var tt=et.$$typeof;switch(tt){case b$2:switch(et=et.type,et){case d$9:case f$2:case e$1:case m$b:case n$f:return et;default:switch(et=et&&et.$$typeof,et){case k$2:case h$c:case l$9:case q$2:case p$e:case g$5:return et;default:return tt}}case c$e:return tt}}}reactIs_production_min$1.ContextConsumer=h$c;reactIs_production_min$1.ContextProvider=g$5;reactIs_production_min$1.Element=b$2;reactIs_production_min$1.ForwardRef=l$9;reactIs_production_min$1.Fragment=d$9;reactIs_production_min$1.Lazy=q$2;reactIs_production_min$1.Memo=p$e;reactIs_production_min$1.Portal=c$e;reactIs_production_min$1.Profiler=f$2;reactIs_production_min$1.StrictMode=e$1;reactIs_production_min$1.Suspense=m$b;reactIs_production_min$1.SuspenseList=n$f;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function(et){return v$5(et)===h$c};reactIs_production_min$1.isContextProvider=function(et){return v$5(et)===g$5};reactIs_production_min$1.isElement=function(et){return typeof et=="object"&&et!==null&&et.$$typeof===b$2};reactIs_production_min$1.isForwardRef=function(et){return v$5(et)===l$9};reactIs_production_min$1.isFragment=function(et){return v$5(et)===d$9};reactIs_production_min$1.isLazy=function(et){return v$5(et)===q$2};reactIs_production_min$1.isMemo=function(et){return v$5(et)===p$e};reactIs_production_min$1.isPortal=function(et){return v$5(et)===c$e};reactIs_production_min$1.isProfiler=function(et){return v$5(et)===f$2};reactIs_production_min$1.isStrictMode=function(et){return v$5(et)===e$1};reactIs_production_min$1.isSuspense=function(et){return v$5(et)===m$b};reactIs_production_min$1.isSuspenseList=function(et){return v$5(et)===n$f};reactIs_production_min$1.isValidElementType=function(et){return typeof et=="string"||typeof et=="function"||et===d$9||et===f$2||et===e$1||et===m$b||et===n$f||et===t$3||typeof et=="object"&&et!==null&&(et.$$typeof===q$2||et.$$typeof===p$e||et.$$typeof===g$5||et.$$typeof===h$c||et.$$typeof===l$9||et.$$typeof===u$3||et.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$5;reactIs$2.exports=reactIs_production_min$1;var reactIsExports$1=reactIs$2.exports;function capitalize(et){if(typeof et!="string")throw new Error(formatMuiErrorMessage(7));return et.charAt(0).toUpperCase()+et.slice(1)}function createChainedFunction(...et){return et.reduce((tt,rt)=>rt==null?tt:function(...at){tt.apply(this,at),rt.apply(this,at)},()=>{})}function debounce(et,tt=166){let rt;function nt(...at){const lt=()=>{et.apply(this,at)};clearTimeout(rt),rt=setTimeout(lt,tt)}return nt.clear=()=>{clearTimeout(rt)},nt}function isMuiElement(et,tt){return reactExports.isValidElement(et)&&tt.indexOf(et.type.muiName)!==-1}function ownerDocument(et){return et&&et.ownerDocument||document}function ownerWindow(et){return ownerDocument(et).defaultView||window}function setRef(et,tt){typeof et=="function"?et(tt):et&&(et.current=tt)}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;let globalId=0;function useGlobalId(et){const[tt,rt]=reactExports.useState(et),nt=et||tt;return reactExports.useEffect(()=>{tt==null&&(globalId+=1,rt(`mui-${globalId}`))},[tt]),nt}const maybeReactUseId=React$1["useId".toString()];function useId(et){if(maybeReactUseId!==void 0){const tt=maybeReactUseId();return et??tt}return useGlobalId(et)}function useControlled({controlled:et,default:tt,name:rt,state:nt="value"}){const{current:at}=reactExports.useRef(et!==void 0),[lt,dt]=reactExports.useState(tt),ot=at?et:lt,mt=reactExports.useCallback(xt=>{at||dt(xt)},[]);return[ot,mt]}function useEventCallback(et){const tt=reactExports.useRef(et);return useEnhancedEffect$1(()=>{tt.current=et}),reactExports.useCallback((...rt)=>(0,tt.current)(...rt),[])}function useForkRef(...et){return reactExports.useMemo(()=>et.every(tt=>tt==null)?null:tt=>{et.forEach(rt=>{setRef(rt,tt)})},et)}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout;const inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(et){const{type:tt,tagName:rt}=et;return!!(rt==="INPUT"&&inputTypesWhitelist[tt]&&!et.readOnly||rt==="TEXTAREA"&&!et.readOnly||et.isContentEditable)}function handleKeyDown(et){et.metaKey||et.altKey||et.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(et){et.addEventListener("keydown",handleKeyDown,!0),et.addEventListener("mousedown",handlePointerDown,!0),et.addEventListener("pointerdown",handlePointerDown,!0),et.addEventListener("touchstart",handlePointerDown,!0),et.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(et){const{target:tt}=et;try{return tt.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(tt)}function useIsFocusVisible(){const et=reactExports.useCallback(at=>{at!=null&&prepare(at.ownerDocument)},[]),tt=reactExports.useRef(!1);function rt(){return tt.current?(hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout(()=>{hadFocusVisibleRecently=!1},100),tt.current=!1,!0):!1}function nt(at){return isFocusVisible(at)?(tt.current=!0,!0):!1}return{isFocusVisibleRef:tt,onFocus:nt,onBlur:rt,ref:et}}function getScrollbarSize(et){const tt=et.documentElement.clientWidth;return Math.abs(window.innerWidth-tt)}const usePreviousProps=et=>{const tt=reactExports.useRef({});return reactExports.useEffect(()=>{tt.current=et}),tt.current},usePreviousProps$1=usePreviousProps,visuallyHidden={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},visuallyHidden$1=visuallyHidden;function resolveProps(et,tt){const rt={...tt};return Object.keys(et).forEach(nt=>{if(nt.toString().match(/^(components|slots)$/))rt[nt]={...et[nt],...rt[nt]};else if(nt.toString().match(/^(componentsProps|slotProps)$/)){const at=et[nt]||{},lt=tt[nt];rt[nt]={},!lt||!Object.keys(lt)?rt[nt]=at:!at||!Object.keys(at)?rt[nt]=lt:(rt[nt]={...lt},Object.keys(at).forEach(dt=>{rt[nt][dt]=resolveProps(at[dt],lt[dt])}))}else rt[nt]===void 0&&(rt[nt]=et[nt])}),rt}function composeClasses(et,tt,rt=void 0){const nt={};return Object.keys(et).forEach(at=>{nt[at]=et[at].reduce((lt,dt)=>{if(dt){const ot=tt(dt);ot!==""&&lt.push(ot),rt&&rt[dt]&&lt.push(rt[dt])}return lt},[]).join(" ")}),nt}const defaultGenerator=et=>et,createClassNameGenerator=()=>{let et=defaultGenerator;return{configure(tt){et=tt},generate(tt){return et(tt)},reset(){et=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator,globalStateClassesMapping={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function generateUtilityClass(et,tt,rt="Mui"){const nt=globalStateClassesMapping[tt];return nt?`${rt}-${nt}`:`${ClassNameGenerator$1.generate(et)}-${tt}`}function generateUtilityClasses(et,tt,rt="Mui"){const nt={};return tt.forEach(at=>{nt[at]=generateUtilityClass(et,at,rt)}),nt}const THEME_ID="$$material";function _extends(){return _extends=Object.assign?Object.assign.bind():function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),at,lt;for(lt=0;lt<nt.length;lt++)at=nt[lt],!(tt.indexOf(at)>=0)&&(rt[at]=et[at]);return rt}function memoize$1(et){var tt=Object.create(null);return function(rt){return tt[rt]===void 0&&(tt[rt]=et(rt)),tt[rt]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(et){return reactPropsRegex.test(et)||et.charCodeAt(0)===111&&et.charCodeAt(1)===110&&et.charCodeAt(2)<91});function sheetForTag(et){if(et.sheet)return et.sheet;for(var tt=0;tt<document.styleSheets.length;tt++)if(document.styleSheets[tt].ownerNode===et)return document.styleSheets[tt]}function createStyleElement(et){var tt=document.createElement("style");return tt.setAttribute("data-emotion",et.key),et.nonce!==void 0&&tt.setAttribute("nonce",et.nonce),tt.appendChild(document.createTextNode("")),tt.setAttribute("data-s",""),tt}var StyleSheet=function(){function et(rt){var nt=this;this._insertTag=function(at){var lt;nt.tags.length===0?nt.insertionPoint?lt=nt.insertionPoint.nextSibling:nt.prepend?lt=nt.container.firstChild:lt=nt.before:lt=nt.tags[nt.tags.length-1].nextSibling,nt.container.insertBefore(at,lt),nt.tags.push(at)},this.isSpeedy=rt.speedy===void 0?!0:rt.speedy,this.tags=[],this.ctr=0,this.nonce=rt.nonce,this.key=rt.key,this.container=rt.container,this.prepend=rt.prepend,this.insertionPoint=rt.insertionPoint,this.before=null}var tt=et.prototype;return tt.hydrate=function(nt){nt.forEach(this._insertTag)},tt.insert=function(nt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var at=this.tags[this.tags.length-1];if(this.isSpeedy){var lt=sheetForTag(at);try{lt.insertRule(nt,lt.cssRules.length)}catch{}}else at.appendChild(document.createTextNode(nt));this.ctr++},tt.flush=function(){this.tags.forEach(function(nt){return nt.parentNode&&nt.parentNode.removeChild(nt)}),this.tags=[],this.ctr=0},et}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(et,tt){return charat(et,0)^45?(((tt<<2^charat(et,0))<<2^charat(et,1))<<2^charat(et,2))<<2^charat(et,3):0}function trim(et){return et.trim()}function match(et,tt){return(et=tt.exec(et))?et[0]:et}function replace(et,tt,rt){return et.replace(tt,rt)}function indexof(et,tt){return et.indexOf(tt)}function charat(et,tt){return et.charCodeAt(tt)|0}function substr(et,tt,rt){return et.slice(tt,rt)}function strlen(et){return et.length}function sizeof(et){return et.length}function append(et,tt){return tt.push(et),et}function combine(et,tt){return et.map(tt).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(et,tt,rt,nt,at,lt,dt){return{value:et,root:tt,parent:rt,type:nt,props:at,children:lt,line,column,length:dt,return:""}}function copy(et,tt){return assign(node("",null,null,"",null,null,0),et,{length:-et.length},tt)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(et,tt){return substr(characters,et,tt)}function token(et){switch(et){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(et){return line=column=1,length=strlen(characters=et),position=0,[]}function dealloc(et){return characters="",et}function delimit(et){return trim(slice(position-1,delimiter(et===91?et+2:et===40?et+1:et)))}function whitespace(et){for(;(character=peek())&&character<33;)next();return token(et)>2||token(character)>3?"":" "}function escaping(et,tt){for(;--tt&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(et,caret()+(tt<6&&peek()==32&&next()==32))}function delimiter(et){for(;next();)switch(character){case et:return position;case 34:case 39:et!==34&&et!==39&&delimiter(character);break;case 40:et===41&&delimiter(et);break;case 92:next();break}return position}function commenter(et,tt){for(;next()&&et+character!==47+10;)if(et+character===42+42&&peek()===47)break;return"/*"+slice(tt,position-1)+"*"+from(et===47?et:next())}function identifier(et){for(;!token(peek());)next();return slice(et,position)}function compile(et){return dealloc(parse("",null,null,null,[""],et=alloc(et),0,[0],et))}function parse(et,tt,rt,nt,at,lt,dt,ot,mt){for(var xt=0,Et=0,At=dt,Tt=0,Ft=0,Mt=0,Lt=1,Gt=1,Pt=1,$t=0,It="",Ot=at,Vt=lt,Ut=nt,Wt=It;Gt;)switch(Mt=$t,$t=next()){case 40:if(Mt!=108&&charat(Wt,At-1)==58){indexof(Wt+=replace(delimit($t),"&","&\f"),"&\f")!=-1&&(Pt=-1);break}case 34:case 39:case 91:Wt+=delimit($t);break;case 9:case 10:case 13:case 32:Wt+=whitespace(Mt);break;case 92:Wt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),tt,rt),mt);break;default:Wt+="/"}break;case 123*Lt:ot[xt++]=strlen(Wt)*Pt;case 125*Lt:case 59:case 0:switch($t){case 0:case 125:Gt=0;case 59+Et:Pt==-1&&(Wt=replace(Wt,/\f/g,"")),Ft>0&&strlen(Wt)-At&&append(Ft>32?declaration(Wt+";",nt,rt,At-1):declaration(replace(Wt," ","")+";",nt,rt,At-2),mt);break;case 59:Wt+=";";default:if(append(Ut=ruleset(Wt,tt,rt,xt,Et,at,ot,It,Ot=[],Vt=[],At),lt),$t===123)if(Et===0)parse(Wt,tt,Ut,Ut,Ot,lt,At,ot,Vt);else switch(Tt===99&&charat(Wt,3)===110?100:Tt){case 100:case 108:case 109:case 115:parse(et,Ut,Ut,nt&&append(ruleset(et,Ut,Ut,0,0,at,ot,It,at,Ot=[],At),Vt),at,Vt,At,ot,nt?Ot:Vt);break;default:parse(Wt,Ut,Ut,Ut,[""],Vt,0,ot,Vt)}}xt=Et=Ft=0,Lt=Pt=1,It=Wt="",At=dt;break;case 58:At=1+strlen(Wt),Ft=Mt;default:if(Lt<1){if($t==123)--Lt;else if($t==125&&Lt++==0&&prev()==125)continue}switch(Wt+=from($t),$t*Lt){case 38:Pt=Et>0?1:(Wt+="\f",-1);break;case 44:ot[xt++]=(strlen(Wt)-1)*Pt,Pt=1;break;case 64:peek()===45&&(Wt+=delimit(next())),Tt=peek(),Et=At=strlen(It=Wt+=identifier(caret())),$t++;break;case 45:Mt===45&&strlen(Wt)==2&&(Lt=0)}}return lt}function ruleset(et,tt,rt,nt,at,lt,dt,ot,mt,xt,Et){for(var At=at-1,Tt=at===0?lt:[""],Ft=sizeof(Tt),Mt=0,Lt=0,Gt=0;Mt<nt;++Mt)for(var Pt=0,$t=substr(et,At+1,At=abs(Lt=dt[Mt])),It=et;Pt<Ft;++Pt)(It=trim(Lt>0?Tt[Pt]+" "+$t:replace($t,/&\f/g,Tt[Pt])))&&(mt[Gt++]=It);return node(et,tt,rt,at===0?RULESET:ot,mt,xt,Et)}function comment(et,tt,rt){return node(et,tt,rt,COMMENT,from(char()),substr(et,2,-2),0)}function declaration(et,tt,rt,nt){return node(et,tt,rt,DECLARATION,substr(et,0,nt),substr(et,nt+1,-1),nt)}function serialize(et,tt){for(var rt="",nt=sizeof(et),at=0;at<nt;at++)rt+=tt(et[at],at,et,tt)||"";return rt}function stringify(et,tt,rt,nt){switch(et.type){case LAYER:if(et.children.length)break;case IMPORT:case DECLARATION:return et.return=et.return||et.value;case COMMENT:return"";case KEYFRAMES:return et.return=et.value+"{"+serialize(et.children,nt)+"}";case RULESET:et.value=et.props.join(",")}return strlen(rt=serialize(et.children,nt))?et.return=et.value+"{"+rt+"}":""}function middleware(et){var tt=sizeof(et);return function(rt,nt,at,lt){for(var dt="",ot=0;ot<tt;ot++)dt+=et[ot](rt,nt,at,lt)||"";return dt}}function rulesheet(et){return function(tt){tt.root||(tt=tt.return)&&et(tt)}}var identifierWithPointTracking=function(tt,rt,nt){for(var at=0,lt=0;at=lt,lt=peek(),at===38&&lt===12&&(rt[nt]=1),!token(lt);)next();return slice(tt,position)},toRules=function(tt,rt){var nt=-1,at=44;do switch(token(at)){case 0:at===38&&peek()===12&&(rt[nt]=1),tt[nt]+=identifierWithPointTracking(position-1,rt,nt);break;case 2:tt[nt]+=delimit(at);break;case 4:if(at===44){tt[++nt]=peek()===58?"&\f":"",rt[nt]=tt[nt].length;break}default:tt[nt]+=from(at)}while(at=next());return tt},getRules=function(tt,rt){return dealloc(toRules(alloc(tt),rt))},fixedElements=new WeakMap,compat=function(tt){if(!(tt.type!=="rule"||!tt.parent||tt.length<1)){for(var rt=tt.value,nt=tt.parent,at=tt.column===nt.column&&tt.line===nt.line;nt.type!=="rule";)if(nt=nt.parent,!nt)return;if(!(tt.props.length===1&&rt.charCodeAt(0)!==58&&!fixedElements.get(nt))&&!at){fixedElements.set(tt,!0);for(var lt=[],dt=getRules(rt,lt),ot=nt.props,mt=0,xt=0;mt<dt.length;mt++)for(var Et=0;Et<ot.length;Et++,xt++)tt.props[xt]=lt[mt]?dt[mt].replace(/&\f/g,ot[Et]):ot[Et]+" "+dt[mt]}}},removeLabel=function(tt){if(tt.type==="decl"){var rt=tt.value;rt.charCodeAt(0)===108&&rt.charCodeAt(2)===98&&(tt.return="",tt.value="")}};function prefix(et,tt){switch(hash(et,tt)){case 5103:return WEBKIT+"print-"+et+et;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+et+et;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+et+MOZ+et+MS+et+et;case 6828:case 4268:return WEBKIT+et+MS+et+et;case 6165:return WEBKIT+et+MS+"flex-"+et+et;case 5187:return WEBKIT+et+replace(et,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+et;case 5443:return WEBKIT+et+MS+"flex-item-"+replace(et,/flex-|-self/,"")+et;case 4675:return WEBKIT+et+MS+"flex-line-pack"+replace(et,/align-content|flex-|-self/,"")+et;case 5548:return WEBKIT+et+MS+replace(et,"shrink","negative")+et;case 5292:return WEBKIT+et+MS+replace(et,"basis","preferred-size")+et;case 6060:return WEBKIT+"box-"+replace(et,"-grow","")+WEBKIT+et+MS+replace(et,"grow","positive")+et;case 4554:return WEBKIT+replace(et,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+et;case 6187:return replace(replace(replace(et,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),et,"")+et;case 5495:case 3959:return replace(et,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(et,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+et+et;case 4095:case 3583:case 4068:case 2532:return replace(et,/(.+)-inline(.+)/,WEBKIT+"$1$2")+et;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(et)-1-tt>6)switch(charat(et,tt+1)){case 109:if(charat(et,tt+4)!==45)break;case 102:return replace(et,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(et,tt+3)==108?"$3":"$2-$3"))+et;case 115:return~indexof(et,"stretch")?prefix(replace(et,"stretch","fill-available"),tt)+et:et}break;case 4949:if(charat(et,tt+1)!==115)break;case 6444:switch(charat(et,strlen(et)-3-(~indexof(et,"!important")&&10))){case 107:return replace(et,":",":"+WEBKIT)+et;case 101:return replace(et,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(et,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+et}break;case 5936:switch(charat(et,tt+11)){case 114:return WEBKIT+et+MS+replace(et,/[svh]\w+-[tblr]{2}/,"tb")+et;case 108:return WEBKIT+et+MS+replace(et,/[svh]\w+-[tblr]{2}/,"tb-rl")+et;case 45:return WEBKIT+et+MS+replace(et,/[svh]\w+-[tblr]{2}/,"lr")+et}return WEBKIT+et+MS+et+et}return et}var prefixer=function(tt,rt,nt,at){if(tt.length>-1&&!tt.return)switch(tt.type){case DECLARATION:tt.return=prefix(tt.value,tt.length);break;case KEYFRAMES:return serialize([copy(tt,{value:replace(tt.value,"@","@"+WEBKIT)})],at);case RULESET:if(tt.length)return combine(tt.props,function(lt){switch(match(lt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(tt,{props:[replace(lt,/:(read-\w+)/,":"+MOZ+"$1")]})],at);case"::placeholder":return serialize([copy(tt,{props:[replace(lt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(tt,{props:[replace(lt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(tt,{props:[replace(lt,/:(plac\w+)/,MS+"input-$1")]})],at)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(tt){var rt=tt.key;if(rt==="css"){var nt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(nt,function(Lt){var Gt=Lt.getAttribute("data-emotion");Gt.indexOf(" ")!==-1&&(document.head.appendChild(Lt),Lt.setAttribute("data-s",""))})}var at=tt.stylisPlugins||defaultStylisPlugins,lt={},dt,ot=[];dt=tt.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+rt+' "]'),function(Lt){for(var Gt=Lt.getAttribute("data-emotion").split(" "),Pt=1;Pt<Gt.length;Pt++)lt[Gt[Pt]]=!0;ot.push(Lt)});var mt,xt=[compat,removeLabel];{var Et,At=[stringify,rulesheet(function(Lt){Et.insert(Lt)})],Tt=middleware(xt.concat(at,At)),Ft=function(Gt){return serialize(compile(Gt),Tt)};mt=function(Gt,Pt,$t,It){Et=$t,Ft(Gt?Gt+"{"+Pt.styles+"}":Pt.styles),It&&(Mt.inserted[Pt.name]=!0)}}var Mt={key:rt,sheet:new StyleSheet({key:rt,container:dt,nonce:tt.nonce,speedy:tt.speedy,prepend:tt.prepend,insertionPoint:tt.insertionPoint}),nonce:tt.nonce,inserted:lt,registered:{},insert:mt};return Mt.sheet.hydrate(ot),Mt},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$d=b$1?Symbol.for("react.element"):60103,d$8=b$1?Symbol.for("react.portal"):60106,e=b$1?Symbol.for("react.fragment"):60107,f$1=b$1?Symbol.for("react.strict_mode"):60108,g$4=b$1?Symbol.for("react.profiler"):60114,h$b=b$1?Symbol.for("react.provider"):60109,k$1=b$1?Symbol.for("react.context"):60110,l$8=b$1?Symbol.for("react.async_mode"):60111,m$a=b$1?Symbol.for("react.concurrent_mode"):60111,n$e=b$1?Symbol.for("react.forward_ref"):60112,p$d=b$1?Symbol.for("react.suspense"):60113,q$1=b$1?Symbol.for("react.suspense_list"):60120,r$g=b$1?Symbol.for("react.memo"):60115,t$2=b$1?Symbol.for("react.lazy"):60116,v$4=b$1?Symbol.for("react.block"):60121,w$2=b$1?Symbol.for("react.fundamental"):60117,x$1=b$1?Symbol.for("react.responder"):60118,y$1=b$1?Symbol.for("react.scope"):60119;function z$1(et){if(typeof et=="object"&&et!==null){var tt=et.$$typeof;switch(tt){case c$d:switch(et=et.type,et){case l$8:case m$a:case e:case g$4:case f$1:case p$d:return et;default:switch(et=et&&et.$$typeof,et){case k$1:case n$e:case t$2:case r$g:case h$b:return et;default:return tt}}case d$8:return tt}}}function A$9(et){return z$1(et)===m$a}reactIs_production_min.AsyncMode=l$8;reactIs_production_min.ConcurrentMode=m$a;reactIs_production_min.ContextConsumer=k$1;reactIs_production_min.ContextProvider=h$b;reactIs_production_min.Element=c$d;reactIs_production_min.ForwardRef=n$e;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t$2;reactIs_production_min.Memo=r$g;reactIs_production_min.Portal=d$8;reactIs_production_min.Profiler=g$4;reactIs_production_min.StrictMode=f$1;reactIs_production_min.Suspense=p$d;reactIs_production_min.isAsyncMode=function(et){return A$9(et)||z$1(et)===l$8};reactIs_production_min.isConcurrentMode=A$9;reactIs_production_min.isContextConsumer=function(et){return z$1(et)===k$1};reactIs_production_min.isContextProvider=function(et){return z$1(et)===h$b};reactIs_production_min.isElement=function(et){return typeof et=="object"&&et!==null&&et.$$typeof===c$d};reactIs_production_min.isForwardRef=function(et){return z$1(et)===n$e};reactIs_production_min.isFragment=function(et){return z$1(et)===e};reactIs_production_min.isLazy=function(et){return z$1(et)===t$2};reactIs_production_min.isMemo=function(et){return z$1(et)===r$g};reactIs_production_min.isPortal=function(et){return z$1(et)===d$8};reactIs_production_min.isProfiler=function(et){return z$1(et)===g$4};reactIs_production_min.isStrictMode=function(et){return z$1(et)===f$1};reactIs_production_min.isSuspense=function(et){return z$1(et)===p$d};reactIs_production_min.isValidElementType=function(et){return typeof et=="string"||typeof et=="function"||et===e||et===m$a||et===g$4||et===f$1||et===p$d||et===q$1||typeof et=="object"&&et!==null&&(et.$$typeof===t$2||et.$$typeof===r$g||et.$$typeof===h$b||et.$$typeof===k$1||et.$$typeof===n$e||et.$$typeof===w$2||et.$$typeof===x$1||et.$$typeof===y$1||et.$$typeof===v$4)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(et){return reactIs.isMemo(et)?MEMO_STATICS:TYPE_STATICS[et.$$typeof]||REACT_STATICS}var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf$1=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(et,tt,rt){if(typeof tt!="string"){if(objectPrototype){var nt=getPrototypeOf$1(tt);nt&&nt!==objectPrototype&&hoistNonReactStatics(et,nt,rt)}var at=getOwnPropertyNames(tt);getOwnPropertySymbols&&(at=at.concat(getOwnPropertySymbols(tt)));for(var lt=getStatics(et),dt=getStatics(tt),ot=0;ot<at.length;++ot){var mt=at[ot];if(!KNOWN_STATICS[mt]&&!(rt&&rt[mt])&&!(dt&&dt[mt])&&!(lt&&lt[mt])){var xt=getOwnPropertyDescriptor(tt,mt);try{defineProperty(et,mt,xt)}catch{}}}}return et}var hoistNonReactStatics_cjs=hoistNonReactStatics;const m$9=getDefaultExportFromCjs(hoistNonReactStatics_cjs);var isBrowser=!0;function getRegisteredStyles(et,tt,rt){var nt="";return rt.split(" ").forEach(function(at){et[at]!==void 0?tt.push(et[at]+";"):nt+=at+" "}),nt}var registerStyles=function(tt,rt,nt){var at=tt.key+"-"+rt.name;(nt===!1||isBrowser===!1)&&tt.registered[at]===void 0&&(tt.registered[at]=rt.styles)},insertStyles=function(tt,rt,nt){registerStyles(tt,rt,nt);var at=tt.key+"-"+rt.name;if(tt.inserted[rt.name]===void 0){var lt=rt;do tt.insert(rt===lt?"."+at:"",lt,tt.sheet,!0),lt=lt.next;while(lt!==void 0)}};function murmur2(et){for(var tt=0,rt,nt=0,at=et.length;at>=4;++nt,at-=4)rt=et.charCodeAt(nt)&255|(et.charCodeAt(++nt)&255)<<8|(et.charCodeAt(++nt)&255)<<16|(et.charCodeAt(++nt)&255)<<24,rt=(rt&65535)*1540483477+((rt>>>16)*59797<<16),rt^=rt>>>24,tt=(rt&65535)*1540483477+((rt>>>16)*59797<<16)^(tt&65535)*1540483477+((tt>>>16)*59797<<16);switch(at){case 3:tt^=(et.charCodeAt(nt+2)&255)<<16;case 2:tt^=(et.charCodeAt(nt+1)&255)<<8;case 1:tt^=et.charCodeAt(nt)&255,tt=(tt&65535)*1540483477+((tt>>>16)*59797<<16)}return tt^=tt>>>13,tt=(tt&65535)*1540483477+((tt>>>16)*59797<<16),((tt^tt>>>15)>>>0).toString(36)}var unitlessKeys$1={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(tt){return tt.charCodeAt(1)===45},isProcessableValue=function(tt){return tt!=null&&typeof tt!="boolean"},processStyleName=memoize$1(function(et){return isCustomProperty(et)?et:et.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(tt,rt){switch(tt){case"animation":case"animationName":if(typeof rt=="string")return rt.replace(animationRegex,function(nt,at,lt){return cursor={name:at,styles:lt,next:cursor},at})}return unitlessKeys$1[tt]!==1&&!isCustomProperty(tt)&&typeof rt=="number"&&rt!==0?rt+"px":rt},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(et,tt,rt){if(rt==null)return"";if(rt.__emotion_styles!==void 0)return rt;switch(typeof rt){case"boolean":return"";case"object":{if(rt.anim===1)return cursor={name:rt.name,styles:rt.styles,next:cursor},rt.name;if(rt.styles!==void 0){var nt=rt.next;if(nt!==void 0)for(;nt!==void 0;)cursor={name:nt.name,styles:nt.styles,next:cursor},nt=nt.next;var at=rt.styles+";";return at}return createStringFromObject(et,tt,rt)}case"function":{if(et!==void 0){var lt=cursor,dt=rt(et);return cursor=lt,handleInterpolation(et,tt,dt)}break}}if(tt==null)return rt;var ot=tt[rt];return ot!==void 0?ot:rt}function createStringFromObject(et,tt,rt){var nt="";if(Array.isArray(rt))for(var at=0;at<rt.length;at++)nt+=handleInterpolation(et,tt,rt[at])+";";else for(var lt in rt){var dt=rt[lt];if(typeof dt!="object")tt!=null&&tt[dt]!==void 0?nt+=lt+"{"+tt[dt]+"}":isProcessableValue(dt)&&(nt+=processStyleName(lt)+":"+processStyleValue(lt,dt)+";");else if(Array.isArray(dt)&&typeof dt[0]=="string"&&(tt==null||tt[dt[0]]===void 0))for(var ot=0;ot<dt.length;ot++)isProcessableValue(dt[ot])&&(nt+=processStyleName(lt)+":"+processStyleValue(lt,dt[ot])+";");else{var mt=handleInterpolation(et,tt,dt);switch(lt){case"animation":case"animationName":{nt+=processStyleName(lt)+":"+mt+";";break}default:nt+=lt+"{"+mt+"}"}}}return nt}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(tt,rt,nt){if(tt.length===1&&typeof tt[0]=="object"&&tt[0]!==null&&tt[0].styles!==void 0)return tt[0];var at=!0,lt="";cursor=void 0;var dt=tt[0];dt==null||dt.raw===void 0?(at=!1,lt+=handleInterpolation(nt,rt,dt)):lt+=dt[0];for(var ot=1;ot<tt.length;ot++)lt+=handleInterpolation(nt,rt,tt[ot]),at&&(lt+=dt[ot]);labelPattern.lastIndex=0;for(var mt="",xt;(xt=labelPattern.exec(lt))!==null;)mt+="-"+xt[1];var Et=murmur2(lt)+mt;return{name:Et,styles:lt,next:cursor}},syncFallback=function(tt){return tt()},useInsertionEffect=React$1["useInsertionEffect"]?React$1["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null),CacheProvider=EmotionCacheContext.Provider,withEmotionCache=function(tt){return reactExports.forwardRef(function(rt,nt){var at=reactExports.useContext(EmotionCacheContext);return tt(rt,at,nt)})},ThemeContext$2=reactExports.createContext({}),Global=withEmotionCache(function(et,tt){var rt=et.styles,nt=serializeStyles([rt],void 0,reactExports.useContext(ThemeContext$2)),at=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var lt=tt.key+"-global",dt=new tt.sheet.constructor({key:lt,nonce:tt.sheet.nonce,container:tt.sheet.container,speedy:tt.sheet.isSpeedy}),ot=!1,mt=document.querySelector('style[data-emotion="'+lt+" "+nt.name+'"]');return tt.sheet.tags.length&&(dt.before=tt.sheet.tags[0]),mt!==null&&(ot=!0,mt.setAttribute("data-emotion",lt),dt.hydrate([mt])),at.current=[dt,ot],function(){dt.flush()}},[tt]),useInsertionEffectWithLayoutFallback(function(){var lt=at.current,dt=lt[0],ot=lt[1];if(ot){lt[1]=!1;return}if(nt.next!==void 0&&insertStyles(tt,nt.next,!0),dt.tags.length){var mt=dt.tags[dt.tags.length-1].nextElementSibling;dt.before=mt,dt.flush()}tt.insert("",nt,dt,!1)},[tt,nt.name]),null});function css(){for(var et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];return serializeStyles(tt)}var keyframes=function(){var tt=css.apply(void 0,arguments),rt="animation-"+tt.name;return{name:rt,styles:"@keyframes "+rt+"{"+tt.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(tt){return tt!=="theme"},getDefaultShouldForwardProp=function(tt){return typeof tt=="string"&&tt.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(tt,rt,nt){var at;if(rt){var lt=rt.shouldForwardProp;at=tt.__emotion_forwardProp&&lt?function(dt){return tt.__emotion_forwardProp(dt)&&lt(dt)}:lt}return typeof at!="function"&&nt&&(at=tt.__emotion_forwardProp),at},Insertion=function(tt){var rt=tt.cache,nt=tt.serialized,at=tt.isStringTag;return registerStyles(rt,nt,at),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(rt,nt,at)}),null},createStyled$1=function et(tt,rt){var nt=tt.__emotion_real===tt,at=nt&&tt.__emotion_base||tt,lt,dt;rt!==void 0&&(lt=rt.label,dt=rt.target);var ot=composeShouldForwardProps(tt,rt,nt),mt=ot||getDefaultShouldForwardProp(at),xt=!mt("as");return function(){var Et=arguments,At=nt&&tt.__emotion_styles!==void 0?tt.__emotion_styles.slice(0):[];if(lt!==void 0&&At.push("label:"+lt+";"),Et[0]==null||Et[0].raw===void 0)At.push.apply(At,Et);else{At.push(Et[0][0]);for(var Tt=Et.length,Ft=1;Ft<Tt;Ft++)At.push(Et[Ft],Et[0][Ft])}var Mt=withEmotionCache(function(Lt,Gt,Pt){var $t=xt&&Lt.as||at,It="",Ot=[],Vt=Lt;if(Lt.theme==null){Vt={};for(var Ut in Lt)Vt[Ut]=Lt[Ut];Vt.theme=reactExports.useContext(ThemeContext$2)}typeof Lt.className=="string"?It=getRegisteredStyles(Gt.registered,Ot,Lt.className):Lt.className!=null&&(It=Lt.className+" ");var Wt=serializeStyles(At.concat(Ot),Gt.registered,Vt);It+=Gt.key+"-"+Wt.name,dt!==void 0&&(It+=" "+dt);var nr=xt&&ot===void 0?getDefaultShouldForwardProp($t):mt,er={};for(var Kt in Lt)xt&&Kt==="as"||nr(Kt)&&(er[Kt]=Lt[Kt]);return er.className=It,er.ref=Pt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:Gt,serialized:Wt,isStringTag:typeof $t=="string"}),reactExports.createElement($t,er))});return Mt.displayName=lt!==void 0?lt:"Styled("+(typeof at=="string"?at:at.displayName||at.name||"Component")+")",Mt.defaultProps=tt.defaultProps,Mt.__emotion_real=Mt,Mt.__emotion_base=at,Mt.__emotion_styles=At,Mt.__emotion_forwardProp=ot,Object.defineProperty(Mt,"toString",{value:function(){return"."+dt}}),Mt.withComponent=function(Lt,Gt){return et(Lt,_extends({},rt,Gt,{shouldForwardProp:composeShouldForwardProps(Mt,Gt,!0)})).apply(void 0,At)},Mt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(et){newStyled[et]=newStyled(et)});let cache;typeof document=="object"&&(cache=createCache({key:"css",prepend:!0}));function StyledEngineProvider(et){const{injectFirst:tt,children:rt}=et;return tt&&cache?jsx(CacheProvider,{value:cache,children:rt}):rt}function isEmpty$4(et){return et==null||Object.keys(et).length===0}function GlobalStyles$2(et){const{styles:tt,defaultTheme:rt={}}=et;return jsx(Global,{styles:typeof tt=="function"?at=>tt(isEmpty$4(at)?rt:at):tt})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$5(et,tt){return newStyled(et,tt)}const internal_processStyles=(et,tt)=>{Array.isArray(et.__emotion_styles)&&(et.__emotion_styles=tt(et.__emotion_styles))},_excluded$14=["values","unit","step"],sortBreakpointsValues=et=>{const tt=Object.keys(et).map(rt=>({key:rt,val:et[rt]}))||[];return tt.sort((rt,nt)=>rt.val-nt.val),tt.reduce((rt,nt)=>_extends({},rt,{[nt.key]:nt.val}),{})};function createBreakpoints(et){const{values:tt={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:rt="px",step:nt=5}=et,at=_objectWithoutPropertiesLoose$1(et,_excluded$14),lt=sortBreakpointsValues(tt),dt=Object.keys(lt);function ot(Tt){return`@media (min-width:${typeof tt[Tt]=="number"?tt[Tt]:Tt}${rt})`}function mt(Tt){return`@media (max-width:${(typeof tt[Tt]=="number"?tt[Tt]:Tt)-nt/100}${rt})`}function xt(Tt,Ft){const Mt=dt.indexOf(Ft);return`@media (min-width:${typeof tt[Tt]=="number"?tt[Tt]:Tt}${rt}) and (max-width:${(Mt!==-1&&typeof tt[dt[Mt]]=="number"?tt[dt[Mt]]:Ft)-nt/100}${rt})`}function Et(Tt){return dt.indexOf(Tt)+1<dt.length?xt(Tt,dt[dt.indexOf(Tt)+1]):ot(Tt)}function At(Tt){const Ft=dt.indexOf(Tt);return Ft===0?ot(dt[1]):Ft===dt.length-1?mt(dt[Ft]):xt(Tt,dt[dt.indexOf(Tt)+1]).replace("@media","@media not all and")}return _extends({keys:dt,values:lt,up:ot,down:mt,between:xt,only:Et,not:At,unit:rt},at)}const shape={borderRadius:4},shape$1=shape;function merge(et,tt){return tt?deepmerge(et,tt,{clone:!1}):et}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:et=>`@media (min-width:${values$1[et]}px)`};function handleBreakpoints(et,tt,rt){const nt=et.theme||{};if(Array.isArray(tt)){const lt=nt.breakpoints||defaultBreakpoints;return tt.reduce((dt,ot,mt)=>(dt[lt.up(lt.keys[mt])]=rt(tt[mt]),dt),{})}if(typeof tt=="object"){const lt=nt.breakpoints||defaultBreakpoints;return Object.keys(tt).reduce((dt,ot)=>{if(Object.keys(lt.values||values$1).indexOf(ot)!==-1){const mt=lt.up(ot);dt[mt]=rt(tt[ot],ot)}else{const mt=ot;dt[mt]=tt[mt]}return dt},{})}return rt(tt)}function createEmptyBreakpointObject(et={}){var tt;return((tt=et.keys)==null?void 0:tt.reduce((nt,at)=>{const lt=et.up(at);return nt[lt]={},nt},{}))||{}}function removeUnusedBreakpoints(et,tt){return et.reduce((rt,nt)=>{const at=rt[nt];return(!at||Object.keys(at).length===0)&&delete rt[nt],rt},tt)}function mergeBreakpointsInOrder(et,...tt){const rt=createEmptyBreakpointObject(et),nt=[rt,...tt].reduce((at,lt)=>deepmerge(at,lt),{});return removeUnusedBreakpoints(Object.keys(rt),nt)}function computeBreakpointsBase(et,tt){if(typeof et!="object")return{};const rt={},nt=Object.keys(tt);return Array.isArray(et)?nt.forEach((at,lt)=>{lt<et.length&&(rt[at]=!0)}):nt.forEach(at=>{et[at]!=null&&(rt[at]=!0)}),rt}function resolveBreakpointValues({values:et,breakpoints:tt,base:rt}){const nt=rt||computeBreakpointsBase(et,tt),at=Object.keys(nt);if(at.length===0)return et;let lt;return at.reduce((dt,ot,mt)=>(Array.isArray(et)?(dt[ot]=et[mt]!=null?et[mt]:et[lt],lt=mt):typeof et=="object"?(dt[ot]=et[ot]!=null?et[ot]:et[lt],lt=ot):dt[ot]=et,dt),{})}function getPath(et,tt,rt=!0){if(!tt||typeof tt!="string")return null;if(et&&et.vars&&rt){const nt=`vars.${tt}`.split(".").reduce((at,lt)=>at&&at[lt]?at[lt]:null,et);if(nt!=null)return nt}return tt.split(".").reduce((nt,at)=>nt&&nt[at]!=null?nt[at]:null,et)}function getStyleValue$1(et,tt,rt,nt=rt){let at;return typeof et=="function"?at=et(rt):Array.isArray(et)?at=et[rt]||nt:at=getPath(et,rt)||nt,tt&&(at=tt(at,nt,et)),at}function style$4(et){const{prop:tt,cssProperty:rt=et.prop,themeKey:nt,transform:at}=et,lt=dt=>{if(dt[tt]==null)return null;const ot=dt[tt],mt=dt.theme,xt=getPath(mt,nt)||{};return handleBreakpoints(dt,ot,At=>{let Tt=getStyleValue$1(xt,at,At);return At===Tt&&typeof At=="string"&&(Tt=getStyleValue$1(xt,at,`${tt}${At==="default"?"":capitalize(At)}`,At)),rt===!1?Tt:{[rt]:Tt}})};return lt.propTypes={},lt.filterProps=[tt],lt}function memoize(et){const tt={};return rt=>(tt[rt]===void 0&&(tt[rt]=et(rt)),tt[rt])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(et=>{if(et.length>2)if(aliases[et])et=aliases[et];else return[et];const[tt,rt]=et.split(""),nt=properties[tt],at=directions[rt]||"";return Array.isArray(at)?at.map(lt=>nt+lt):[nt+at]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(et,tt,rt,nt){var at;const lt=(at=getPath(et,tt,!1))!=null?at:rt;return typeof lt=="number"?dt=>typeof dt=="string"?dt:lt*dt:Array.isArray(lt)?dt=>typeof dt=="string"?dt:lt[dt]:typeof lt=="function"?lt:()=>{}}function createUnarySpacing(et){return createUnaryUnit(et,"spacing",8)}function getValue(et,tt){if(typeof tt=="string"||tt==null)return tt;const rt=Math.abs(tt),nt=et(rt);return tt>=0?nt:typeof nt=="number"?-nt:`-${nt}`}function getStyleFromPropValue(et,tt){return rt=>et.reduce((nt,at)=>(nt[at]=getValue(tt,rt),nt),{})}function resolveCssProperty(et,tt,rt,nt){if(tt.indexOf(rt)===-1)return null;const at=getCssProperties(rt),lt=getStyleFromPropValue(at,nt),dt=et[rt];return handleBreakpoints(et,dt,lt)}function style$3(et,tt){const rt=createUnarySpacing(et.theme);return Object.keys(et).map(nt=>resolveCssProperty(et,tt,nt,rt)).reduce(merge,{})}function margin(et){return style$3(et,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(et){return style$3(et,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(et=8){if(et.mui)return et;const tt=createUnarySpacing({spacing:et}),rt=(...nt)=>(nt.length===0?[1]:nt).map(lt=>{const dt=tt(lt);return typeof dt=="number"?`${dt}px`:dt}).join(" ");return rt.mui=!0,rt}function compose(...et){const tt=et.reduce((nt,at)=>(at.filterProps.forEach(lt=>{nt[lt]=at}),nt),{}),rt=nt=>Object.keys(nt).reduce((at,lt)=>tt[lt]?merge(at,tt[lt](nt)):at,{});return rt.propTypes={},rt.filterProps=et.reduce((nt,at)=>nt.concat(at.filterProps),[]),rt}function borderTransform(et){return typeof et!="number"?et:`${et}px solid`}const border=style$4({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop=style$4({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight=style$4({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom=style$4({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft=style$4({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor=style$4({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$4({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$4({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$4({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$4({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=et=>{if(et.borderRadius!==void 0&&et.borderRadius!==null){const tt=createUnaryUnit(et.theme,"shape.borderRadius",4),rt=nt=>({borderRadius:getValue(tt,nt)});return handleBreakpoints(et,et.borderRadius,rt)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);const gap=et=>{if(et.gap!==void 0&&et.gap!==null){const tt=createUnaryUnit(et.theme,"spacing",8),rt=nt=>({gap:getValue(tt,nt)});return handleBreakpoints(et,et.gap,rt)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=et=>{if(et.columnGap!==void 0&&et.columnGap!==null){const tt=createUnaryUnit(et.theme,"spacing",8),rt=nt=>({columnGap:getValue(tt,nt)});return handleBreakpoints(et,et.columnGap,rt)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=et=>{if(et.rowGap!==void 0&&et.rowGap!==null){const tt=createUnaryUnit(et.theme,"spacing",8),rt=nt=>({rowGap:getValue(tt,nt)});return handleBreakpoints(et,et.rowGap,rt)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$4({prop:"gridColumn"}),gridRow=style$4({prop:"gridRow"}),gridAutoFlow=style$4({prop:"gridAutoFlow"}),gridAutoColumns=style$4({prop:"gridAutoColumns"}),gridAutoRows=style$4({prop:"gridAutoRows"}),gridTemplateColumns=style$4({prop:"gridTemplateColumns"}),gridTemplateRows=style$4({prop:"gridTemplateRows"}),gridTemplateAreas=style$4({prop:"gridTemplateAreas"}),gridArea=style$4({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(et,tt){return tt==="grey"?tt:et}const color=style$4({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$4({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$4({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(et){return et<=1&&et!==0?`${et*100}%`:et}const width=style$4({prop:"width",transform:sizingTransform}),maxWidth=et=>{if(et.maxWidth!==void 0&&et.maxWidth!==null){const tt=rt=>{var nt,at,lt;return{maxWidth:((nt=et.theme)==null||(at=nt.breakpoints)==null||(lt=at.values)==null?void 0:lt[rt])||values$1[rt]||sizingTransform(rt)}};return handleBreakpoints(et,et.maxWidth,tt)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$4({prop:"minWidth",transform:sizingTransform}),height=style$4({prop:"height",transform:sizingTransform}),maxHeight=style$4({prop:"maxHeight",transform:sizingTransform}),minHeight=style$4({prop:"minHeight",transform:sizingTransform});style$4({prop:"size",cssProperty:"width",transform:sizingTransform});style$4({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$4({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:et=>({"@media print":{display:et}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...et){const tt=et.reduce((nt,at)=>nt.concat(Object.keys(at)),[]),rt=new Set(tt);return et.every(nt=>rt.size===Object.keys(nt).length)}function callIfFn(et,tt){return typeof et=="function"?et(tt):et}function unstable_createStyleFunctionSx(){function et(rt,nt,at,lt){const dt={[rt]:nt,theme:at},ot=lt[rt];if(!ot)return{[rt]:nt};const{cssProperty:mt=rt,themeKey:xt,transform:Et,style:At}=ot;if(nt==null)return null;if(xt==="typography"&&nt==="inherit")return{[rt]:nt};const Tt=getPath(at,xt)||{};return At?At(dt):handleBreakpoints(dt,nt,Mt=>{let Lt=getStyleValue$1(Tt,Et,Mt);return Mt===Lt&&typeof Mt=="string"&&(Lt=getStyleValue$1(Tt,Et,`${rt}${Mt==="default"?"":capitalize(Mt)}`,Mt)),mt===!1?Lt:{[mt]:Lt}})}function tt(rt){var nt;const{sx:at,theme:lt={}}=rt||{};if(!at)return null;const dt=(nt=lt.unstable_sxConfig)!=null?nt:defaultSxConfig$1;function ot(mt){let xt=mt;if(typeof mt=="function")xt=mt(lt);else if(typeof mt!="object")return mt;if(!xt)return null;const Et=createEmptyBreakpointObject(lt.breakpoints),At=Object.keys(Et);let Tt=Et;return Object.keys(xt).forEach(Ft=>{const Mt=callIfFn(xt[Ft],lt);if(Mt!=null)if(typeof Mt=="object")if(dt[Ft])Tt=merge(Tt,et(Ft,Mt,lt,dt));else{const Lt=handleBreakpoints({theme:lt},Mt,Gt=>({[Ft]:Gt}));objectsHaveSameKeys(Lt,Mt)?Tt[Ft]=tt({sx:Mt,theme:lt}):Tt=merge(Tt,Lt)}else Tt=merge(Tt,et(Ft,Mt,lt,dt))}),removeUnusedBreakpoints(At,Tt)}return Array.isArray(at)?at.map(ot):ot(at)}return tt}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const styleFunctionSx$1=styleFunctionSx,_excluded$13=["breakpoints","palette","spacing","shape"];function createTheme$1(et={},...tt){const{breakpoints:rt={},palette:nt={},spacing:at,shape:lt={}}=et,dt=_objectWithoutPropertiesLoose$1(et,_excluded$13),ot=createBreakpoints(rt),mt=createSpacing(at);let xt=deepmerge({breakpoints:ot,direction:"ltr",components:{},palette:_extends({mode:"light"},nt),spacing:mt,shape:_extends({},shape$1,lt)},dt);return xt=tt.reduce((Et,At)=>deepmerge(Et,At),xt),xt.unstable_sxConfig=_extends({},defaultSxConfig$1,dt==null?void 0:dt.unstable_sxConfig),xt.unstable_sx=function(At){return styleFunctionSx$1({sx:At,theme:this})},xt}function isObjectEmpty(et){return Object.keys(et).length===0}function useTheme$3(et=null){const tt=reactExports.useContext(ThemeContext$2);return!tt||isObjectEmpty(tt)?et:tt}const systemDefaultTheme$1=createTheme$1();function useTheme$2(et=systemDefaultTheme$1){return useTheme$3(et)}function GlobalStyles$1({styles:et,themeId:tt,defaultTheme:rt={}}){const nt=useTheme$2(rt),at=typeof et=="function"?et(tt&&nt[tt]||nt):et;return jsx(GlobalStyles$2,{styles:at})}const _excluded$12=["sx"],splitProps=et=>{var tt,rt;const nt={systemProps:{},otherProps:{}},at=(tt=et==null||(rt=et.theme)==null?void 0:rt.unstable_sxConfig)!=null?tt:defaultSxConfig$1;return Object.keys(et).forEach(lt=>{at[lt]?nt.systemProps[lt]=et[lt]:nt.otherProps[lt]=et[lt]}),nt};function extendSxProp(et){const{sx:tt}=et,rt=_objectWithoutPropertiesLoose$1(et,_excluded$12),{systemProps:nt,otherProps:at}=splitProps(rt);let lt;return Array.isArray(tt)?lt=[nt,...tt]:typeof tt=="function"?lt=(...dt)=>{const ot=tt(...dt);return isPlainObject$1(ot)?_extends({},nt,ot):nt}:lt=_extends({},nt,tt),_extends({},at,{sx:lt})}function r$f(et){var tt,rt,nt="";if(typeof et=="string"||typeof et=="number")nt+=et;else if(typeof et=="object")if(Array.isArray(et))for(tt=0;tt<et.length;tt++)et[tt]&&(rt=r$f(et[tt]))&&(nt&&(nt+=" "),nt+=rt);else for(tt in et)et[tt]&&(nt&&(nt+=" "),nt+=tt);return nt}function clsx(){for(var et,tt,rt=0,nt="";rt<arguments.length;)(et=arguments[rt++])&&(tt=r$f(et))&&(nt&&(nt+=" "),nt+=tt);return nt}const _excluded$11=["className","component"];function createBox(et={}){const{themeId:tt,defaultTheme:rt,defaultClassName:nt="MuiBox-root",generateClassName:at}=et,lt=styled$5("div",{shouldForwardProp:ot=>ot!=="theme"&&ot!=="sx"&&ot!=="as"})(styleFunctionSx$1);return reactExports.forwardRef(function(mt,xt){const Et=useTheme$2(rt),At=extendSxProp(mt),{className:Tt,component:Ft="div"}=At,Mt=_objectWithoutPropertiesLoose$1(At,_excluded$11);return jsx(lt,_extends({as:Ft,ref:xt,className:clsx(Tt,at?at(nt):nt),theme:tt&&Et[tt]||Et},Mt))})}const _excluded$10=["variant"];function isEmpty$3(et){return et.length===0}function propsToClassKey(et){const{variant:tt}=et,rt=_objectWithoutPropertiesLoose$1(et,_excluded$10);let nt=tt||"";return Object.keys(rt).sort().forEach(at=>{at==="color"?nt+=isEmpty$3(nt)?et[at]:capitalize(et[at]):nt+=`${isEmpty$3(nt)?at:capitalize(at)}${capitalize(et[at].toString())}`}),nt}const _excluded$$=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function isEmpty$2(et){return Object.keys(et).length===0}function isStringTag(et){return typeof et=="string"&&et.charCodeAt(0)>96}const getStyleOverrides=(et,tt)=>tt.components&&tt.components[et]&&tt.components[et].styleOverrides?tt.components[et].styleOverrides:null,getVariantStyles=(et,tt)=>{let rt=[];tt&&tt.components&&tt.components[et]&&tt.components[et].variants&&(rt=tt.components[et].variants);const nt={};return rt.forEach(at=>{const lt=propsToClassKey(at.props);nt[lt]=at.style}),nt},variantsResolver=(et,tt,rt,nt)=>{var at,lt;const{ownerState:dt={}}=et,ot=[],mt=rt==null||(at=rt.components)==null||(lt=at[nt])==null?void 0:lt.variants;return mt&&mt.forEach(xt=>{let Et=!0;Object.keys(xt.props).forEach(At=>{dt[At]!==xt.props[At]&&et[At]!==xt.props[At]&&(Et=!1)}),Et&&ot.push(tt[propsToClassKey(xt.props)])}),ot};function shouldForwardProp(et){return et!=="ownerState"&&et!=="theme"&&et!=="sx"&&et!=="as"}const systemDefaultTheme=createTheme$1();function resolveTheme({defaultTheme:et,theme:tt,themeId:rt}){return isEmpty$2(tt)?et:tt[rt]||tt}function createStyled(et={}){const{themeId:tt,defaultTheme:rt=systemDefaultTheme,rootShouldForwardProp:nt=shouldForwardProp,slotShouldForwardProp:at=shouldForwardProp}=et,lt=dt=>styleFunctionSx$1(_extends({},dt,{theme:resolveTheme(_extends({},dt,{defaultTheme:rt,themeId:tt}))}));return lt.__mui_systemSx=!0,(dt,ot={})=>{internal_processStyles(dt,Ot=>Ot.filter(Vt=>!(Vt!=null&&Vt.__mui_systemSx)));const{name:mt,slot:xt,skipVariantsResolver:Et,skipSx:At,overridesResolver:Tt}=ot,Ft=_objectWithoutPropertiesLoose$1(ot,_excluded$$),Mt=Et!==void 0?Et:xt&&xt!=="Root"||!1,Lt=At||!1;let Gt,Pt=shouldForwardProp;xt==="Root"?Pt=nt:xt?Pt=at:isStringTag(dt)&&(Pt=void 0);const $t=styled$5(dt,_extends({shouldForwardProp:Pt,label:Gt},Ft)),It=(Ot,...Vt)=>{const Ut=Vt?Vt.map(Kt=>typeof Kt=="function"&&Kt.__emotion_real!==Kt?ur=>Kt(_extends({},ur,{theme:resolveTheme(_extends({},ur,{defaultTheme:rt,themeId:tt}))})):Kt):[];let Wt=Ot;mt&&Tt&&Ut.push(Kt=>{const ur=resolveTheme(_extends({},Kt,{defaultTheme:rt,themeId:tt})),vr=getStyleOverrides(mt,ur);if(vr){const Lr={};return Object.entries(vr).forEach(([Er,Cr])=>{Lr[Er]=typeof Cr=="function"?Cr(_extends({},Kt,{theme:ur})):Cr}),Tt(Kt,Lr)}return null}),mt&&!Mt&&Ut.push(Kt=>{const ur=resolveTheme(_extends({},Kt,{defaultTheme:rt,themeId:tt}));return variantsResolver(Kt,getVariantStyles(mt,ur),ur,mt)}),Lt||Ut.push(lt);const nr=Ut.length-Vt.length;if(Array.isArray(Ot)&&nr>0){const Kt=new Array(nr).fill("");Wt=[...Ot,...Kt],Wt.raw=[...Ot.raw,...Kt]}else typeof Ot=="function"&&Ot.__emotion_real!==Ot&&(Wt=Kt=>Ot(_extends({},Kt,{theme:resolveTheme(_extends({},Kt,{defaultTheme:rt,themeId:tt}))})));const er=$t(Wt,...Ut);return dt.muiName&&(er.muiName=dt.muiName),er};return $t.withConfig&&(It.withConfig=$t.withConfig),It}}const styled$3=createStyled(),styled$4=styled$3;function getThemeProps(et){const{theme:tt,name:rt,props:nt}=et;return!tt||!tt.components||!tt.components[rt]||!tt.components[rt].defaultProps?nt:resolveProps(tt.components[rt].defaultProps,nt)}function useThemeProps$1({props:et,name:tt,defaultTheme:rt,themeId:nt}){let at=useTheme$2(rt);return nt&&(at=at[nt]||at),getThemeProps({theme:at,name:tt,props:et})}function clamp$1(et,tt=0,rt=1){return Math.min(Math.max(tt,et),rt)}function hexToRgb(et){et=et.slice(1);const tt=new RegExp(`.{1,${et.length>=6?2:1}}`,"g");let rt=et.match(tt);return rt&&rt[0].length===1&&(rt=rt.map(nt=>nt+nt)),rt?`rgb${rt.length===4?"a":""}(${rt.map((nt,at)=>at<3?parseInt(nt,16):Math.round(parseInt(nt,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(et){if(et.type)return et;if(et.charAt(0)==="#")return decomposeColor(hexToRgb(et));const tt=et.indexOf("("),rt=et.substring(0,tt);if(["rgb","rgba","hsl","hsla","color"].indexOf(rt)===-1)throw new Error(formatMuiErrorMessage(9,et));let nt=et.substring(tt+1,et.length-1),at;if(rt==="color"){if(nt=nt.split(" "),at=nt.shift(),nt.length===4&&nt[3].charAt(0)==="/"&&(nt[3]=nt[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(at)===-1)throw new Error(formatMuiErrorMessage(10,at))}else nt=nt.split(",");return nt=nt.map(lt=>parseFloat(lt)),{type:rt,values:nt,colorSpace:at}}function recomposeColor(et){const{type:tt,colorSpace:rt}=et;let{values:nt}=et;return tt.indexOf("rgb")!==-1?nt=nt.map((at,lt)=>lt<3?parseInt(at,10):at):tt.indexOf("hsl")!==-1&&(nt[1]=`${nt[1]}%`,nt[2]=`${nt[2]}%`),tt.indexOf("color")!==-1?nt=`${rt} ${nt.join(" ")}`:nt=`${nt.join(", ")}`,`${tt}(${nt})`}function hslToRgb(et){et=decomposeColor(et);const{values:tt}=et,rt=tt[0],nt=tt[1]/100,at=tt[2]/100,lt=nt*Math.min(at,1-at),dt=(xt,Et=(xt+rt/30)%12)=>at-lt*Math.max(Math.min(Et-3,9-Et,1),-1);let ot="rgb";const mt=[Math.round(dt(0)*255),Math.round(dt(8)*255),Math.round(dt(4)*255)];return et.type==="hsla"&&(ot+="a",mt.push(tt[3])),recomposeColor({type:ot,values:mt})}function getLuminance(et){et=decomposeColor(et);let tt=et.type==="hsl"||et.type==="hsla"?decomposeColor(hslToRgb(et)).values:et.values;return tt=tt.map(rt=>(et.type!=="color"&&(rt/=255),rt<=.03928?rt/12.92:((rt+.055)/1.055)**2.4)),Number((.2126*tt[0]+.7152*tt[1]+.0722*tt[2]).toFixed(3))}function getContrastRatio(et,tt){const rt=getLuminance(et),nt=getLuminance(tt);return(Math.max(rt,nt)+.05)/(Math.min(rt,nt)+.05)}function alpha(et,tt){return et=decomposeColor(et),tt=clamp$1(tt),(et.type==="rgb"||et.type==="hsl")&&(et.type+="a"),et.type==="color"?et.values[3]=`/${tt}`:et.values[3]=tt,recomposeColor(et)}function darken(et,tt){if(et=decomposeColor(et),tt=clamp$1(tt),et.type.indexOf("hsl")!==-1)et.values[2]*=1-tt;else if(et.type.indexOf("rgb")!==-1||et.type.indexOf("color")!==-1)for(let rt=0;rt<3;rt+=1)et.values[rt]*=1-tt;return recomposeColor(et)}function lighten(et,tt){if(et=decomposeColor(et),tt=clamp$1(tt),et.type.indexOf("hsl")!==-1)et.values[2]+=(100-et.values[2])*tt;else if(et.type.indexOf("rgb")!==-1)for(let rt=0;rt<3;rt+=1)et.values[rt]+=(255-et.values[rt])*tt;else if(et.type.indexOf("color")!==-1)for(let rt=0;rt<3;rt+=1)et.values[rt]+=(1-et.values[rt])*tt;return recomposeColor(et)}const ThemeContext=reactExports.createContext(null),ThemeContext$1=ThemeContext;function useTheme$1(){return reactExports.useContext(ThemeContext$1)}const hasSymbol=typeof Symbol=="function"&&Symbol.for,nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(et,tt){return typeof tt=="function"?tt(et):{...et,...tt}}function ThemeProvider$2(et){const{children:tt,theme:rt}=et,nt=useTheme$1(),at=reactExports.useMemo(()=>{const lt=nt===null?rt:mergeOuterLocalTheme(nt,rt);return lt!=null&&(lt[nested]=nt!==null),lt},[rt,nt]);return jsx(ThemeContext$1.Provider,{value:at,children:tt})}const EMPTY_THEME={};function useThemeScoping(et,tt,rt,nt=!1){return reactExports.useMemo(()=>{const at=et&&tt[et]||tt;if(typeof rt=="function"){const lt=rt(at),dt=et?_extends({},tt,{[et]:lt}):lt;return nt?()=>dt:dt}return et?_extends({},tt,{[et]:rt}):_extends({},tt,rt)},[et,tt,rt,nt])}function ThemeProvider$1(et){const{children:tt,theme:rt,themeId:nt}=et,at=useTheme$3(EMPTY_THEME),lt=useTheme$1()||EMPTY_THEME,dt=useThemeScoping(nt,at,rt),ot=useThemeScoping(nt,lt,rt,!0);return jsx(ThemeProvider$2,{theme:ot,children:jsx(ThemeContext$2.Provider,{value:dt,children:tt})})}const _excluded$_=["className","component","disableGutters","fixed","maxWidth","classes"],defaultTheme$5=createTheme$1(),defaultCreateStyledComponent$2=styled$4("div",{name:"MuiContainer",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,tt[`maxWidth${capitalize(String(rt.maxWidth))}`],rt.fixed&&tt.fixed,rt.disableGutters&&tt.disableGutters]}}),useThemePropsDefault$2=et=>useThemeProps$1({props:et,name:"MuiContainer",defaultTheme:defaultTheme$5}),useUtilityClasses$F=(et,tt)=>{const rt=mt=>generateUtilityClass(tt,mt),{classes:nt,fixed:at,disableGutters:lt,maxWidth:dt}=et,ot={root:["root",dt&&`maxWidth${capitalize(String(dt))}`,at&&"fixed",lt&&"disableGutters"]};return composeClasses(ot,rt,nt)};function createContainer(et={}){const{createStyledComponent:tt=defaultCreateStyledComponent$2,useThemeProps:rt=useThemePropsDefault$2,componentName:nt="MuiContainer"}=et,at=tt(({theme:dt,ownerState:ot})=>_extends({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!ot.disableGutters&&{paddingLeft:dt.spacing(2),paddingRight:dt.spacing(2),[dt.breakpoints.up("sm")]:{paddingLeft:dt.spacing(3),paddingRight:dt.spacing(3)}}),({theme:dt,ownerState:ot})=>ot.fixed&&Object.keys(dt.breakpoints.values).reduce((mt,xt)=>{const Et=xt,At=dt.breakpoints.values[Et];return At!==0&&(mt[dt.breakpoints.up(Et)]={maxWidth:`${At}${dt.breakpoints.unit}`}),mt},{}),({theme:dt,ownerState:ot})=>_extends({},ot.maxWidth==="xs"&&{[dt.breakpoints.up("xs")]:{maxWidth:Math.max(dt.breakpoints.values.xs,444)}},ot.maxWidth&&ot.maxWidth!=="xs"&&{[dt.breakpoints.up(ot.maxWidth)]:{maxWidth:`${dt.breakpoints.values[ot.maxWidth]}${dt.breakpoints.unit}`}}));return reactExports.forwardRef(function(ot,mt){const xt=rt(ot),{className:Et,component:At="div",disableGutters:Tt=!1,fixed:Ft=!1,maxWidth:Mt="lg"}=xt,Lt=_objectWithoutPropertiesLoose$1(xt,_excluded$_),Gt=_extends({},xt,{component:At,disableGutters:Tt,fixed:Ft,maxWidth:Mt}),Pt=useUtilityClasses$F(Gt,nt);return jsx(at,_extends({as:At,ownerState:Gt,className:clsx(Pt.root,Et),ref:mt},Lt))})}function appendLevel(et){return et?`Level${et}`:""}function isNestedContainer(et){return et.unstable_level>0&&et.container}function createGetSelfSpacing(et){return function(rt){return`var(--Grid-${rt}Spacing${appendLevel(et.unstable_level)})`}}function createGetParentSpacing(et){return function(rt){return et.unstable_level===0?`var(--Grid-${rt}Spacing)`:`var(--Grid-${rt}Spacing${appendLevel(et.unstable_level-1)})`}}function getParentColumns(et){return et.unstable_level===0?"var(--Grid-columns)":`var(--Grid-columns${appendLevel(et.unstable_level-1)})`}const filterBreakpointKeys=(et,tt)=>et.filter(rt=>tt.includes(rt)),traverseBreakpoints=(et,tt,rt)=>{const nt=et.keys[0];Array.isArray(tt)?tt.forEach((at,lt)=>{rt((dt,ot)=>{lt<=et.keys.length-1&&(lt===0?Object.assign(dt,ot):dt[et.up(et.keys[lt])]=ot)},at)}):tt&&typeof tt=="object"?(Object.keys(tt).length>et.keys.length?et.keys:filterBreakpointKeys(et.keys,Object.keys(tt))).forEach(lt=>{if(et.keys.indexOf(lt)!==-1){const dt=tt[lt];dt!==void 0&&rt((ot,mt)=>{nt===lt?Object.assign(ot,mt):ot[et.up(lt)]=mt},dt)}}):(typeof tt=="number"||typeof tt=="string")&&rt((at,lt)=>{Object.assign(at,lt)},tt)},generateGridSizeStyles=({theme:et,ownerState:tt})=>{const rt=createGetSelfSpacing(tt),nt={};return traverseBreakpoints(et.breakpoints,tt.gridSize,(at,lt)=>{let dt={};lt===!0&&(dt={flexBasis:0,flexGrow:1,maxWidth:"100%"}),lt==="auto"&&(dt={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof lt=="number"&&(dt={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${lt} / ${getParentColumns(tt)}${isNestedContainer(tt)?` + ${rt("column")}`:""})`}),at(nt,dt)}),nt},generateGridOffsetStyles=({theme:et,ownerState:tt})=>{const rt={};return traverseBreakpoints(et.breakpoints,tt.gridOffset,(nt,at)=>{let lt={};at==="auto"&&(lt={marginLeft:"auto"}),typeof at=="number"&&(lt={marginLeft:at===0?"0px":`calc(100% * ${at} / ${getParentColumns(tt)})`}),nt(rt,lt)}),rt},generateGridColumnsStyles=({theme:et,ownerState:tt})=>{if(!tt.container)return{};const rt=isNestedContainer(tt)?{[`--Grid-columns${appendLevel(tt.unstable_level)}`]:getParentColumns(tt)}:{"--Grid-columns":12};return traverseBreakpoints(et.breakpoints,tt.columns,(nt,at)=>{nt(rt,{[`--Grid-columns${appendLevel(tt.unstable_level)}`]:at})}),rt},generateGridRowSpacingStyles=({theme:et,ownerState:tt})=>{if(!tt.container)return{};const rt=createGetParentSpacing(tt),nt=isNestedContainer(tt)?{[`--Grid-rowSpacing${appendLevel(tt.unstable_level)}`]:rt("row")}:{};return traverseBreakpoints(et.breakpoints,tt.rowSpacing,(at,lt)=>{var dt;at(nt,{[`--Grid-rowSpacing${appendLevel(tt.unstable_level)}`]:typeof lt=="string"?lt:(dt=et.spacing)==null?void 0:dt.call(et,lt)})}),nt},generateGridColumnSpacingStyles=({theme:et,ownerState:tt})=>{if(!tt.container)return{};const rt=createGetParentSpacing(tt),nt=isNestedContainer(tt)?{[`--Grid-columnSpacing${appendLevel(tt.unstable_level)}`]:rt("column")}:{};return traverseBreakpoints(et.breakpoints,tt.columnSpacing,(at,lt)=>{var dt;at(nt,{[`--Grid-columnSpacing${appendLevel(tt.unstable_level)}`]:typeof lt=="string"?lt:(dt=et.spacing)==null?void 0:dt.call(et,lt)})}),nt},generateGridDirectionStyles=({theme:et,ownerState:tt})=>{if(!tt.container)return{};const rt={};return traverseBreakpoints(et.breakpoints,tt.direction,(nt,at)=>{nt(rt,{flexDirection:at})}),rt},generateGridStyles=({ownerState:et})=>{const tt=createGetSelfSpacing(et),rt=createGetParentSpacing(et);return _extends({minWidth:0,boxSizing:"border-box"},et.container&&_extends({display:"flex",flexWrap:"wrap"},et.wrap&&et.wrap!=="wrap"&&{flexWrap:et.wrap},{margin:`calc(${tt("row")} / -2) calc(${tt("column")} / -2)`},et.disableEqualOverflow&&{margin:`calc(${tt("row")} * -1) 0px 0px calc(${tt("column")} * -1)`}),(!et.container||isNestedContainer(et))&&_extends({padding:`calc(${rt("row")} / 2) calc(${rt("column")} / 2)`},(et.disableEqualOverflow||et.parentDisableEqualOverflow)&&{padding:`${rt("row")} 0px 0px ${rt("column")}`}))},generateSizeClassNames=et=>{const tt=[];return Object.entries(et).forEach(([rt,nt])=>{nt!==!1&&nt!==void 0&&tt.push(`grid-${rt}-${String(nt)}`)}),tt},generateSpacingClassNames=(et,tt="xs")=>{function rt(nt){return nt===void 0?!1:typeof nt=="string"&&!Number.isNaN(Number(nt))||typeof nt=="number"&&nt>0}if(rt(et))return[`spacing-${tt}-${String(et)}`];if(typeof et=="object"&&!Array.isArray(et)){const nt=[];return Object.entries(et).forEach(([at,lt])=>{rt(lt)&&nt.push(`spacing-${at}-${String(lt)}`)}),nt}return[]},generateDirectionClasses=et=>et===void 0?[]:typeof et=="object"?Object.entries(et).map(([tt,rt])=>`direction-${tt}-${rt}`):[`direction-xs-${String(et)}`],_excluded$Z=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],defaultTheme$4=createTheme$1(),defaultCreateStyledComponent$1=styled$4("div",{name:"MuiGrid",slot:"Root",overridesResolver:(et,tt)=>tt.root});function useThemePropsDefault$1(et){return useThemeProps$1({props:et,name:"MuiGrid",defaultTheme:defaultTheme$4})}function createGrid(et={}){const{createStyledComponent:tt=defaultCreateStyledComponent$1,useThemeProps:rt=useThemePropsDefault$1,componentName:nt="MuiGrid"}=et,at=reactExports.createContext(void 0),lt=(mt,xt)=>{const{container:Et,direction:At,spacing:Tt,wrap:Ft,gridSize:Mt}=mt,Lt={root:["root",Et&&"container",Ft!=="wrap"&&`wrap-xs-${String(Ft)}`,...generateDirectionClasses(At),...generateSizeClassNames(Mt),...Et?generateSpacingClassNames(Tt,xt.breakpoints.keys[0]):[]]};return composeClasses(Lt,Gt=>generateUtilityClass(nt,Gt),{})},dt=tt(generateGridColumnsStyles,generateGridColumnSpacingStyles,generateGridRowSpacingStyles,generateGridSizeStyles,generateGridDirectionStyles,generateGridStyles,generateGridOffsetStyles),ot=reactExports.forwardRef(function(xt,Et){var At,Tt,Ft,Mt,Lt,Gt,Pt,$t;const It=useTheme$2(),Ot=rt(xt),Vt=extendSxProp(Ot),Ut=reactExports.useContext(at),{className:Wt,children:nr,columns:er=12,container:Kt=!1,component:ur="div",direction:vr="row",wrap:Lr="wrap",spacing:Er=0,rowSpacing:Cr=Er,columnSpacing:hr=Er,disableEqualOverflow:Tr,unstable_level:Xt=0}=Vt,Qt=_objectWithoutPropertiesLoose$1(Vt,_excluded$Z);let lr=Tr;Xt&&Tr!==void 0&&(lr=xt.disableEqualOverflow);const cr={},sr={},dr={};Object.entries(Qt).forEach(([Kr,cn])=>{It.breakpoints.values[Kr]!==void 0?cr[Kr]=cn:It.breakpoints.values[Kr.replace("Offset","")]!==void 0?sr[Kr.replace("Offset","")]=cn:dr[Kr]=cn});const Rr=(At=xt.columns)!=null?At:Xt?void 0:er,jr=(Tt=xt.spacing)!=null?Tt:Xt?void 0:Er,Sr=(Ft=(Mt=xt.rowSpacing)!=null?Mt:xt.spacing)!=null?Ft:Xt?void 0:Cr,dn=(Lt=(Gt=xt.columnSpacing)!=null?Gt:xt.spacing)!=null?Lt:Xt?void 0:hr,Qr=_extends({},Vt,{level:Xt,columns:Rr,container:Kt,direction:vr,wrap:Lr,spacing:jr,rowSpacing:Sr,columnSpacing:dn,gridSize:cr,gridOffset:sr,disableEqualOverflow:(Pt=($t=lr)!=null?$t:Ut)!=null?Pt:!1,parentDisableEqualOverflow:Ut}),gn=lt(Qr,It);let ln=jsx(dt,_extends({ref:Et,as:ur,ownerState:Qr,className:clsx(gn.root,Wt)},dr,{children:reactExports.Children.map(nr,Kr=>{if(reactExports.isValidElement(Kr)&&isMuiElement(Kr,["Grid"])){var cn;return reactExports.cloneElement(Kr,{unstable_level:(cn=Kr.props.unstable_level)!=null?cn:Xt+1})}return Kr})}));return lr!==void 0&&lr!==(Ut??!1)&&(ln=jsx(at.Provider,{value:lr,children:ln})),ln});return ot.muiName="Grid",ot}const _excluded$Y=["component","direction","spacing","divider","children","className","useFlexGap"],defaultTheme$3=createTheme$1(),defaultCreateStyledComponent=styled$4("div",{name:"MuiStack",slot:"Root",overridesResolver:(et,tt)=>tt.root});function useThemePropsDefault(et){return useThemeProps$1({props:et,name:"MuiStack",defaultTheme:defaultTheme$3})}function joinChildren(et,tt){const rt=reactExports.Children.toArray(et).filter(Boolean);return rt.reduce((nt,at,lt)=>(nt.push(at),lt<rt.length-1&&nt.push(reactExports.cloneElement(tt,{key:`separator-${lt}`})),nt),[])}const getSideFromDirection=et=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[et],style$2=({ownerState:et,theme:tt})=>{let rt=_extends({display:"flex",flexDirection:"column"},handleBreakpoints({theme:tt},resolveBreakpointValues({values:et.direction,breakpoints:tt.breakpoints.values}),nt=>({flexDirection:nt})));if(et.spacing){const nt=createUnarySpacing(tt),at=Object.keys(tt.breakpoints.values).reduce((mt,xt)=>((typeof et.spacing=="object"&&et.spacing[xt]!=null||typeof et.direction=="object"&&et.direction[xt]!=null)&&(mt[xt]=!0),mt),{}),lt=resolveBreakpointValues({values:et.direction,base:at}),dt=resolveBreakpointValues({values:et.spacing,base:at});typeof lt=="object"&&Object.keys(lt).forEach((mt,xt,Et)=>{if(!lt[mt]){const Tt=xt>0?lt[Et[xt-1]]:"column";lt[mt]=Tt}}),rt=deepmerge(rt,handleBreakpoints({theme:tt},dt,(mt,xt)=>et.useFlexGap?{gap:getValue(nt,mt)}:{"& > :not(style) + :not(style)":{margin:0,[`margin${getSideFromDirection(xt?lt[xt]:et.direction)}`]:getValue(nt,mt)}}))}return rt=mergeBreakpointsInOrder(tt.breakpoints,rt),rt};function createStack(et={}){const{createStyledComponent:tt=defaultCreateStyledComponent,useThemeProps:rt=useThemePropsDefault,componentName:nt="MuiStack"}=et,at=()=>composeClasses({root:["root"]},mt=>generateUtilityClass(nt,mt),{}),lt=tt(style$2);return reactExports.forwardRef(function(mt,xt){const Et=rt(mt),At=extendSxProp(Et),{component:Tt="div",direction:Ft="column",spacing:Mt=0,divider:Lt,children:Gt,className:Pt,useFlexGap:$t=!1}=At,It=_objectWithoutPropertiesLoose$1(At,_excluded$Y),Ot={direction:Ft,spacing:Mt,useFlexGap:$t},Vt=at();return jsx(lt,_extends({as:Tt,ownerState:Ot,ref:xt,className:clsx(Vt.root,Pt)},It,{children:Lt?joinChildren(Gt,Lt):Gt}))})}function createMixins(et,tt){return _extends({toolbar:{minHeight:56,[et.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[et.up("sm")]:{minHeight:64}}},tt)}const _excluded$X=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(et,tt,rt,nt){const at=nt.light||nt,lt=nt.dark||nt*1.5;et[tt]||(et.hasOwnProperty(rt)?et[tt]=et[rt]:tt==="light"?et.light=lighten(et.main,at):tt==="dark"&&(et.dark=darken(et.main,lt)))}function getDefaultPrimary(et="light"){return et==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(et="light"){return et==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(et="light"){return et==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(et="light"){return et==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(et="light"){return et==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(et="light"){return et==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(et){const{mode:tt="light",contrastThreshold:rt=3,tonalOffset:nt=.2}=et,at=_objectWithoutPropertiesLoose$1(et,_excluded$X),lt=et.primary||getDefaultPrimary(tt),dt=et.secondary||getDefaultSecondary(tt),ot=et.error||getDefaultError(tt),mt=et.info||getDefaultInfo(tt),xt=et.success||getDefaultSuccess(tt),Et=et.warning||getDefaultWarning(tt);function At(Lt){return getContrastRatio(Lt,dark.text.primary)>=rt?dark.text.primary:light.text.primary}const Tt=({color:Lt,name:Gt,mainShade:Pt=500,lightShade:$t=300,darkShade:It=700})=>{if(Lt=_extends({},Lt),!Lt.main&&Lt[Pt]&&(Lt.main=Lt[Pt]),!Lt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,Gt?` (${Gt})`:"",Pt));if(typeof Lt.main!="string")throw new Error(formatMuiErrorMessage(12,Gt?` (${Gt})`:"",JSON.stringify(Lt.main)));return addLightOrDark(Lt,"light",$t,nt),addLightOrDark(Lt,"dark",It,nt),Lt.contrastText||(Lt.contrastText=At(Lt.main)),Lt},Ft={dark,light};return deepmerge(_extends({common:_extends({},common$1),mode:tt,primary:Tt({color:lt,name:"primary"}),secondary:Tt({color:dt,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:Tt({color:ot,name:"error"}),warning:Tt({color:Et,name:"warning"}),info:Tt({color:mt,name:"info"}),success:Tt({color:xt,name:"success"}),grey:grey$1,contrastThreshold:rt,getContrastText:At,augmentColor:Tt,tonalOffset:nt},Ft[tt]),at)}const _excluded$W=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$2(et){return Math.round(et*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(et,tt){const rt=typeof tt=="function"?tt(et):tt,{fontFamily:nt=defaultFontFamily,fontSize:at=14,fontWeightLight:lt=300,fontWeightRegular:dt=400,fontWeightMedium:ot=500,fontWeightBold:mt=700,htmlFontSize:xt=16,allVariants:Et,pxToRem:At}=rt,Tt=_objectWithoutPropertiesLoose$1(rt,_excluded$W),Ft=at/14,Mt=At||(Pt=>`${Pt/xt*Ft}rem`),Lt=(Pt,$t,It,Ot,Vt)=>_extends({fontFamily:nt,fontWeight:Pt,fontSize:Mt($t),lineHeight:It},nt===defaultFontFamily?{letterSpacing:`${round$2(Ot/$t)}em`}:{},Vt,Et),Gt={h1:Lt(lt,96,1.167,-1.5),h2:Lt(lt,60,1.2,-.5),h3:Lt(dt,48,1.167,0),h4:Lt(dt,34,1.235,.25),h5:Lt(dt,24,1.334,0),h6:Lt(ot,20,1.6,.15),subtitle1:Lt(dt,16,1.75,.15),subtitle2:Lt(ot,14,1.57,.1),body1:Lt(dt,16,1.5,.15),body2:Lt(dt,14,1.43,.15),button:Lt(ot,14,1.75,.4,caseAllCaps),caption:Lt(dt,12,1.66,.4),overline:Lt(dt,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge(_extends({htmlFontSize:xt,pxToRem:Mt,fontFamily:nt,fontSize:at,fontWeightLight:lt,fontWeightRegular:dt,fontWeightMedium:ot,fontWeightBold:mt},Gt),Tt,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...et){return[`${et[0]}px ${et[1]}px ${et[2]}px ${et[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${et[4]}px ${et[5]}px ${et[6]}px ${et[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${et[8]}px ${et[9]}px ${et[10]}px ${et[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$1=shadows,_excluded$V=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(et){return`${Math.round(et)}ms`}function getAutoHeightDuration(et){if(!et)return 0;const tt=et/36;return Math.round((4+15*tt**.25+tt/5)*10)}function createTransitions(et){const tt=_extends({},easing,et.easing),rt=_extends({},duration,et.duration);return _extends({getAutoHeightDuration,create:(at=["all"],lt={})=>{const{duration:dt=rt.standard,easing:ot=tt.easeInOut,delay:mt=0}=lt;return _objectWithoutPropertiesLoose$1(lt,_excluded$V),(Array.isArray(at)?at:[at]).map(xt=>`${xt} ${typeof dt=="string"?dt:formatMs(dt)} ${ot} ${typeof mt=="string"?mt:formatMs(mt)}`).join(",")}},et,{easing:tt,duration:rt})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$U=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(et={},...tt){const{mixins:rt={},palette:nt={},transitions:at={},typography:lt={}}=et,dt=_objectWithoutPropertiesLoose$1(et,_excluded$U);if(et.vars)throw new Error(formatMuiErrorMessage(18));const ot=createPalette(nt),mt=createTheme$1(et);let xt=deepmerge(mt,{mixins:createMixins(mt.breakpoints,rt),palette:ot,shadows:shadows$1.slice(),typography:createTypography(ot,lt),transitions:createTransitions(at),zIndex:_extends({},zIndex$1)});return xt=deepmerge(xt,dt),xt=tt.reduce((Et,At)=>deepmerge(Et,At),xt),xt.unstable_sxConfig=_extends({},defaultSxConfig$1,dt==null?void 0:dt.unstable_sxConfig),xt.unstable_sx=function(At){return styleFunctionSx$1({sx:At,theme:this})},xt}function getUnit(et){return String(et).match(/[\d.\-+]*\s*(.*)/)[1]||""}function toUnitless(et){return parseFloat(et)}const defaultTheme$1=createTheme(),defaultTheme$2=defaultTheme$1;function useTheme(){const et=useTheme$2(defaultTheme$2);return et[THEME_ID]||et}function useThemeProps({props:et,name:tt}){return useThemeProps$1({props:et,name:tt,defaultTheme:defaultTheme$2,themeId:THEME_ID})}const rootShouldForwardProp=et=>shouldForwardProp(et)&&et!=="classes",slotShouldForwardProp=shouldForwardProp,styled$1=createStyled({themeId:THEME_ID,defaultTheme:defaultTheme$2,rootShouldForwardProp}),styled$2=styled$1,_excluded$T=["theme"];function ThemeProvider(et){let{theme:tt}=et,rt=_objectWithoutPropertiesLoose$1(et,_excluded$T);const nt=tt[THEME_ID];return jsx(ThemeProvider$1,_extends({},rt,{themeId:nt?THEME_ID:void 0,theme:nt||tt}))}const getOverlayAlpha=et=>{let tt;return et<1?tt=5.11916*et**2:tt=4.5*Math.log(et+1)+2,(tt/100).toFixed(2)},getOverlayAlpha$1=getOverlayAlpha;function isHostComponent(et){return typeof et=="string"}function appendOwnerState(et,tt,rt){return et===void 0||isHostComponent(et)?tt:_extends({},tt,{ownerState:_extends({},tt.ownerState,rt)})}function areArraysEqual(et,tt,rt=(nt,at)=>nt===at){return et.length===tt.length&&et.every((nt,at)=>rt(nt,tt[at]))}const defaultContextValue={disableDefaultClasses:!1},ClassNameConfiguratorContext=reactExports.createContext(defaultContextValue);function useClassNamesOverride(et){const{disableDefaultClasses:tt}=reactExports.useContext(ClassNameConfiguratorContext);return rt=>tt?"":et(rt)}function extractEventHandlers(et,tt=[]){if(et===void 0)return{};const rt={};return Object.keys(et).filter(nt=>nt.match(/^on[A-Z]/)&&typeof et[nt]=="function"&&!tt.includes(nt)).forEach(nt=>{rt[nt]=et[nt]}),rt}function resolveComponentProps(et,tt){return typeof et=="function"?et(tt):et}function omitEventHandlers(et){if(et===void 0)return{};const tt={};return Object.keys(et).filter(rt=>!(rt.match(/^on[A-Z]/)&&typeof et[rt]=="function")).forEach(rt=>{tt[rt]=et[rt]}),tt}function mergeSlotProps(et){const{getSlotProps:tt,additionalProps:rt,externalSlotProps:nt,externalForwardedProps:at,className:lt}=et;if(!tt){const Ft=clsx(at==null?void 0:at.className,nt==null?void 0:nt.className,lt,rt==null?void 0:rt.className),Mt=_extends({},rt==null?void 0:rt.style,at==null?void 0:at.style,nt==null?void 0:nt.style),Lt=_extends({},rt,at,nt);return Ft.length>0&&(Lt.className=Ft),Object.keys(Mt).length>0&&(Lt.style=Mt),{props:Lt,internalRef:void 0}}const dt=extractEventHandlers(_extends({},at,nt)),ot=omitEventHandlers(nt),mt=omitEventHandlers(at),xt=tt(dt),Et=clsx(xt==null?void 0:xt.className,rt==null?void 0:rt.className,lt,at==null?void 0:at.className,nt==null?void 0:nt.className),At=_extends({},xt==null?void 0:xt.style,rt==null?void 0:rt.style,at==null?void 0:at.style,nt==null?void 0:nt.style),Tt=_extends({},xt,rt,mt,ot);return Et.length>0&&(Tt.className=Et),Object.keys(At).length>0&&(Tt.style=At),{props:Tt,internalRef:xt.ref}}const _excluded$S=["elementType","externalSlotProps","ownerState"];function useSlotProps(et){var tt;const{elementType:rt,externalSlotProps:nt,ownerState:at}=et,lt=_objectWithoutPropertiesLoose$1(et,_excluded$S),dt=resolveComponentProps(nt,at),{props:ot,internalRef:mt}=mergeSlotProps(_extends({},lt,{externalSlotProps:dt})),xt=useForkRef(mt,dt==null?void 0:dt.ref,(tt=et.additionalProps)==null?void 0:tt.ref);return appendOwnerState(rt,_extends({},ot,{ref:xt}),at)}function useBadge(et){const{badgeContent:tt,invisible:rt=!1,max:nt=99,showZero:at=!1}=et,lt=usePreviousProps$1({badgeContent:tt,max:nt});let dt=rt;rt===!1&&tt===0&&!at&&(dt=!0);const{badgeContent:ot,max:mt=nt}=dt?lt:et,xt=ot&&Number(ot)>mt?`${mt}+`:ot;return{badgeContent:ot,invisible:dt,max:mt,displayValue:xt}}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(et){const tt=parseInt(et.getAttribute("tabindex")||"",10);return Number.isNaN(tt)?et.contentEditable==="true"||(et.nodeName==="AUDIO"||et.nodeName==="VIDEO"||et.nodeName==="DETAILS")&&et.getAttribute("tabindex")===null?0:et.tabIndex:tt}function isNonTabbableRadio(et){if(et.tagName!=="INPUT"||et.type!=="radio"||!et.name)return!1;const tt=nt=>et.ownerDocument.querySelector(`input[type="radio"]${nt}`);let rt=tt(`[name="${et.name}"]:checked`);return rt||(rt=tt(`[name="${et.name}"]`)),rt!==et}function isNodeMatchingSelectorFocusable(et){return!(et.disabled||et.tagName==="INPUT"&&et.type==="hidden"||isNonTabbableRadio(et))}function defaultGetTabbable(et){const tt=[],rt=[];return Array.from(et.querySelectorAll(candidatesSelector)).forEach((nt,at)=>{const lt=getTabIndex(nt);lt===-1||!isNodeMatchingSelectorFocusable(nt)||(lt===0?tt.push(nt):rt.push({documentOrder:at,tabIndex:lt,node:nt}))}),rt.sort((nt,at)=>nt.tabIndex===at.tabIndex?nt.documentOrder-at.documentOrder:nt.tabIndex-at.tabIndex).map(nt=>nt.node).concat(tt)}function defaultIsEnabled(){return!0}function FocusTrap(et){const{children:tt,disableAutoFocus:rt=!1,disableEnforceFocus:nt=!1,disableRestoreFocus:at=!1,getTabbable:lt=defaultGetTabbable,isEnabled:dt=defaultIsEnabled,open:ot}=et,mt=reactExports.useRef(!1),xt=reactExports.useRef(null),Et=reactExports.useRef(null),At=reactExports.useRef(null),Tt=reactExports.useRef(null),Ft=reactExports.useRef(!1),Mt=reactExports.useRef(null),Lt=useForkRef(tt.ref,Mt),Gt=reactExports.useRef(null);reactExports.useEffect(()=>{!ot||!Mt.current||(Ft.current=!rt)},[rt,ot]),reactExports.useEffect(()=>{if(!ot||!Mt.current)return;const It=ownerDocument(Mt.current);return Mt.current.contains(It.activeElement)||(Mt.current.hasAttribute("tabIndex")||Mt.current.setAttribute("tabIndex","-1"),Ft.current&&Mt.current.focus()),()=>{at||(At.current&&At.current.focus&&(mt.current=!0,At.current.focus()),At.current=null)}},[ot]),reactExports.useEffect(()=>{if(!ot||!Mt.current)return;const It=ownerDocument(Mt.current),Ot=Wt=>{const{current:nr}=Mt;if(nr!==null){if(!It.hasFocus()||nt||!dt()||mt.current){mt.current=!1;return}if(!nr.contains(It.activeElement)){if(Wt&&Tt.current!==Wt.target||It.activeElement!==Tt.current)Tt.current=null;else if(Tt.current!==null)return;if(!Ft.current)return;let ur=[];if((It.activeElement===xt.current||It.activeElement===Et.current)&&(ur=lt(Mt.current)),ur.length>0){var er,Kt;const vr=!!((er=Gt.current)!=null&&er.shiftKey&&((Kt=Gt.current)==null?void 0:Kt.key)==="Tab"),Lr=ur[0],Er=ur[ur.length-1];typeof Lr!="string"&&typeof Er!="string"&&(vr?Er.focus():Lr.focus())}else nr.focus()}}},Vt=Wt=>{Gt.current=Wt,!(nt||!dt()||Wt.key!=="Tab")&&It.activeElement===Mt.current&&Wt.shiftKey&&(mt.current=!0,Et.current&&Et.current.focus())};It.addEventListener("focusin",Ot),It.addEventListener("keydown",Vt,!0);const Ut=setInterval(()=>{It.activeElement&&It.activeElement.tagName==="BODY"&&Ot(null)},50);return()=>{clearInterval(Ut),It.removeEventListener("focusin",Ot),It.removeEventListener("keydown",Vt,!0)}},[rt,nt,at,dt,ot,lt]);const Pt=It=>{At.current===null&&(At.current=It.relatedTarget),Ft.current=!0,Tt.current=It.target;const Ot=tt.props.onFocus;Ot&&Ot(It)},$t=It=>{At.current===null&&(At.current=It.relatedTarget),Ft.current=!0};return jsxs(reactExports.Fragment,{children:[jsx("div",{tabIndex:ot?0:-1,onFocus:$t,ref:xt,"data-testid":"sentinelStart"}),reactExports.cloneElement(tt,{ref:Lt,onFocus:Pt}),jsx("div",{tabIndex:ot?0:-1,onFocus:$t,ref:Et,"data-testid":"sentinelEnd"})]})}function getContainer$1(et){return typeof et=="function"?et():et}const Portal=reactExports.forwardRef(function(tt,rt){const{children:nt,container:at,disablePortal:lt=!1}=tt,[dt,ot]=reactExports.useState(null),mt=useForkRef(reactExports.isValidElement(nt)?nt.ref:null,rt);if(useEnhancedEffect$1(()=>{lt||ot(getContainer$1(at)||document.body)},[at,lt]),useEnhancedEffect$1(()=>{if(dt&&!lt)return setRef(rt,dt),()=>{setRef(rt,null)}},[rt,dt,lt]),lt){if(reactExports.isValidElement(nt)){const xt={ref:mt};return reactExports.cloneElement(nt,xt)}return jsx(reactExports.Fragment,{children:nt})}return jsx(reactExports.Fragment,{children:dt&&reactDomExports.createPortal(nt,dt)})}),Portal$1=Portal;function isOverflowing(et){const tt=ownerDocument(et);return tt.body===et?ownerWindow(et).innerWidth>tt.documentElement.clientWidth:et.scrollHeight>et.clientHeight}function ariaHidden(et,tt){tt?et.setAttribute("aria-hidden","true"):et.removeAttribute("aria-hidden")}function getPaddingRight(et){return parseInt(ownerWindow(et).getComputedStyle(et).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(et){const rt=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(et.tagName)!==-1,nt=et.tagName==="INPUT"&&et.getAttribute("type")==="hidden";return rt||nt}function ariaHiddenSiblings(et,tt,rt,nt,at){const lt=[tt,rt,...nt];[].forEach.call(et.children,dt=>{const ot=lt.indexOf(dt)===-1,mt=!isAriaHiddenForbiddenOnElement(dt);ot&&mt&&ariaHidden(dt,at)})}function findIndexOf(et,tt){let rt=-1;return et.some((nt,at)=>tt(nt)?(rt=at,!0):!1),rt}function handleContainer(et,tt){const rt=[],nt=et.container;if(!tt.disableScrollLock){if(isOverflowing(nt)){const dt=getScrollbarSize(ownerDocument(nt));rt.push({value:nt.style.paddingRight,property:"padding-right",el:nt}),nt.style.paddingRight=`${getPaddingRight(nt)+dt}px`;const ot=ownerDocument(nt).querySelectorAll(".mui-fixed");[].forEach.call(ot,mt=>{rt.push({value:mt.style.paddingRight,property:"padding-right",el:mt}),mt.style.paddingRight=`${getPaddingRight(mt)+dt}px`})}let lt;if(nt.parentNode instanceof DocumentFragment)lt=ownerDocument(nt).body;else{const dt=nt.parentElement,ot=ownerWindow(nt);lt=(dt==null?void 0:dt.nodeName)==="HTML"&&ot.getComputedStyle(dt).overflowY==="scroll"?dt:nt}rt.push({value:lt.style.overflow,property:"overflow",el:lt},{value:lt.style.overflowX,property:"overflow-x",el:lt},{value:lt.style.overflowY,property:"overflow-y",el:lt}),lt.style.overflow="hidden"}return()=>{rt.forEach(({value:lt,el:dt,property:ot})=>{lt?dt.style.setProperty(ot,lt):dt.style.removeProperty(ot)})}}function getHiddenSiblings(et){const tt=[];return[].forEach.call(et.children,rt=>{rt.getAttribute("aria-hidden")==="true"&&tt.push(rt)}),tt}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(tt,rt){let nt=this.modals.indexOf(tt);if(nt!==-1)return nt;nt=this.modals.length,this.modals.push(tt),tt.modalRef&&ariaHidden(tt.modalRef,!1);const at=getHiddenSiblings(rt);ariaHiddenSiblings(rt,tt.mount,tt.modalRef,at,!0);const lt=findIndexOf(this.containers,dt=>dt.container===rt);return lt!==-1?(this.containers[lt].modals.push(tt),nt):(this.containers.push({modals:[tt],container:rt,restore:null,hiddenSiblings:at}),nt)}mount(tt,rt){const nt=findIndexOf(this.containers,lt=>lt.modals.indexOf(tt)!==-1),at=this.containers[nt];at.restore||(at.restore=handleContainer(at,rt))}remove(tt,rt=!0){const nt=this.modals.indexOf(tt);if(nt===-1)return nt;const at=findIndexOf(this.containers,dt=>dt.modals.indexOf(tt)!==-1),lt=this.containers[at];if(lt.modals.splice(lt.modals.indexOf(tt),1),this.modals.splice(nt,1),lt.modals.length===0)lt.restore&&lt.restore(),tt.modalRef&&ariaHidden(tt.modalRef,rt),ariaHiddenSiblings(lt.container,tt.mount,tt.modalRef,lt.hiddenSiblings,!1),this.containers.splice(at,1);else{const dt=lt.modals[lt.modals.length-1];dt.modalRef&&ariaHidden(dt.modalRef,!1)}return nt}isTopModal(tt){return this.modals.length>0&&this.modals[this.modals.length-1]===tt}}function getModalUtilityClass(et){return generateUtilityClass("MuiModal",et)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const _excluded$R=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],useUtilityClasses$E=et=>{const{open:tt,exited:rt}=et;return composeClasses({root:["root",!tt&&rt&&"hidden"],backdrop:["backdrop"]},useClassNamesOverride(getModalUtilityClass))};function getContainer(et){return typeof et=="function"?et():et}function getHasTransition(et){return et?et.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager,Modal$2=reactExports.forwardRef(function(tt,rt){var nt,at;const{children:lt,closeAfterTransition:dt=!1,container:ot,disableAutoFocus:mt=!1,disableEnforceFocus:xt=!1,disableEscapeKeyDown:Et=!1,disablePortal:At=!1,disableRestoreFocus:Tt=!1,disableScrollLock:Ft=!1,hideBackdrop:Mt=!1,keepMounted:Lt=!1,manager:Gt=defaultManager,onBackdropClick:Pt,onClose:$t,onKeyDown:It,open:Ot,onTransitionEnter:Vt,onTransitionExited:Ut,slotProps:Wt={},slots:nr={}}=tt,er=_objectWithoutPropertiesLoose$1(tt,_excluded$R),Kt=Gt,[ur,vr]=reactExports.useState(!Ot),Lr=reactExports.useRef({}),Er=reactExports.useRef(null),Cr=reactExports.useRef(null),hr=useForkRef(Cr,rt),Tr=getHasTransition(lt),Xt=(nt=tt["aria-hidden"])!=null?nt:!0,Qt=()=>ownerDocument(Er.current),lr=()=>(Lr.current.modalRef=Cr.current,Lr.current.mountNode=Er.current,Lr.current),cr=()=>{Kt.mount(lr(),{disableScrollLock:Ft}),Cr.current&&(Cr.current.scrollTop=0)},sr=useEventCallback(()=>{const jn=getContainer(ot)||Qt().body;Kt.add(lr(),jn),Cr.current&&cr()}),dr=reactExports.useCallback(()=>Kt.isTopModal(lr()),[Kt]),Rr=useEventCallback(jn=>{Er.current=jn,!(!jn||!Cr.current)&&(Ot&&dr()?cr():ariaHidden(Cr.current,Xt))}),jr=reactExports.useCallback(()=>{Kt.remove(lr(),Xt)},[Kt,Xt]);reactExports.useEffect(()=>()=>{jr()},[jr]),reactExports.useEffect(()=>{Ot?sr():(!Tr||!dt)&&jr()},[Ot,jr,Tr,dt,sr]);const Sr=_extends({},tt,{closeAfterTransition:dt,disableAutoFocus:mt,disableEnforceFocus:xt,disableEscapeKeyDown:Et,disablePortal:At,disableRestoreFocus:Tt,disableScrollLock:Ft,exited:ur,hideBackdrop:Mt,keepMounted:Lt}),dn=useUtilityClasses$E(Sr),Qr=()=>{vr(!1),Vt&&Vt()},gn=()=>{vr(!0),Ut&&Ut(),dt&&jr()},ln=jn=>{jn.target===jn.currentTarget&&(Pt&&Pt(jn),$t&&$t(jn,"backdropClick"))},Kr=jn=>{It&&It(jn),!(jn.key!=="Escape"||!dr())&&(Et||(jn.stopPropagation(),$t&&$t(jn,"escapeKeyDown")))},cn={};lt.props.tabIndex===void 0&&(cn.tabIndex="-1"),Tr&&(cn.onEnter=createChainedFunction(Qr,lt.props.onEnter),cn.onExited=createChainedFunction(gn,lt.props.onExited));const En=(at=nr.root)!=null?at:"div",yn=useSlotProps({elementType:En,externalSlotProps:Wt.root,externalForwardedProps:er,additionalProps:{ref:hr,role:"presentation",onKeyDown:Kr},className:dn.root,ownerState:Sr}),Rn=nr.backdrop,Zn=useSlotProps({elementType:Rn,externalSlotProps:Wt.backdrop,additionalProps:{"aria-hidden":!0,onClick:ln,open:Ot},className:dn.backdrop,ownerState:Sr});return!Lt&&!Ot&&(!Tr||ur)?null:jsx(Portal$1,{ref:Rr,container:ot,disablePortal:At,children:jsxs(En,_extends({},yn,{children:[!Mt&&Rn?jsx(Rn,_extends({},Zn)):null,jsx(FocusTrap,{disableEnforceFocus:xt,disableAutoFocus:mt,disableRestoreFocus:Tt,isEnabled:dr,open:Ot,children:reactExports.cloneElement(lt,cn)})]}))})}),ModalUnstyled=Modal$2;function NoSsr(et){const{children:tt,defer:rt=!1,fallback:nt=null}=et,[at,lt]=reactExports.useState(!1);return useEnhancedEffect$1(()=>{rt||lt(!0)},[rt]),reactExports.useEffect(()=>{rt&&lt(!0)},[rt]),jsx(reactExports.Fragment,{children:at?tt:nt})}const INTENTIONAL_DRAG_COUNT_THRESHOLD=2;function asc(et,tt){return et-tt}function clamp(et,tt,rt){return et==null?tt:Math.min(Math.max(tt,et),rt)}function findClosest(et,tt){var rt;const{index:nt}=(rt=et.reduce((at,lt,dt)=>{const ot=Math.abs(tt-lt);return at===null||ot<at.distance||ot===at.distance?{distance:ot,index:dt}:at},null))!=null?rt:{};return nt}function trackFinger(et,tt){if(tt.current!==void 0&&et.changedTouches){const rt=et;for(let nt=0;nt<rt.changedTouches.length;nt+=1){const at=rt.changedTouches[nt];if(at.identifier===tt.current)return{x:at.clientX,y:at.clientY}}return!1}return{x:et.clientX,y:et.clientY}}function valueToPercent(et,tt,rt){return(et-tt)*100/(rt-tt)}function percentToValue(et,tt,rt){return(rt-tt)*et+tt}function getDecimalPrecision(et){if(Math.abs(et)<1){const rt=et.toExponential().split("e-"),nt=rt[0].split(".")[1];return(nt?nt.length:0)+parseInt(rt[1],10)}const tt=et.toString().split(".")[1];return tt?tt.length:0}function roundValueToStep(et,tt,rt){const nt=Math.round((et-rt)/tt)*tt+rt;return Number(nt.toFixed(getDecimalPrecision(tt)))}function setValueIndex({values:et,newValue:tt,index:rt}){const nt=et.slice();return nt[rt]=tt,nt.sort(asc)}function focusThumb({sliderRef:et,activeIndex:tt,setActive:rt}){var nt,at;const lt=ownerDocument(et.current);if(!((nt=et.current)!=null&&nt.contains(lt.activeElement))||Number(lt==null||(at=lt.activeElement)==null?void 0:at.getAttribute("data-index"))!==tt){var dt;(dt=et.current)==null||dt.querySelector(`[type="range"][data-index="${tt}"]`).focus()}rt&&rt(tt)}function areValuesEqual(et,tt){return typeof et=="number"&&typeof tt=="number"?et===tt:typeof et=="object"&&typeof tt=="object"?areArraysEqual(et,tt):!1}const axisProps={horizontal:{offset:et=>({left:`${et}%`}),leap:et=>({width:`${et}%`})},"horizontal-reverse":{offset:et=>({right:`${et}%`}),leap:et=>({width:`${et}%`})},vertical:{offset:et=>({bottom:`${et}%`}),leap:et=>({height:`${et}%`})}},Identity$1=et=>et;let cachedSupportsTouchActionNone;function doesSupportTouchActionNone(){return cachedSupportsTouchActionNone===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?cachedSupportsTouchActionNone=CSS.supports("touch-action","none"):cachedSupportsTouchActionNone=!0),cachedSupportsTouchActionNone}function useSlider(et){const{"aria-labelledby":tt,defaultValue:rt,disabled:nt=!1,disableSwap:at=!1,isRtl:lt=!1,marks:dt=!1,max:ot=100,min:mt=0,name:xt,onChange:Et,onChangeCommitted:At,orientation:Tt="horizontal",rootRef:Ft,scale:Mt=Identity$1,step:Lt=1,tabIndex:Gt,value:Pt}=et,$t=reactExports.useRef(),[It,Ot]=reactExports.useState(-1),[Vt,Ut]=reactExports.useState(-1),[Wt,nr]=reactExports.useState(!1),er=reactExports.useRef(0),[Kt,ur]=useControlled({controlled:Pt,default:rt??mt,name:"Slider"}),vr=Et&&((mn,Bn,no)=>{const eo=mn.nativeEvent||mn,to=new eo.constructor(eo.type,eo);Object.defineProperty(to,"target",{writable:!0,value:{value:Bn,name:xt}}),Et(to,Bn,no)}),Lr=Array.isArray(Kt);let Er=Lr?Kt.slice().sort(asc):[Kt];Er=Er.map(mn=>clamp(mn,mt,ot));const Cr=dt===!0&&Lt!==null?[...Array(Math.floor((ot-mt)/Lt)+1)].map((mn,Bn)=>({value:mt+Lt*Bn})):dt||[],hr=Cr.map(mn=>mn.value),{isFocusVisibleRef:Tr,onBlur:Xt,onFocus:Qt,ref:lr}=useIsFocusVisible(),[cr,sr]=reactExports.useState(-1),dr=reactExports.useRef(),Rr=useForkRef(lr,dr),jr=useForkRef(Ft,Rr),Sr=mn=>Bn=>{var no;const eo=Number(Bn.currentTarget.getAttribute("data-index"));Qt(Bn),Tr.current===!0&&sr(eo),Ut(eo),mn==null||(no=mn.onFocus)==null||no.call(mn,Bn)},dn=mn=>Bn=>{var no;Xt(Bn),Tr.current===!1&&sr(-1),Ut(-1),mn==null||(no=mn.onBlur)==null||no.call(mn,Bn)};useEnhancedEffect$1(()=>{if(nt&&dr.current.contains(document.activeElement)){var mn;(mn=document.activeElement)==null||mn.blur()}},[nt]),nt&&It!==-1&&Ot(-1),nt&&cr!==-1&&sr(-1);const Qr=mn=>Bn=>{var no;(no=mn.onChange)==null||no.call(mn,Bn);const eo=Number(Bn.currentTarget.getAttribute("data-index")),to=Er[eo],Yn=hr.indexOf(to);let Hr=Bn.target.valueAsNumber;if(Cr&&Lt==null&&(Hr=Hr<to?hr[Yn-1]:hr[Yn+1]),Hr=clamp(Hr,mt,ot),Cr&&Lt==null){const tn=hr.indexOf(Er[eo]);Hr=Hr<Er[eo]?hr[tn-1]:hr[tn+1]}if(Lr){at&&(Hr=clamp(Hr,Er[eo-1]||-1/0,Er[eo+1]||1/0));const tn=Hr;Hr=setValueIndex({values:Er,newValue:Hr,index:eo});let fn=eo;at||(fn=Hr.indexOf(tn)),focusThumb({sliderRef:dr,activeIndex:fn})}ur(Hr),sr(eo),vr&&!areValuesEqual(Hr,Kt)&&vr(Bn,Hr,eo),At&&At(Bn,Hr)},gn=reactExports.useRef();let ln=Tt;lt&&Tt==="horizontal"&&(ln+="-reverse");const Kr=({finger:mn,move:Bn=!1})=>{const{current:no}=dr,{width:eo,height:to,bottom:Yn,left:Hr}=no.getBoundingClientRect();let tn;ln.indexOf("vertical")===0?tn=(Yn-mn.y)/to:tn=(mn.x-Hr)/eo,ln.indexOf("-reverse")!==-1&&(tn=1-tn);let fn;if(fn=percentToValue(tn,mt,ot),Lt)fn=roundValueToStep(fn,Lt,mt);else{const Kn=findClosest(hr,fn);fn=hr[Kn]}fn=clamp(fn,mt,ot);let Vn=0;if(Lr){Bn?Vn=gn.current:Vn=findClosest(Er,fn),at&&(fn=clamp(fn,Er[Vn-1]||-1/0,Er[Vn+1]||1/0));const Kn=fn;fn=setValueIndex({values:Er,newValue:fn,index:Vn}),at&&Bn||(Vn=fn.indexOf(Kn),gn.current=Vn)}return{newValue:fn,activeIndex:Vn}},cn=useEventCallback(mn=>{const Bn=trackFinger(mn,$t);if(!Bn)return;if(er.current+=1,mn.type==="mousemove"&&mn.buttons===0){En(mn);return}const{newValue:no,activeIndex:eo}=Kr({finger:Bn,move:!0});focusThumb({sliderRef:dr,activeIndex:eo,setActive:Ot}),ur(no),!Wt&&er.current>INTENTIONAL_DRAG_COUNT_THRESHOLD&&nr(!0),vr&&!areValuesEqual(no,Kt)&&vr(mn,no,eo)}),En=useEventCallback(mn=>{const Bn=trackFinger(mn,$t);if(nr(!1),!Bn)return;const{newValue:no}=Kr({finger:Bn,move:!0});Ot(-1),mn.type==="touchend"&&Ut(-1),At&&At(mn,no),$t.current=void 0,Rn()}),yn=useEventCallback(mn=>{if(nt)return;doesSupportTouchActionNone()||mn.preventDefault();const Bn=mn.changedTouches[0];Bn!=null&&($t.current=Bn.identifier);const no=trackFinger(mn,$t);if(no!==!1){const{newValue:to,activeIndex:Yn}=Kr({finger:no});focusThumb({sliderRef:dr,activeIndex:Yn,setActive:Ot}),ur(to),vr&&!areValuesEqual(to,Kt)&&vr(mn,to,Yn)}er.current=0;const eo=ownerDocument(dr.current);eo.addEventListener("touchmove",cn),eo.addEventListener("touchend",En)}),Rn=reactExports.useCallback(()=>{const mn=ownerDocument(dr.current);mn.removeEventListener("mousemove",cn),mn.removeEventListener("mouseup",En),mn.removeEventListener("touchmove",cn),mn.removeEventListener("touchend",En)},[En,cn]);reactExports.useEffect(()=>{const{current:mn}=dr;return mn.addEventListener("touchstart",yn,{passive:doesSupportTouchActionNone()}),()=>{mn.removeEventListener("touchstart",yn,{passive:doesSupportTouchActionNone()}),Rn()}},[Rn,yn]),reactExports.useEffect(()=>{nt&&Rn()},[nt,Rn]);const Zn=mn=>Bn=>{var no;if((no=mn.onMouseDown)==null||no.call(mn,Bn),nt||Bn.defaultPrevented||Bn.button!==0)return;Bn.preventDefault();const eo=trackFinger(Bn,$t);if(eo!==!1){const{newValue:Yn,activeIndex:Hr}=Kr({finger:eo});focusThumb({sliderRef:dr,activeIndex:Hr,setActive:Ot}),ur(Yn),vr&&!areValuesEqual(Yn,Kt)&&vr(Bn,Yn,Hr)}er.current=0;const to=ownerDocument(dr.current);to.addEventListener("mousemove",cn),to.addEventListener("mouseup",En)},jn=valueToPercent(Lr?Er[0]:mt,mt,ot),so=valueToPercent(Er[Er.length-1],mt,ot)-jn,Eo=(mn={})=>{const Bn={onMouseDown:Zn(mn||{})},no=_extends({},mn,Bn);return _extends({ref:jr},no)},_i=mn=>Bn=>{var no;(no=mn.onMouseOver)==null||no.call(mn,Bn);const eo=Number(Bn.currentTarget.getAttribute("data-index"));Ut(eo)},po=mn=>Bn=>{var no;(no=mn.onMouseLeave)==null||no.call(mn,Bn),Ut(-1)};return{active:It,axis:ln,axisProps,dragging:Wt,focusedThumbIndex:cr,getHiddenInputProps:(mn={})=>{var Bn;const no={onChange:Qr(mn||{}),onFocus:Sr(mn||{}),onBlur:dn(mn||{})},eo=_extends({},mn,no);return _extends({tabIndex:Gt,"aria-labelledby":tt,"aria-orientation":Tt,"aria-valuemax":Mt(ot),"aria-valuemin":Mt(mt),name:xt,type:"range",min:et.min,max:et.max,step:(Bn=et.step)!=null?Bn:void 0,disabled:nt},eo,{style:_extends({},visuallyHidden$1,{direction:lt?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Eo,getThumbProps:(mn={})=>{const Bn={onMouseOver:_i(mn||{}),onMouseLeave:po(mn||{})};return _extends({},mn,Bn)},marks:Cr,open:Vt,range:Lr,rootRef:jr,trackLeap:so,trackOffset:jn,values:Er}}const _excluded$Q=["onChange","maxRows","minRows","style","value"];function getStyleValue(et){return parseInt(et,10)||0}const styles$4={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isEmpty$1(et){return et==null||Object.keys(et).length===0||et.outerHeightStyle===0&&!et.overflow}const TextareaAutosize=reactExports.forwardRef(function(tt,rt){const{onChange:nt,maxRows:at,minRows:lt=1,style:dt,value:ot}=tt,mt=_objectWithoutPropertiesLoose$1(tt,_excluded$Q),{current:xt}=reactExports.useRef(ot!=null),Et=reactExports.useRef(null),At=useForkRef(rt,Et),Tt=reactExports.useRef(null),Ft=reactExports.useRef(0),[Mt,Lt]=reactExports.useState({outerHeightStyle:0}),Gt=reactExports.useCallback(()=>{const Vt=Et.current,Wt=ownerWindow(Vt).getComputedStyle(Vt);if(Wt.width==="0px")return{outerHeightStyle:0};const nr=Tt.current;nr.style.width=Wt.width,nr.value=Vt.value||tt.placeholder||"x",nr.value.slice(-1)===`
`&&(nr.value+=" ");const er=Wt.boxSizing,Kt=getStyleValue(Wt.paddingBottom)+getStyleValue(Wt.paddingTop),ur=getStyleValue(Wt.borderBottomWidth)+getStyleValue(Wt.borderTopWidth),vr=nr.scrollHeight;nr.value="x";const Lr=nr.scrollHeight;let Er=vr;lt&&(Er=Math.max(Number(lt)*Lr,Er)),at&&(Er=Math.min(Number(at)*Lr,Er)),Er=Math.max(Er,Lr);const Cr=Er+(er==="border-box"?Kt+ur:0),hr=Math.abs(Er-vr)<=1;return{outerHeightStyle:Cr,overflow:hr}},[at,lt,tt.placeholder]),Pt=(Vt,Ut)=>{const{outerHeightStyle:Wt,overflow:nr}=Ut;return Ft.current<20&&(Wt>0&&Math.abs((Vt.outerHeightStyle||0)-Wt)>1||Vt.overflow!==nr)?(Ft.current+=1,{overflow:nr,outerHeightStyle:Wt}):Vt},$t=reactExports.useCallback(()=>{const Vt=Gt();isEmpty$1(Vt)||Lt(Ut=>Pt(Ut,Vt))},[Gt]),It=()=>{const Vt=Gt();isEmpty$1(Vt)||reactDomExports.flushSync(()=>{Lt(Ut=>Pt(Ut,Vt))})};reactExports.useEffect(()=>{const Vt=debounce(()=>{Ft.current=0,Et.current&&It()});let Ut;const Wt=Et.current,nr=ownerWindow(Wt);return nr.addEventListener("resize",Vt),typeof ResizeObserver<"u"&&(Ut=new ResizeObserver(Vt),Ut.observe(Wt)),()=>{Vt.clear(),nr.removeEventListener("resize",Vt),Ut&&Ut.disconnect()}}),useEnhancedEffect$1(()=>{$t()}),reactExports.useEffect(()=>{Ft.current=0},[ot]);const Ot=Vt=>{Ft.current=0,xt||$t(),nt&&nt(Vt)};return jsxs(reactExports.Fragment,{children:[jsx("textarea",_extends({value:ot,onChange:Ot,ref:At,rows:lt,style:_extends({height:Mt.outerHeightStyle,overflow:Mt.overflow?"hidden":void 0},dt)},mt)),jsx("textarea",{"aria-hidden":!0,className:tt.className,readOnly:!0,ref:Tt,tabIndex:-1,style:_extends({},styles$4.shadow,dt,{padding:0})})]})}),TextareaAutosize$1=TextareaAutosize;function getSvgIconUtilityClass(et){return generateUtilityClass("MuiSvgIcon",et)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$P=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$D=et=>{const{color:tt,fontSize:rt,classes:nt}=et,at={root:["root",tt!=="inherit"&&`color${capitalize(tt)}`,`fontSize${capitalize(rt)}`]};return composeClasses(at,getSvgIconUtilityClass,nt)},SvgIconRoot=styled$2("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,rt.color!=="inherit"&&tt[`color${capitalize(rt.color)}`],tt[`fontSize${capitalize(rt.fontSize)}`]]}})(({theme:et,ownerState:tt})=>{var rt,nt,at,lt,dt,ot,mt,xt,Et,At,Tt,Ft,Mt,Lt,Gt,Pt,$t;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(rt=et.transitions)==null||(nt=rt.create)==null?void 0:nt.call(rt,"fill",{duration:(at=et.transitions)==null||(lt=at.duration)==null?void 0:lt.shorter}),fontSize:{inherit:"inherit",small:((dt=et.typography)==null||(ot=dt.pxToRem)==null?void 0:ot.call(dt,20))||"1.25rem",medium:((mt=et.typography)==null||(xt=mt.pxToRem)==null?void 0:xt.call(mt,24))||"1.5rem",large:((Et=et.typography)==null||(At=Et.pxToRem)==null?void 0:At.call(Et,35))||"2.1875rem"}[tt.fontSize],color:(Tt=(Ft=(et.vars||et).palette)==null||(Mt=Ft[tt.color])==null?void 0:Mt.main)!=null?Tt:{action:(Lt=(et.vars||et).palette)==null||(Gt=Lt.action)==null?void 0:Gt.active,disabled:(Pt=(et.vars||et).palette)==null||($t=Pt.action)==null?void 0:$t.disabled,inherit:void 0}[tt.color]}}),SvgIcon=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiSvgIcon"}),{children:at,className:lt,color:dt="inherit",component:ot="svg",fontSize:mt="medium",htmlColor:xt,inheritViewBox:Et=!1,titleAccess:At,viewBox:Tt="0 0 24 24"}=nt,Ft=_objectWithoutPropertiesLoose$1(nt,_excluded$P),Mt=_extends({},nt,{color:dt,component:ot,fontSize:mt,instanceFontSize:tt.fontSize,inheritViewBox:Et,viewBox:Tt}),Lt={};Et||(Lt.viewBox=Tt);const Gt=useUtilityClasses$D(Mt);return jsxs(SvgIconRoot,_extends({as:ot,className:clsx(Gt.root,lt),focusable:"false",color:xt,"aria-hidden":At?void 0:!0,role:At?"img":void 0,ref:rt},Lt,Ft,{ownerState:Mt,children:[at,At?jsx("title",{children:At}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon$1=SvgIcon;function createSvgIcon(et,tt){function rt(nt,at){return jsx(SvgIcon$1,_extends({"data-testid":`${tt}Icon`,ref:at},nt,{children:et}))}return rt.muiName=SvgIcon$1.muiName,reactExports.memo(reactExports.forwardRef(rt))}function _setPrototypeOf(et,tt){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,at){return nt.__proto__=at,nt},_setPrototypeOf(et,tt)}function _inheritsLoose(et,tt){et.prototype=Object.create(tt.prototype),et.prototype.constructor=et,_setPrototypeOf(et,tt)}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(tt){return tt.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(et){_inheritsLoose(tt,et);function tt(nt,at){var lt;lt=et.call(this,nt,at)||this;var dt=at,ot=dt&&!dt.isMounting?nt.enter:nt.appear,mt;return lt.appearStatus=null,nt.in?ot?(mt=EXITED,lt.appearStatus=ENTERING):mt=ENTERED:nt.unmountOnExit||nt.mountOnEnter?mt=UNMOUNTED:mt=EXITED,lt.state={status:mt},lt.nextCallback=null,lt}tt.getDerivedStateFromProps=function(at,lt){var dt=at.in;return dt&&lt.status===UNMOUNTED?{status:EXITED}:null};var rt=tt.prototype;return rt.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},rt.componentDidUpdate=function(at){var lt=null;if(at!==this.props){var dt=this.state.status;this.props.in?dt!==ENTERING&&dt!==ENTERED&&(lt=ENTERING):(dt===ENTERING||dt===ENTERED)&&(lt=EXITING)}this.updateStatus(!1,lt)},rt.componentWillUnmount=function(){this.cancelNextCallback()},rt.getTimeouts=function(){var at=this.props.timeout,lt,dt,ot;return lt=dt=ot=at,at!=null&&typeof at!="number"&&(lt=at.exit,dt=at.enter,ot=at.appear!==void 0?at.appear:dt),{exit:lt,enter:dt,appear:ot}},rt.updateStatus=function(at,lt){if(at===void 0&&(at=!1),lt!==null)if(this.cancelNextCallback(),lt===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var dt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);dt&&forceReflow(dt)}this.performEnter(at)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},rt.performEnter=function(at){var lt=this,dt=this.props.enter,ot=this.context?this.context.isMounting:at,mt=this.props.nodeRef?[ot]:[ReactDOM.findDOMNode(this),ot],xt=mt[0],Et=mt[1],At=this.getTimeouts(),Tt=ot?At.appear:At.enter;if(!at&&!dt||config.disabled){this.safeSetState({status:ENTERED},function(){lt.props.onEntered(xt)});return}this.props.onEnter(xt,Et),this.safeSetState({status:ENTERING},function(){lt.props.onEntering(xt,Et),lt.onTransitionEnd(Tt,function(){lt.safeSetState({status:ENTERED},function(){lt.props.onEntered(xt,Et)})})})},rt.performExit=function(){var at=this,lt=this.props.exit,dt=this.getTimeouts(),ot=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!lt||config.disabled){this.safeSetState({status:EXITED},function(){at.props.onExited(ot)});return}this.props.onExit(ot),this.safeSetState({status:EXITING},function(){at.props.onExiting(ot),at.onTransitionEnd(dt.exit,function(){at.safeSetState({status:EXITED},function(){at.props.onExited(ot)})})})},rt.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},rt.safeSetState=function(at,lt){lt=this.setNextCallback(lt),this.setState(at,lt)},rt.setNextCallback=function(at){var lt=this,dt=!0;return this.nextCallback=function(ot){dt&&(dt=!1,lt.nextCallback=null,at(ot))},this.nextCallback.cancel=function(){dt=!1},this.nextCallback},rt.onTransitionEnd=function(at,lt){this.setNextCallback(lt);var dt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),ot=at==null&&!this.props.addEndListener;if(!dt||ot){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var mt=this.props.nodeRef?[this.nextCallback]:[dt,this.nextCallback],xt=mt[0],Et=mt[1];this.props.addEndListener(xt,Et)}at!=null&&setTimeout(this.nextCallback,at)},rt.render=function(){var at=this.state.status;if(at===UNMOUNTED)return null;var lt=this.props,dt=lt.children;lt.in,lt.mountOnEnter,lt.unmountOnExit,lt.appear,lt.enter,lt.exit,lt.timeout,lt.addEndListener,lt.onEnter,lt.onEntering,lt.onEntered,lt.onExit,lt.onExiting,lt.onExited,lt.nodeRef;var ot=_objectWithoutPropertiesLoose$1(lt,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof dt=="function"?dt(at,ot):React.cloneElement(React.Children.only(dt),ot))},tt}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$1(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$1,onEntering:noop$1,onEntered:noop$1,onExit:noop$1,onExiting:noop$1,onExited:noop$1};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function _assertThisInitialized(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function getChildMapping(et,tt){var rt=function(lt){return tt&&reactExports.isValidElement(lt)?tt(lt):lt},nt=Object.create(null);return et&&reactExports.Children.map(et,function(at){return at}).forEach(function(at){nt[at.key]=rt(at)}),nt}function mergeChildMappings(et,tt){et=et||{},tt=tt||{};function rt(Et){return Et in tt?tt[Et]:et[Et]}var nt=Object.create(null),at=[];for(var lt in et)lt in tt?at.length&&(nt[lt]=at,at=[]):at.push(lt);var dt,ot={};for(var mt in tt){if(nt[mt])for(dt=0;dt<nt[mt].length;dt++){var xt=nt[mt][dt];ot[nt[mt][dt]]=rt(xt)}ot[mt]=rt(mt)}for(dt=0;dt<at.length;dt++)ot[at[dt]]=rt(at[dt]);return ot}function getProp(et,tt,rt){return rt[tt]!=null?rt[tt]:et.props[tt]}function getInitialChildMapping(et,tt){return getChildMapping(et.children,function(rt){return reactExports.cloneElement(rt,{onExited:tt.bind(null,rt),in:!0,appear:getProp(rt,"appear",et),enter:getProp(rt,"enter",et),exit:getProp(rt,"exit",et)})})}function getNextChildMapping(et,tt,rt){var nt=getChildMapping(et.children),at=mergeChildMappings(tt,nt);return Object.keys(at).forEach(function(lt){var dt=at[lt];if(reactExports.isValidElement(dt)){var ot=lt in tt,mt=lt in nt,xt=tt[lt],Et=reactExports.isValidElement(xt)&&!xt.props.in;mt&&(!ot||Et)?at[lt]=reactExports.cloneElement(dt,{onExited:rt.bind(null,dt),in:!0,exit:getProp(dt,"exit",et),enter:getProp(dt,"enter",et)}):!mt&&ot&&!Et?at[lt]=reactExports.cloneElement(dt,{in:!1}):mt&&ot&&reactExports.isValidElement(xt)&&(at[lt]=reactExports.cloneElement(dt,{onExited:rt.bind(null,dt),in:xt.props.in,exit:getProp(dt,"exit",et),enter:getProp(dt,"enter",et)}))}}),at}var values=Object.values||function(et){return Object.keys(et).map(function(tt){return et[tt]})},defaultProps$3={component:"div",childFactory:function(tt){return tt}},TransitionGroup=function(et){_inheritsLoose(tt,et);function tt(nt,at){var lt;lt=et.call(this,nt,at)||this;var dt=lt.handleExited.bind(_assertThisInitialized(lt));return lt.state={contextValue:{isMounting:!0},handleExited:dt,firstRender:!0},lt}var rt=tt.prototype;return rt.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},rt.componentWillUnmount=function(){this.mounted=!1},tt.getDerivedStateFromProps=function(at,lt){var dt=lt.children,ot=lt.handleExited,mt=lt.firstRender;return{children:mt?getInitialChildMapping(at,ot):getNextChildMapping(at,dt,ot),firstRender:!1}},rt.handleExited=function(at,lt){var dt=getChildMapping(this.props.children);at.key in dt||(at.props.onExited&&at.props.onExited(lt),this.mounted&&this.setState(function(ot){var mt=_extends({},ot.children);return delete mt[at.key],{children:mt}}))},rt.render=function(){var at=this.props,lt=at.component,dt=at.childFactory,ot=_objectWithoutPropertiesLoose$1(at,["component","childFactory"]),mt=this.state.contextValue,xt=values(this.state.children).map(dt);return delete ot.appear,delete ot.enter,delete ot.exit,lt===null?React.createElement(TransitionGroupContext.Provider,{value:mt},xt):React.createElement(TransitionGroupContext.Provider,{value:mt},React.createElement(lt,ot,xt))},tt}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps$3;const TransitionGroup$1=TransitionGroup,reflow=et=>et.scrollTop;function getTransitionProps(et,tt){var rt,nt;const{timeout:at,easing:lt,style:dt={}}=et;return{duration:(rt=dt.transitionDuration)!=null?rt:typeof at=="number"?at:at[tt.mode]||0,easing:(nt=dt.transitionTimingFunction)!=null?nt:typeof lt=="object"?lt[tt.mode]:lt,delay:dt.transitionDelay}}function getPaperUtilityClass(et){return generateUtilityClass("MuiPaper",et)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$O=["className","component","elevation","square","variant"],useUtilityClasses$C=et=>{const{square:tt,elevation:rt,variant:nt,classes:at}=et,lt={root:["root",nt,!tt&&"rounded",nt==="elevation"&&`elevation${rt}`]};return composeClasses(lt,getPaperUtilityClass,at)},PaperRoot=styled$2("div",{name:"MuiPaper",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,tt[rt.variant],!rt.square&&tt.rounded,rt.variant==="elevation"&&tt[`elevation${rt.elevation}`]]}})(({theme:et,ownerState:tt})=>{var rt;return _extends({backgroundColor:(et.vars||et).palette.background.paper,color:(et.vars||et).palette.text.primary,transition:et.transitions.create("box-shadow")},!tt.square&&{borderRadius:et.shape.borderRadius},tt.variant==="outlined"&&{border:`1px solid ${(et.vars||et).palette.divider}`},tt.variant==="elevation"&&_extends({boxShadow:(et.vars||et).shadows[tt.elevation]},!et.vars&&et.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha$1(tt.elevation))}, ${alpha("#fff",getOverlayAlpha$1(tt.elevation))})`},et.vars&&{backgroundImage:(rt=et.vars.overlays)==null?void 0:rt[tt.elevation]}))}),Paper=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiPaper"}),{className:at,component:lt="div",elevation:dt=1,square:ot=!1,variant:mt="elevation"}=nt,xt=_objectWithoutPropertiesLoose$1(nt,_excluded$O),Et=_extends({},nt,{component:lt,elevation:dt,square:ot,variant:mt}),At=useUtilityClasses$C(Et);return jsx(PaperRoot,_extends({as:lt,ownerState:Et,className:clsx(At.root,at),ref:rt},xt))}),Paper$1=Paper;function Ripple(et){const{className:tt,classes:rt,pulsate:nt=!1,rippleX:at,rippleY:lt,rippleSize:dt,in:ot,onExited:mt,timeout:xt}=et,[Et,At]=reactExports.useState(!1),Tt=clsx(tt,rt.ripple,rt.rippleVisible,nt&&rt.ripplePulsate),Ft={width:dt,height:dt,top:-(dt/2)+lt,left:-(dt/2)+at},Mt=clsx(rt.child,Et&&rt.childLeaving,nt&&rt.childPulsate);return!ot&&!Et&&At(!0),reactExports.useEffect(()=>{if(!ot&&mt!=null){const Lt=setTimeout(mt,xt);return()=>{clearTimeout(Lt)}}},[mt,ot,xt]),jsx("span",{className:Tt,style:Ft,children:jsx("span",{className:Mt})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),touchRippleClasses$1=touchRippleClasses,_excluded$N=["center","classes","className"];let _$4=et=>et,_t$3,_t2$3,_t3$3,_t4$3;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t$3||(_t$3=_$4`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2$3||(_t2$3=_$4`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3$3||(_t3$3=_$4`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled$2("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled$2(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4$3||(_t4$3=_$4`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:et})=>et.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:et})=>et.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:et})=>et.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:et})=>et.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiTouchRipple"}),{center:at=!1,classes:lt={},className:dt}=nt,ot=_objectWithoutPropertiesLoose$1(nt,_excluded$N),[mt,xt]=reactExports.useState([]),Et=reactExports.useRef(0),At=reactExports.useRef(null);reactExports.useEffect(()=>{At.current&&(At.current(),At.current=null)},[mt]);const Tt=reactExports.useRef(!1),Ft=reactExports.useRef(null),Mt=reactExports.useRef(null),Lt=reactExports.useRef(null);reactExports.useEffect(()=>()=>{clearTimeout(Ft.current)},[]);const Gt=reactExports.useCallback(Ot=>{const{pulsate:Vt,rippleX:Ut,rippleY:Wt,rippleSize:nr,cb:er}=Ot;xt(Kt=>[...Kt,jsx(TouchRippleRipple,{classes:{ripple:clsx(lt.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx(lt.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx(lt.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx(lt.child,touchRippleClasses$1.child),childLeaving:clsx(lt.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx(lt.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:Vt,rippleX:Ut,rippleY:Wt,rippleSize:nr},Et.current)]),Et.current+=1,At.current=er},[lt]),Pt=reactExports.useCallback((Ot={},Vt={},Ut=()=>{})=>{const{pulsate:Wt=!1,center:nr=at||Vt.pulsate,fakeElement:er=!1}=Vt;if((Ot==null?void 0:Ot.type)==="mousedown"&&Tt.current){Tt.current=!1;return}(Ot==null?void 0:Ot.type)==="touchstart"&&(Tt.current=!0);const Kt=er?null:Lt.current,ur=Kt?Kt.getBoundingClientRect():{width:0,height:0,left:0,top:0};let vr,Lr,Er;if(nr||Ot===void 0||Ot.clientX===0&&Ot.clientY===0||!Ot.clientX&&!Ot.touches)vr=Math.round(ur.width/2),Lr=Math.round(ur.height/2);else{const{clientX:Cr,clientY:hr}=Ot.touches&&Ot.touches.length>0?Ot.touches[0]:Ot;vr=Math.round(Cr-ur.left),Lr=Math.round(hr-ur.top)}if(nr)Er=Math.sqrt((2*ur.width**2+ur.height**2)/3),Er%2===0&&(Er+=1);else{const Cr=Math.max(Math.abs((Kt?Kt.clientWidth:0)-vr),vr)*2+2,hr=Math.max(Math.abs((Kt?Kt.clientHeight:0)-Lr),Lr)*2+2;Er=Math.sqrt(Cr**2+hr**2)}Ot!=null&&Ot.touches?Mt.current===null&&(Mt.current=()=>{Gt({pulsate:Wt,rippleX:vr,rippleY:Lr,rippleSize:Er,cb:Ut})},Ft.current=setTimeout(()=>{Mt.current&&(Mt.current(),Mt.current=null)},DELAY_RIPPLE)):Gt({pulsate:Wt,rippleX:vr,rippleY:Lr,rippleSize:Er,cb:Ut})},[at,Gt]),$t=reactExports.useCallback(()=>{Pt({},{pulsate:!0})},[Pt]),It=reactExports.useCallback((Ot,Vt)=>{if(clearTimeout(Ft.current),(Ot==null?void 0:Ot.type)==="touchend"&&Mt.current){Mt.current(),Mt.current=null,Ft.current=setTimeout(()=>{It(Ot,Vt)});return}Mt.current=null,xt(Ut=>Ut.length>0?Ut.slice(1):Ut),At.current=Vt},[]);return reactExports.useImperativeHandle(rt,()=>({pulsate:$t,start:Pt,stop:It}),[$t,Pt,It]),jsx(TouchRippleRoot,_extends({className:clsx(touchRippleClasses$1.root,lt.root,dt),ref:Lt},ot,{children:jsx(TransitionGroup$1,{component:null,exit:!0,children:mt})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(et){return generateUtilityClass("MuiButtonBase",et)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),buttonBaseClasses$1=buttonBaseClasses,_excluded$M=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$B=et=>{const{disabled:tt,focusVisible:rt,focusVisibleClassName:nt,classes:at}=et,dt=composeClasses({root:["root",tt&&"disabled",rt&&"focusVisible"]},getButtonBaseUtilityClass,at);return rt&&nt&&(dt.root+=` ${nt}`),dt},ButtonBaseRoot=styled$2("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(et,tt)=>tt.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiButtonBase"}),{action:at,centerRipple:lt=!1,children:dt,className:ot,component:mt="button",disabled:xt=!1,disableRipple:Et=!1,disableTouchRipple:At=!1,focusRipple:Tt=!1,LinkComponent:Ft="a",onBlur:Mt,onClick:Lt,onContextMenu:Gt,onDragLeave:Pt,onFocus:$t,onFocusVisible:It,onKeyDown:Ot,onKeyUp:Vt,onMouseDown:Ut,onMouseLeave:Wt,onMouseUp:nr,onTouchEnd:er,onTouchMove:Kt,onTouchStart:ur,tabIndex:vr=0,TouchRippleProps:Lr,touchRippleRef:Er,type:Cr}=nt,hr=_objectWithoutPropertiesLoose$1(nt,_excluded$M),Tr=reactExports.useRef(null),Xt=reactExports.useRef(null),Qt=useForkRef(Xt,Er),{isFocusVisibleRef:lr,onFocus:cr,onBlur:sr,ref:dr}=useIsFocusVisible(),[Rr,jr]=reactExports.useState(!1);xt&&Rr&&jr(!1),reactExports.useImperativeHandle(at,()=>({focusVisible:()=>{jr(!0),Tr.current.focus()}}),[]);const[Sr,dn]=reactExports.useState(!1);reactExports.useEffect(()=>{dn(!0)},[]);const Qr=Sr&&!Et&&!xt;reactExports.useEffect(()=>{Rr&&Tt&&!Et&&Sr&&Xt.current.pulsate()},[Et,Tt,Rr,Sr]);function gn(Yn,Hr,tn=At){return useEventCallback(fn=>(Hr&&Hr(fn),!tn&&Xt.current&&Xt.current[Yn](fn),!0))}const ln=gn("start",Ut),Kr=gn("stop",Gt),cn=gn("stop",Pt),En=gn("stop",nr),yn=gn("stop",Yn=>{Rr&&Yn.preventDefault(),Wt&&Wt(Yn)}),Rn=gn("start",ur),Zn=gn("stop",er),jn=gn("stop",Kt),so=gn("stop",Yn=>{sr(Yn),lr.current===!1&&jr(!1),Mt&&Mt(Yn)},!1),Eo=useEventCallback(Yn=>{Tr.current||(Tr.current=Yn.currentTarget),cr(Yn),lr.current===!0&&(jr(!0),It&&It(Yn)),$t&&$t(Yn)}),_i=()=>{const Yn=Tr.current;return mt&&mt!=="button"&&!(Yn.tagName==="A"&&Yn.href)},po=reactExports.useRef(!1),Mo=useEventCallback(Yn=>{Tt&&!po.current&&Rr&&Xt.current&&Yn.key===" "&&(po.current=!0,Xt.current.stop(Yn,()=>{Xt.current.start(Yn)})),Yn.target===Yn.currentTarget&&_i()&&Yn.key===" "&&Yn.preventDefault(),Ot&&Ot(Yn),Yn.target===Yn.currentTarget&&_i()&&Yn.key==="Enter"&&!xt&&(Yn.preventDefault(),Lt&&Lt(Yn))}),yo=useEventCallback(Yn=>{Tt&&Yn.key===" "&&Xt.current&&Rr&&!Yn.defaultPrevented&&(po.current=!1,Xt.current.stop(Yn,()=>{Xt.current.pulsate(Yn)})),Vt&&Vt(Yn),Lt&&Yn.target===Yn.currentTarget&&_i()&&Yn.key===" "&&!Yn.defaultPrevented&&Lt(Yn)});let mn=mt;mn==="button"&&(hr.href||hr.to)&&(mn=Ft);const Bn={};mn==="button"?(Bn.type=Cr===void 0?"button":Cr,Bn.disabled=xt):(!hr.href&&!hr.to&&(Bn.role="button"),xt&&(Bn["aria-disabled"]=xt));const no=useForkRef(rt,dr,Tr),eo=_extends({},nt,{centerRipple:lt,component:mt,disabled:xt,disableRipple:Et,disableTouchRipple:At,focusRipple:Tt,tabIndex:vr,focusVisible:Rr}),to=useUtilityClasses$B(eo);return jsxs(ButtonBaseRoot,_extends({as:mn,className:clsx(to.root,ot),ownerState:eo,onBlur:so,onClick:Lt,onContextMenu:Kr,onFocus:Eo,onKeyDown:Mo,onKeyUp:yo,onMouseDown:ln,onMouseLeave:yn,onMouseUp:En,onDragLeave:cn,onTouchEnd:Zn,onTouchMove:jn,onTouchStart:Rn,ref:no,tabIndex:xt?-1:vr,type:Cr},Bn,hr,{children:[dt,Qr?jsx(TouchRipple$1,_extends({ref:Qt,center:lt},Lr)):null]}))}),ButtonBase$1=ButtonBase;function getIconButtonUtilityClass(et){return generateUtilityClass("MuiIconButton",et)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),iconButtonClasses$1=iconButtonClasses,_excluded$L=["edge","children","className","color","disabled","disableFocusRipple","size"],useUtilityClasses$A=et=>{const{classes:tt,disabled:rt,color:nt,edge:at,size:lt}=et,dt={root:["root",rt&&"disabled",nt!=="default"&&`color${capitalize(nt)}`,at&&`edge${capitalize(at)}`,`size${capitalize(lt)}`]};return composeClasses(dt,getIconButtonUtilityClass,tt)},IconButtonRoot=styled$2(ButtonBase$1,{name:"MuiIconButton",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,rt.color!=="default"&&tt[`color${capitalize(rt.color)}`],rt.edge&&tt[`edge${capitalize(rt.edge)}`],tt[`size${capitalize(rt.size)}`]]}})(({theme:et,ownerState:tt})=>_extends({textAlign:"center",flex:"0 0 auto",fontSize:et.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(et.vars||et).palette.action.active,transition:et.transitions.create("background-color",{duration:et.transitions.duration.shortest})},!tt.disableRipple&&{"&:hover":{backgroundColor:et.vars?`rgba(${et.vars.palette.action.activeChannel} / ${et.vars.palette.action.hoverOpacity})`:alpha(et.palette.action.active,et.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},tt.edge==="start"&&{marginLeft:tt.size==="small"?-3:-12},tt.edge==="end"&&{marginRight:tt.size==="small"?-3:-12}),({theme:et,ownerState:tt})=>{var rt;const nt=(rt=(et.vars||et).palette)==null?void 0:rt[tt.color];return _extends({},tt.color==="inherit"&&{color:"inherit"},tt.color!=="inherit"&&tt.color!=="default"&&_extends({color:nt==null?void 0:nt.main},!tt.disableRipple&&{"&:hover":_extends({},nt&&{backgroundColor:et.vars?`rgba(${nt.mainChannel} / ${et.vars.palette.action.hoverOpacity})`:alpha(nt.main,et.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),tt.size==="small"&&{padding:5,fontSize:et.typography.pxToRem(18)},tt.size==="large"&&{padding:12,fontSize:et.typography.pxToRem(28)},{[`&.${iconButtonClasses$1.disabled}`]:{backgroundColor:"transparent",color:(et.vars||et).palette.action.disabled}})}),IconButton=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiIconButton"}),{edge:at=!1,children:lt,className:dt,color:ot="default",disabled:mt=!1,disableFocusRipple:xt=!1,size:Et="medium"}=nt,At=_objectWithoutPropertiesLoose$1(nt,_excluded$L),Tt=_extends({},nt,{edge:at,color:ot,disabled:mt,disableFocusRipple:xt,size:Et}),Ft=useUtilityClasses$A(Tt);return jsx(IconButtonRoot,_extends({className:clsx(Ft.root,dt),centerRipple:!0,focusRipple:!xt,disabled:mt,ref:rt,ownerState:Tt},At,{children:lt}))}),IconButton$1=IconButton;function getTypographyUtilityClass(et){return generateUtilityClass("MuiTypography",et)}const typographyClasses=generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),typographyClasses$1=typographyClasses,_excluded$K=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$z=et=>{const{align:tt,gutterBottom:rt,noWrap:nt,paragraph:at,variant:lt,classes:dt}=et,ot={root:["root",lt,et.align!=="inherit"&&`align${capitalize(tt)}`,rt&&"gutterBottom",nt&&"noWrap",at&&"paragraph"]};return composeClasses(ot,getTypographyUtilityClass,dt)},TypographyRoot=styled$2("span",{name:"MuiTypography",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,rt.variant&&tt[rt.variant],rt.align!=="inherit"&&tt[`align${capitalize(rt.align)}`],rt.noWrap&&tt.noWrap,rt.gutterBottom&&tt.gutterBottom,rt.paragraph&&tt.paragraph]}})(({theme:et,ownerState:tt})=>_extends({margin:0},tt.variant&&et.typography[tt.variant],tt.align!=="inherit"&&{textAlign:tt.align},tt.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},tt.gutterBottom&&{marginBottom:"0.35em"},tt.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=et=>colorTransformations[et]||et,Typography=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiTypography"}),at=transformDeprecatedColors(nt.color),lt=extendSxProp(_extends({},nt,{color:at})),{align:dt="inherit",className:ot,component:mt,gutterBottom:xt=!1,noWrap:Et=!1,paragraph:At=!1,variant:Tt="body1",variantMapping:Ft=defaultVariantMapping}=lt,Mt=_objectWithoutPropertiesLoose$1(lt,_excluded$K),Lt=_extends({},lt,{align:dt,color:at,className:ot,component:mt,gutterBottom:xt,noWrap:Et,paragraph:At,variant:Tt,variantMapping:Ft}),Gt=mt||(At?"p":Ft[Tt]||defaultVariantMapping[Tt])||"span",Pt=useUtilityClasses$z(Lt);return jsx(TypographyRoot,_extends({as:Gt,ref:rt,ownerState:Lt,className:clsx(Pt.root,ot)},Mt))}),Typography$1=Typography;function getAppBarUtilityClass(et){return generateUtilityClass("MuiAppBar",et)}generateUtilityClasses("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const _excluded$J=["className","color","enableColorOnDark","position"],useUtilityClasses$y=et=>{const{color:tt,position:rt,classes:nt}=et,at={root:["root",`color${capitalize(tt)}`,`position${capitalize(rt)}`]};return composeClasses(at,getAppBarUtilityClass,nt)},joinVars=(et,tt)=>et?`${et==null?void 0:et.replace(")","")}, ${tt})`:tt,AppBarRoot=styled$2(Paper$1,{name:"MuiAppBar",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,tt[`position${capitalize(rt.position)}`],tt[`color${capitalize(rt.color)}`]]}})(({theme:et,ownerState:tt})=>{const rt=et.palette.mode==="light"?et.palette.grey[100]:et.palette.grey[900];return _extends({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},tt.position==="fixed"&&{position:"fixed",zIndex:(et.vars||et).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},tt.position==="absolute"&&{position:"absolute",zIndex:(et.vars||et).zIndex.appBar,top:0,left:"auto",right:0},tt.position==="sticky"&&{position:"sticky",zIndex:(et.vars||et).zIndex.appBar,top:0,left:"auto",right:0},tt.position==="static"&&{position:"static"},tt.position==="relative"&&{position:"relative"},!et.vars&&_extends({},tt.color==="default"&&{backgroundColor:rt,color:et.palette.getContrastText(rt)},tt.color&&tt.color!=="default"&&tt.color!=="inherit"&&tt.color!=="transparent"&&{backgroundColor:et.palette[tt.color].main,color:et.palette[tt.color].contrastText},tt.color==="inherit"&&{color:"inherit"},et.palette.mode==="dark"&&!tt.enableColorOnDark&&{backgroundColor:null,color:null},tt.color==="transparent"&&_extends({backgroundColor:"transparent",color:"inherit"},et.palette.mode==="dark"&&{backgroundImage:"none"})),et.vars&&_extends({},tt.color==="default"&&{"--AppBar-background":tt.enableColorOnDark?et.vars.palette.AppBar.defaultBg:joinVars(et.vars.palette.AppBar.darkBg,et.vars.palette.AppBar.defaultBg),"--AppBar-color":tt.enableColorOnDark?et.vars.palette.text.primary:joinVars(et.vars.palette.AppBar.darkColor,et.vars.palette.text.primary)},tt.color&&!tt.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":tt.enableColorOnDark?et.vars.palette[tt.color].main:joinVars(et.vars.palette.AppBar.darkBg,et.vars.palette[tt.color].main),"--AppBar-color":tt.enableColorOnDark?et.vars.palette[tt.color].contrastText:joinVars(et.vars.palette.AppBar.darkColor,et.vars.palette[tt.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:tt.color==="inherit"?"inherit":"var(--AppBar-color)"},tt.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),AppBar=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiAppBar"}),{className:at,color:lt="primary",enableColorOnDark:dt=!1,position:ot="fixed"}=nt,mt=_objectWithoutPropertiesLoose$1(nt,_excluded$J),xt=_extends({},nt,{color:lt,position:ot,enableColorOnDark:dt}),Et=useUtilityClasses$y(xt);return jsx(AppBarRoot,_extends({square:!0,component:"header",ownerState:xt,elevation:4,className:clsx(Et.root,at,ot==="fixed"&&"mui-fixed"),ref:rt},mt))}),AppBar$1=AppBar,CancelIcon=createSvgIcon(jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function getChipUtilityClass(et){return generateUtilityClass("MuiChip",et)}const chipClasses=generateUtilityClasses("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),chipClasses$1=chipClasses,_excluded$I=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],useUtilityClasses$x=et=>{const{classes:tt,disabled:rt,size:nt,color:at,iconColor:lt,onDelete:dt,clickable:ot,variant:mt}=et,xt={root:["root",mt,rt&&"disabled",`size${capitalize(nt)}`,`color${capitalize(at)}`,ot&&"clickable",ot&&`clickableColor${capitalize(at)}`,dt&&"deletable",dt&&`deletableColor${capitalize(at)}`,`${mt}${capitalize(at)}`],label:["label",`label${capitalize(nt)}`],avatar:["avatar",`avatar${capitalize(nt)}`,`avatarColor${capitalize(at)}`],icon:["icon",`icon${capitalize(nt)}`,`iconColor${capitalize(lt)}`],deleteIcon:["deleteIcon",`deleteIcon${capitalize(nt)}`,`deleteIconColor${capitalize(at)}`,`deleteIcon${capitalize(mt)}Color${capitalize(at)}`]};return composeClasses(xt,getChipUtilityClass,tt)},ChipRoot=styled$2("div",{name:"MuiChip",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et,{color:nt,iconColor:at,clickable:lt,onDelete:dt,size:ot,variant:mt}=rt;return[{[`& .${chipClasses$1.avatar}`]:tt.avatar},{[`& .${chipClasses$1.avatar}`]:tt[`avatar${capitalize(ot)}`]},{[`& .${chipClasses$1.avatar}`]:tt[`avatarColor${capitalize(nt)}`]},{[`& .${chipClasses$1.icon}`]:tt.icon},{[`& .${chipClasses$1.icon}`]:tt[`icon${capitalize(ot)}`]},{[`& .${chipClasses$1.icon}`]:tt[`iconColor${capitalize(at)}`]},{[`& .${chipClasses$1.deleteIcon}`]:tt.deleteIcon},{[`& .${chipClasses$1.deleteIcon}`]:tt[`deleteIcon${capitalize(ot)}`]},{[`& .${chipClasses$1.deleteIcon}`]:tt[`deleteIconColor${capitalize(nt)}`]},{[`& .${chipClasses$1.deleteIcon}`]:tt[`deleteIcon${capitalize(mt)}Color${capitalize(nt)}`]},tt.root,tt[`size${capitalize(ot)}`],tt[`color${capitalize(nt)}`],lt&&tt.clickable,lt&&nt!=="default"&&tt[`clickableColor${capitalize(nt)})`],dt&&tt.deletable,dt&&nt!=="default"&&tt[`deletableColor${capitalize(nt)}`],tt[mt],tt[`${mt}${capitalize(nt)}`]]}})(({theme:et,ownerState:tt})=>{const rt=et.palette.mode==="light"?et.palette.grey[700]:et.palette.grey[300];return _extends({maxWidth:"100%",fontFamily:et.typography.fontFamily,fontSize:et.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(et.vars||et).palette.text.primary,backgroundColor:(et.vars||et).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:et.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${chipClasses$1.disabled}`]:{opacity:(et.vars||et).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${chipClasses$1.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:et.vars?et.vars.palette.Chip.defaultAvatarColor:rt,fontSize:et.typography.pxToRem(12)},[`& .${chipClasses$1.avatarColorPrimary}`]:{color:(et.vars||et).palette.primary.contrastText,backgroundColor:(et.vars||et).palette.primary.dark},[`& .${chipClasses$1.avatarColorSecondary}`]:{color:(et.vars||et).palette.secondary.contrastText,backgroundColor:(et.vars||et).palette.secondary.dark},[`& .${chipClasses$1.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:et.typography.pxToRem(10)},[`& .${chipClasses$1.icon}`]:_extends({marginLeft:5,marginRight:-6},tt.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},tt.iconColor===tt.color&&_extends({color:et.vars?et.vars.palette.Chip.defaultIconColor:rt},tt.color!=="default"&&{color:"inherit"})),[`& .${chipClasses$1.deleteIcon}`]:_extends({WebkitTapHighlightColor:"transparent",color:et.vars?`rgba(${et.vars.palette.text.primaryChannel} / 0.26)`:alpha(et.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:et.vars?`rgba(${et.vars.palette.text.primaryChannel} / 0.4)`:alpha(et.palette.text.primary,.4)}},tt.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},tt.color!=="default"&&{color:et.vars?`rgba(${et.vars.palette[tt.color].contrastTextChannel} / 0.7)`:alpha(et.palette[tt.color].contrastText,.7),"&:hover, &:active":{color:(et.vars||et).palette[tt.color].contrastText}})},tt.size==="small"&&{height:24},tt.color!=="default"&&{backgroundColor:(et.vars||et).palette[tt.color].main,color:(et.vars||et).palette[tt.color].contrastText},tt.onDelete&&{[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:et.vars?`rgba(${et.vars.palette.action.selectedChannel} / calc(${et.vars.palette.action.selectedOpacity} + ${et.vars.palette.action.focusOpacity}))`:alpha(et.palette.action.selected,et.palette.action.selectedOpacity+et.palette.action.focusOpacity)}},tt.onDelete&&tt.color!=="default"&&{[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:(et.vars||et).palette[tt.color].dark}})},({theme:et,ownerState:tt})=>_extends({},tt.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:et.vars?`rgba(${et.vars.palette.action.selectedChannel} / calc(${et.vars.palette.action.selectedOpacity} + ${et.vars.palette.action.hoverOpacity}))`:alpha(et.palette.action.selected,et.palette.action.selectedOpacity+et.palette.action.hoverOpacity)},[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:et.vars?`rgba(${et.vars.palette.action.selectedChannel} / calc(${et.vars.palette.action.selectedOpacity} + ${et.vars.palette.action.focusOpacity}))`:alpha(et.palette.action.selected,et.palette.action.selectedOpacity+et.palette.action.focusOpacity)},"&:active":{boxShadow:(et.vars||et).shadows[1]}},tt.clickable&&tt.color!=="default"&&{[`&:hover, &.${chipClasses$1.focusVisible}`]:{backgroundColor:(et.vars||et).palette[tt.color].dark}}),({theme:et,ownerState:tt})=>_extends({},tt.variant==="outlined"&&{backgroundColor:"transparent",border:et.vars?`1px solid ${et.vars.palette.Chip.defaultBorder}`:`1px solid ${et.palette.mode==="light"?et.palette.grey[400]:et.palette.grey[700]}`,[`&.${chipClasses$1.clickable}:hover`]:{backgroundColor:(et.vars||et).palette.action.hover},[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:(et.vars||et).palette.action.focus},[`& .${chipClasses$1.avatar}`]:{marginLeft:4},[`& .${chipClasses$1.avatarSmall}`]:{marginLeft:2},[`& .${chipClasses$1.icon}`]:{marginLeft:4},[`& .${chipClasses$1.iconSmall}`]:{marginLeft:2},[`& .${chipClasses$1.deleteIcon}`]:{marginRight:5},[`& .${chipClasses$1.deleteIconSmall}`]:{marginRight:3}},tt.variant==="outlined"&&tt.color!=="default"&&{color:(et.vars||et).palette[tt.color].main,border:`1px solid ${et.vars?`rgba(${et.vars.palette[tt.color].mainChannel} / 0.7)`:alpha(et.palette[tt.color].main,.7)}`,[`&.${chipClasses$1.clickable}:hover`]:{backgroundColor:et.vars?`rgba(${et.vars.palette[tt.color].mainChannel} / ${et.vars.palette.action.hoverOpacity})`:alpha(et.palette[tt.color].main,et.palette.action.hoverOpacity)},[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:et.vars?`rgba(${et.vars.palette[tt.color].mainChannel} / ${et.vars.palette.action.focusOpacity})`:alpha(et.palette[tt.color].main,et.palette.action.focusOpacity)},[`& .${chipClasses$1.deleteIcon}`]:{color:et.vars?`rgba(${et.vars.palette[tt.color].mainChannel} / 0.7)`:alpha(et.palette[tt.color].main,.7),"&:hover, &:active":{color:(et.vars||et).palette[tt.color].main}}})),ChipLabel=styled$2("span",{name:"MuiChip",slot:"Label",overridesResolver:(et,tt)=>{const{ownerState:rt}=et,{size:nt}=rt;return[tt.label,tt[`label${capitalize(nt)}`]]}})(({ownerState:et})=>_extends({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},et.size==="small"&&{paddingLeft:8,paddingRight:8}));function isDeleteKeyboardEvent(et){return et.key==="Backspace"||et.key==="Delete"}const Chip=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiChip"}),{avatar:at,className:lt,clickable:dt,color:ot="default",component:mt,deleteIcon:xt,disabled:Et=!1,icon:At,label:Tt,onClick:Ft,onDelete:Mt,onKeyDown:Lt,onKeyUp:Gt,size:Pt="medium",variant:$t="filled",tabIndex:It,skipFocusWhenDisabled:Ot=!1}=nt,Vt=_objectWithoutPropertiesLoose$1(nt,_excluded$I),Ut=reactExports.useRef(null),Wt=useForkRef(Ut,rt),nr=Qt=>{Qt.stopPropagation(),Mt&&Mt(Qt)},er=Qt=>{Qt.currentTarget===Qt.target&&isDeleteKeyboardEvent(Qt)&&Qt.preventDefault(),Lt&&Lt(Qt)},Kt=Qt=>{Qt.currentTarget===Qt.target&&(Mt&&isDeleteKeyboardEvent(Qt)?Mt(Qt):Qt.key==="Escape"&&Ut.current&&Ut.current.blur()),Gt&&Gt(Qt)},ur=dt!==!1&&Ft?!0:dt,vr=ur||Mt?ButtonBase$1:mt||"div",Lr=_extends({},nt,{component:vr,disabled:Et,size:Pt,color:ot,iconColor:reactExports.isValidElement(At)&&At.props.color||ot,onDelete:!!Mt,clickable:ur,variant:$t}),Er=useUtilityClasses$x(Lr),Cr=vr===ButtonBase$1?_extends({component:mt||"div",focusVisibleClassName:Er.focusVisible},Mt&&{disableRipple:!0}):{};let hr=null;Mt&&(hr=xt&&reactExports.isValidElement(xt)?reactExports.cloneElement(xt,{className:clsx(xt.props.className,Er.deleteIcon),onClick:nr}):jsx(CancelIcon,{className:clsx(Er.deleteIcon),onClick:nr}));let Tr=null;at&&reactExports.isValidElement(at)&&(Tr=reactExports.cloneElement(at,{className:clsx(Er.avatar,at.props.className)}));let Xt=null;return At&&reactExports.isValidElement(At)&&(Xt=reactExports.cloneElement(At,{className:clsx(Er.icon,At.props.className)})),jsxs(ChipRoot,_extends({as:vr,className:clsx(Er.root,lt),disabled:ur&&Et?!0:void 0,onClick:Ft,onKeyDown:er,onKeyUp:Kt,ref:Wt,tabIndex:Ot&&Et?-1:It,ownerState:Lr},Cr,Vt,{children:[Tr||Xt,jsx(ChipLabel,{className:clsx(Er.label),ownerState:Lr,children:Tt}),hr]}))}),Chip$1=Chip;function formControlState({props:et,states:tt,muiFormControl:rt}){return tt.reduce((nt,at)=>(nt[at]=et[at],rt&&typeof et[at]>"u"&&(nt[at]=rt[at]),nt),{})}const FormControlContext=reactExports.createContext(void 0),FormControlContext$1=FormControlContext;function useFormControl(){return reactExports.useContext(FormControlContext$1)}function GlobalStyles(et){return jsx(GlobalStyles$1,_extends({},et,{defaultTheme:defaultTheme$2,themeId:THEME_ID}))}function hasValue(et){return et!=null&&!(Array.isArray(et)&&et.length===0)}function isFilled(et,tt=!1){return et&&(hasValue(et.value)&&et.value!==""||tt&&hasValue(et.defaultValue)&&et.defaultValue!=="")}function isAdornedStart(et){return et.startAdornment}function getInputBaseUtilityClass(et){return generateUtilityClass("MuiInputBase",et)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),inputBaseClasses$1=inputBaseClasses,_excluded$H=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rootOverridesResolver=(et,tt)=>{const{ownerState:rt}=et;return[tt.root,rt.formControl&&tt.formControl,rt.startAdornment&&tt.adornedStart,rt.endAdornment&&tt.adornedEnd,rt.error&&tt.error,rt.size==="small"&&tt.sizeSmall,rt.multiline&&tt.multiline,rt.color&&tt[`color${capitalize(rt.color)}`],rt.fullWidth&&tt.fullWidth,rt.hiddenLabel&&tt.hiddenLabel]},inputOverridesResolver=(et,tt)=>{const{ownerState:rt}=et;return[tt.input,rt.size==="small"&&tt.inputSizeSmall,rt.multiline&&tt.inputMultiline,rt.type==="search"&&tt.inputTypeSearch,rt.startAdornment&&tt.inputAdornedStart,rt.endAdornment&&tt.inputAdornedEnd,rt.hiddenLabel&&tt.inputHiddenLabel]},useUtilityClasses$w=et=>{const{classes:tt,color:rt,disabled:nt,error:at,endAdornment:lt,focused:dt,formControl:ot,fullWidth:mt,hiddenLabel:xt,multiline:Et,readOnly:At,size:Tt,startAdornment:Ft,type:Mt}=et,Lt={root:["root",`color${capitalize(rt)}`,nt&&"disabled",at&&"error",mt&&"fullWidth",dt&&"focused",ot&&"formControl",Tt==="small"&&"sizeSmall",Et&&"multiline",Ft&&"adornedStart",lt&&"adornedEnd",xt&&"hiddenLabel",At&&"readOnly"],input:["input",nt&&"disabled",Mt==="search"&&"inputTypeSearch",Et&&"inputMultiline",Tt==="small"&&"inputSizeSmall",xt&&"inputHiddenLabel",Ft&&"inputAdornedStart",lt&&"inputAdornedEnd",At&&"readOnly"]};return composeClasses(Lt,getInputBaseUtilityClass,tt)},InputBaseRoot=styled$2("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:et,ownerState:tt})=>_extends({},et.typography.body1,{color:(et.vars||et).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses$1.disabled}`]:{color:(et.vars||et).palette.text.disabled,cursor:"default"}},tt.multiline&&_extends({padding:"4px 0 5px"},tt.size==="small"&&{paddingTop:1}),tt.fullWidth&&{width:"100%"})),InputBaseComponent=styled$2("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:et,ownerState:tt})=>{const rt=et.palette.mode==="light",nt=_extends({color:"currentColor"},et.vars?{opacity:et.vars.opacity.inputPlaceholder}:{opacity:rt?.42:.5},{transition:et.transitions.create("opacity",{duration:et.transitions.duration.shorter})}),at={opacity:"0 !important"},lt=et.vars?{opacity:et.vars.opacity.inputPlaceholder}:{opacity:rt?.42:.5};return _extends({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":nt,"&::-moz-placeholder":nt,"&:-ms-input-placeholder":nt,"&::-ms-input-placeholder":nt,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses$1.formControl} &`]:{"&::-webkit-input-placeholder":at,"&::-moz-placeholder":at,"&:-ms-input-placeholder":at,"&::-ms-input-placeholder":at,"&:focus::-webkit-input-placeholder":lt,"&:focus::-moz-placeholder":lt,"&:focus:-ms-input-placeholder":lt,"&:focus::-ms-input-placeholder":lt},[`&.${inputBaseClasses$1.disabled}`]:{opacity:1,WebkitTextFillColor:(et.vars||et).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},tt.size==="small"&&{paddingTop:1},tt.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},tt.type==="search"&&{MozAppearance:"textfield"})}),inputGlobalStyles=jsx(GlobalStyles,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=reactExports.forwardRef(function(tt,rt){var nt;const at=useThemeProps({props:tt,name:"MuiInputBase"}),{"aria-describedby":lt,autoComplete:dt,autoFocus:ot,className:mt,components:xt={},componentsProps:Et={},defaultValue:At,disabled:Tt,disableInjectingGlobalStyles:Ft,endAdornment:Mt,fullWidth:Lt=!1,id:Gt,inputComponent:Pt="input",inputProps:$t={},inputRef:It,maxRows:Ot,minRows:Vt,multiline:Ut=!1,name:Wt,onBlur:nr,onChange:er,onClick:Kt,onFocus:ur,onKeyDown:vr,onKeyUp:Lr,placeholder:Er,readOnly:Cr,renderSuffix:hr,rows:Tr,slotProps:Xt={},slots:Qt={},startAdornment:lr,type:cr="text",value:sr}=at,dr=_objectWithoutPropertiesLoose$1(at,_excluded$H),Rr=$t.value!=null?$t.value:sr,{current:jr}=reactExports.useRef(Rr!=null),Sr=reactExports.useRef(),dn=reactExports.useCallback(to=>{},[]),Qr=useForkRef(Sr,It,$t.ref,dn),[gn,ln]=reactExports.useState(!1),Kr=useFormControl(),cn=formControlState({props:at,muiFormControl:Kr,states:["color","disabled","error","hiddenLabel","size","required","filled"]});cn.focused=Kr?Kr.focused:gn,reactExports.useEffect(()=>{!Kr&&Tt&&gn&&(ln(!1),nr&&nr())},[Kr,Tt,gn,nr]);const En=Kr&&Kr.onFilled,yn=Kr&&Kr.onEmpty,Rn=reactExports.useCallback(to=>{isFilled(to)?En&&En():yn&&yn()},[En,yn]);useEnhancedEffect$1(()=>{jr&&Rn({value:Rr})},[Rr,Rn,jr]);const Zn=to=>{if(cn.disabled){to.stopPropagation();return}ur&&ur(to),$t.onFocus&&$t.onFocus(to),Kr&&Kr.onFocus?Kr.onFocus(to):ln(!0)},jn=to=>{nr&&nr(to),$t.onBlur&&$t.onBlur(to),Kr&&Kr.onBlur?Kr.onBlur(to):ln(!1)},so=(to,...Yn)=>{if(!jr){const Hr=to.target||Sr.current;if(Hr==null)throw new Error(formatMuiErrorMessage(1));Rn({value:Hr.value})}$t.onChange&&$t.onChange(to,...Yn),er&&er(to,...Yn)};reactExports.useEffect(()=>{Rn(Sr.current)},[]);const Eo=to=>{Sr.current&&to.currentTarget===to.target&&Sr.current.focus(),Kt&&!cn.disabled&&Kt(to)};let _i=Pt,po=$t;Ut&&_i==="input"&&(Tr?po=_extends({type:void 0,minRows:Tr,maxRows:Tr},po):po=_extends({type:void 0,maxRows:Ot,minRows:Vt},po),_i=TextareaAutosize$1);const Mo=to=>{Rn(to.animationName==="mui-auto-fill-cancel"?Sr.current:{value:"x"})};reactExports.useEffect(()=>{Kr&&Kr.setAdornedStart(!!lr)},[Kr,lr]);const yo=_extends({},at,{color:cn.color||"primary",disabled:cn.disabled,endAdornment:Mt,error:cn.error,focused:cn.focused,formControl:Kr,fullWidth:Lt,hiddenLabel:cn.hiddenLabel,multiline:Ut,size:cn.size,startAdornment:lr,type:cr}),mn=useUtilityClasses$w(yo),Bn=Qt.root||xt.Root||InputBaseRoot,no=Xt.root||Et.root||{},eo=Qt.input||xt.Input||InputBaseComponent;return po=_extends({},po,(nt=Xt.input)!=null?nt:Et.input),jsxs(reactExports.Fragment,{children:[!Ft&&inputGlobalStyles,jsxs(Bn,_extends({},no,!isHostComponent(Bn)&&{ownerState:_extends({},yo,no.ownerState)},{ref:rt,onClick:Eo},dr,{className:clsx(mn.root,no.className,mt,Cr&&"MuiInputBase-readOnly"),children:[lr,jsx(FormControlContext$1.Provider,{value:null,children:jsx(eo,_extends({ownerState:yo,"aria-invalid":cn.error,"aria-describedby":lt,autoComplete:dt,autoFocus:ot,defaultValue:At,disabled:cn.disabled,id:Gt,onAnimationStart:Mo,name:Wt,placeholder:Er,readOnly:Cr,required:cn.required,rows:Tr,value:Rr,onKeyDown:vr,onKeyUp:Lr,type:cr},po,!isHostComponent(eo)&&{as:_i,ownerState:_extends({},yo,po.ownerState)},{ref:Qr,className:clsx(mn.input,po.className,Cr&&"MuiInputBase-readOnly"),onBlur:jn,onChange:so,onFocus:Zn}))}),Mt,hr?hr(_extends({},cn,{startAdornment:lr})):null]}))]})}),InputBase$1=InputBase;function getInputUtilityClass(et){return generateUtilityClass("MuiInput",et)}const inputClasses=_extends({},inputBaseClasses$1,generateUtilityClasses("MuiInput",["root","underline","input"])),inputClasses$1=inputClasses;function getOutlinedInputUtilityClass(et){return generateUtilityClass("MuiOutlinedInput",et)}const outlinedInputClasses=_extends({},inputBaseClasses$1,generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"])),outlinedInputClasses$1=outlinedInputClasses;function getFilledInputUtilityClass(et){return generateUtilityClass("MuiFilledInput",et)}const filledInputClasses=_extends({},inputBaseClasses$1,generateUtilityClasses("MuiFilledInput",["root","underline","input"])),filledInputClasses$1=filledInputClasses,ArrowDropDownIcon=createSvgIcon(jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Person=createSvgIcon(jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function getAvatarUtilityClass(et){return generateUtilityClass("MuiAvatar",et)}generateUtilityClasses("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const _excluded$G=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],useUtilityClasses$v=et=>{const{classes:tt,variant:rt,colorDefault:nt}=et;return composeClasses({root:["root",rt,nt&&"colorDefault"],img:["img"],fallback:["fallback"]},getAvatarUtilityClass,tt)},AvatarRoot=styled$2("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,tt[rt.variant],rt.colorDefault&&tt.colorDefault]}})(({theme:et,ownerState:tt})=>_extends({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:et.typography.fontFamily,fontSize:et.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},tt.variant==="rounded"&&{borderRadius:(et.vars||et).shape.borderRadius},tt.variant==="square"&&{borderRadius:0},tt.colorDefault&&_extends({color:(et.vars||et).palette.background.default},et.vars?{backgroundColor:et.vars.palette.Avatar.defaultBg}:{backgroundColor:et.palette.mode==="light"?et.palette.grey[400]:et.palette.grey[600]}))),AvatarImg=styled$2("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(et,tt)=>tt.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),AvatarFallback=styled$2(Person,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(et,tt)=>tt.fallback})({width:"75%",height:"75%"});function useLoaded({crossOrigin:et,referrerPolicy:tt,src:rt,srcSet:nt}){const[at,lt]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(!rt&&!nt)return;lt(!1);let dt=!0;const ot=new Image;return ot.onload=()=>{dt&&lt("loaded")},ot.onerror=()=>{dt&&lt("error")},ot.crossOrigin=et,ot.referrerPolicy=tt,ot.src=rt,nt&&(ot.srcset=nt),()=>{dt=!1}},[et,tt,rt,nt]),at}const Avatar$1=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiAvatar"}),{alt:at,children:lt,className:dt,component:ot="div",imgProps:mt,sizes:xt,src:Et,srcSet:At,variant:Tt="circular"}=nt,Ft=_objectWithoutPropertiesLoose$1(nt,_excluded$G);let Mt=null;const Lt=useLoaded(_extends({},mt,{src:Et,srcSet:At})),Gt=Et||At,Pt=Gt&&Lt!=="error",$t=_extends({},nt,{colorDefault:!Pt,component:ot,variant:Tt}),It=useUtilityClasses$v($t);return Pt?Mt=jsx(AvatarImg,_extends({alt:at,src:Et,srcSet:At,sizes:xt,ownerState:$t,className:It.img},mt)):lt!=null?Mt=lt:Gt&&at?Mt=at[0]:Mt=jsx(AvatarFallback,{ownerState:$t,className:It.fallback}),jsx(AvatarRoot,_extends({as:ot,ownerState:$t,className:clsx(It.root,dt),ref:rt},Ft,{children:Mt}))}),Avatar$2=Avatar$1,_excluded$F=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$3={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function(tt,rt){const nt=useTheme(),at={enter:nt.transitions.duration.enteringScreen,exit:nt.transitions.duration.leavingScreen},{addEndListener:lt,appear:dt=!0,children:ot,easing:mt,in:xt,onEnter:Et,onEntered:At,onEntering:Tt,onExit:Ft,onExited:Mt,onExiting:Lt,style:Gt,timeout:Pt=at,TransitionComponent:$t=Transition$1}=tt,It=_objectWithoutPropertiesLoose$1(tt,_excluded$F),Ot=reactExports.useRef(null),Vt=useForkRef(Ot,ot.ref,rt),Ut=Er=>Cr=>{if(Er){const hr=Ot.current;Cr===void 0?Er(hr):Er(hr,Cr)}},Wt=Ut(Tt),nr=Ut((Er,Cr)=>{reflow(Er);const hr=getTransitionProps({style:Gt,timeout:Pt,easing:mt},{mode:"enter"});Er.style.webkitTransition=nt.transitions.create("opacity",hr),Er.style.transition=nt.transitions.create("opacity",hr),Et&&Et(Er,Cr)}),er=Ut(At),Kt=Ut(Lt),ur=Ut(Er=>{const Cr=getTransitionProps({style:Gt,timeout:Pt,easing:mt},{mode:"exit"});Er.style.webkitTransition=nt.transitions.create("opacity",Cr),Er.style.transition=nt.transitions.create("opacity",Cr),Ft&&Ft(Er)}),vr=Ut(Mt);return jsx($t,_extends({appear:dt,in:xt,nodeRef:Ot,onEnter:nr,onEntered:er,onEntering:Wt,onExit:ur,onExited:vr,onExiting:Kt,addEndListener:Er=>{lt&&lt(Ot.current,Er)},timeout:Pt},It,{children:(Er,Cr)=>reactExports.cloneElement(ot,_extends({style:_extends({opacity:0,visibility:Er==="exited"&&!xt?"hidden":void 0},styles$3[Er],Gt,ot.props.style),ref:Vt},Cr))}))}),Fade$1=Fade;function getBackdropUtilityClass(et){return generateUtilityClass("MuiBackdrop",et)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const _excluded$E=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],useUtilityClasses$u=et=>{const{classes:tt,invisible:rt}=et;return composeClasses({root:["root",rt&&"invisible"]},getBackdropUtilityClass,tt)},BackdropRoot=styled$2("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,rt.invisible&&tt.invisible]}})(({ownerState:et})=>_extends({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},et.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function(tt,rt){var nt,at,lt;const dt=useThemeProps({props:tt,name:"MuiBackdrop"}),{children:ot,className:mt,component:xt="div",components:Et={},componentsProps:At={},invisible:Tt=!1,open:Ft,slotProps:Mt={},slots:Lt={},TransitionComponent:Gt=Fade$1,transitionDuration:Pt}=dt,$t=_objectWithoutPropertiesLoose$1(dt,_excluded$E),It=_extends({},dt,{component:xt,invisible:Tt}),Ot=useUtilityClasses$u(It),Vt=(nt=Mt.root)!=null?nt:At.root;return jsx(Gt,_extends({in:Ft,timeout:Pt},$t,{children:jsx(BackdropRoot,_extends({"aria-hidden":!0},Vt,{as:(at=(lt=Lt.root)!=null?lt:Et.Root)!=null?at:xt,className:clsx(Ot.root,mt,Vt==null?void 0:Vt.className),ownerState:_extends({},It,Vt==null?void 0:Vt.ownerState),classes:Ot,ref:rt,children:ot}))}))}),Backdrop$1=Backdrop;function getBadgeUtilityClass(et){return generateUtilityClass("MuiBadge",et)}const badgeClasses=generateUtilityClasses("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),badgeClasses$1=badgeClasses,_excluded$D=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],RADIUS_STANDARD=10,RADIUS_DOT=4,useUtilityClasses$t=et=>{const{color:tt,anchorOrigin:rt,invisible:nt,overlap:at,variant:lt,classes:dt={}}=et,ot={root:["root"],badge:["badge",lt,nt&&"invisible",`anchorOrigin${capitalize(rt.vertical)}${capitalize(rt.horizontal)}`,`anchorOrigin${capitalize(rt.vertical)}${capitalize(rt.horizontal)}${capitalize(at)}`,`overlap${capitalize(at)}`,tt!=="default"&&`color${capitalize(tt)}`]};return composeClasses(ot,getBadgeUtilityClass,dt)},BadgeRoot=styled$2("span",{name:"MuiBadge",slot:"Root",overridesResolver:(et,tt)=>tt.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),BadgeBadge=styled$2("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.badge,tt[rt.variant],tt[`anchorOrigin${capitalize(rt.anchorOrigin.vertical)}${capitalize(rt.anchorOrigin.horizontal)}${capitalize(rt.overlap)}`],rt.color!=="default"&&tt[`color${capitalize(rt.color)}`],rt.invisible&&tt.invisible]}})(({theme:et,ownerState:tt})=>_extends({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:et.typography.fontFamily,fontWeight:et.typography.fontWeightMedium,fontSize:et.typography.pxToRem(12),minWidth:RADIUS_STANDARD*2,lineHeight:1,padding:"0 6px",height:RADIUS_STANDARD*2,borderRadius:RADIUS_STANDARD,zIndex:1,transition:et.transitions.create("transform",{easing:et.transitions.easing.easeInOut,duration:et.transitions.duration.enteringScreen})},tt.color!=="default"&&{backgroundColor:(et.vars||et).palette[tt.color].main,color:(et.vars||et).palette[tt.color].contrastText},tt.variant==="dot"&&{borderRadius:RADIUS_DOT,height:RADIUS_DOT*2,minWidth:RADIUS_DOT*2,padding:0},tt.anchorOrigin.vertical==="top"&&tt.anchorOrigin.horizontal==="right"&&tt.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${badgeClasses$1.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},tt.anchorOrigin.vertical==="bottom"&&tt.anchorOrigin.horizontal==="right"&&tt.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${badgeClasses$1.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},tt.anchorOrigin.vertical==="top"&&tt.anchorOrigin.horizontal==="left"&&tt.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${badgeClasses$1.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},tt.anchorOrigin.vertical==="bottom"&&tt.anchorOrigin.horizontal==="left"&&tt.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${badgeClasses$1.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},tt.anchorOrigin.vertical==="top"&&tt.anchorOrigin.horizontal==="right"&&tt.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${badgeClasses$1.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},tt.anchorOrigin.vertical==="bottom"&&tt.anchorOrigin.horizontal==="right"&&tt.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${badgeClasses$1.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},tt.anchorOrigin.vertical==="top"&&tt.anchorOrigin.horizontal==="left"&&tt.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${badgeClasses$1.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},tt.anchorOrigin.vertical==="bottom"&&tt.anchorOrigin.horizontal==="left"&&tt.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${badgeClasses$1.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},tt.invisible&&{transition:et.transitions.create("transform",{easing:et.transitions.easing.easeInOut,duration:et.transitions.duration.leavingScreen})})),Badge=reactExports.forwardRef(function(tt,rt){var nt,at,lt,dt,ot,mt;const xt=useThemeProps({props:tt,name:"MuiBadge"}),{anchorOrigin:Et={vertical:"top",horizontal:"right"},className:At,component:Tt,components:Ft={},componentsProps:Mt={},children:Lt,overlap:Gt="rectangular",color:Pt="default",invisible:$t=!1,max:It=99,badgeContent:Ot,slots:Vt,slotProps:Ut,showZero:Wt=!1,variant:nr="standard"}=xt,er=_objectWithoutPropertiesLoose$1(xt,_excluded$D),{badgeContent:Kt,invisible:ur,max:vr,displayValue:Lr}=useBadge({max:It,invisible:$t,badgeContent:Ot,showZero:Wt}),Er=usePreviousProps$1({anchorOrigin:Et,color:Pt,overlap:Gt,variant:nr,badgeContent:Ot}),Cr=ur||Kt==null&&nr!=="dot",{color:hr=Pt,overlap:Tr=Gt,anchorOrigin:Xt=Et,variant:Qt=nr}=Cr?Er:xt,lr=Qt!=="dot"?Lr:void 0,cr=_extends({},xt,{badgeContent:Kt,invisible:Cr,max:vr,displayValue:lr,showZero:Wt,anchorOrigin:Xt,color:hr,overlap:Tr,variant:Qt}),sr=useUtilityClasses$t(cr),dr=(nt=(at=Vt==null?void 0:Vt.root)!=null?at:Ft.Root)!=null?nt:BadgeRoot,Rr=(lt=(dt=Vt==null?void 0:Vt.badge)!=null?dt:Ft.Badge)!=null?lt:BadgeBadge,jr=(ot=Ut==null?void 0:Ut.root)!=null?ot:Mt.root,Sr=(mt=Ut==null?void 0:Ut.badge)!=null?mt:Mt.badge,dn=useSlotProps({elementType:dr,externalSlotProps:jr,externalForwardedProps:er,additionalProps:{ref:rt,as:Tt},ownerState:cr,className:clsx(jr==null?void 0:jr.className,sr.root,At)}),Qr=useSlotProps({elementType:Rr,externalSlotProps:Sr,ownerState:cr,className:clsx(sr.badge,Sr==null?void 0:Sr.className)});return jsxs(dr,_extends({},dn,{children:[Lt,jsx(Rr,_extends({},Qr,{children:lr}))]}))}),Badge$1=Badge,defaultTheme=createTheme(),Box=createBox({themeId:THEME_ID,defaultTheme,defaultClassName:"MuiBox-root",generateClassName:ClassNameGenerator$1.generate}),Box$1=Box;function getButtonUtilityClass(et){return generateUtilityClass("MuiButton",et)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),buttonClasses$1=buttonClasses,ButtonGroupContext=reactExports.createContext({}),ButtonGroupContext$1=ButtonGroupContext,_excluded$C=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$s=et=>{const{color:tt,disableElevation:rt,fullWidth:nt,size:at,variant:lt,classes:dt}=et,ot={root:["root",lt,`${lt}${capitalize(tt)}`,`size${capitalize(at)}`,`${lt}Size${capitalize(at)}`,tt==="inherit"&&"colorInherit",rt&&"disableElevation",nt&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${capitalize(at)}`],endIcon:["endIcon",`iconSize${capitalize(at)}`]},mt=composeClasses(ot,getButtonUtilityClass,dt);return _extends({},dt,mt)},commonIconStyles=et=>_extends({},et.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},et.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},et.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled$2(ButtonBase$1,{shouldForwardProp:et=>rootShouldForwardProp(et)||et==="classes",name:"MuiButton",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,tt[rt.variant],tt[`${rt.variant}${capitalize(rt.color)}`],tt[`size${capitalize(rt.size)}`],tt[`${rt.variant}Size${capitalize(rt.size)}`],rt.color==="inherit"&&tt.colorInherit,rt.disableElevation&&tt.disableElevation,rt.fullWidth&&tt.fullWidth]}})(({theme:et,ownerState:tt})=>{var rt,nt;const at=et.palette.mode==="light"?et.palette.grey[300]:et.palette.grey[800],lt=et.palette.mode==="light"?et.palette.grey.A100:et.palette.grey[700];return _extends({},et.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(et.vars||et).shape.borderRadius,transition:et.transitions.create(["background-color","box-shadow","border-color","color"],{duration:et.transitions.duration.short}),"&:hover":_extends({textDecoration:"none",backgroundColor:et.vars?`rgba(${et.vars.palette.text.primaryChannel} / ${et.vars.palette.action.hoverOpacity})`:alpha(et.palette.text.primary,et.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},tt.variant==="text"&&tt.color!=="inherit"&&{backgroundColor:et.vars?`rgba(${et.vars.palette[tt.color].mainChannel} / ${et.vars.palette.action.hoverOpacity})`:alpha(et.palette[tt.color].main,et.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},tt.variant==="outlined"&&tt.color!=="inherit"&&{border:`1px solid ${(et.vars||et).palette[tt.color].main}`,backgroundColor:et.vars?`rgba(${et.vars.palette[tt.color].mainChannel} / ${et.vars.palette.action.hoverOpacity})`:alpha(et.palette[tt.color].main,et.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},tt.variant==="contained"&&{backgroundColor:et.vars?et.vars.palette.Button.inheritContainedHoverBg:lt,boxShadow:(et.vars||et).shadows[4],"@media (hover: none)":{boxShadow:(et.vars||et).shadows[2],backgroundColor:(et.vars||et).palette.grey[300]}},tt.variant==="contained"&&tt.color!=="inherit"&&{backgroundColor:(et.vars||et).palette[tt.color].dark,"@media (hover: none)":{backgroundColor:(et.vars||et).palette[tt.color].main}}),"&:active":_extends({},tt.variant==="contained"&&{boxShadow:(et.vars||et).shadows[8]}),[`&.${buttonClasses$1.focusVisible}`]:_extends({},tt.variant==="contained"&&{boxShadow:(et.vars||et).shadows[6]}),[`&.${buttonClasses$1.disabled}`]:_extends({color:(et.vars||et).palette.action.disabled},tt.variant==="outlined"&&{border:`1px solid ${(et.vars||et).palette.action.disabledBackground}`},tt.variant==="contained"&&{color:(et.vars||et).palette.action.disabled,boxShadow:(et.vars||et).shadows[0],backgroundColor:(et.vars||et).palette.action.disabledBackground})},tt.variant==="text"&&{padding:"6px 8px"},tt.variant==="text"&&tt.color!=="inherit"&&{color:(et.vars||et).palette[tt.color].main},tt.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},tt.variant==="outlined"&&tt.color!=="inherit"&&{color:(et.vars||et).palette[tt.color].main,border:et.vars?`1px solid rgba(${et.vars.palette[tt.color].mainChannel} / 0.5)`:`1px solid ${alpha(et.palette[tt.color].main,.5)}`},tt.variant==="contained"&&{color:et.vars?et.vars.palette.text.primary:(rt=(nt=et.palette).getContrastText)==null?void 0:rt.call(nt,et.palette.grey[300]),backgroundColor:et.vars?et.vars.palette.Button.inheritContainedBg:at,boxShadow:(et.vars||et).shadows[2]},tt.variant==="contained"&&tt.color!=="inherit"&&{color:(et.vars||et).palette[tt.color].contrastText,backgroundColor:(et.vars||et).palette[tt.color].main},tt.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},tt.size==="small"&&tt.variant==="text"&&{padding:"4px 5px",fontSize:et.typography.pxToRem(13)},tt.size==="large"&&tt.variant==="text"&&{padding:"8px 11px",fontSize:et.typography.pxToRem(15)},tt.size==="small"&&tt.variant==="outlined"&&{padding:"3px 9px",fontSize:et.typography.pxToRem(13)},tt.size==="large"&&tt.variant==="outlined"&&{padding:"7px 21px",fontSize:et.typography.pxToRem(15)},tt.size==="small"&&tt.variant==="contained"&&{padding:"4px 10px",fontSize:et.typography.pxToRem(13)},tt.size==="large"&&tt.variant==="contained"&&{padding:"8px 22px",fontSize:et.typography.pxToRem(15)},tt.fullWidth&&{width:"100%"})},({ownerState:et})=>et.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses$1.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=styled$2("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.startIcon,tt[`iconSize${capitalize(rt.size)}`]]}})(({ownerState:et})=>_extends({display:"inherit",marginRight:8,marginLeft:-4},et.size==="small"&&{marginLeft:-2},commonIconStyles(et))),ButtonEndIcon=styled$2("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.endIcon,tt[`iconSize${capitalize(rt.size)}`]]}})(({ownerState:et})=>_extends({display:"inherit",marginRight:-4,marginLeft:8},et.size==="small"&&{marginRight:-2},commonIconStyles(et))),Button=reactExports.forwardRef(function(tt,rt){const nt=reactExports.useContext(ButtonGroupContext$1),at=resolveProps(nt,tt),lt=useThemeProps({props:at,name:"MuiButton"}),{children:dt,color:ot="primary",component:mt="button",className:xt,disabled:Et=!1,disableElevation:At=!1,disableFocusRipple:Tt=!1,endIcon:Ft,focusVisibleClassName:Mt,fullWidth:Lt=!1,size:Gt="medium",startIcon:Pt,type:$t,variant:It="text"}=lt,Ot=_objectWithoutPropertiesLoose$1(lt,_excluded$C),Vt=_extends({},lt,{color:ot,component:mt,disabled:Et,disableElevation:At,disableFocusRipple:Tt,fullWidth:Lt,size:Gt,type:$t,variant:It}),Ut=useUtilityClasses$s(Vt),Wt=Pt&&jsx(ButtonStartIcon,{className:Ut.startIcon,ownerState:Vt,children:Pt}),nr=Ft&&jsx(ButtonEndIcon,{className:Ut.endIcon,ownerState:Vt,children:Ft});return jsxs(ButtonRoot,_extends({ownerState:Vt,className:clsx(nt.className,Ut.root,xt),component:mt,disabled:Et,focusRipple:!Tt,focusVisibleClassName:clsx(Ut.focusVisible,Mt),ref:rt,type:$t},Ot,{classes:Ut,children:[Wt,dt,nr]}))}),Button$1=Button;function getSwitchBaseUtilityClass(et){return generateUtilityClass("PrivateSwitchBase",et)}generateUtilityClasses("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const _excluded$B=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],useUtilityClasses$r=et=>{const{classes:tt,checked:rt,disabled:nt,edge:at}=et,lt={root:["root",rt&&"checked",nt&&"disabled",at&&`edge${capitalize(at)}`],input:["input"]};return composeClasses(lt,getSwitchBaseUtilityClass,tt)},SwitchBaseRoot=styled$2(ButtonBase$1)(({ownerState:et})=>_extends({padding:9,borderRadius:"50%"},et.edge==="start"&&{marginLeft:et.size==="small"?-3:-12},et.edge==="end"&&{marginRight:et.size==="small"?-3:-12})),SwitchBaseInput=styled$2("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),SwitchBase=reactExports.forwardRef(function(tt,rt){const{autoFocus:nt,checked:at,checkedIcon:lt,className:dt,defaultChecked:ot,disabled:mt,disableFocusRipple:xt=!1,edge:Et=!1,icon:At,id:Tt,inputProps:Ft,inputRef:Mt,name:Lt,onBlur:Gt,onChange:Pt,onFocus:$t,readOnly:It,required:Ot=!1,tabIndex:Vt,type:Ut,value:Wt}=tt,nr=_objectWithoutPropertiesLoose$1(tt,_excluded$B),[er,Kt]=useControlled({controlled:at,default:!!ot,name:"SwitchBase",state:"checked"}),ur=useFormControl(),vr=Qt=>{$t&&$t(Qt),ur&&ur.onFocus&&ur.onFocus(Qt)},Lr=Qt=>{Gt&&Gt(Qt),ur&&ur.onBlur&&ur.onBlur(Qt)},Er=Qt=>{if(Qt.nativeEvent.defaultPrevented)return;const lr=Qt.target.checked;Kt(lr),Pt&&Pt(Qt,lr)};let Cr=mt;ur&&typeof Cr>"u"&&(Cr=ur.disabled);const hr=Ut==="checkbox"||Ut==="radio",Tr=_extends({},tt,{checked:er,disabled:Cr,disableFocusRipple:xt,edge:Et}),Xt=useUtilityClasses$r(Tr);return jsxs(SwitchBaseRoot,_extends({component:"span",className:clsx(Xt.root,dt),centerRipple:!0,focusRipple:!xt,disabled:Cr,tabIndex:null,role:void 0,onFocus:vr,onBlur:Lr,ownerState:Tr,ref:rt},nr,{children:[jsx(SwitchBaseInput,_extends({autoFocus:nt,checked:at,defaultChecked:ot,className:Xt.input,disabled:Cr,id:hr?Tt:void 0,name:Lt,onChange:Er,readOnly:It,ref:Mt,required:Ot,ownerState:Tr,tabIndex:Vt,type:Ut},Ut==="checkbox"&&Wt===void 0?{}:{value:Wt},Ft)),er?lt:At]}))}),SwitchBase$1=SwitchBase;function getCircularProgressUtilityClass(et){return generateUtilityClass("MuiCircularProgress",et)}generateUtilityClasses("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const _excluded$A=["className","color","disableShrink","size","style","thickness","value","variant"];let _$3=et=>et,_t$2,_t2$2,_t3$2,_t4$2;const SIZE=44,circularRotateKeyframe=keyframes(_t$2||(_t$2=_$3`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),circularDashKeyframe=keyframes(_t2$2||(_t2$2=_$3`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),useUtilityClasses$q=et=>{const{classes:tt,variant:rt,color:nt,disableShrink:at}=et,lt={root:["root",rt,`color${capitalize(nt)}`],svg:["svg"],circle:["circle",`circle${capitalize(rt)}`,at&&"circleDisableShrink"]};return composeClasses(lt,getCircularProgressUtilityClass,tt)},CircularProgressRoot=styled$2("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,tt[rt.variant],tt[`color${capitalize(rt.color)}`]]}})(({ownerState:et,theme:tt})=>_extends({display:"inline-block"},et.variant==="determinate"&&{transition:tt.transitions.create("transform")},et.color!=="inherit"&&{color:(tt.vars||tt).palette[et.color].main}),({ownerState:et})=>et.variant==="indeterminate"&&css(_t3$2||(_t3$2=_$3`
      animation: ${0} 1.4s linear infinite;
    `),circularRotateKeyframe)),CircularProgressSVG=styled$2("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(et,tt)=>tt.svg})({display:"block"}),CircularProgressCircle=styled$2("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.circle,tt[`circle${capitalize(rt.variant)}`],rt.disableShrink&&tt.circleDisableShrink]}})(({ownerState:et,theme:tt})=>_extends({stroke:"currentColor"},et.variant==="determinate"&&{transition:tt.transitions.create("stroke-dashoffset")},et.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:et})=>et.variant==="indeterminate"&&!et.disableShrink&&css(_t4$2||(_t4$2=_$3`
      animation: ${0} 1.4s ease-in-out infinite;
    `),circularDashKeyframe)),CircularProgress=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiCircularProgress"}),{className:at,color:lt="primary",disableShrink:dt=!1,size:ot=40,style:mt,thickness:xt=3.6,value:Et=0,variant:At="indeterminate"}=nt,Tt=_objectWithoutPropertiesLoose$1(nt,_excluded$A),Ft=_extends({},nt,{color:lt,disableShrink:dt,size:ot,thickness:xt,value:Et,variant:At}),Mt=useUtilityClasses$q(Ft),Lt={},Gt={},Pt={};if(At==="determinate"){const $t=2*Math.PI*((SIZE-xt)/2);Lt.strokeDasharray=$t.toFixed(3),Pt["aria-valuenow"]=Math.round(Et),Lt.strokeDashoffset=`${((100-Et)/100*$t).toFixed(3)}px`,Gt.transform="rotate(-90deg)"}return jsx(CircularProgressRoot,_extends({className:clsx(Mt.root,at),style:_extends({width:ot,height:ot},Gt,mt),ownerState:Ft,ref:rt,role:"progressbar"},Pt,Tt,{children:jsx(CircularProgressSVG,{className:Mt.svg,ownerState:Ft,viewBox:`${SIZE/2} ${SIZE/2} ${SIZE} ${SIZE}`,children:jsx(CircularProgressCircle,{className:Mt.circle,style:Lt,ownerState:Ft,cx:SIZE,cy:SIZE,r:(SIZE-xt)/2,fill:"none",strokeWidth:xt})})}))}),CircularProgress$1=CircularProgress,Container=createContainer({createStyledComponent:styled$2("div",{name:"MuiContainer",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,tt[`maxWidth${capitalize(String(rt.maxWidth))}`],rt.fixed&&tt.fixed,rt.disableGutters&&tt.disableGutters]}}),useThemeProps:et=>useThemeProps({props:et,name:"MuiContainer"})}),Container$1=Container,html=(et,tt)=>_extends({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},tt&&!et.vars&&{colorScheme:et.palette.mode}),body=et=>_extends({color:(et.vars||et).palette.text.primary},et.typography.body1,{backgroundColor:(et.vars||et).palette.background.default,"@media print":{backgroundColor:(et.vars||et).palette.common.white}}),styles$2=(et,tt=!1)=>{var rt,nt;const at={};tt&&et.colorSchemes&&Object.entries(et.colorSchemes).forEach(([ot,mt])=>{var xt;at[et.getColorSchemeSelector(ot).replace(/\s*&/,"")]={colorScheme:(xt=mt.palette)==null?void 0:xt.mode}});let lt=_extends({html:html(et,tt),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:et.typography.fontWeightBold},body:_extends({margin:0},body(et),{"&::backdrop":{backgroundColor:(et.vars||et).palette.background.default}})},at);const dt=(rt=et.components)==null||(nt=rt.MuiCssBaseline)==null?void 0:nt.styleOverrides;return dt&&(lt=[lt,dt]),lt};function CssBaseline(et){const tt=useThemeProps({props:et,name:"MuiCssBaseline"}),{children:rt,enableColorScheme:nt=!1}=tt;return jsxs(reactExports.Fragment,{children:[jsx(GlobalStyles,{styles:at=>styles$2(at,nt)}),rt]})}const _excluded$z=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],ModalRoot=styled$2("div",{name:"MuiModal",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,!rt.open&&rt.exited&&tt.hidden]}})(({theme:et,ownerState:tt})=>_extends({position:"fixed",zIndex:(et.vars||et).zIndex.modal,right:0,bottom:0,top:0,left:0},!tt.open&&tt.exited&&{visibility:"hidden"})),ModalBackdrop=styled$2(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(et,tt)=>tt.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function(tt,rt){var nt,at,lt,dt,ot,mt;const xt=useThemeProps({name:"MuiModal",props:tt}),{BackdropComponent:Et=ModalBackdrop,BackdropProps:At,classes:Tt,className:Ft,closeAfterTransition:Mt=!1,children:Lt,container:Gt,component:Pt,components:$t={},componentsProps:It={},disableAutoFocus:Ot=!1,disableEnforceFocus:Vt=!1,disableEscapeKeyDown:Ut=!1,disablePortal:Wt=!1,disableRestoreFocus:nr=!1,disableScrollLock:er=!1,hideBackdrop:Kt=!1,keepMounted:ur=!1,onBackdropClick:vr,onClose:Lr,open:Er,slotProps:Cr,slots:hr,theme:Tr}=xt,Xt=_objectWithoutPropertiesLoose$1(xt,_excluded$z),[Qt,lr]=reactExports.useState(!0),cr={container:Gt,closeAfterTransition:Mt,disableAutoFocus:Ot,disableEnforceFocus:Vt,disableEscapeKeyDown:Ut,disablePortal:Wt,disableRestoreFocus:nr,disableScrollLock:er,hideBackdrop:Kt,keepMounted:ur,onBackdropClick:vr,onClose:Lr,open:Er},sr=_extends({},xt,cr,{exited:Qt}),dr=(nt=(at=hr==null?void 0:hr.root)!=null?at:$t.Root)!=null?nt:ModalRoot,Rr=(lt=(dt=hr==null?void 0:hr.backdrop)!=null?dt:$t.Backdrop)!=null?lt:Et,jr=(ot=Cr==null?void 0:Cr.root)!=null?ot:It.root,Sr=(mt=Cr==null?void 0:Cr.backdrop)!=null?mt:It.backdrop;return jsx(ModalUnstyled,_extends({slots:{root:dr,backdrop:Rr},slotProps:{root:()=>_extends({},resolveComponentProps(jr,sr),!isHostComponent(dr)&&{as:Pt,theme:Tr},{className:clsx(Ft,jr==null?void 0:jr.className,Tt==null?void 0:Tt.root,!sr.open&&sr.exited&&(Tt==null?void 0:Tt.hidden))}),backdrop:()=>_extends({},At,resolveComponentProps(Sr,sr),{className:clsx(Sr==null?void 0:Sr.className,At==null?void 0:At.className,Tt==null?void 0:Tt.backdrop)})},onTransitionEnter:()=>lr(!1),onTransitionExited:()=>lr(!0),ref:rt},Xt,cr,{children:Lt}))}),Modal$1=Modal;function getDividerUtilityClass(et){return generateUtilityClass("MuiDivider",et)}generateUtilityClasses("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const _excluded$y=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],useUtilityClasses$p=et=>{const{absolute:tt,children:rt,classes:nt,flexItem:at,light:lt,orientation:dt,textAlign:ot,variant:mt}=et;return composeClasses({root:["root",tt&&"absolute",mt,lt&&"light",dt==="vertical"&&"vertical",at&&"flexItem",rt&&"withChildren",rt&&dt==="vertical"&&"withChildrenVertical",ot==="right"&&dt!=="vertical"&&"textAlignRight",ot==="left"&&dt!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",dt==="vertical"&&"wrapperVertical"]},getDividerUtilityClass,nt)},DividerRoot=styled$2("div",{name:"MuiDivider",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,rt.absolute&&tt.absolute,tt[rt.variant],rt.light&&tt.light,rt.orientation==="vertical"&&tt.vertical,rt.flexItem&&tt.flexItem,rt.children&&tt.withChildren,rt.children&&rt.orientation==="vertical"&&tt.withChildrenVertical,rt.textAlign==="right"&&rt.orientation!=="vertical"&&tt.textAlignRight,rt.textAlign==="left"&&rt.orientation!=="vertical"&&tt.textAlignLeft]}})(({theme:et,ownerState:tt})=>_extends({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(et.vars||et).palette.divider,borderBottomWidth:"thin"},tt.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},tt.light&&{borderColor:et.vars?`rgba(${et.vars.palette.dividerChannel} / 0.08)`:alpha(et.palette.divider,.08)},tt.variant==="inset"&&{marginLeft:72},tt.variant==="middle"&&tt.orientation==="horizontal"&&{marginLeft:et.spacing(2),marginRight:et.spacing(2)},tt.variant==="middle"&&tt.orientation==="vertical"&&{marginTop:et.spacing(1),marginBottom:et.spacing(1)},tt.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},tt.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:et})=>_extends({},et.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:et,ownerState:tt})=>_extends({},tt.children&&tt.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(et.vars||et).palette.divider}`}}),({theme:et,ownerState:tt})=>_extends({},tt.children&&tt.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(et.vars||et).palette.divider}`}}),({ownerState:et})=>_extends({},et.textAlign==="right"&&et.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},et.textAlign==="left"&&et.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),DividerWrapper=styled$2("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.wrapper,rt.orientation==="vertical"&&tt.wrapperVertical]}})(({theme:et,ownerState:tt})=>_extends({display:"inline-block",paddingLeft:`calc(${et.spacing(1)} * 1.2)`,paddingRight:`calc(${et.spacing(1)} * 1.2)`},tt.orientation==="vertical"&&{paddingTop:`calc(${et.spacing(1)} * 1.2)`,paddingBottom:`calc(${et.spacing(1)} * 1.2)`})),Divider=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiDivider"}),{absolute:at=!1,children:lt,className:dt,component:ot=lt?"div":"hr",flexItem:mt=!1,light:xt=!1,orientation:Et="horizontal",role:At=ot!=="hr"?"separator":void 0,textAlign:Tt="center",variant:Ft="fullWidth"}=nt,Mt=_objectWithoutPropertiesLoose$1(nt,_excluded$y),Lt=_extends({},nt,{absolute:at,component:ot,flexItem:mt,light:xt,orientation:Et,role:At,textAlign:Tt,variant:Ft}),Gt=useUtilityClasses$p(Lt);return jsx(DividerRoot,_extends({as:ot,className:clsx(Gt.root,dt),role:At,ref:rt,ownerState:Lt},Mt,{children:lt?jsx(DividerWrapper,{className:Gt.wrapper,ownerState:Lt,children:lt}):null}))}),Divider$1=Divider,_excluded$x=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getTranslateValue(et,tt,rt){const nt=tt.getBoundingClientRect(),at=rt&&rt.getBoundingClientRect(),lt=ownerWindow(tt);let dt;if(tt.fakeTransform)dt=tt.fakeTransform;else{const xt=lt.getComputedStyle(tt);dt=xt.getPropertyValue("-webkit-transform")||xt.getPropertyValue("transform")}let ot=0,mt=0;if(dt&&dt!=="none"&&typeof dt=="string"){const xt=dt.split("(")[1].split(")")[0].split(",");ot=parseInt(xt[4],10),mt=parseInt(xt[5],10)}return et==="left"?at?`translateX(${at.right+ot-nt.left}px)`:`translateX(${lt.innerWidth+ot-nt.left}px)`:et==="right"?at?`translateX(-${nt.right-at.left-ot}px)`:`translateX(-${nt.left+nt.width-ot}px)`:et==="up"?at?`translateY(${at.bottom+mt-nt.top}px)`:`translateY(${lt.innerHeight+mt-nt.top}px)`:at?`translateY(-${nt.top-at.top+nt.height-mt}px)`:`translateY(-${nt.top+nt.height-mt}px)`}function resolveContainer(et){return typeof et=="function"?et():et}function setTranslateValue(et,tt,rt){const nt=resolveContainer(rt),at=getTranslateValue(et,tt,nt);at&&(tt.style.webkitTransform=at,tt.style.transform=at)}const Slide=reactExports.forwardRef(function(tt,rt){const nt=useTheme(),at={enter:nt.transitions.easing.easeOut,exit:nt.transitions.easing.sharp},lt={enter:nt.transitions.duration.enteringScreen,exit:nt.transitions.duration.leavingScreen},{addEndListener:dt,appear:ot=!0,children:mt,container:xt,direction:Et="down",easing:At=at,in:Tt,onEnter:Ft,onEntered:Mt,onEntering:Lt,onExit:Gt,onExited:Pt,onExiting:$t,style:It,timeout:Ot=lt,TransitionComponent:Vt=Transition$1}=tt,Ut=_objectWithoutPropertiesLoose$1(tt,_excluded$x),Wt=reactExports.useRef(null),nr=useForkRef(mt.ref,Wt,rt),er=Xt=>Qt=>{Xt&&(Qt===void 0?Xt(Wt.current):Xt(Wt.current,Qt))},Kt=er((Xt,Qt)=>{setTranslateValue(Et,Xt,xt),reflow(Xt),Ft&&Ft(Xt,Qt)}),ur=er((Xt,Qt)=>{const lr=getTransitionProps({timeout:Ot,style:It,easing:At},{mode:"enter"});Xt.style.webkitTransition=nt.transitions.create("-webkit-transform",_extends({},lr)),Xt.style.transition=nt.transitions.create("transform",_extends({},lr)),Xt.style.webkitTransform="none",Xt.style.transform="none",Lt&&Lt(Xt,Qt)}),vr=er(Mt),Lr=er($t),Er=er(Xt=>{const Qt=getTransitionProps({timeout:Ot,style:It,easing:At},{mode:"exit"});Xt.style.webkitTransition=nt.transitions.create("-webkit-transform",Qt),Xt.style.transition=nt.transitions.create("transform",Qt),setTranslateValue(Et,Xt,xt),Gt&&Gt(Xt)}),Cr=er(Xt=>{Xt.style.webkitTransition="",Xt.style.transition="",Pt&&Pt(Xt)}),hr=Xt=>{dt&&dt(Wt.current,Xt)},Tr=reactExports.useCallback(()=>{Wt.current&&setTranslateValue(Et,Wt.current,xt)},[Et,xt]);return reactExports.useEffect(()=>{if(Tt||Et==="down"||Et==="right")return;const Xt=debounce(()=>{Wt.current&&setTranslateValue(Et,Wt.current,xt)}),Qt=ownerWindow(Wt.current);return Qt.addEventListener("resize",Xt),()=>{Xt.clear(),Qt.removeEventListener("resize",Xt)}},[Et,Tt,xt]),reactExports.useEffect(()=>{Tt||Tr()},[Tt,Tr]),jsx(Vt,_extends({nodeRef:Wt,onEnter:Kt,onEntered:vr,onEntering:ur,onExit:Er,onExited:Cr,onExiting:Lr,addEndListener:hr,appear:ot,in:Tt,timeout:Ot},Ut,{children:(Xt,Qt)=>reactExports.cloneElement(mt,_extends({ref:nr,style:_extends({visibility:Xt==="exited"&&!Tt?"hidden":void 0},It,mt.props.style)},Qt))}))}),Slide$1=Slide;function getDrawerUtilityClass(et){return generateUtilityClass("MuiDrawer",et)}generateUtilityClasses("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const _excluded$w=["BackdropProps"],_excluded2$3=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],overridesResolver=(et,tt)=>{const{ownerState:rt}=et;return[tt.root,(rt.variant==="permanent"||rt.variant==="persistent")&&tt.docked,tt.modal]},useUtilityClasses$o=et=>{const{classes:tt,anchor:rt,variant:nt}=et,at={root:["root"],docked:[(nt==="permanent"||nt==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${capitalize(rt)}`,nt!=="temporary"&&`paperAnchorDocked${capitalize(rt)}`]};return composeClasses(at,getDrawerUtilityClass,tt)},DrawerRoot=styled$2(Modal$1,{name:"MuiDrawer",slot:"Root",overridesResolver})(({theme:et})=>({zIndex:(et.vars||et).zIndex.drawer})),DrawerDockedRoot=styled$2("div",{shouldForwardProp:rootShouldForwardProp,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver})({flex:"0 0 auto"}),DrawerPaper=styled$2(Paper$1,{name:"MuiDrawer",slot:"Paper",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.paper,tt[`paperAnchor${capitalize(rt.anchor)}`],rt.variant!=="temporary"&&tt[`paperAnchorDocked${capitalize(rt.anchor)}`]]}})(({theme:et,ownerState:tt})=>_extends({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(et.vars||et).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},tt.anchor==="left"&&{left:0},tt.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},tt.anchor==="right"&&{right:0},tt.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},tt.anchor==="left"&&tt.variant!=="temporary"&&{borderRight:`1px solid ${(et.vars||et).palette.divider}`},tt.anchor==="top"&&tt.variant!=="temporary"&&{borderBottom:`1px solid ${(et.vars||et).palette.divider}`},tt.anchor==="right"&&tt.variant!=="temporary"&&{borderLeft:`1px solid ${(et.vars||et).palette.divider}`},tt.anchor==="bottom"&&tt.variant!=="temporary"&&{borderTop:`1px solid ${(et.vars||et).palette.divider}`})),oppositeDirection={left:"right",right:"left",top:"down",bottom:"up"};function isHorizontal(et){return["left","right"].indexOf(et)!==-1}function getAnchor(et,tt){return et.direction==="rtl"&&isHorizontal(tt)?oppositeDirection[tt]:tt}const Drawer$1=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiDrawer"}),at=useTheme(),lt={enter:at.transitions.duration.enteringScreen,exit:at.transitions.duration.leavingScreen},{anchor:dt="left",BackdropProps:ot,children:mt,className:xt,elevation:Et=16,hideBackdrop:At=!1,ModalProps:{BackdropProps:Tt}={},onClose:Ft,open:Mt=!1,PaperProps:Lt={},SlideProps:Gt,TransitionComponent:Pt=Slide$1,transitionDuration:$t=lt,variant:It="temporary"}=nt,Ot=_objectWithoutPropertiesLoose$1(nt.ModalProps,_excluded$w),Vt=_objectWithoutPropertiesLoose$1(nt,_excluded2$3),Ut=reactExports.useRef(!1);reactExports.useEffect(()=>{Ut.current=!0},[]);const Wt=getAnchor(at,dt),er=_extends({},nt,{anchor:dt,elevation:Et,open:Mt,variant:It},Vt),Kt=useUtilityClasses$o(er),ur=jsx(DrawerPaper,_extends({elevation:It==="temporary"?Et:0,square:!0},Lt,{className:clsx(Kt.paper,Lt.className),ownerState:er,children:mt}));if(It==="permanent")return jsx(DrawerDockedRoot,_extends({className:clsx(Kt.root,Kt.docked,xt),ownerState:er,ref:rt},Vt,{children:ur}));const vr=jsx(Pt,_extends({in:Mt,direction:oppositeDirection[Wt],timeout:$t,appear:Ut.current},Gt,{children:ur}));return It==="persistent"?jsx(DrawerDockedRoot,_extends({className:clsx(Kt.root,Kt.docked,xt),ownerState:er,ref:rt},Vt,{children:vr})):jsx(DrawerRoot,_extends({BackdropProps:_extends({},ot,Tt,{transitionDuration:$t}),className:clsx(Kt.root,Kt.modal,xt),open:Mt,ownerState:er,onClose:Ft,hideBackdrop:At,ref:rt},Vt,Ot,{children:vr}))}),Drawer$2=Drawer$1;function getFabUtilityClass(et){return generateUtilityClass("MuiFab",et)}const fabClasses=generateUtilityClasses("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),fabClasses$1=fabClasses,_excluded$v=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],useUtilityClasses$n=et=>{const{color:tt,variant:rt,classes:nt,size:at}=et,lt={root:["root",rt,`size${capitalize(at)}`,tt==="inherit"?"colorInherit":tt]},dt=composeClasses(lt,getFabUtilityClass,nt);return _extends({},nt,dt)},FabRoot=styled$2(ButtonBase$1,{name:"MuiFab",slot:"Root",shouldForwardProp:et=>rootShouldForwardProp(et)||et==="classes",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,tt[rt.variant],tt[`size${capitalize(rt.size)}`],rt.color==="inherit"&&tt.colorInherit,tt[capitalize(rt.size)],tt[rt.color]]}})(({theme:et,ownerState:tt})=>{var rt,nt;return _extends({},et.typography.button,{minHeight:36,transition:et.transitions.create(["background-color","box-shadow","border-color"],{duration:et.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(et.vars||et).zIndex.fab,boxShadow:(et.vars||et).shadows[6],"&:active":{boxShadow:(et.vars||et).shadows[12]},color:et.vars?et.vars.palette.text.primary:(rt=(nt=et.palette).getContrastText)==null?void 0:rt.call(nt,et.palette.grey[300]),backgroundColor:(et.vars||et).palette.grey[300],"&:hover":{backgroundColor:(et.vars||et).palette.grey.A100,"@media (hover: none)":{backgroundColor:(et.vars||et).palette.grey[300]},textDecoration:"none"},[`&.${fabClasses$1.focusVisible}`]:{boxShadow:(et.vars||et).shadows[6]}},tt.size==="small"&&{width:40,height:40},tt.size==="medium"&&{width:48,height:48},tt.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},tt.variant==="extended"&&tt.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},tt.variant==="extended"&&tt.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},tt.color==="inherit"&&{color:"inherit"})},({theme:et,ownerState:tt})=>_extends({},tt.color!=="inherit"&&tt.color!=="default"&&(et.vars||et).palette[tt.color]!=null&&{color:(et.vars||et).palette[tt.color].contrastText,backgroundColor:(et.vars||et).palette[tt.color].main,"&:hover":{backgroundColor:(et.vars||et).palette[tt.color].dark,"@media (hover: none)":{backgroundColor:(et.vars||et).palette[tt.color].main}}}),({theme:et})=>({[`&.${fabClasses$1.disabled}`]:{color:(et.vars||et).palette.action.disabled,boxShadow:(et.vars||et).shadows[0],backgroundColor:(et.vars||et).palette.action.disabledBackground}})),Fab=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiFab"}),{children:at,className:lt,color:dt="default",component:ot="button",disabled:mt=!1,disableFocusRipple:xt=!1,focusVisibleClassName:Et,size:At="large",variant:Tt="circular"}=nt,Ft=_objectWithoutPropertiesLoose$1(nt,_excluded$v),Mt=_extends({},nt,{color:dt,component:ot,disabled:mt,disableFocusRipple:xt,size:At,variant:Tt}),Lt=useUtilityClasses$n(Mt);return jsx(FabRoot,_extends({className:clsx(Lt.root,lt),component:ot,disabled:mt,focusRipple:!xt,focusVisibleClassName:clsx(Lt.focusVisible,Et),ownerState:Mt,ref:rt},Ft,{classes:Lt,children:at}))}),Fab$1=Fab,_excluded$u=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$m=et=>{const{classes:tt,disableUnderline:rt}=et,at=composeClasses({root:["root",!rt&&"underline"],input:["input"]},getFilledInputUtilityClass,tt);return _extends({},tt,at)},FilledInputRoot=styled$2(InputBaseRoot,{shouldForwardProp:et=>rootShouldForwardProp(et)||et==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[...rootOverridesResolver(et,tt),!rt.disableUnderline&&tt.underline]}})(({theme:et,ownerState:tt})=>{var rt;const nt=et.palette.mode==="light",at=nt?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",lt=nt?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",dt=nt?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",ot=nt?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return _extends({position:"relative",backgroundColor:et.vars?et.vars.palette.FilledInput.bg:lt,borderTopLeftRadius:(et.vars||et).shape.borderRadius,borderTopRightRadius:(et.vars||et).shape.borderRadius,transition:et.transitions.create("background-color",{duration:et.transitions.duration.shorter,easing:et.transitions.easing.easeOut}),"&:hover":{backgroundColor:et.vars?et.vars.palette.FilledInput.hoverBg:dt,"@media (hover: none)":{backgroundColor:et.vars?et.vars.palette.FilledInput.bg:lt}},[`&.${filledInputClasses$1.focused}`]:{backgroundColor:et.vars?et.vars.palette.FilledInput.bg:lt},[`&.${filledInputClasses$1.disabled}`]:{backgroundColor:et.vars?et.vars.palette.FilledInput.disabledBg:ot}},!tt.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(rt=(et.vars||et).palette[tt.color||"primary"])==null?void 0:rt.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:et.transitions.create("transform",{duration:et.transitions.duration.shorter,easing:et.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses$1.error}`]:{"&:before, &:after":{borderBottomColor:(et.vars||et).palette.error.main}},"&:before":{borderBottom:`1px solid ${et.vars?`rgba(${et.vars.palette.common.onBackgroundChannel} / ${et.vars.opacity.inputUnderline})`:at}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:et.transitions.create("border-bottom-color",{duration:et.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses$1.disabled}, .${filledInputClasses$1.error}):before`]:{borderBottom:`1px solid ${(et.vars||et).palette.text.primary}`},[`&.${filledInputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}},tt.startAdornment&&{paddingLeft:12},tt.endAdornment&&{paddingRight:12},tt.multiline&&_extends({padding:"25px 12px 8px"},tt.size==="small"&&{paddingTop:21,paddingBottom:4},tt.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),FilledInputInput=styled$2(InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:et,ownerState:tt})=>_extends({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!et.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:et.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:et.palette.mode==="light"?null:"#fff",caretColor:et.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},et.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[et.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},tt.size==="small"&&{paddingTop:21,paddingBottom:4},tt.hiddenLabel&&{paddingTop:16,paddingBottom:17},tt.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},tt.startAdornment&&{paddingLeft:0},tt.endAdornment&&{paddingRight:0},tt.hiddenLabel&&tt.size==="small"&&{paddingTop:8,paddingBottom:9})),FilledInput=reactExports.forwardRef(function(tt,rt){var nt,at,lt,dt;const ot=useThemeProps({props:tt,name:"MuiFilledInput"}),{components:mt={},componentsProps:xt,fullWidth:Et=!1,inputComponent:At="input",multiline:Tt=!1,slotProps:Ft,slots:Mt={},type:Lt="text"}=ot,Gt=_objectWithoutPropertiesLoose$1(ot,_excluded$u),Pt=_extends({},ot,{fullWidth:Et,inputComponent:At,multiline:Tt,type:Lt}),$t=useUtilityClasses$m(ot),It={root:{ownerState:Pt},input:{ownerState:Pt}},Ot=Ft??xt?deepmerge(Ft??xt,It):It,Vt=(nt=(at=Mt.root)!=null?at:mt.Root)!=null?nt:FilledInputRoot,Ut=(lt=(dt=Mt.input)!=null?dt:mt.Input)!=null?lt:FilledInputInput;return jsx(InputBase$1,_extends({slots:{root:Vt,input:Ut},componentsProps:Ot,fullWidth:Et,inputComponent:At,multiline:Tt,ref:rt,type:Lt},Gt,{classes:$t}))});FilledInput.muiName="Input";const FilledInput$1=FilledInput;function getFormControlUtilityClasses(et){return generateUtilityClass("MuiFormControl",et)}generateUtilityClasses("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _excluded$t=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],useUtilityClasses$l=et=>{const{classes:tt,margin:rt,fullWidth:nt}=et,at={root:["root",rt!=="none"&&`margin${capitalize(rt)}`,nt&&"fullWidth"]};return composeClasses(at,getFormControlUtilityClasses,tt)},FormControlRoot=styled$2("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:et},tt)=>_extends({},tt.root,tt[`margin${capitalize(et.margin)}`],et.fullWidth&&tt.fullWidth)})(({ownerState:et})=>_extends({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},et.margin==="normal"&&{marginTop:16,marginBottom:8},et.margin==="dense"&&{marginTop:8,marginBottom:4},et.fullWidth&&{width:"100%"})),FormControl=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiFormControl"}),{children:at,className:lt,color:dt="primary",component:ot="div",disabled:mt=!1,error:xt=!1,focused:Et,fullWidth:At=!1,hiddenLabel:Tt=!1,margin:Ft="none",required:Mt=!1,size:Lt="medium",variant:Gt="outlined"}=nt,Pt=_objectWithoutPropertiesLoose$1(nt,_excluded$t),$t=_extends({},nt,{color:dt,component:ot,disabled:mt,error:xt,fullWidth:At,hiddenLabel:Tt,margin:Ft,required:Mt,size:Lt,variant:Gt}),It=useUtilityClasses$l($t),[Ot,Vt]=reactExports.useState(()=>{let Lr=!1;return at&&reactExports.Children.forEach(at,Er=>{if(!isMuiElement(Er,["Input","Select"]))return;const Cr=isMuiElement(Er,["Select"])?Er.props.input:Er;Cr&&isAdornedStart(Cr.props)&&(Lr=!0)}),Lr}),[Ut,Wt]=reactExports.useState(()=>{let Lr=!1;return at&&reactExports.Children.forEach(at,Er=>{isMuiElement(Er,["Input","Select"])&&(isFilled(Er.props,!0)||isFilled(Er.props.inputProps,!0))&&(Lr=!0)}),Lr}),[nr,er]=reactExports.useState(!1);mt&&nr&&er(!1);const Kt=Et!==void 0&&!mt?Et:nr;let ur;const vr=reactExports.useMemo(()=>({adornedStart:Ot,setAdornedStart:Vt,color:dt,disabled:mt,error:xt,filled:Ut,focused:Kt,fullWidth:At,hiddenLabel:Tt,size:Lt,onBlur:()=>{er(!1)},onEmpty:()=>{Wt(!1)},onFilled:()=>{Wt(!0)},onFocus:()=>{er(!0)},registerEffect:ur,required:Mt,variant:Gt}),[Ot,dt,mt,xt,Ut,Kt,At,Tt,ur,Mt,Lt,Gt]);return jsx(FormControlContext$1.Provider,{value:vr,children:jsx(FormControlRoot,_extends({as:ot,ownerState:$t,className:clsx(It.root,lt),ref:rt},Pt,{children:at}))})}),FormControl$1=FormControl;function getFormHelperTextUtilityClasses(et){return generateUtilityClass("MuiFormHelperText",et)}const formHelperTextClasses=generateUtilityClasses("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),formHelperTextClasses$1=formHelperTextClasses;var _span$2;const _excluded$s=["children","className","component","disabled","error","filled","focused","margin","required","variant"],useUtilityClasses$k=et=>{const{classes:tt,contained:rt,size:nt,disabled:at,error:lt,filled:dt,focused:ot,required:mt}=et,xt={root:["root",at&&"disabled",lt&&"error",nt&&`size${capitalize(nt)}`,rt&&"contained",ot&&"focused",dt&&"filled",mt&&"required"]};return composeClasses(xt,getFormHelperTextUtilityClasses,tt)},FormHelperTextRoot=styled$2("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,rt.size&&tt[`size${capitalize(rt.size)}`],rt.contained&&tt.contained,rt.filled&&tt.filled]}})(({theme:et,ownerState:tt})=>_extends({color:(et.vars||et).palette.text.secondary},et.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${formHelperTextClasses$1.disabled}`]:{color:(et.vars||et).palette.text.disabled},[`&.${formHelperTextClasses$1.error}`]:{color:(et.vars||et).palette.error.main}},tt.size==="small"&&{marginTop:4},tt.contained&&{marginLeft:14,marginRight:14})),FormHelperText=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiFormHelperText"}),{children:at,className:lt,component:dt="p"}=nt,ot=_objectWithoutPropertiesLoose$1(nt,_excluded$s),mt=useFormControl(),xt=formControlState({props:nt,muiFormControl:mt,states:["variant","size","disabled","error","filled","focused","required"]}),Et=_extends({},nt,{component:dt,contained:xt.variant==="filled"||xt.variant==="outlined",variant:xt.variant,size:xt.size,disabled:xt.disabled,error:xt.error,filled:xt.filled,focused:xt.focused,required:xt.required}),At=useUtilityClasses$k(Et);return jsx(FormHelperTextRoot,_extends({as:dt,ownerState:Et,className:clsx(At.root,lt),ref:rt},ot,{children:at===" "?_span$2||(_span$2=jsx("span",{className:"notranslate",children:"​"})):at}))}),FormHelperText$1=FormHelperText;function getFormLabelUtilityClasses(et){return generateUtilityClass("MuiFormLabel",et)}const formLabelClasses=generateUtilityClasses("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),formLabelClasses$1=formLabelClasses,_excluded$r=["children","className","color","component","disabled","error","filled","focused","required"],useUtilityClasses$j=et=>{const{classes:tt,color:rt,focused:nt,disabled:at,error:lt,filled:dt,required:ot}=et,mt={root:["root",`color${capitalize(rt)}`,at&&"disabled",lt&&"error",dt&&"filled",nt&&"focused",ot&&"required"],asterisk:["asterisk",lt&&"error"]};return composeClasses(mt,getFormLabelUtilityClasses,tt)},FormLabelRoot=styled$2("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:et},tt)=>_extends({},tt.root,et.color==="secondary"&&tt.colorSecondary,et.filled&&tt.filled)})(({theme:et,ownerState:tt})=>_extends({color:(et.vars||et).palette.text.secondary},et.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${formLabelClasses$1.focused}`]:{color:(et.vars||et).palette[tt.color].main},[`&.${formLabelClasses$1.disabled}`]:{color:(et.vars||et).palette.text.disabled},[`&.${formLabelClasses$1.error}`]:{color:(et.vars||et).palette.error.main}})),AsteriskComponent=styled$2("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(et,tt)=>tt.asterisk})(({theme:et})=>({[`&.${formLabelClasses$1.error}`]:{color:(et.vars||et).palette.error.main}})),FormLabel=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiFormLabel"}),{children:at,className:lt,component:dt="label"}=nt,ot=_objectWithoutPropertiesLoose$1(nt,_excluded$r),mt=useFormControl(),xt=formControlState({props:nt,muiFormControl:mt,states:["color","required","focused","disabled","error","filled"]}),Et=_extends({},nt,{color:xt.color||"primary",component:dt,disabled:xt.disabled,error:xt.error,filled:xt.filled,focused:xt.focused,required:xt.required}),At=useUtilityClasses$j(Et);return jsxs(FormLabelRoot,_extends({as:dt,ownerState:Et,className:clsx(At.root,lt),ref:rt},ot,{children:[at,xt.required&&jsxs(AsteriskComponent,{ownerState:Et,"aria-hidden":!0,className:At.asterisk,children:[" ","*"]})]}))}),FormLabel$1=FormLabel,GridContext=reactExports.createContext(),GridContext$1=GridContext;function getGridUtilityClass(et){return generateUtilityClass("MuiGrid",et)}const SPACINGS=[0,1,2,3,4,5,6,7,8,9,10],DIRECTIONS=["column-reverse","column","row-reverse","row"],WRAPS=["nowrap","wrap-reverse","wrap"],GRID_SIZES=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],gridClasses=generateUtilityClasses("MuiGrid",["root","container","item","zeroMinWidth",...SPACINGS.map(et=>`spacing-xs-${et}`),...DIRECTIONS.map(et=>`direction-xs-${et}`),...WRAPS.map(et=>`wrap-xs-${et}`),...GRID_SIZES.map(et=>`grid-xs-${et}`),...GRID_SIZES.map(et=>`grid-sm-${et}`),...GRID_SIZES.map(et=>`grid-md-${et}`),...GRID_SIZES.map(et=>`grid-lg-${et}`),...GRID_SIZES.map(et=>`grid-xl-${et}`)]),gridClasses$1=gridClasses,_excluded$q=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function getOffset(et){const tt=parseFloat(et);return`${tt}${String(et).replace(String(tt),"")||"px"}`}function generateGrid({theme:et,ownerState:tt}){let rt;return et.breakpoints.keys.reduce((nt,at)=>{let lt={};if(tt[at]&&(rt=tt[at]),!rt)return nt;if(rt===!0)lt={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(rt==="auto")lt={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const dt=resolveBreakpointValues({values:tt.columns,breakpoints:et.breakpoints.values}),ot=typeof dt=="object"?dt[at]:dt;if(ot==null)return nt;const mt=`${Math.round(rt/ot*1e8)/1e6}%`;let xt={};if(tt.container&&tt.item&&tt.columnSpacing!==0){const Et=et.spacing(tt.columnSpacing);if(Et!=="0px"){const At=`calc(${mt} + ${getOffset(Et)})`;xt={flexBasis:At,maxWidth:At}}}lt=_extends({flexBasis:mt,flexGrow:0,maxWidth:mt},xt)}return et.breakpoints.values[at]===0?Object.assign(nt,lt):nt[et.breakpoints.up(at)]=lt,nt},{})}function generateDirection({theme:et,ownerState:tt}){const rt=resolveBreakpointValues({values:tt.direction,breakpoints:et.breakpoints.values});return handleBreakpoints({theme:et},rt,nt=>{const at={flexDirection:nt};return nt.indexOf("column")===0&&(at[`& > .${gridClasses$1.item}`]={maxWidth:"none"}),at})}function extractZeroValueBreakpointKeys({breakpoints:et,values:tt}){let rt="";Object.keys(tt).forEach(at=>{rt===""&&tt[at]!==0&&(rt=at)});const nt=Object.keys(et).sort((at,lt)=>et[at]-et[lt]);return nt.slice(0,nt.indexOf(rt))}function generateRowGap({theme:et,ownerState:tt}){const{container:rt,rowSpacing:nt}=tt;let at={};if(rt&&nt!==0){const lt=resolveBreakpointValues({values:nt,breakpoints:et.breakpoints.values});let dt;typeof lt=="object"&&(dt=extractZeroValueBreakpointKeys({breakpoints:et.breakpoints.values,values:lt})),at=handleBreakpoints({theme:et},lt,(ot,mt)=>{var xt;const Et=et.spacing(ot);return Et!=="0px"?{marginTop:`-${getOffset(Et)}`,[`& > .${gridClasses$1.item}`]:{paddingTop:getOffset(Et)}}:(xt=dt)!=null&&xt.includes(mt)?{}:{marginTop:0,[`& > .${gridClasses$1.item}`]:{paddingTop:0}}})}return at}function generateColumnGap({theme:et,ownerState:tt}){const{container:rt,columnSpacing:nt}=tt;let at={};if(rt&&nt!==0){const lt=resolveBreakpointValues({values:nt,breakpoints:et.breakpoints.values});let dt;typeof lt=="object"&&(dt=extractZeroValueBreakpointKeys({breakpoints:et.breakpoints.values,values:lt})),at=handleBreakpoints({theme:et},lt,(ot,mt)=>{var xt;const Et=et.spacing(ot);return Et!=="0px"?{width:`calc(100% + ${getOffset(Et)})`,marginLeft:`-${getOffset(Et)}`,[`& > .${gridClasses$1.item}`]:{paddingLeft:getOffset(Et)}}:(xt=dt)!=null&&xt.includes(mt)?{}:{width:"100%",marginLeft:0,[`& > .${gridClasses$1.item}`]:{paddingLeft:0}}})}return at}function resolveSpacingStyles(et,tt,rt={}){if(!et||et<=0)return[];if(typeof et=="string"&&!Number.isNaN(Number(et))||typeof et=="number")return[rt[`spacing-xs-${String(et)}`]];const nt=[];return tt.forEach(at=>{const lt=et[at];Number(lt)>0&&nt.push(rt[`spacing-${at}-${String(lt)}`])}),nt}const GridRoot=styled$2("div",{name:"MuiGrid",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et,{container:nt,direction:at,item:lt,spacing:dt,wrap:ot,zeroMinWidth:mt,breakpoints:xt}=rt;let Et=[];nt&&(Et=resolveSpacingStyles(dt,xt,tt));const At=[];return xt.forEach(Tt=>{const Ft=rt[Tt];Ft&&At.push(tt[`grid-${Tt}-${String(Ft)}`])}),[tt.root,nt&&tt.container,lt&&tt.item,mt&&tt.zeroMinWidth,...Et,at!=="row"&&tt[`direction-xs-${String(at)}`],ot!=="wrap"&&tt[`wrap-xs-${String(ot)}`],...At]}})(({ownerState:et})=>_extends({boxSizing:"border-box"},et.container&&{display:"flex",flexWrap:"wrap",width:"100%"},et.item&&{margin:0},et.zeroMinWidth&&{minWidth:0},et.wrap!=="wrap"&&{flexWrap:et.wrap}),generateDirection,generateRowGap,generateColumnGap,generateGrid);function resolveSpacingClasses(et,tt){if(!et||et<=0)return[];if(typeof et=="string"&&!Number.isNaN(Number(et))||typeof et=="number")return[`spacing-xs-${String(et)}`];const rt=[];return tt.forEach(nt=>{const at=et[nt];if(Number(at)>0){const lt=`spacing-${nt}-${String(at)}`;rt.push(lt)}}),rt}const useUtilityClasses$i=et=>{const{classes:tt,container:rt,direction:nt,item:at,spacing:lt,wrap:dt,zeroMinWidth:ot,breakpoints:mt}=et;let xt=[];rt&&(xt=resolveSpacingClasses(lt,mt));const Et=[];mt.forEach(Tt=>{const Ft=et[Tt];Ft&&Et.push(`grid-${Tt}-${String(Ft)}`)});const At={root:["root",rt&&"container",at&&"item",ot&&"zeroMinWidth",...xt,nt!=="row"&&`direction-xs-${String(nt)}`,dt!=="wrap"&&`wrap-xs-${String(dt)}`,...Et]};return composeClasses(At,getGridUtilityClass,tt)},Grid$1=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiGrid"}),{breakpoints:at}=useTheme(),lt=extendSxProp(nt),{className:dt,columns:ot,columnSpacing:mt,component:xt="div",container:Et=!1,direction:At="row",item:Tt=!1,rowSpacing:Ft,spacing:Mt=0,wrap:Lt="wrap",zeroMinWidth:Gt=!1}=lt,Pt=_objectWithoutPropertiesLoose$1(lt,_excluded$q),$t=Ft||Mt,It=mt||Mt,Ot=reactExports.useContext(GridContext$1),Vt=Et?ot||12:Ot,Ut={},Wt=_extends({},Pt);at.keys.forEach(Kt=>{Pt[Kt]!=null&&(Ut[Kt]=Pt[Kt],delete Wt[Kt])});const nr=_extends({},lt,{columns:Vt,container:Et,direction:At,item:Tt,rowSpacing:$t,columnSpacing:It,wrap:Lt,zeroMinWidth:Gt,spacing:Mt},Ut,{breakpoints:at.keys}),er=useUtilityClasses$i(nr);return jsx(GridContext$1.Provider,{value:Vt,children:jsx(GridRoot,_extends({ownerState:nr,className:clsx(er.root,dt),as:xt,ref:rt},Wt))})}),Grid$2=Grid$1,Grid2=createGrid({createStyledComponent:styled$2("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(et,tt)=>tt.root}),componentName:"MuiGrid2",useThemeProps:et=>useThemeProps({props:et,name:"MuiGrid2"})}),Grid=Grid2,_excluded$p=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getScale(et){return`scale(${et}, ${et**2})`}const styles$1={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function(tt,rt){const{addEndListener:nt,appear:at=!0,children:lt,easing:dt,in:ot,onEnter:mt,onEntered:xt,onEntering:Et,onExit:At,onExited:Tt,onExiting:Ft,style:Mt,timeout:Lt="auto",TransitionComponent:Gt=Transition$1}=tt,Pt=_objectWithoutPropertiesLoose$1(tt,_excluded$p),$t=reactExports.useRef(),It=reactExports.useRef(),Ot=useTheme(),Vt=reactExports.useRef(null),Ut=useForkRef(Vt,lt.ref,rt),Wt=Cr=>hr=>{if(Cr){const Tr=Vt.current;hr===void 0?Cr(Tr):Cr(Tr,hr)}},nr=Wt(Et),er=Wt((Cr,hr)=>{reflow(Cr);const{duration:Tr,delay:Xt,easing:Qt}=getTransitionProps({style:Mt,timeout:Lt,easing:dt},{mode:"enter"});let lr;Lt==="auto"?(lr=Ot.transitions.getAutoHeightDuration(Cr.clientHeight),It.current=lr):lr=Tr,Cr.style.transition=[Ot.transitions.create("opacity",{duration:lr,delay:Xt}),Ot.transitions.create("transform",{duration:isWebKit154?lr:lr*.666,delay:Xt,easing:Qt})].join(","),mt&&mt(Cr,hr)}),Kt=Wt(xt),ur=Wt(Ft),vr=Wt(Cr=>{const{duration:hr,delay:Tr,easing:Xt}=getTransitionProps({style:Mt,timeout:Lt,easing:dt},{mode:"exit"});let Qt;Lt==="auto"?(Qt=Ot.transitions.getAutoHeightDuration(Cr.clientHeight),It.current=Qt):Qt=hr,Cr.style.transition=[Ot.transitions.create("opacity",{duration:Qt,delay:Tr}),Ot.transitions.create("transform",{duration:isWebKit154?Qt:Qt*.666,delay:isWebKit154?Tr:Tr||Qt*.333,easing:Xt})].join(","),Cr.style.opacity=0,Cr.style.transform=getScale(.75),At&&At(Cr)}),Lr=Wt(Tt),Er=Cr=>{Lt==="auto"&&($t.current=setTimeout(Cr,It.current||0)),nt&&nt(Vt.current,Cr)};return reactExports.useEffect(()=>()=>{clearTimeout($t.current)},[]),jsx(Gt,_extends({appear:at,in:ot,nodeRef:Vt,onEnter:er,onEntered:Kt,onEntering:nr,onExit:vr,onExited:Lr,onExiting:ur,addEndListener:Er,timeout:Lt==="auto"?null:Lt},Pt,{children:(Cr,hr)=>reactExports.cloneElement(lt,_extends({style:_extends({opacity:0,transform:getScale(.75),visibility:Cr==="exited"&&!ot?"hidden":void 0},styles$1[Cr],Mt,lt.props.style),ref:Ut},hr))}))});Grow.muiSupportAuto=!0;const Grow$1=Grow,_excluded$o=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$h=et=>{const{classes:tt,disableUnderline:rt}=et,at=composeClasses({root:["root",!rt&&"underline"],input:["input"]},getInputUtilityClass,tt);return _extends({},tt,at)},InputRoot=styled$2(InputBaseRoot,{shouldForwardProp:et=>rootShouldForwardProp(et)||et==="classes",name:"MuiInput",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[...rootOverridesResolver(et,tt),!rt.disableUnderline&&tt.underline]}})(({theme:et,ownerState:tt})=>{let nt=et.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return et.vars&&(nt=`rgba(${et.vars.palette.common.onBackgroundChannel} / ${et.vars.opacity.inputUnderline})`),_extends({position:"relative"},tt.formControl&&{"label + &":{marginTop:16}},!tt.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(et.vars||et).palette[tt.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:et.transitions.create("transform",{duration:et.transitions.duration.shorter,easing:et.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses$1.error}`]:{"&:before, &:after":{borderBottomColor:(et.vars||et).palette.error.main}},"&:before":{borderBottom:`1px solid ${nt}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:et.transitions.create("border-bottom-color",{duration:et.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses$1.disabled}, .${inputClasses$1.error}):before`]:{borderBottom:`2px solid ${(et.vars||et).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${nt}`}},[`&.${inputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}})}),InputInput=styled$2(InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=reactExports.forwardRef(function(tt,rt){var nt,at,lt,dt;const ot=useThemeProps({props:tt,name:"MuiInput"}),{disableUnderline:mt,components:xt={},componentsProps:Et,fullWidth:At=!1,inputComponent:Tt="input",multiline:Ft=!1,slotProps:Mt,slots:Lt={},type:Gt="text"}=ot,Pt=_objectWithoutPropertiesLoose$1(ot,_excluded$o),$t=useUtilityClasses$h(ot),Ot={root:{ownerState:{disableUnderline:mt}}},Vt=Mt??Et?deepmerge(Mt??Et,Ot):Ot,Ut=(nt=(at=Lt.root)!=null?at:xt.Root)!=null?nt:InputRoot,Wt=(lt=(dt=Lt.input)!=null?dt:xt.Input)!=null?lt:InputInput;return jsx(InputBase$1,_extends({slots:{root:Ut,input:Wt},slotProps:Vt,fullWidth:At,inputComponent:Tt,multiline:Ft,ref:rt,type:Gt},Pt,{classes:$t}))});Input.muiName="Input";const Input$1=Input;function getInputLabelUtilityClasses(et){return generateUtilityClass("MuiInputLabel",et)}generateUtilityClasses("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _excluded$n=["disableAnimation","margin","shrink","variant","className"],useUtilityClasses$g=et=>{const{classes:tt,formControl:rt,size:nt,shrink:at,disableAnimation:lt,variant:dt,required:ot}=et,xt=composeClasses({root:["root",rt&&"formControl",!lt&&"animated",at&&"shrink",nt==="small"&&"sizeSmall",dt],asterisk:[ot&&"asterisk"]},getInputLabelUtilityClasses,tt);return _extends({},tt,xt)},InputLabelRoot=styled$2(FormLabel$1,{shouldForwardProp:et=>rootShouldForwardProp(et)||et==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[{[`& .${formLabelClasses$1.asterisk}`]:tt.asterisk},tt.root,rt.formControl&&tt.formControl,rt.size==="small"&&tt.sizeSmall,rt.shrink&&tt.shrink,!rt.disableAnimation&&tt.animated,tt[rt.variant]]}})(({theme:et,ownerState:tt})=>_extends({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},tt.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},tt.size==="small"&&{transform:"translate(0, 17px) scale(1)"},tt.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!tt.disableAnimation&&{transition:et.transitions.create(["color","transform","max-width"],{duration:et.transitions.duration.shorter,easing:et.transitions.easing.easeOut})},tt.variant==="filled"&&_extends({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},tt.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},tt.shrink&&_extends({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},tt.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),tt.variant==="outlined"&&_extends({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},tt.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},tt.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),InputLabel=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({name:"MuiInputLabel",props:tt}),{disableAnimation:at=!1,shrink:lt,className:dt}=nt,ot=_objectWithoutPropertiesLoose$1(nt,_excluded$n),mt=useFormControl();let xt=lt;typeof xt>"u"&&mt&&(xt=mt.filled||mt.focused||mt.adornedStart);const Et=formControlState({props:nt,muiFormControl:mt,states:["size","variant","required"]}),At=_extends({},nt,{disableAnimation:at,formControl:mt,shrink:xt,size:Et.size,variant:Et.variant,required:Et.required}),Tt=useUtilityClasses$g(At);return jsx(InputLabelRoot,_extends({"data-shrink":xt,ownerState:At,ref:rt,className:clsx(Tt.root,dt)},ot,{classes:Tt}))}),InputLabel$1=InputLabel;function getLinearProgressUtilityClass(et){return generateUtilityClass("MuiLinearProgress",et)}generateUtilityClasses("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const _excluded$m=["className","color","value","valueBuffer","variant"];let _$2=et=>et,_t$1,_t2$1,_t3$1,_t4$1,_t5,_t6;const TRANSITION_DURATION=4,indeterminate1Keyframe=keyframes(_t$1||(_t$1=_$2`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),indeterminate2Keyframe=keyframes(_t2$1||(_t2$1=_$2`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),bufferKeyframe=keyframes(_t3$1||(_t3$1=_$2`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),useUtilityClasses$f=et=>{const{classes:tt,variant:rt,color:nt}=et,at={root:["root",`color${capitalize(nt)}`,rt],dashed:["dashed",`dashedColor${capitalize(nt)}`],bar1:["bar",`barColor${capitalize(nt)}`,(rt==="indeterminate"||rt==="query")&&"bar1Indeterminate",rt==="determinate"&&"bar1Determinate",rt==="buffer"&&"bar1Buffer"],bar2:["bar",rt!=="buffer"&&`barColor${capitalize(nt)}`,rt==="buffer"&&`color${capitalize(nt)}`,(rt==="indeterminate"||rt==="query")&&"bar2Indeterminate",rt==="buffer"&&"bar2Buffer"]};return composeClasses(at,getLinearProgressUtilityClass,tt)},getColorShade=(et,tt)=>tt==="inherit"?"currentColor":et.vars?et.vars.palette.LinearProgress[`${tt}Bg`]:et.palette.mode==="light"?lighten(et.palette[tt].main,.62):darken(et.palette[tt].main,.5),LinearProgressRoot=styled$2("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,tt[`color${capitalize(rt.color)}`],tt[rt.variant]]}})(({ownerState:et,theme:tt})=>_extends({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:getColorShade(tt,et.color)},et.color==="inherit"&&et.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},et.variant==="buffer"&&{backgroundColor:"transparent"},et.variant==="query"&&{transform:"rotate(180deg)"})),LinearProgressDashed=styled$2("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.dashed,tt[`dashedColor${capitalize(rt.color)}`]]}})(({ownerState:et,theme:tt})=>{const rt=getColorShade(tt,et.color);return _extends({position:"absolute",marginTop:0,height:"100%",width:"100%"},et.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${rt} 0%, ${rt} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},css(_t4$1||(_t4$1=_$2`
    animation: ${0} 3s infinite linear;
  `),bufferKeyframe)),LinearProgressBar1=styled$2("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.bar,tt[`barColor${capitalize(rt.color)}`],(rt.variant==="indeterminate"||rt.variant==="query")&&tt.bar1Indeterminate,rt.variant==="determinate"&&tt.bar1Determinate,rt.variant==="buffer"&&tt.bar1Buffer]}})(({ownerState:et,theme:tt})=>_extends({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:et.color==="inherit"?"currentColor":(tt.vars||tt).palette[et.color].main},et.variant==="determinate"&&{transition:`transform .${TRANSITION_DURATION}s linear`},et.variant==="buffer"&&{zIndex:1,transition:`transform .${TRANSITION_DURATION}s linear`}),({ownerState:et})=>(et.variant==="indeterminate"||et.variant==="query")&&css(_t5||(_t5=_$2`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),indeterminate1Keyframe)),LinearProgressBar2=styled$2("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.bar,tt[`barColor${capitalize(rt.color)}`],(rt.variant==="indeterminate"||rt.variant==="query")&&tt.bar2Indeterminate,rt.variant==="buffer"&&tt.bar2Buffer]}})(({ownerState:et,theme:tt})=>_extends({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},et.variant!=="buffer"&&{backgroundColor:et.color==="inherit"?"currentColor":(tt.vars||tt).palette[et.color].main},et.color==="inherit"&&{opacity:.3},et.variant==="buffer"&&{backgroundColor:getColorShade(tt,et.color),transition:`transform .${TRANSITION_DURATION}s linear`}),({ownerState:et})=>(et.variant==="indeterminate"||et.variant==="query")&&css(_t6||(_t6=_$2`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),indeterminate2Keyframe)),LinearProgress=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiLinearProgress"}),{className:at,color:lt="primary",value:dt,valueBuffer:ot,variant:mt="indeterminate"}=nt,xt=_objectWithoutPropertiesLoose$1(nt,_excluded$m),Et=_extends({},nt,{color:lt,variant:mt}),At=useUtilityClasses$f(Et),Tt=useTheme(),Ft={},Mt={bar1:{},bar2:{}};if((mt==="determinate"||mt==="buffer")&&dt!==void 0){Ft["aria-valuenow"]=Math.round(dt),Ft["aria-valuemin"]=0,Ft["aria-valuemax"]=100;let Lt=dt-100;Tt.direction==="rtl"&&(Lt=-Lt),Mt.bar1.transform=`translateX(${Lt}%)`}if(mt==="buffer"&&ot!==void 0){let Lt=(ot||0)-100;Tt.direction==="rtl"&&(Lt=-Lt),Mt.bar2.transform=`translateX(${Lt}%)`}return jsxs(LinearProgressRoot,_extends({className:clsx(At.root,at),ownerState:Et,role:"progressbar"},Ft,{ref:rt},xt,{children:[mt==="buffer"?jsx(LinearProgressDashed,{className:At.dashed,ownerState:Et}):null,jsx(LinearProgressBar1,{className:At.bar1,ownerState:Et,style:Mt.bar1}),mt==="determinate"?null:jsx(LinearProgressBar2,{className:At.bar2,ownerState:Et,style:Mt.bar2})]}))}),LinearProgress$1=LinearProgress,ListContext=reactExports.createContext({}),ListContext$1=ListContext;function getListUtilityClass(et){return generateUtilityClass("MuiList",et)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const _excluded$l=["children","className","component","dense","disablePadding","subheader"],useUtilityClasses$e=et=>{const{classes:tt,disablePadding:rt,dense:nt,subheader:at}=et;return composeClasses({root:["root",!rt&&"padding",nt&&"dense",at&&"subheader"]},getListUtilityClass,tt)},ListRoot=styled$2("ul",{name:"MuiList",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,!rt.disablePadding&&tt.padding,rt.dense&&tt.dense,rt.subheader&&tt.subheader]}})(({ownerState:et})=>_extends({listStyle:"none",margin:0,padding:0,position:"relative"},!et.disablePadding&&{paddingTop:8,paddingBottom:8},et.subheader&&{paddingTop:0})),List=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiList"}),{children:at,className:lt,component:dt="ul",dense:ot=!1,disablePadding:mt=!1,subheader:xt}=nt,Et=_objectWithoutPropertiesLoose$1(nt,_excluded$l),At=reactExports.useMemo(()=>({dense:ot}),[ot]),Tt=_extends({},nt,{component:dt,dense:ot,disablePadding:mt}),Ft=useUtilityClasses$e(Tt);return jsx(ListContext$1.Provider,{value:At,children:jsxs(ListRoot,_extends({as:dt,className:clsx(Ft.root,lt),ref:rt,ownerState:Tt},Et,{children:[xt,at]}))})}),List$1=List,_excluded$k=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nextItem(et,tt,rt){return et===tt?et.firstChild:tt&&tt.nextElementSibling?tt.nextElementSibling:rt?null:et.firstChild}function previousItem(et,tt,rt){return et===tt?rt?et.firstChild:et.lastChild:tt&&tt.previousElementSibling?tt.previousElementSibling:rt?null:et.lastChild}function textCriteriaMatches(et,tt){if(tt===void 0)return!0;let rt=et.innerText;return rt===void 0&&(rt=et.textContent),rt=rt.trim().toLowerCase(),rt.length===0?!1:tt.repeating?rt[0]===tt.keys[0]:rt.indexOf(tt.keys.join(""))===0}function moveFocus(et,tt,rt,nt,at,lt){let dt=!1,ot=at(et,tt,tt?rt:!1);for(;ot;){if(ot===et.firstChild){if(dt)return!1;dt=!0}const mt=nt?!1:ot.disabled||ot.getAttribute("aria-disabled")==="true";if(!ot.hasAttribute("tabindex")||!textCriteriaMatches(ot,lt)||mt)ot=at(et,ot,rt);else return ot.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function(tt,rt){const{actions:nt,autoFocus:at=!1,autoFocusItem:lt=!1,children:dt,className:ot,disabledItemsFocusable:mt=!1,disableListWrap:xt=!1,onKeyDown:Et,variant:At="selectedMenu"}=tt,Tt=_objectWithoutPropertiesLoose$1(tt,_excluded$k),Ft=reactExports.useRef(null),Mt=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect$1(()=>{at&&Ft.current.focus()},[at]),reactExports.useImperativeHandle(nt,()=>({adjustStyleForScrollbar:(It,Ot)=>{const Vt=!Ft.current.style.width;if(It.clientHeight<Ft.current.clientHeight&&Vt){const Ut=`${getScrollbarSize(ownerDocument(It))}px`;Ft.current.style[Ot.direction==="rtl"?"paddingLeft":"paddingRight"]=Ut,Ft.current.style.width=`calc(100% + ${Ut})`}return Ft.current}}),[]);const Lt=It=>{const Ot=Ft.current,Vt=It.key,Ut=ownerDocument(Ot).activeElement;if(Vt==="ArrowDown")It.preventDefault(),moveFocus(Ot,Ut,xt,mt,nextItem);else if(Vt==="ArrowUp")It.preventDefault(),moveFocus(Ot,Ut,xt,mt,previousItem);else if(Vt==="Home")It.preventDefault(),moveFocus(Ot,null,xt,mt,nextItem);else if(Vt==="End")It.preventDefault(),moveFocus(Ot,null,xt,mt,previousItem);else if(Vt.length===1){const Wt=Mt.current,nr=Vt.toLowerCase(),er=performance.now();Wt.keys.length>0&&(er-Wt.lastTime>500?(Wt.keys=[],Wt.repeating=!0,Wt.previousKeyMatched=!0):Wt.repeating&&nr!==Wt.keys[0]&&(Wt.repeating=!1)),Wt.lastTime=er,Wt.keys.push(nr);const Kt=Ut&&!Wt.repeating&&textCriteriaMatches(Ut,Wt);Wt.previousKeyMatched&&(Kt||moveFocus(Ot,Ut,!1,mt,nextItem,Wt))?It.preventDefault():Wt.previousKeyMatched=!1}Et&&Et(It)},Gt=useForkRef(Ft,rt);let Pt=-1;reactExports.Children.forEach(dt,(It,Ot)=>{reactExports.isValidElement(It)&&(It.props.disabled||(At==="selectedMenu"&&It.props.selected||Pt===-1)&&(Pt=Ot),Pt===Ot&&(It.props.disabled||It.props.muiSkipListHighlight||It.type.muiSkipListHighlight)&&(Pt+=1,Pt>=dt.length&&(Pt=-1)))});const $t=reactExports.Children.map(dt,(It,Ot)=>{if(Ot===Pt){const Vt={};return lt&&(Vt.autoFocus=!0),It.props.tabIndex===void 0&&At==="selectedMenu"&&(Vt.tabIndex=0),reactExports.cloneElement(It,Vt)}return It});return jsx(List$1,_extends({role:"menu",ref:Gt,className:ot,onKeyDown:Lt,tabIndex:at?0:-1},Tt,{children:$t}))}),MenuList$1=MenuList;function getPopoverUtilityClass(et){return generateUtilityClass("MuiPopover",et)}generateUtilityClasses("MuiPopover",["root","paper"]);const _excluded$j=["onEntering"],_excluded2$2=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function getOffsetTop(et,tt){let rt=0;return typeof tt=="number"?rt=tt:tt==="center"?rt=et.height/2:tt==="bottom"&&(rt=et.height),rt}function getOffsetLeft(et,tt){let rt=0;return typeof tt=="number"?rt=tt:tt==="center"?rt=et.width/2:tt==="right"&&(rt=et.width),rt}function getTransformOriginValue(et){return[et.horizontal,et.vertical].map(tt=>typeof tt=="number"?`${tt}px`:tt).join(" ")}function resolveAnchorEl(et){return typeof et=="function"?et():et}const useUtilityClasses$d=et=>{const{classes:tt}=et;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,tt)},PopoverRoot=styled$2(Modal$1,{name:"MuiPopover",slot:"Root",overridesResolver:(et,tt)=>tt.root})({}),PopoverPaper=styled$2(Paper$1,{name:"MuiPopover",slot:"Paper",overridesResolver:(et,tt)=>tt.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiPopover"}),{action:at,anchorEl:lt,anchorOrigin:dt={vertical:"top",horizontal:"left"},anchorPosition:ot,anchorReference:mt="anchorEl",children:xt,className:Et,container:At,elevation:Tt=8,marginThreshold:Ft=16,open:Mt,PaperProps:Lt={},transformOrigin:Gt={vertical:"top",horizontal:"left"},TransitionComponent:Pt=Grow$1,transitionDuration:$t="auto",TransitionProps:{onEntering:It}={}}=nt,Ot=_objectWithoutPropertiesLoose$1(nt.TransitionProps,_excluded$j),Vt=_objectWithoutPropertiesLoose$1(nt,_excluded2$2),Ut=reactExports.useRef(),Wt=useForkRef(Ut,Lt.ref),nr=_extends({},nt,{anchorOrigin:dt,anchorReference:mt,elevation:Tt,marginThreshold:Ft,PaperProps:Lt,transformOrigin:Gt,TransitionComponent:Pt,transitionDuration:$t,TransitionProps:Ot}),er=useUtilityClasses$d(nr),Kt=reactExports.useCallback(()=>{if(mt==="anchorPosition")return ot;const lr=resolveAnchorEl(lt),sr=(lr&&lr.nodeType===1?lr:ownerDocument(Ut.current).body).getBoundingClientRect();return{top:sr.top+getOffsetTop(sr,dt.vertical),left:sr.left+getOffsetLeft(sr,dt.horizontal)}},[lt,dt.horizontal,dt.vertical,ot,mt]),ur=reactExports.useCallback(lr=>({vertical:getOffsetTop(lr,Gt.vertical),horizontal:getOffsetLeft(lr,Gt.horizontal)}),[Gt.horizontal,Gt.vertical]),vr=reactExports.useCallback(lr=>{const cr={width:lr.offsetWidth,height:lr.offsetHeight},sr=ur(cr);if(mt==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(sr)};const dr=Kt();let Rr=dr.top-sr.vertical,jr=dr.left-sr.horizontal;const Sr=Rr+cr.height,dn=jr+cr.width,Qr=ownerWindow(resolveAnchorEl(lt)),gn=Qr.innerHeight-Ft,ln=Qr.innerWidth-Ft;if(Rr<Ft){const Kr=Rr-Ft;Rr-=Kr,sr.vertical+=Kr}else if(Sr>gn){const Kr=Sr-gn;Rr-=Kr,sr.vertical+=Kr}if(jr<Ft){const Kr=jr-Ft;jr-=Kr,sr.horizontal+=Kr}else if(dn>ln){const Kr=dn-ln;jr-=Kr,sr.horizontal+=Kr}return{top:`${Math.round(Rr)}px`,left:`${Math.round(jr)}px`,transformOrigin:getTransformOriginValue(sr)}},[lt,mt,Kt,ur,Ft]),[Lr,Er]=reactExports.useState(Mt),Cr=reactExports.useCallback(()=>{const lr=Ut.current;if(!lr)return;const cr=vr(lr);cr.top!==null&&(lr.style.top=cr.top),cr.left!==null&&(lr.style.left=cr.left),lr.style.transformOrigin=cr.transformOrigin,Er(!0)},[vr]),hr=(lr,cr)=>{It&&It(lr,cr),Cr()},Tr=()=>{Er(!1)};reactExports.useEffect(()=>{Mt&&Cr()}),reactExports.useImperativeHandle(at,()=>Mt?{updatePosition:()=>{Cr()}}:null,[Mt,Cr]),reactExports.useEffect(()=>{if(!Mt)return;const lr=debounce(()=>{Cr()}),cr=ownerWindow(lt);return cr.addEventListener("resize",lr),()=>{lr.clear(),cr.removeEventListener("resize",lr)}},[lt,Mt,Cr]);let Xt=$t;$t==="auto"&&!Pt.muiSupportAuto&&(Xt=void 0);const Qt=At||(lt?ownerDocument(resolveAnchorEl(lt)).body:void 0);return jsx(PopoverRoot,_extends({BackdropProps:{invisible:!0},className:clsx(er.root,Et),container:Qt,open:Mt,ref:rt,ownerState:nr},Vt,{children:jsx(Pt,_extends({appear:!0,in:Mt,onEntering:hr,onExited:Tr,timeout:Xt},Ot,{children:jsx(PopoverPaper,_extends({elevation:Tt},Lt,{ref:Wt,className:clsx(er.paper,Lt.className)},Lr?void 0:{style:_extends({},Lt.style,{opacity:0})},{ownerState:nr,children:xt}))}))}))}),Popover$1=Popover;function getMenuUtilityClass(et){return generateUtilityClass("MuiMenu",et)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const _excluded$i=["onEntering"],_excluded2$1=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$c=et=>{const{classes:tt}=et;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,tt)},MenuRoot=styled$2(Popover$1,{shouldForwardProp:et=>rootShouldForwardProp(et)||et==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(et,tt)=>tt.root})({}),MenuPaper=styled$2(Paper$1,{name:"MuiMenu",slot:"Paper",overridesResolver:(et,tt)=>tt.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled$2(MenuList$1,{name:"MuiMenu",slot:"List",overridesResolver:(et,tt)=>tt.list})({outline:0}),Menu=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiMenu"}),{autoFocus:at=!0,children:lt,disableAutoFocusItem:dt=!1,MenuListProps:ot={},onClose:mt,open:xt,PaperProps:Et={},PopoverClasses:At,transitionDuration:Tt="auto",TransitionProps:{onEntering:Ft}={},variant:Mt="selectedMenu"}=nt,Lt=_objectWithoutPropertiesLoose$1(nt.TransitionProps,_excluded$i),Gt=_objectWithoutPropertiesLoose$1(nt,_excluded2$1),Pt=useTheme(),$t=Pt.direction==="rtl",It=_extends({},nt,{autoFocus:at,disableAutoFocusItem:dt,MenuListProps:ot,onEntering:Ft,PaperProps:Et,transitionDuration:Tt,TransitionProps:Lt,variant:Mt}),Ot=useUtilityClasses$c(It),Vt=at&&!dt&&xt,Ut=reactExports.useRef(null),Wt=(Kt,ur)=>{Ut.current&&Ut.current.adjustStyleForScrollbar(Kt,Pt),Ft&&Ft(Kt,ur)},nr=Kt=>{Kt.key==="Tab"&&(Kt.preventDefault(),mt&&mt(Kt,"tabKeyDown"))};let er=-1;return reactExports.Children.map(lt,(Kt,ur)=>{reactExports.isValidElement(Kt)&&(Kt.props.disabled||(Mt==="selectedMenu"&&Kt.props.selected||er===-1)&&(er=ur))}),jsx(MenuRoot,_extends({onClose:mt,anchorOrigin:{vertical:"bottom",horizontal:$t?"right":"left"},transformOrigin:$t?RTL_ORIGIN:LTR_ORIGIN,PaperProps:_extends({as:MenuPaper},Et,{classes:_extends({},Et.classes,{root:Ot.paper})}),className:Ot.root,open:xt,ref:rt,transitionDuration:Tt,TransitionProps:_extends({onEntering:Wt},Lt),ownerState:It},Gt,{classes:At,children:jsx(MenuMenuList,_extends({onKeyDown:nr,actions:Ut,autoFocus:at&&(er===-1||dt),autoFocusItem:Vt,variant:Mt},ot,{className:clsx(Ot.list,ot.className),children:lt}))}))}),Menu$1=Menu;function getMobileStepperUtilityClass(et){return generateUtilityClass("MuiMobileStepper",et)}generateUtilityClasses("MuiMobileStepper",["root","positionBottom","positionTop","positionStatic","dots","dot","dotActive","progress"]);const _excluded$h=["activeStep","backButton","className","LinearProgressProps","nextButton","position","steps","variant"],useUtilityClasses$b=et=>{const{classes:tt,position:rt}=et,nt={root:["root",`position${capitalize(rt)}`],dots:["dots"],dot:["dot"],dotActive:["dotActive"],progress:["progress"]};return composeClasses(nt,getMobileStepperUtilityClass,tt)},MobileStepperRoot=styled$2(Paper$1,{name:"MuiMobileStepper",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,tt[`position${capitalize(rt.position)}`]]}})(({theme:et,ownerState:tt})=>_extends({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:(et.vars||et).palette.background.default,padding:8},tt.position==="bottom"&&{position:"fixed",bottom:0,left:0,right:0,zIndex:(et.vars||et).zIndex.mobileStepper},tt.position==="top"&&{position:"fixed",top:0,left:0,right:0,zIndex:(et.vars||et).zIndex.mobileStepper})),MobileStepperDots=styled$2("div",{name:"MuiMobileStepper",slot:"Dots",overridesResolver:(et,tt)=>tt.dots})(({ownerState:et})=>_extends({},et.variant==="dots"&&{display:"flex",flexDirection:"row"})),MobileStepperDot=styled$2("div",{name:"MuiMobileStepper",slot:"Dot",shouldForwardProp:et=>slotShouldForwardProp(et)&&et!=="dotActive",overridesResolver:(et,tt)=>{const{dotActive:rt}=et;return[tt.dot,rt&&tt.dotActive]}})(({theme:et,ownerState:tt,dotActive:rt})=>_extends({},tt.variant==="dots"&&_extends({transition:et.transitions.create("background-color",{duration:et.transitions.duration.shortest}),backgroundColor:(et.vars||et).palette.action.disabled,borderRadius:"50%",width:8,height:8,margin:"0 2px"},rt&&{backgroundColor:(et.vars||et).palette.primary.main}))),MobileStepperProgress=styled$2(LinearProgress$1,{name:"MuiMobileStepper",slot:"Progress",overridesResolver:(et,tt)=>tt.progress})(({ownerState:et})=>_extends({},et.variant==="progress"&&{width:"50%"})),MobileStepper=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiMobileStepper"}),{activeStep:at=0,backButton:lt,className:dt,LinearProgressProps:ot,nextButton:mt,position:xt="bottom",steps:Et,variant:At="dots"}=nt,Tt=_objectWithoutPropertiesLoose$1(nt,_excluded$h),Ft=_extends({},nt,{activeStep:at,position:xt,variant:At}),Mt=useUtilityClasses$b(Ft);return jsxs(MobileStepperRoot,_extends({square:!0,elevation:0,className:clsx(Mt.root,dt),ref:rt,ownerState:Ft},Tt,{children:[lt,At==="text"&&jsxs(reactExports.Fragment,{children:[at+1," / ",Et]}),At==="dots"&&jsx(MobileStepperDots,{ownerState:Ft,className:Mt.dots,children:[...new Array(Et)].map((Lt,Gt)=>jsx(MobileStepperDot,{className:clsx(Mt.dot,Gt===at&&Mt.dotActive),ownerState:Ft,dotActive:Gt===at},Gt))}),At==="progress"&&jsx(MobileStepperProgress,_extends({ownerState:Ft,className:Mt.progress,variant:"determinate",value:Math.ceil(at/(Et-1)*100)},ot)),mt]}))}),MobileStepper$1=MobileStepper;function getNativeSelectUtilityClasses(et){return generateUtilityClass("MuiNativeSelect",et)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),nativeSelectClasses$1=nativeSelectClasses,_excluded$g=["className","disabled","error","IconComponent","inputRef","variant"],useUtilityClasses$a=et=>{const{classes:tt,variant:rt,disabled:nt,multiple:at,open:lt,error:dt}=et,ot={select:["select",rt,nt&&"disabled",at&&"multiple",dt&&"error"],icon:["icon",`icon${capitalize(rt)}`,lt&&"iconOpen",nt&&"disabled"]};return composeClasses(ot,getNativeSelectUtilityClasses,tt)},nativeSelectSelectStyles=({ownerState:et,theme:tt})=>_extends({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":_extends({},tt.vars?{backgroundColor:`rgba(${tt.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:tt.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${nativeSelectClasses$1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(tt.vars||tt).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},et.variant==="filled"&&{"&&&":{paddingRight:32}},et.variant==="outlined"&&{borderRadius:(tt.vars||tt).shape.borderRadius,"&:focus":{borderRadius:(tt.vars||tt).shape.borderRadius},"&&&":{paddingRight:32}}),NativeSelectSelect=styled$2("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp,overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.select,tt[rt.variant],rt.error&&tt.error,{[`&.${nativeSelectClasses$1.multiple}`]:tt.multiple}]}})(nativeSelectSelectStyles),nativeSelectIconStyles=({ownerState:et,theme:tt})=>_extends({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(tt.vars||tt).palette.action.active,[`&.${nativeSelectClasses$1.disabled}`]:{color:(tt.vars||tt).palette.action.disabled}},et.open&&{transform:"rotate(180deg)"},et.variant==="filled"&&{right:7},et.variant==="outlined"&&{right:7}),NativeSelectIcon=styled$2("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.icon,rt.variant&&tt[`icon${capitalize(rt.variant)}`],rt.open&&tt.iconOpen]}})(nativeSelectIconStyles),NativeSelectInput=reactExports.forwardRef(function(tt,rt){const{className:nt,disabled:at,error:lt,IconComponent:dt,inputRef:ot,variant:mt="standard"}=tt,xt=_objectWithoutPropertiesLoose$1(tt,_excluded$g),Et=_extends({},tt,{disabled:at,variant:mt,error:lt}),At=useUtilityClasses$a(Et);return jsxs(reactExports.Fragment,{children:[jsx(NativeSelectSelect,_extends({ownerState:Et,className:clsx(At.select,nt),disabled:at,ref:ot||rt},xt)),tt.multiple?null:jsx(NativeSelectIcon,{as:dt,ownerState:Et,className:At.icon})]})}),NativeSelectInput$1=NativeSelectInput;var _span$1;const _excluded$f=["children","classes","className","label","notched"],NotchedOutlineRoot$1=styled$2("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled$2("legend")(({ownerState:et,theme:tt})=>_extends({float:"unset",width:"auto",overflow:"hidden"},!et.withLabel&&{padding:0,lineHeight:"11px",transition:tt.transitions.create("width",{duration:150,easing:tt.transitions.easing.easeOut})},et.withLabel&&_extends({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:tt.transitions.create("max-width",{duration:50,easing:tt.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},et.notched&&{maxWidth:"100%",transition:tt.transitions.create("max-width",{duration:100,easing:tt.transitions.easing.easeOut,delay:50})})));function NotchedOutline(et){const{className:tt,label:rt,notched:nt}=et,at=_objectWithoutPropertiesLoose$1(et,_excluded$f),lt=rt!=null&&rt!=="",dt=_extends({},et,{notched:nt,withLabel:lt});return jsx(NotchedOutlineRoot$1,_extends({"aria-hidden":!0,className:tt,ownerState:dt},at,{children:jsx(NotchedOutlineLegend,{ownerState:dt,children:lt?jsx("span",{children:rt}):_span$1||(_span$1=jsx("span",{className:"notranslate",children:"​"}))})}))}const _excluded$e=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],useUtilityClasses$9=et=>{const{classes:tt}=et,nt=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,tt);return _extends({},tt,nt)},OutlinedInputRoot=styled$2(InputBaseRoot,{shouldForwardProp:et=>rootShouldForwardProp(et)||et==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:et,ownerState:tt})=>{const rt=et.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return _extends({position:"relative",borderRadius:(et.vars||et).shape.borderRadius,[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(et.vars||et).palette.text.primary},"@media (hover: none)":{[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:et.vars?`rgba(${et.vars.palette.common.onBackgroundChannel} / 0.23)`:rt}},[`&.${outlinedInputClasses$1.focused} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(et.vars||et).palette[tt.color].main,borderWidth:2},[`&.${outlinedInputClasses$1.error} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(et.vars||et).palette.error.main},[`&.${outlinedInputClasses$1.disabled} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(et.vars||et).palette.action.disabled}},tt.startAdornment&&{paddingLeft:14},tt.endAdornment&&{paddingRight:14},tt.multiline&&_extends({padding:"16.5px 14px"},tt.size==="small"&&{padding:"8.5px 14px"}))}),NotchedOutlineRoot=styled$2(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(et,tt)=>tt.notchedOutline})(({theme:et})=>{const tt=et.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:et.vars?`rgba(${et.vars.palette.common.onBackgroundChannel} / 0.23)`:tt}}),OutlinedInputInput=styled$2(InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:et,ownerState:tt})=>_extends({padding:"16.5px 14px"},!et.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:et.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:et.palette.mode==="light"?null:"#fff",caretColor:et.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},et.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[et.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},tt.size==="small"&&{padding:"8.5px 14px"},tt.multiline&&{padding:0},tt.startAdornment&&{paddingLeft:0},tt.endAdornment&&{paddingRight:0})),OutlinedInput=reactExports.forwardRef(function(tt,rt){var nt,at,lt,dt,ot;const mt=useThemeProps({props:tt,name:"MuiOutlinedInput"}),{components:xt={},fullWidth:Et=!1,inputComponent:At="input",label:Tt,multiline:Ft=!1,notched:Mt,slots:Lt={},type:Gt="text"}=mt,Pt=_objectWithoutPropertiesLoose$1(mt,_excluded$e),$t=useUtilityClasses$9(mt),It=useFormControl(),Ot=formControlState({props:mt,muiFormControl:It,states:["required"]}),Vt=_extends({},mt,{color:Ot.color||"primary",disabled:Ot.disabled,error:Ot.error,focused:Ot.focused,formControl:It,fullWidth:Et,hiddenLabel:Ot.hiddenLabel,multiline:Ft,size:Ot.size,type:Gt}),Ut=(nt=(at=Lt.root)!=null?at:xt.Root)!=null?nt:OutlinedInputRoot,Wt=(lt=(dt=Lt.input)!=null?dt:xt.Input)!=null?lt:OutlinedInputInput;return jsx(InputBase$1,_extends({slots:{root:Ut,input:Wt},renderSuffix:nr=>jsx(NotchedOutlineRoot,{ownerState:Vt,className:$t.notchedOutline,label:Tt!=null&&Tt!==""&&Ot.required?ot||(ot=jsxs(reactExports.Fragment,{children:[Tt," ","*"]})):Tt,notched:typeof Mt<"u"?Mt:!!(nr.startAdornment||nr.filled||nr.focused)}),fullWidth:Et,inputComponent:At,multiline:Ft,ref:rt,type:Gt},Pt,{classes:_extends({},$t,{notchedOutline:null})}))});OutlinedInput.muiName="Input";const OutlinedInput$1=OutlinedInput;function getSelectUtilityClasses(et){return generateUtilityClass("MuiSelect",et)}const selectClasses=generateUtilityClasses("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),selectClasses$1=selectClasses;var _span;const _excluded$d=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SelectSelect=styled$2("div",{name:"MuiSelect",slot:"Select",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[{[`&.${selectClasses$1.select}`]:tt.select},{[`&.${selectClasses$1.select}`]:tt[rt.variant]},{[`&.${selectClasses$1.error}`]:tt.error},{[`&.${selectClasses$1.multiple}`]:tt.multiple}]}})(nativeSelectSelectStyles,{[`&.${selectClasses$1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled$2("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.icon,rt.variant&&tt[`icon${capitalize(rt.variant)}`],rt.open&&tt.iconOpen]}})(nativeSelectIconStyles),SelectNativeInput=styled$2("input",{shouldForwardProp:et=>slotShouldForwardProp(et)&&et!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(et,tt)=>tt.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(et,tt){return typeof tt=="object"&&tt!==null?et===tt:String(et)===String(tt)}function isEmpty(et){return et==null||typeof et=="string"&&!et.trim()}const useUtilityClasses$8=et=>{const{classes:tt,variant:rt,disabled:nt,multiple:at,open:lt,error:dt}=et,ot={select:["select",rt,nt&&"disabled",at&&"multiple",dt&&"error"],icon:["icon",`icon${capitalize(rt)}`,lt&&"iconOpen",nt&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(ot,getSelectUtilityClasses,tt)},SelectInput=reactExports.forwardRef(function(tt,rt){const{"aria-describedby":nt,"aria-label":at,autoFocus:lt,autoWidth:dt,children:ot,className:mt,defaultOpen:xt,defaultValue:Et,disabled:At,displayEmpty:Tt,error:Ft=!1,IconComponent:Mt,inputRef:Lt,labelId:Gt,MenuProps:Pt={},multiple:$t,name:It,onBlur:Ot,onChange:Vt,onClose:Ut,onFocus:Wt,onOpen:nr,open:er,readOnly:Kt,renderValue:ur,SelectDisplayProps:vr={},tabIndex:Lr,value:Er,variant:Cr="standard"}=tt,hr=_objectWithoutPropertiesLoose$1(tt,_excluded$d),[Tr,Xt]=useControlled({controlled:Er,default:Et,name:"Select"}),[Qt,lr]=useControlled({controlled:er,default:xt,name:"Select"}),cr=reactExports.useRef(null),sr=reactExports.useRef(null),[dr,Rr]=reactExports.useState(null),{current:jr}=reactExports.useRef(er!=null),[Sr,dn]=reactExports.useState(),Qr=useForkRef(rt,Lt),gn=reactExports.useCallback(Hr=>{sr.current=Hr,Hr&&Rr(Hr)},[]),ln=dr==null?void 0:dr.parentNode;reactExports.useImperativeHandle(Qr,()=>({focus:()=>{sr.current.focus()},node:cr.current,value:Tr}),[Tr]),reactExports.useEffect(()=>{xt&&Qt&&dr&&!jr&&(dn(dt?null:ln.clientWidth),sr.current.focus())},[dr,dt]),reactExports.useEffect(()=>{lt&&sr.current.focus()},[lt]),reactExports.useEffect(()=>{if(!Gt)return;const Hr=ownerDocument(sr.current).getElementById(Gt);if(Hr){const tn=()=>{getSelection().isCollapsed&&sr.current.focus()};return Hr.addEventListener("click",tn),()=>{Hr.removeEventListener("click",tn)}}},[Gt]);const Kr=(Hr,tn)=>{Hr?nr&&nr(tn):Ut&&Ut(tn),jr||(dn(dt?null:ln.clientWidth),lr(Hr))},cn=Hr=>{Hr.button===0&&(Hr.preventDefault(),sr.current.focus(),Kr(!0,Hr))},En=Hr=>{Kr(!1,Hr)},yn=reactExports.Children.toArray(ot),Rn=Hr=>{const tn=yn.find(fn=>fn.props.value===Hr.target.value);tn!==void 0&&(Xt(tn.props.value),Vt&&Vt(Hr,tn))},Zn=Hr=>tn=>{let fn;if(tn.currentTarget.hasAttribute("tabindex")){if($t){fn=Array.isArray(Tr)?Tr.slice():[];const Vn=Tr.indexOf(Hr.props.value);Vn===-1?fn.push(Hr.props.value):fn.splice(Vn,1)}else fn=Hr.props.value;if(Hr.props.onClick&&Hr.props.onClick(tn),Tr!==fn&&(Xt(fn),Vt)){const Vn=tn.nativeEvent||tn,Kn=new Vn.constructor(Vn.type,Vn);Object.defineProperty(Kn,"target",{writable:!0,value:{value:fn,name:It}}),Vt(Kn,Hr)}$t||Kr(!1,tn)}},jn=Hr=>{Kt||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Hr.key)!==-1&&(Hr.preventDefault(),Kr(!0,Hr))},so=dr!==null&&Qt,Eo=Hr=>{!so&&Ot&&(Object.defineProperty(Hr,"target",{writable:!0,value:{value:Tr,name:It}}),Ot(Hr))};delete hr["aria-invalid"];let _i,po;const Mo=[];let yo=!1;(isFilled({value:Tr})||Tt)&&(ur?_i=ur(Tr):yo=!0);const mn=yn.map(Hr=>{if(!reactExports.isValidElement(Hr))return null;let tn;if($t){if(!Array.isArray(Tr))throw new Error(formatMuiErrorMessage(2));tn=Tr.some(fn=>areEqualValues(fn,Hr.props.value)),tn&&yo&&Mo.push(Hr.props.children)}else tn=areEqualValues(Tr,Hr.props.value),tn&&yo&&(po=Hr.props.children);return reactExports.cloneElement(Hr,{"aria-selected":tn?"true":"false",onClick:Zn(Hr),onKeyUp:fn=>{fn.key===" "&&fn.preventDefault(),Hr.props.onKeyUp&&Hr.props.onKeyUp(fn)},role:"option",selected:tn,value:void 0,"data-value":Hr.props.value})});yo&&($t?Mo.length===0?_i=null:_i=Mo.reduce((Hr,tn,fn)=>(Hr.push(tn),fn<Mo.length-1&&Hr.push(", "),Hr),[]):_i=po);let Bn=Sr;!dt&&jr&&dr&&(Bn=ln.clientWidth);let no;typeof Lr<"u"?no=Lr:no=At?null:0;const eo=vr.id||(It?`mui-component-select-${It}`:void 0),to=_extends({},tt,{variant:Cr,value:Tr,open:so,error:Ft}),Yn=useUtilityClasses$8(to);return jsxs(reactExports.Fragment,{children:[jsx(SelectSelect,_extends({ref:gn,tabIndex:no,role:"button","aria-disabled":At?"true":void 0,"aria-expanded":so?"true":"false","aria-haspopup":"listbox","aria-label":at,"aria-labelledby":[Gt,eo].filter(Boolean).join(" ")||void 0,"aria-describedby":nt,onKeyDown:jn,onMouseDown:At||Kt?null:cn,onBlur:Eo,onFocus:Wt},vr,{ownerState:to,className:clsx(vr.className,Yn.select,mt),id:eo,children:isEmpty(_i)?_span||(_span=jsx("span",{className:"notranslate",children:"​"})):_i})),jsx(SelectNativeInput,_extends({"aria-invalid":Ft,value:Array.isArray(Tr)?Tr.join(","):Tr,name:It,ref:cr,"aria-hidden":!0,onChange:Rn,tabIndex:-1,disabled:At,className:Yn.nativeInput,autoFocus:lt,ownerState:to},hr)),jsx(SelectIcon,{as:Mt,className:Yn.icon,ownerState:to}),jsx(Menu$1,_extends({id:`menu-${It||""}`,anchorEl:ln,open:so,onClose:En,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},Pt,{MenuListProps:_extends({"aria-labelledby":Gt,role:"listbox",disableListWrap:!0},Pt.MenuListProps),PaperProps:_extends({},Pt.PaperProps,{style:_extends({minWidth:Bn},Pt.PaperProps!=null?Pt.PaperProps.style:null)}),children:mn}))]})}),SelectInput$1=SelectInput,_excluded$c=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],useUtilityClasses$7=et=>{const{classes:tt}=et;return tt},styledRootConfig={name:"MuiSelect",overridesResolver:(et,tt)=>tt.root,shouldForwardProp:et=>rootShouldForwardProp(et)&&et!=="variant",slot:"Root"},StyledInput=styled$2(Input$1,styledRootConfig)(""),StyledOutlinedInput=styled$2(OutlinedInput$1,styledRootConfig)(""),StyledFilledInput=styled$2(FilledInput$1,styledRootConfig)(""),Select=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({name:"MuiSelect",props:tt}),{autoWidth:at=!1,children:lt,classes:dt={},className:ot,defaultOpen:mt=!1,displayEmpty:xt=!1,IconComponent:Et=ArrowDropDownIcon,id:At,input:Tt,inputProps:Ft,label:Mt,labelId:Lt,MenuProps:Gt,multiple:Pt=!1,native:$t=!1,onClose:It,onOpen:Ot,open:Vt,renderValue:Ut,SelectDisplayProps:Wt,variant:nr="outlined"}=nt,er=_objectWithoutPropertiesLoose$1(nt,_excluded$c),Kt=$t?NativeSelectInput$1:SelectInput$1,ur=useFormControl(),vr=formControlState({props:nt,muiFormControl:ur,states:["variant","error"]}),Lr=vr.variant||nr,Er=_extends({},nt,{variant:Lr,classes:dt}),Cr=useUtilityClasses$7(Er),hr=Tt||{standard:jsx(StyledInput,{ownerState:Er}),outlined:jsx(StyledOutlinedInput,{label:Mt,ownerState:Er}),filled:jsx(StyledFilledInput,{ownerState:Er})}[Lr],Tr=useForkRef(rt,hr.ref);return jsx(reactExports.Fragment,{children:reactExports.cloneElement(hr,_extends({inputComponent:Kt,inputProps:_extends({children:lt,error:vr.error,IconComponent:Et,variant:Lr,type:void 0,multiple:Pt},$t?{id:At}:{autoWidth:at,defaultOpen:mt,displayEmpty:xt,labelId:Lt,MenuProps:Gt,onClose:It,onOpen:Ot,open:Vt,renderValue:Ut,SelectDisplayProps:_extends({id:At},Wt)},Ft,{classes:Ft?deepmerge(Cr,Ft.classes):Cr},Tt?Tt.props.inputProps:{})},Pt&&$t&&Lr==="outlined"?{notched:!0}:{},{ref:Tr,className:clsx(hr.props.className,ot)},!Tt&&{variant:Lr},er))})});Select.muiName="Select";const Select$1=Select;function getSkeletonUtilityClass(et){return generateUtilityClass("MuiSkeleton",et)}generateUtilityClasses("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const _excluded$b=["animation","className","component","height","style","variant","width"];let _$1=et=>et,_t,_t2,_t3,_t4;const useUtilityClasses$6=et=>{const{classes:tt,variant:rt,animation:nt,hasChildren:at,width:lt,height:dt}=et;return composeClasses({root:["root",rt,nt,at&&"withChildren",at&&!lt&&"fitContent",at&&!dt&&"heightAuto"]},getSkeletonUtilityClass,tt)},pulseKeyframe=keyframes(_t||(_t=_$1`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),waveKeyframe=keyframes(_t2||(_t2=_$1`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),SkeletonRoot=styled$2("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,tt[rt.variant],rt.animation!==!1&&tt[rt.animation],rt.hasChildren&&tt.withChildren,rt.hasChildren&&!rt.width&&tt.fitContent,rt.hasChildren&&!rt.height&&tt.heightAuto]}})(({theme:et,ownerState:tt})=>{const rt=getUnit(et.shape.borderRadius)||"px",nt=toUnitless(et.shape.borderRadius);return _extends({display:"block",backgroundColor:et.vars?et.vars.palette.Skeleton.bg:alpha(et.palette.text.primary,et.palette.mode==="light"?.11:.13),height:"1.2em"},tt.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${nt}${rt}/${Math.round(nt/.6*10)/10}${rt}`,"&:empty:before":{content:'"\\00a0"'}},tt.variant==="circular"&&{borderRadius:"50%"},tt.variant==="rounded"&&{borderRadius:(et.vars||et).shape.borderRadius},tt.hasChildren&&{"& > *":{visibility:"hidden"}},tt.hasChildren&&!tt.width&&{maxWidth:"fit-content"},tt.hasChildren&&!tt.height&&{height:"auto"})},({ownerState:et})=>et.animation==="pulse"&&css(_t3||(_t3=_$1`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),pulseKeyframe),({ownerState:et,theme:tt})=>et.animation==="wave"&&css(_t4||(_t4=_$1`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),waveKeyframe,(tt.vars||tt).palette.action.hover)),Skeleton=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiSkeleton"}),{animation:at="pulse",className:lt,component:dt="span",height:ot,style:mt,variant:xt="text",width:Et}=nt,At=_objectWithoutPropertiesLoose$1(nt,_excluded$b),Tt=_extends({},nt,{animation:at,component:dt,variant:xt,hasChildren:!!At.children}),Ft=useUtilityClasses$6(Tt);return jsx(SkeletonRoot,_extends({as:dt,ref:rt,className:clsx(Ft.root,lt),ownerState:Tt},At,{style:_extends({width:Et,height:ot},mt)}))}),Skeleton$1=Skeleton,shouldSpreadAdditionalProps=et=>!et||!isHostComponent(et),shouldSpreadAdditionalProps$1=shouldSpreadAdditionalProps;function getSliderUtilityClass(et){return generateUtilityClass("MuiSlider",et)}const sliderClasses=generateUtilityClasses("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),sliderClasses$1=sliderClasses,useValueLabelClasses=et=>{const{open:tt}=et;return{offset:clsx(tt&&sliderClasses$1.valueLabelOpen),circle:sliderClasses$1.valueLabelCircle,label:sliderClasses$1.valueLabelLabel}};function SliderValueLabel(et){const{children:tt,className:rt,value:nt}=et,at=useValueLabelClasses(et);return tt?reactExports.cloneElement(tt,{className:clsx(tt.props.className)},jsxs(reactExports.Fragment,{children:[tt.props.children,jsx("span",{className:clsx(at.offset,rt),"aria-hidden":!0,children:jsx("span",{className:at.circle,children:jsx("span",{className:at.label,children:nt})})})]})):null}const _excluded$a=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Identity(et){return et}const SliderRoot=styled$2("span",{name:"MuiSlider",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,tt[`color${capitalize(rt.color)}`],rt.size!=="medium"&&tt[`size${capitalize(rt.size)}`],rt.marked&&tt.marked,rt.orientation==="vertical"&&tt.vertical,rt.track==="inverted"&&tt.trackInverted,rt.track===!1&&tt.trackFalse]}})(({theme:et,ownerState:tt})=>_extends({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(et.vars||et).palette[tt.color].main,WebkitTapHighlightColor:"transparent"},tt.orientation==="horizontal"&&_extends({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},tt.size==="small"&&{height:2},tt.marked&&{marginBottom:20}),tt.orientation==="vertical"&&_extends({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},tt.size==="small"&&{width:2},tt.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${sliderClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default",color:(et.vars||et).palette.grey[400]},[`&.${sliderClasses$1.dragging}`]:{[`& .${sliderClasses$1.thumb}, & .${sliderClasses$1.track}`]:{transition:"none"}}})),SliderRail=styled$2("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(et,tt)=>tt.rail})(({ownerState:et})=>_extends({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},et.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},et.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},et.track==="inverted"&&{opacity:1})),SliderTrack=styled$2("span",{name:"MuiSlider",slot:"Track",overridesResolver:(et,tt)=>tt.track})(({theme:et,ownerState:tt})=>{const rt=et.palette.mode==="light"?lighten(et.palette[tt.color].main,.62):darken(et.palette[tt.color].main,.5);return _extends({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:et.transitions.create(["left","width","bottom","height"],{duration:et.transitions.duration.shortest})},tt.size==="small"&&{border:"none"},tt.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},tt.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},tt.track===!1&&{display:"none"},tt.track==="inverted"&&{backgroundColor:et.vars?et.vars.palette.Slider[`${tt.color}Track`]:rt,borderColor:et.vars?et.vars.palette.Slider[`${tt.color}Track`]:rt})}),SliderThumb=styled$2("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.thumb,tt[`thumbColor${capitalize(rt.color)}`],rt.size!=="medium"&&tt[`thumbSize${capitalize(rt.size)}`]]}})(({theme:et,ownerState:tt})=>_extends({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:et.transitions.create(["box-shadow","left","bottom"],{duration:et.transitions.duration.shortest})},tt.size==="small"&&{width:12,height:12},tt.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},tt.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":_extends({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(et.vars||et).shadows[2]},tt.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${sliderClasses$1.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${et.vars?`rgba(${et.vars.palette[tt.color].mainChannel} / 0.16)`:alpha(et.palette[tt.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${sliderClasses$1.active}`]:{boxShadow:`0px 0px 0px 14px ${et.vars?`rgba(${et.vars.palette[tt.color].mainChannel} / 0.16)`:alpha(et.palette[tt.color].main,.16)}`},[`&.${sliderClasses$1.disabled}`]:{"&:hover":{boxShadow:"none"}}})),StyledSliderValueLabel=styled$2(SliderValueLabel,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(et,tt)=>tt.valueLabel})(({theme:et,ownerState:tt})=>_extends({[`&.${sliderClasses$1.valueLabelOpen}`]:{transform:`${tt.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},et.typography.body2,{fontWeight:500,transition:et.transitions.create(["transform"],{duration:et.transitions.duration.shortest}),transform:`${tt.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(et.vars||et).palette.grey[600],borderRadius:2,color:(et.vars||et).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},tt.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},tt.orientation==="vertical"&&{right:tt.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},tt.size==="small"&&{fontSize:et.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),SliderMark=styled$2("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:et=>slotShouldForwardProp(et)&&et!=="markActive",overridesResolver:(et,tt)=>{const{markActive:rt}=et;return[tt.mark,rt&&tt.markActive]}})(({theme:et,ownerState:tt,markActive:rt})=>_extends({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},tt.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},tt.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},rt&&{backgroundColor:(et.vars||et).palette.background.paper,opacity:.8})),SliderMarkLabel=styled$2("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:et=>slotShouldForwardProp(et)&&et!=="markLabelActive",overridesResolver:(et,tt)=>tt.markLabel})(({theme:et,ownerState:tt,markLabelActive:rt})=>_extends({},et.typography.body2,{color:(et.vars||et).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},tt.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},tt.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},rt&&{color:(et.vars||et).palette.text.primary})),useUtilityClasses$5=et=>{const{disabled:tt,dragging:rt,marked:nt,orientation:at,track:lt,classes:dt,color:ot,size:mt}=et,xt={root:["root",tt&&"disabled",rt&&"dragging",nt&&"marked",at==="vertical"&&"vertical",lt==="inverted"&&"trackInverted",lt===!1&&"trackFalse",ot&&`color${capitalize(ot)}`,mt&&`size${capitalize(mt)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",tt&&"disabled",mt&&`thumbSize${capitalize(mt)}`,ot&&`thumbColor${capitalize(ot)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return composeClasses(xt,getSliderUtilityClass,dt)},Forward=({children:et})=>et,Slider=reactExports.forwardRef(function(tt,rt){var nt,at,lt,dt,ot,mt,xt,Et,At,Tt,Ft,Mt,Lt,Gt,Pt,$t,It,Ot,Vt,Ut,Wt,nr,er,Kt;const ur=useThemeProps({props:tt,name:"MuiSlider"}),Lr=useTheme().direction==="rtl",{"aria-label":Er,"aria-valuetext":Cr,"aria-labelledby":hr,component:Tr="span",components:Xt={},componentsProps:Qt={},color:lr="primary",classes:cr,className:sr,disableSwap:dr=!1,disabled:Rr=!1,getAriaLabel:jr,getAriaValueText:Sr,marks:dn=!1,max:Qr=100,min:gn=0,orientation:ln="horizontal",size:Kr="medium",step:cn=1,scale:En=Identity,slotProps:yn,slots:Rn,track:Zn="normal",valueLabelDisplay:jn="off",valueLabelFormat:so=Identity}=ur,Eo=_objectWithoutPropertiesLoose$1(ur,_excluded$a),_i=_extends({},ur,{isRtl:Lr,max:Qr,min:gn,classes:cr,disabled:Rr,disableSwap:dr,orientation:ln,marks:dn,color:lr,size:Kr,step:cn,scale:En,track:Zn,valueLabelDisplay:jn,valueLabelFormat:so}),{axisProps:po,getRootProps:Mo,getHiddenInputProps:yo,getThumbProps:mn,open:Bn,active:no,axis:eo,focusedThumbIndex:to,range:Yn,dragging:Hr,marks:tn,values:fn,trackOffset:Vn,trackLeap:Kn}=useSlider(_extends({},_i,{rootRef:rt}));_i.marked=tn.length>0&&tn.some(Co=>Co.label),_i.dragging=Hr,_i.focusedThumbIndex=to;const qr=useUtilityClasses$5(_i),Ur=(nt=(at=Rn==null?void 0:Rn.root)!=null?at:Xt.Root)!=null?nt:SliderRoot,pn=(lt=(dt=Rn==null?void 0:Rn.rail)!=null?dt:Xt.Rail)!=null?lt:SliderRail,bn=(ot=(mt=Rn==null?void 0:Rn.track)!=null?mt:Xt.Track)!=null?ot:SliderTrack,mr=(xt=(Et=Rn==null?void 0:Rn.thumb)!=null?Et:Xt.Thumb)!=null?xt:SliderThumb,tr=(At=(Tt=Rn==null?void 0:Rn.valueLabel)!=null?Tt:Xt.ValueLabel)!=null?At:StyledSliderValueLabel,ar=(Ft=(Mt=Rn==null?void 0:Rn.mark)!=null?Mt:Xt.Mark)!=null?Ft:SliderMark,yr=(Lt=(Gt=Rn==null?void 0:Rn.markLabel)!=null?Gt:Xt.MarkLabel)!=null?Lt:SliderMarkLabel,Ar=(Pt=($t=Rn==null?void 0:Rn.input)!=null?$t:Xt.Input)!=null?Pt:"input",Dr=(It=yn==null?void 0:yn.root)!=null?It:Qt.root,Zr=(Ot=yn==null?void 0:yn.rail)!=null?Ot:Qt.rail,Xr=(Vt=yn==null?void 0:yn.track)!=null?Vt:Qt.track,Br=(Ut=yn==null?void 0:yn.thumb)!=null?Ut:Qt.thumb,en=(Wt=yn==null?void 0:yn.valueLabel)!=null?Wt:Qt.valueLabel,Pn=(nr=yn==null?void 0:yn.mark)!=null?nr:Qt.mark,Fn=(er=yn==null?void 0:yn.markLabel)!=null?er:Qt.markLabel,Mn=(Kt=yn==null?void 0:yn.input)!=null?Kt:Qt.input,ho=useSlotProps({elementType:Ur,getSlotProps:Mo,externalSlotProps:Dr,externalForwardedProps:Eo,additionalProps:_extends({},shouldSpreadAdditionalProps$1(Ur)&&{as:Tr}),ownerState:_extends({},_i,Dr==null?void 0:Dr.ownerState),className:[qr.root,sr]}),mo=useSlotProps({elementType:pn,externalSlotProps:Zr,ownerState:_i,className:qr.rail}),ro=useSlotProps({elementType:bn,externalSlotProps:Xr,additionalProps:{style:_extends({},po[eo].offset(Vn),po[eo].leap(Kn))},ownerState:_extends({},_i,Xr==null?void 0:Xr.ownerState),className:qr.track}),co=useSlotProps({elementType:mr,getSlotProps:mn,externalSlotProps:Br,ownerState:_extends({},_i,Br==null?void 0:Br.ownerState),className:qr.thumb}),vo=useSlotProps({elementType:tr,externalSlotProps:en,ownerState:_extends({},_i,en==null?void 0:en.ownerState),className:qr.valueLabel}),jo=useSlotProps({elementType:ar,externalSlotProps:Pn,ownerState:_i,className:qr.mark}),Io=useSlotProps({elementType:yr,externalSlotProps:Fn,ownerState:_i,className:qr.markLabel}),is=useSlotProps({elementType:Ar,getSlotProps:yo,externalSlotProps:Mn,ownerState:_i});return jsxs(Ur,_extends({},ho,{children:[jsx(pn,_extends({},mo)),jsx(bn,_extends({},ro)),tn.filter(Co=>Co.value>=gn&&Co.value<=Qr).map((Co,Uo)=>{const os=valueToPercent(Co.value,gn,Qr),gs=po[eo].offset(os);let Ts;return Zn===!1?Ts=fn.indexOf(Co.value)!==-1:Ts=Zn==="normal"&&(Yn?Co.value>=fn[0]&&Co.value<=fn[fn.length-1]:Co.value<=fn[0])||Zn==="inverted"&&(Yn?Co.value<=fn[0]||Co.value>=fn[fn.length-1]:Co.value>=fn[0]),jsxs(reactExports.Fragment,{children:[jsx(ar,_extends({"data-index":Uo},jo,!isHostComponent(ar)&&{markActive:Ts},{style:_extends({},gs,jo.style),className:clsx(jo.className,Ts&&qr.markActive)})),Co.label!=null?jsx(yr,_extends({"aria-hidden":!0,"data-index":Uo},Io,!isHostComponent(yr)&&{markLabelActive:Ts},{style:_extends({},gs,Io.style),className:clsx(qr.markLabel,Io.className,Ts&&qr.markLabelActive),children:Co.label})):null]},Uo)}),fn.map((Co,Uo)=>{const os=valueToPercent(Co,gn,Qr),gs=po[eo].offset(os),Ts=jn==="off"?Forward:tr;return jsx(Ts,_extends({},!isHostComponent(Ts)&&{valueLabelFormat:so,valueLabelDisplay:jn,value:typeof so=="function"?so(En(Co),Uo):so,index:Uo,open:Bn===Uo||no===Uo||jn==="on",disabled:Rr},vo,{children:jsx(mr,_extends({"data-index":Uo},co,{className:clsx(qr.thumb,co.className,no===Uo&&qr.active,to===Uo&&qr.focusVisible),style:_extends({},gs,{pointerEvents:dr&&no!==Uo?"none":void 0},co.style),children:jsx(Ar,_extends({"data-index":Uo,"aria-label":jr?jr(Uo):Er,"aria-valuenow":En(Co),"aria-labelledby":hr,"aria-valuetext":Sr?Sr(En(Co),Uo):Cr,value:fn[Uo]},is))}))}),Uo)})]}))}),Slider$1=Slider,_excluded$9=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles={entering:{transform:"none"},entered:{transform:"none"}},Zoom=reactExports.forwardRef(function(tt,rt){const nt=useTheme(),at={enter:nt.transitions.duration.enteringScreen,exit:nt.transitions.duration.leavingScreen},{addEndListener:lt,appear:dt=!0,children:ot,easing:mt,in:xt,onEnter:Et,onEntered:At,onEntering:Tt,onExit:Ft,onExited:Mt,onExiting:Lt,style:Gt,timeout:Pt=at,TransitionComponent:$t=Transition$1}=tt,It=_objectWithoutPropertiesLoose$1(tt,_excluded$9),Ot=reactExports.useRef(null),Vt=useForkRef(Ot,ot.ref,rt),Ut=Er=>Cr=>{if(Er){const hr=Ot.current;Cr===void 0?Er(hr):Er(hr,Cr)}},Wt=Ut(Tt),nr=Ut((Er,Cr)=>{reflow(Er);const hr=getTransitionProps({style:Gt,timeout:Pt,easing:mt},{mode:"enter"});Er.style.webkitTransition=nt.transitions.create("transform",hr),Er.style.transition=nt.transitions.create("transform",hr),Et&&Et(Er,Cr)}),er=Ut(At),Kt=Ut(Lt),ur=Ut(Er=>{const Cr=getTransitionProps({style:Gt,timeout:Pt,easing:mt},{mode:"exit"});Er.style.webkitTransition=nt.transitions.create("transform",Cr),Er.style.transition=nt.transitions.create("transform",Cr),Ft&&Ft(Er)}),vr=Ut(Mt);return jsx($t,_extends({appear:dt,in:xt,nodeRef:Ot,onEnter:nr,onEntered:er,onEntering:Wt,onExit:ur,onExited:vr,onExiting:Kt,addEndListener:Er=>{lt&&lt(Ot.current,Er)},timeout:Pt},It,{children:(Er,Cr)=>reactExports.cloneElement(ot,_extends({style:_extends({transform:"scale(0)",visibility:Er==="exited"&&!xt?"hidden":void 0},styles[Er],Gt,ot.props.style),ref:Vt},Cr))}))}),Zoom$1=Zoom,Stack=createStack({createStyledComponent:styled$2("div",{name:"MuiStack",slot:"Root",overridesResolver:(et,tt)=>tt.root}),useThemeProps:et=>useThemeProps({props:et,name:"MuiStack"})}),Stack$1=Stack,_excluded$8=["anchor","classes","className","width","style"],SwipeAreaRoot=styled$2("div")(({theme:et,ownerState:tt})=>_extends({position:"fixed",top:0,left:0,bottom:0,zIndex:et.zIndex.drawer-1},tt.anchor==="left"&&{right:"auto"},tt.anchor==="right"&&{left:"auto",right:0},tt.anchor==="top"&&{bottom:"auto",right:0},tt.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),SwipeArea=reactExports.forwardRef(function(tt,rt){const{anchor:nt,classes:at={},className:lt,width:dt,style:ot}=tt,mt=_objectWithoutPropertiesLoose$1(tt,_excluded$8),xt=tt;return jsx(SwipeAreaRoot,_extends({className:clsx("PrivateSwipeArea-root",at.root,at[`anchor${capitalize(nt)}`],lt),ref:rt,style:_extends({[isHorizontal(nt)?"width":"height"]:dt},ot),ownerState:xt},mt))}),SwipeArea$1=SwipeArea,_excluded$7=["BackdropProps"],_excluded2=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],UNCERTAINTY_THRESHOLD=3,DRAG_STARTED_SIGNAL=20;let claimedSwipeInstance=null;function calculateCurrentX(et,tt,rt){return et==="right"?rt.body.offsetWidth-tt[0].pageX:tt[0].pageX}function calculateCurrentY(et,tt,rt){return et==="bottom"?rt.innerHeight-tt[0].clientY:tt[0].clientY}function getMaxTranslate(et,tt){return et?tt.clientWidth:tt.clientHeight}function getTranslate(et,tt,rt,nt){return Math.min(Math.max(rt?tt-et:nt+tt-et,0),nt)}function getDomTreeShapes(et,tt){const rt=[];for(;et&&et!==tt.parentElement;){const nt=ownerWindow(tt).getComputedStyle(et);nt.getPropertyValue("position")==="absolute"||nt.getPropertyValue("overflow-x")==="hidden"||(et.clientWidth>0&&et.scrollWidth>et.clientWidth||et.clientHeight>0&&et.scrollHeight>et.clientHeight)&&rt.push(et),et=et.parentElement}return rt}function computeHasNativeHandler({domTreeShapes:et,start:tt,current:rt,anchor:nt}){const at={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return et.some(lt=>{let dt=rt>=tt;(nt==="top"||nt==="left")&&(dt=!dt);const ot=nt==="left"||nt==="right"?"x":"y",mt=Math.round(lt[at.scrollPosition[ot]]),xt=mt>0,Et=mt+lt[at.clientLength[ot]]<lt[at.scrollLength[ot]];return!!(dt&&Et||!dt&&xt)})}const iOS=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),SwipeableDrawer=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps$1({name:"MuiSwipeableDrawer",props:tt}),at=useTheme(),lt={enter:at.transitions.duration.enteringScreen,exit:at.transitions.duration.leavingScreen},{anchor:dt="left",disableBackdropTransition:ot=!1,disableDiscovery:mt=!1,disableSwipeToOpen:xt=iOS,hideBackdrop:Et,hysteresis:At=.52,allowSwipeInChildren:Tt=!1,minFlingVelocity:Ft=450,ModalProps:{BackdropProps:Mt}={},onClose:Lt,onOpen:Gt,open:Pt=!1,PaperProps:$t={},SwipeAreaProps:It,swipeAreaWidth:Ot=20,transitionDuration:Vt=lt,variant:Ut="temporary"}=nt,Wt=_objectWithoutPropertiesLoose$1(nt.ModalProps,_excluded$7),nr=_objectWithoutPropertiesLoose$1(nt,_excluded2),[er,Kt]=reactExports.useState(!1),ur=reactExports.useRef({isSwiping:null}),vr=reactExports.useRef(),Lr=reactExports.useRef(),Er=reactExports.useRef(),Cr=useForkRef($t.ref,Er),hr=reactExports.useRef(!1),Tr=reactExports.useRef();useEnhancedEffect$1(()=>{Tr.current=null},[Pt]);const Xt=reactExports.useCallback((dr,Rr={})=>{const{mode:jr=null,changeTransition:Sr=!0}=Rr,dn=getAnchor(at,dt),Qr=["right","bottom"].indexOf(dn)!==-1?1:-1,gn=isHorizontal(dt),ln=gn?`translate(${Qr*dr}px, 0)`:`translate(0, ${Qr*dr}px)`,Kr=Er.current.style;Kr.webkitTransform=ln,Kr.transform=ln;let cn="";if(jr&&(cn=at.transitions.create("all",getTransitionProps({easing:void 0,style:void 0,timeout:Vt},{mode:jr}))),Sr&&(Kr.webkitTransition=cn,Kr.transition=cn),!ot&&!Et){const En=Lr.current.style;En.opacity=1-dr/getMaxTranslate(gn,Er.current),Sr&&(En.webkitTransition=cn,En.transition=cn)}},[dt,ot,Et,at,Vt]),Qt=useEventCallback(dr=>{if(!hr.current)return;if(claimedSwipeInstance=null,hr.current=!1,reactDomExports.flushSync(()=>{Kt(!1)}),!ur.current.isSwiping){ur.current.isSwiping=null;return}ur.current.isSwiping=null;const Rr=getAnchor(at,dt),jr=isHorizontal(dt);let Sr;jr?Sr=calculateCurrentX(Rr,dr.changedTouches,ownerDocument(dr.currentTarget)):Sr=calculateCurrentY(Rr,dr.changedTouches,ownerWindow(dr.currentTarget));const dn=jr?ur.current.startX:ur.current.startY,Qr=getMaxTranslate(jr,Er.current),gn=getTranslate(Sr,dn,Pt,Qr),ln=gn/Qr;if(Math.abs(ur.current.velocity)>Ft&&(Tr.current=Math.abs((Qr-gn)/ur.current.velocity)*1e3),Pt){ur.current.velocity>Ft||ln>At?Lt():Xt(0,{mode:"exit"});return}ur.current.velocity<-Ft||1-ln>At?Gt():Xt(getMaxTranslate(jr,Er.current),{mode:"enter"})}),lr=(dr=!1)=>{if(!er){(dr||!(mt&&Tt))&&reactDomExports.flushSync(()=>{Kt(!0)});const Rr=isHorizontal(dt);!Pt&&Er.current&&Xt(getMaxTranslate(Rr,Er.current)+(mt?15:-DRAG_STARTED_SIGNAL),{changeTransition:!1}),ur.current.velocity=0,ur.current.lastTime=null,ur.current.lastTranslate=null,ur.current.paperHit=!1,hr.current=!0}},cr=useEventCallback(dr=>{if(!Er.current||!hr.current||claimedSwipeInstance!==null&&claimedSwipeInstance!==ur.current)return;lr(!0);const Rr=getAnchor(at,dt),jr=isHorizontal(dt),Sr=calculateCurrentX(Rr,dr.touches,ownerDocument(dr.currentTarget)),dn=calculateCurrentY(Rr,dr.touches,ownerWindow(dr.currentTarget));if(Pt&&Er.current.contains(dr.target)&&claimedSwipeInstance===null){const cn=getDomTreeShapes(dr.target,Er.current);if(computeHasNativeHandler({domTreeShapes:cn,start:jr?ur.current.startX:ur.current.startY,current:jr?Sr:dn,anchor:dt})){claimedSwipeInstance=!0;return}claimedSwipeInstance=ur.current}if(ur.current.isSwiping==null){const cn=Math.abs(Sr-ur.current.startX),En=Math.abs(dn-ur.current.startY),yn=jr?cn>En&&cn>UNCERTAINTY_THRESHOLD:En>cn&&En>UNCERTAINTY_THRESHOLD;if(yn&&dr.cancelable&&dr.preventDefault(),yn===!0||(jr?En>UNCERTAINTY_THRESHOLD:cn>UNCERTAINTY_THRESHOLD)){if(ur.current.isSwiping=yn,!yn){Qt(dr);return}ur.current.startX=Sr,ur.current.startY=dn,!mt&&!Pt&&(jr?ur.current.startX-=DRAG_STARTED_SIGNAL:ur.current.startY-=DRAG_STARTED_SIGNAL)}}if(!ur.current.isSwiping)return;const Qr=getMaxTranslate(jr,Er.current);let gn=jr?ur.current.startX:ur.current.startY;Pt&&!ur.current.paperHit&&(gn=Math.min(gn,Qr));const ln=getTranslate(jr?Sr:dn,gn,Pt,Qr);if(Pt)if(ur.current.paperHit)ln===0&&(ur.current.startX=Sr,ur.current.startY=dn);else if(jr?Sr<Qr:dn<Qr)ur.current.paperHit=!0,ur.current.startX=Sr,ur.current.startY=dn;else return;ur.current.lastTranslate===null&&(ur.current.lastTranslate=ln,ur.current.lastTime=performance.now()+1);const Kr=(ln-ur.current.lastTranslate)/(performance.now()-ur.current.lastTime)*1e3;ur.current.velocity=ur.current.velocity*.4+Kr*.6,ur.current.lastTranslate=ln,ur.current.lastTime=performance.now(),dr.cancelable&&dr.preventDefault(),Xt(ln)}),sr=useEventCallback(dr=>{if(dr.defaultPrevented||dr.defaultMuiPrevented||Pt&&(Et||!Lr.current.contains(dr.target))&&!Er.current.contains(dr.target))return;const Rr=getAnchor(at,dt),jr=isHorizontal(dt),Sr=calculateCurrentX(Rr,dr.touches,ownerDocument(dr.currentTarget)),dn=calculateCurrentY(Rr,dr.touches,ownerWindow(dr.currentTarget));if(!Pt){var Qr;if(xt||!(dr.target===vr.current||(Qr=Er.current)!=null&&Qr.contains(dr.target)&&(typeof Tt=="function"?Tt(dr,vr.current,Er.current):Tt)))return;if(jr){if(Sr>Ot)return}else if(dn>Ot)return}dr.defaultMuiPrevented=!0,claimedSwipeInstance=null,ur.current.startX=Sr,ur.current.startY=dn,lr()});return reactExports.useEffect(()=>{if(Ut==="temporary"){const dr=ownerDocument(Er.current);return dr.addEventListener("touchstart",sr),dr.addEventListener("touchmove",cr,{passive:!Pt}),dr.addEventListener("touchend",Qt),()=>{dr.removeEventListener("touchstart",sr),dr.removeEventListener("touchmove",cr,{passive:!Pt}),dr.removeEventListener("touchend",Qt)}}},[Ut,Pt,sr,cr,Qt]),reactExports.useEffect(()=>()=>{claimedSwipeInstance===ur.current&&(claimedSwipeInstance=null)},[]),reactExports.useEffect(()=>{Pt||Kt(!1)},[Pt]),jsxs(reactExports.Fragment,{children:[jsx(Drawer$2,_extends({open:Ut==="temporary"&&er?!0:Pt,variant:Ut,ModalProps:_extends({BackdropProps:_extends({},Mt,{ref:Lr})},Ut==="temporary"&&{keepMounted:!0},Wt),hideBackdrop:Et,PaperProps:_extends({},$t,{style:_extends({pointerEvents:Ut==="temporary"&&!Pt&&!Tt?"none":""},$t.style),ref:Cr}),anchor:dt,transitionDuration:Tr.current||Vt,onClose:Lt,ref:rt},nr)),!xt&&Ut==="temporary"&&jsx(NoSsr,{children:jsx(SwipeArea$1,_extends({anchor:dt,ref:vr,width:Ot},It))})]})}),SwipeableDrawer$1=SwipeableDrawer;function getSwitchUtilityClass(et){return generateUtilityClass("MuiSwitch",et)}const switchClasses=generateUtilityClasses("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),switchClasses$1=switchClasses,_excluded$6=["className","color","edge","size","sx"],useUtilityClasses$4=et=>{const{classes:tt,edge:rt,size:nt,color:at,checked:lt,disabled:dt}=et,ot={root:["root",rt&&`edge${capitalize(rt)}`,`size${capitalize(nt)}`],switchBase:["switchBase",`color${capitalize(at)}`,lt&&"checked",dt&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},mt=composeClasses(ot,getSwitchUtilityClass,tt);return _extends({},tt,mt)},SwitchRoot=styled$2("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,rt.edge&&tt[`edge${capitalize(rt.edge)}`],tt[`size${capitalize(rt.size)}`]]}})(({ownerState:et})=>_extends({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},et.edge==="start"&&{marginLeft:-8},et.edge==="end"&&{marginRight:-8},et.size==="small"&&{width:40,height:24,padding:7,[`& .${switchClasses$1.thumb}`]:{width:16,height:16},[`& .${switchClasses$1.switchBase}`]:{padding:4,[`&.${switchClasses$1.checked}`]:{transform:"translateX(16px)"}}})),SwitchSwitchBase=styled$2(SwitchBase$1,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.switchBase,{[`& .${switchClasses$1.input}`]:tt.input},rt.color!=="default"&&tt[`color${capitalize(rt.color)}`]]}})(({theme:et})=>({position:"absolute",top:0,left:0,zIndex:1,color:et.vars?et.vars.palette.Switch.defaultColor:`${et.palette.mode==="light"?et.palette.common.white:et.palette.grey[300]}`,transition:et.transitions.create(["left","transform"],{duration:et.transitions.duration.shortest}),[`&.${switchClasses$1.checked}`]:{transform:"translateX(20px)"},[`&.${switchClasses$1.disabled}`]:{color:et.vars?et.vars.palette.Switch.defaultDisabledColor:`${et.palette.mode==="light"?et.palette.grey[100]:et.palette.grey[600]}`},[`&.${switchClasses$1.checked} + .${switchClasses$1.track}`]:{opacity:.5},[`&.${switchClasses$1.disabled} + .${switchClasses$1.track}`]:{opacity:et.vars?et.vars.opacity.switchTrackDisabled:`${et.palette.mode==="light"?.12:.2}`},[`& .${switchClasses$1.input}`]:{left:"-100%",width:"300%"}}),({theme:et,ownerState:tt})=>_extends({"&:hover":{backgroundColor:et.vars?`rgba(${et.vars.palette.action.activeChannel} / ${et.vars.palette.action.hoverOpacity})`:alpha(et.palette.action.active,et.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},tt.color!=="default"&&{[`&.${switchClasses$1.checked}`]:{color:(et.vars||et).palette[tt.color].main,"&:hover":{backgroundColor:et.vars?`rgba(${et.vars.palette[tt.color].mainChannel} / ${et.vars.palette.action.hoverOpacity})`:alpha(et.palette[tt.color].main,et.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${switchClasses$1.disabled}`]:{color:et.vars?et.vars.palette.Switch[`${tt.color}DisabledColor`]:`${et.palette.mode==="light"?lighten(et.palette[tt.color].main,.62):darken(et.palette[tt.color].main,.55)}`}},[`&.${switchClasses$1.checked} + .${switchClasses$1.track}`]:{backgroundColor:(et.vars||et).palette[tt.color].main}})),SwitchTrack=styled$2("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(et,tt)=>tt.track})(({theme:et})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:et.transitions.create(["opacity","background-color"],{duration:et.transitions.duration.shortest}),backgroundColor:et.vars?et.vars.palette.common.onBackground:`${et.palette.mode==="light"?et.palette.common.black:et.palette.common.white}`,opacity:et.vars?et.vars.opacity.switchTrack:`${et.palette.mode==="light"?.38:.3}`})),SwitchThumb=styled$2("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(et,tt)=>tt.thumb})(({theme:et})=>({boxShadow:(et.vars||et).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Switch=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiSwitch"}),{className:at,color:lt="primary",edge:dt=!1,size:ot="medium",sx:mt}=nt,xt=_objectWithoutPropertiesLoose$1(nt,_excluded$6),Et=_extends({},nt,{color:lt,edge:dt,size:ot}),At=useUtilityClasses$4(Et),Tt=jsx(SwitchThumb,{className:At.thumb,ownerState:Et});return jsxs(SwitchRoot,{className:clsx(At.root,at),sx:mt,ownerState:Et,children:[jsx(SwitchSwitchBase,_extends({type:"checkbox",icon:Tt,checkedIcon:Tt,ref:rt,ownerState:Et},xt,{classes:_extends({},At,{root:At.switchBase})})),jsx(SwitchTrack,{className:At.track,ownerState:Et})]})}),Switch$1=Switch;function getToolbarUtilityClass(et){return generateUtilityClass("MuiToolbar",et)}generateUtilityClasses("MuiToolbar",["root","gutters","regular","dense"]);const _excluded$5=["className","component","disableGutters","variant"],useUtilityClasses$3=et=>{const{classes:tt,disableGutters:rt,variant:nt}=et;return composeClasses({root:["root",!rt&&"gutters",nt]},getToolbarUtilityClass,tt)},ToolbarRoot=styled$2("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,!rt.disableGutters&&tt.gutters,tt[rt.variant]]}})(({theme:et,ownerState:tt})=>_extends({position:"relative",display:"flex",alignItems:"center"},!tt.disableGutters&&{paddingLeft:et.spacing(2),paddingRight:et.spacing(2),[et.breakpoints.up("sm")]:{paddingLeft:et.spacing(3),paddingRight:et.spacing(3)}},tt.variant==="dense"&&{minHeight:48}),({theme:et,ownerState:tt})=>tt.variant==="regular"&&et.mixins.toolbar),Toolbar=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiToolbar"}),{className:at,component:lt="div",disableGutters:dt=!1,variant:ot="regular"}=nt,mt=_objectWithoutPropertiesLoose$1(nt,_excluded$5),xt=_extends({},nt,{component:lt,disableGutters:dt,variant:ot}),Et=useUtilityClasses$3(xt);return jsx(ToolbarRoot,_extends({as:lt,className:clsx(Et.root,at),ref:rt,ownerState:xt},mt))}),Toolbar$1=Toolbar;function getTextFieldUtilityClass(et){return generateUtilityClass("MuiTextField",et)}generateUtilityClasses("MuiTextField",["root"]);const _excluded$4=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],variantComponent={standard:Input$1,filled:FilledInput$1,outlined:OutlinedInput$1},useUtilityClasses$2=et=>{const{classes:tt}=et;return composeClasses({root:["root"]},getTextFieldUtilityClass,tt)},TextFieldRoot=styled$2(FormControl$1,{name:"MuiTextField",slot:"Root",overridesResolver:(et,tt)=>tt.root})({}),TextField=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiTextField"}),{autoComplete:at,autoFocus:lt=!1,children:dt,className:ot,color:mt="primary",defaultValue:xt,disabled:Et=!1,error:At=!1,FormHelperTextProps:Tt,fullWidth:Ft=!1,helperText:Mt,id:Lt,InputLabelProps:Gt,inputProps:Pt,InputProps:$t,inputRef:It,label:Ot,maxRows:Vt,minRows:Ut,multiline:Wt=!1,name:nr,onBlur:er,onChange:Kt,onClick:ur,onFocus:vr,placeholder:Lr,required:Er=!1,rows:Cr,select:hr=!1,SelectProps:Tr,type:Xt,value:Qt,variant:lr="outlined"}=nt,cr=_objectWithoutPropertiesLoose$1(nt,_excluded$4),sr=_extends({},nt,{autoFocus:lt,color:mt,disabled:Et,error:At,fullWidth:Ft,multiline:Wt,required:Er,select:hr,variant:lr}),dr=useUtilityClasses$2(sr),Rr={};lr==="outlined"&&(Gt&&typeof Gt.shrink<"u"&&(Rr.notched=Gt.shrink),Rr.label=Ot),hr&&((!Tr||!Tr.native)&&(Rr.id=void 0),Rr["aria-describedby"]=void 0);const jr=useId(Lt),Sr=Mt&&jr?`${jr}-helper-text`:void 0,dn=Ot&&jr?`${jr}-label`:void 0,Qr=variantComponent[lr],gn=jsx(Qr,_extends({"aria-describedby":Sr,autoComplete:at,autoFocus:lt,defaultValue:xt,fullWidth:Ft,multiline:Wt,name:nr,rows:Cr,maxRows:Vt,minRows:Ut,type:Xt,value:Qt,id:jr,inputRef:It,onBlur:er,onChange:Kt,onFocus:vr,onClick:ur,placeholder:Lr,inputProps:Pt},Rr,$t));return jsxs(TextFieldRoot,_extends({className:clsx(dr.root,ot),disabled:Et,error:At,fullWidth:Ft,ref:rt,required:Er,color:mt,variant:lr,ownerState:sr},cr,{children:[Ot!=null&&Ot!==""&&jsx(InputLabel$1,_extends({htmlFor:jr,id:dn},Gt,{children:Ot})),hr?jsx(Select$1,_extends({"aria-describedby":Sr,id:jr,labelId:dn,value:Qt,input:gn},Tr,{children:dt})):gn,Mt&&jsx(FormHelperText$1,_extends({id:Sr},Tt,{children:Mt}))]}))}),TextField$1=TextField;function getToggleButtonUtilityClass(et){return generateUtilityClass("MuiToggleButton",et)}const toggleButtonClasses=generateUtilityClasses("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]),toggleButtonClasses$1=toggleButtonClasses,_excluded$3=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],useUtilityClasses$1=et=>{const{classes:tt,fullWidth:rt,selected:nt,disabled:at,size:lt,color:dt}=et,ot={root:["root",nt&&"selected",at&&"disabled",rt&&"fullWidth",`size${capitalize(lt)}`,dt]};return composeClasses(ot,getToggleButtonUtilityClass,tt)},ToggleButtonRoot=styled$2(ButtonBase$1,{name:"MuiToggleButton",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[tt.root,tt[`size${capitalize(rt.size)}`]]}})(({theme:et,ownerState:tt})=>{let rt=tt.color==="standard"?et.palette.text.primary:et.palette[tt.color].main,nt;return et.vars&&(rt=tt.color==="standard"?et.vars.palette.text.primary:et.vars.palette[tt.color].main,nt=tt.color==="standard"?et.vars.palette.text.primaryChannel:et.vars.palette[tt.color].mainChannel),_extends({},et.typography.button,{borderRadius:(et.vars||et).shape.borderRadius,padding:11,border:`1px solid ${(et.vars||et).palette.divider}`,color:(et.vars||et).palette.action.active},tt.fullWidth&&{width:"100%"},{[`&.${toggleButtonClasses$1.disabled}`]:{color:(et.vars||et).palette.action.disabled,border:`1px solid ${(et.vars||et).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:et.vars?`rgba(${et.vars.palette.text.primaryChannel} / ${et.vars.palette.action.hoverOpacity})`:alpha(et.palette.text.primary,et.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${toggleButtonClasses$1.selected}`]:{color:rt,backgroundColor:et.vars?`rgba(${nt} / ${et.vars.palette.action.selectedOpacity})`:alpha(rt,et.palette.action.selectedOpacity),"&:hover":{backgroundColor:et.vars?`rgba(${nt} / calc(${et.vars.palette.action.selectedOpacity} + ${et.vars.palette.action.hoverOpacity}))`:alpha(rt,et.palette.action.selectedOpacity+et.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:et.vars?`rgba(${nt} / ${et.vars.palette.action.selectedOpacity})`:alpha(rt,et.palette.action.selectedOpacity)}}}},tt.size==="small"&&{padding:7,fontSize:et.typography.pxToRem(13)},tt.size==="large"&&{padding:15,fontSize:et.typography.pxToRem(15)})}),ToggleButton=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiToggleButton"}),{children:at,className:lt,color:dt="standard",disabled:ot=!1,disableFocusRipple:mt=!1,fullWidth:xt=!1,onChange:Et,onClick:At,selected:Tt,size:Ft="medium",value:Mt}=nt,Lt=_objectWithoutPropertiesLoose$1(nt,_excluded$3),Gt=_extends({},nt,{color:dt,disabled:ot,disableFocusRipple:mt,fullWidth:xt,size:Ft}),Pt=useUtilityClasses$1(Gt),$t=It=>{At&&(At(It,Mt),It.defaultPrevented)||Et&&Et(It,Mt)};return jsx(ToggleButtonRoot,_extends({className:clsx(Pt.root,lt),disabled:ot,focusRipple:!mt,ref:rt,onClick:$t,onChange:Et,value:Mt,ownerState:Gt,"aria-pressed":Tt},Lt,{children:at}))}),ToggleButton$1=ToggleButton;function isValueSelected(et,tt){return tt===void 0||et===void 0?!1:Array.isArray(tt)?tt.indexOf(et)>=0:et===tt}function getToggleButtonGroupUtilityClass(et){return generateUtilityClass("MuiToggleButtonGroup",et)}const toggleButtonGroupClasses=generateUtilityClasses("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]),toggleButtonGroupClasses$1=toggleButtonGroupClasses,_excluded$2=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],useUtilityClasses=et=>{const{classes:tt,orientation:rt,fullWidth:nt,disabled:at}=et,lt={root:["root",rt==="vertical"&&"vertical",nt&&"fullWidth"],grouped:["grouped",`grouped${capitalize(rt)}`,at&&"disabled"]};return composeClasses(lt,getToggleButtonGroupUtilityClass,tt)},ToggleButtonGroupRoot=styled$2("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(et,tt)=>{const{ownerState:rt}=et;return[{[`& .${toggleButtonGroupClasses$1.grouped}`]:tt.grouped},{[`& .${toggleButtonGroupClasses$1.grouped}`]:tt[`grouped${capitalize(rt.orientation)}`]},tt.root,rt.orientation==="vertical"&&tt.vertical,rt.fullWidth&&tt.fullWidth]}})(({ownerState:et,theme:tt})=>_extends({display:"inline-flex",borderRadius:(tt.vars||tt).shape.borderRadius},et.orientation==="vertical"&&{flexDirection:"column"},et.fullWidth&&{width:"100%"},{[`& .${toggleButtonGroupClasses$1.grouped}`]:_extends({},et.orientation==="horizontal"?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${toggleButtonGroupClasses$1.selected} + .${toggleButtonGroupClasses$1.grouped}.${toggleButtonGroupClasses$1.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${toggleButtonGroupClasses$1.selected} + .${toggleButtonGroupClasses$1.grouped}.${toggleButtonGroupClasses$1.selected}`]:{borderTop:0,marginTop:0}})})),ToggleButtonGroup=reactExports.forwardRef(function(tt,rt){const nt=useThemeProps({props:tt,name:"MuiToggleButtonGroup"}),{children:at,className:lt,color:dt="standard",disabled:ot=!1,exclusive:mt=!1,fullWidth:xt=!1,onChange:Et,orientation:At="horizontal",size:Tt="medium",value:Ft}=nt,Mt=_objectWithoutPropertiesLoose$1(nt,_excluded$2),Lt=_extends({},nt,{disabled:ot,fullWidth:xt,orientation:At,size:Tt}),Gt=useUtilityClasses(Lt),Pt=(It,Ot)=>{if(!Et)return;const Vt=Ft&&Ft.indexOf(Ot);let Ut;Ft&&Vt>=0?(Ut=Ft.slice(),Ut.splice(Vt,1)):Ut=Ft?Ft.concat(Ot):[Ot],Et(It,Ut)},$t=(It,Ot)=>{Et&&Et(It,Ft===Ot?null:Ot)};return jsx(ToggleButtonGroupRoot,_extends({role:"group",className:clsx(Gt.root,lt),ref:rt,ownerState:Lt},Mt,{children:reactExports.Children.map(at,It=>reactExports.isValidElement(It)?reactExports.cloneElement(It,{className:clsx(Gt.grouped,It.props.className),onChange:mt?$t:Pt,selected:It.props.selected===void 0?isValueSelected(It.props.value,Ft):It.props.selected,size:It.props.size||Tt,fullWidth:xt,color:It.props.color||dt,disabled:It.props.disabled||ot}):null)}))}),ToggleButtonGroup$1=ToggleButtonGroup,HeaderWrapper=newStyled("div")(({theme:et})=>({width:"calc(100% - 2rem)",maxWidth:"444px",margin:"0 auto",position:"fixed",top:0,left:"50%",transform:"translate(-50%)",zIndex:10,color:et.palette.text.primary,"@media (max-width: 475px)":{width:"100%"},"& .MuiButton-text *":{color:`${grey$1[500]}`},"& .MuiButton-text.active *":{color:et.palette.primary.main},"& > header":{boxShadow:"none",backgroundImage:"none"},"& .MuiToolbar-root":{justifyContent:"space-between",alignItems:"flex-end",backgroundColor:et.palette.background.default,color:et.palette.text.primary},"& .MuiToolbar-root.centerToolbar":{alignItems:"center"},"& .MuiToolbar-root .header_nav_btn":{borderRadius:0},"& .MuiToolbar-root .right_section":{display:"flex",gap:1},"& .MuiToolbar-root .right_section .mainFn svg, & .MuiToolbar-root .mainFn svg":{aspectRatio:"1"}})),mainPrimary="#00A651",secondary="#ED6729",avatarColors=["#E58859","#5DA457","#9EBE62","#80BE91","#EAFDE6"];newStyled("div")(({theme:et})=>({height:"100%",backgroundColor:(et==null?void 0:et.palette.mode)==="light"?grey$1[100]:et==null?void 0:et.palette.background.default}));const Puller=newStyled(Box$1)(()=>({backgroundColor:mainPrimary,width:50,height:5,opacity:.3,borderRadius:3,position:"absolute",left:"calc(50% - 25px)",top:10})),UnDragBox=newStyled(Box$1)`
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
`,lightTheme=createTheme({palette:{mode:"light",primary:{main:mainPrimary},secondary:{main:secondary},background:{default:"#fff",paper:"#f5f5f5"}}}),darkTheme=createTheme({palette:{mode:"dark",primary:{main:mainPrimary},secondary:{main:secondary},background:{default:grey$1[900],paper:grey$1[800]}}}),StyledBox=newStyled(Box$1)(({theme:et})=>({backgroundColor:et.palette.background.default})),BACK_URL="https://api.wooyeons.site";function HeaderV3({headProp:et}){return jsx(HeaderWrapper,{style:{backgroundColor:et.bgColor},children:jsx(AppBar$1,{position:"fixed",sx:{backgroundColor:"inherit !important"},children:jsxs(Toolbar$1,{className:"centerToolbar",sx:{backgroundColor:"inherit !important","& *":{color:et.contentColor?et.contentColor+" !important":"inherit"}},children:[et.fn_L?jsx(IconButton$1,{onClick:et.fn_L,className:"mainFn",children:et.icon_L&&jsx(et.icon_L,{})}):jsx(Box$1,{width:34}),jsx(Typography$1,{variant:"subtitle2",children:et.menus[0].key}),et.fn_R?jsx(IconButton$1,{onClick:et.fn_R,className:"mainFn",children:et.icon_R&&jsx(et.icon_R,{})}):jsx(Box$1,{width:34})]})})})}function HeaderV2({headProp:et}){return jsx(HeaderWrapper,{children:jsx(AppBar$1,{position:"fixed",sx:{backgroundColor:et.bgColor},children:jsxs(Toolbar$1,{className:"centerToolbar",sx:{backgroundColor:et.bgColor,"& *":{color:et.contentColor?et.contentColor+" !important":"inherit"}},children:[jsx(Typography$1,{variant:"subtitle2",children:et.menus[0].key}),jsx(Box$1,{className:"right_section",children:jsx(IconButton$1,{onClick:et.fn_R,className:"mainFn",children:et.icon_R&&jsx(et.icon_R,{})})})]})})})}function Header({headProp:et,navigate:tt,setBtnText:rt}){const[nt,at]=reactExports.useState(0),lt=useLocation();et.headerType===void 0&&(et.headerType="V1");const dt=mt=>{const xt=et.menus.findIndex(Et=>Et.value===mt.value);et.isForward===!1&&nt<xt||(lt.pathname!=mt.value&&tt(mt.value),ot())},ot=()=>{lt.pathname==="/add-post"||lt.pathname,rt("다음")};return reactExports.useLayoutEffect(()=>{at(et.menus.findIndex(mt=>mt.value===lt.pathname))},[lt,et]),et.headerType==="V2"?jsx(HeaderV2,{headProp:et,navigate:tt}):et.headerType==="V3"?jsx(HeaderV3,{headProp:et,navigate:tt}):jsx(HeaderWrapper,{children:jsx(AppBar$1,{sx:{background:"none"},children:jsxs(Toolbar$1,{children:[jsx(Box$1,{children:et.menus.map(mt=>jsx(Button$1,{onClick:()=>dt(mt),className:`header_nav_btn ${mt.value===lt.pathname?"active":""}`,sx:{borderBottom:mt.value===lt.pathname?`2px solid ${mainPrimary}`:"2px solid #0000"},children:jsx(Typography$1,{variant:"subtitle2",color:mt.value===lt.pathname?"secondary":"primary",children:mt.key})},mt.key))}),jsxs(Box$1,{className:"right_section",children:[et.icon_L&&jsx(IconButton$1,{onClick:et.fn_L,className:"mainFn",children:jsx(et.icon_L,{})}),jsx(IconButton$1,{onClick:et.fn_R,className:"mainFn",children:et.icon_R&&jsx(et.icon_R,{})})]})]})})})}const StyledContainer=newStyled(Container$1)(({theme:et})=>({backgroundColor:et.palette.background.default}));createTheme({palette:{primary:{main:"#00A651"},secondary:{main:"#EEF1EE"}}});const SaveBtn=et=>{const[tt]=reactExports.useState("primary");return jsx(Button$1,{variant:"contained",color:tt,onClick:et.onClick,startIcon:et.isLoading&&jsx(CircularProgress$1,{sx:{color:"#fff"},size:16}),sx:{width:"100%",height:"3rem",borderRadius:4,fontWeight:600,boxShadow:"0 1px 3px rgba(0,0,0,0.12)",fontSize:20,zIndex:10},children:et.text})};var Subscribable=function(){function et(){this.listeners=[]}var tt=et.prototype;return tt.subscribe=function(nt){var at=this,lt=nt||function(){};return this.listeners.push(lt),this.onSubscribe(),function(){at.listeners=at.listeners.filter(function(dt){return dt!==lt}),at.onUnsubscribe()}},tt.hasListeners=function(){return this.listeners.length>0},tt.onSubscribe=function(){},tt.onUnsubscribe=function(){},et}(),isServer=typeof window>"u";function noop(){}function functionalUpdate(et,tt){return typeof et=="function"?et(tt):et}function isValidTimeout(et){return typeof et=="number"&&et>=0&&et!==1/0}function ensureQueryKeyArray(et){return Array.isArray(et)?et:[et]}function timeUntilStale(et,tt){return Math.max(et+(tt||0)-Date.now(),0)}function parseQueryArgs(et,tt,rt){return isQueryKey(et)?typeof tt=="function"?_extends({},rt,{queryKey:et,queryFn:tt}):_extends({},tt,{queryKey:et}):et}function parseMutationArgs(et,tt,rt){return isQueryKey(et)?typeof tt=="function"?_extends({},rt,{mutationKey:et,mutationFn:tt}):_extends({},tt,{mutationKey:et}):typeof et=="function"?_extends({},tt,{mutationFn:et}):_extends({},et)}function parseFilterArgs(et,tt,rt){return isQueryKey(et)?[_extends({},tt,{queryKey:et}),rt]:[et||{},tt]}function mapQueryStatusFilter(et,tt){if(et===!0&&tt===!0||et==null&&tt==null)return"all";if(et===!1&&tt===!1)return"none";var rt=et??!tt;return rt?"active":"inactive"}function matchQuery(et,tt){var rt=et.active,nt=et.exact,at=et.fetching,lt=et.inactive,dt=et.predicate,ot=et.queryKey,mt=et.stale;if(isQueryKey(ot)){if(nt){if(tt.queryHash!==hashQueryKeyByOptions(ot,tt.options))return!1}else if(!partialMatchKey(tt.queryKey,ot))return!1}var xt=mapQueryStatusFilter(rt,lt);if(xt==="none")return!1;if(xt!=="all"){var Et=tt.isActive();if(xt==="active"&&!Et||xt==="inactive"&&Et)return!1}return!(typeof mt=="boolean"&&tt.isStale()!==mt||typeof at=="boolean"&&tt.isFetching()!==at||dt&&!dt(tt))}function matchMutation(et,tt){var rt=et.exact,nt=et.fetching,at=et.predicate,lt=et.mutationKey;if(isQueryKey(lt)){if(!tt.options.mutationKey)return!1;if(rt){if(hashQueryKey(tt.options.mutationKey)!==hashQueryKey(lt))return!1}else if(!partialMatchKey(tt.options.mutationKey,lt))return!1}return!(typeof nt=="boolean"&&tt.state.status==="loading"!==nt||at&&!at(tt))}function hashQueryKeyByOptions(et,tt){var rt=(tt==null?void 0:tt.queryKeyHashFn)||hashQueryKey;return rt(et)}function hashQueryKey(et){var tt=ensureQueryKeyArray(et);return stableValueHash(tt)}function stableValueHash(et){return JSON.stringify(et,function(tt,rt){return isPlainObject(rt)?Object.keys(rt).sort().reduce(function(nt,at){return nt[at]=rt[at],nt},{}):rt})}function partialMatchKey(et,tt){return partialDeepEqual(ensureQueryKeyArray(et),ensureQueryKeyArray(tt))}function partialDeepEqual(et,tt){return et===tt?!0:typeof et!=typeof tt?!1:et&&tt&&typeof et=="object"&&typeof tt=="object"?!Object.keys(tt).some(function(rt){return!partialDeepEqual(et[rt],tt[rt])}):!1}function replaceEqualDeep(et,tt){if(et===tt)return et;var rt=Array.isArray(et)&&Array.isArray(tt);if(rt||isPlainObject(et)&&isPlainObject(tt)){for(var nt=rt?et.length:Object.keys(et).length,at=rt?tt:Object.keys(tt),lt=at.length,dt=rt?[]:{},ot=0,mt=0;mt<lt;mt++){var xt=rt?mt:at[mt];dt[xt]=replaceEqualDeep(et[xt],tt[xt]),dt[xt]===et[xt]&&ot++}return nt===lt&&ot===nt?et:dt}return tt}function shallowEqualObjects(et,tt){if(et&&!tt||tt&&!et)return!1;for(var rt in et)if(et[rt]!==tt[rt])return!1;return!0}function isPlainObject(et){if(!hasObjectPrototype(et))return!1;var tt=et.constructor;if(typeof tt>"u")return!0;var rt=tt.prototype;return!(!hasObjectPrototype(rt)||!rt.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(et){return Object.prototype.toString.call(et)==="[object Object]"}function isQueryKey(et){return typeof et=="string"||Array.isArray(et)}function sleep(et){return new Promise(function(tt){setTimeout(tt,et)})}function scheduleMicrotask(et){Promise.resolve().then(et).catch(function(tt){return setTimeout(function(){throw tt})})}function getAbortController(){if(typeof AbortController=="function")return new AbortController}var FocusManager=function(et){_inheritsLoose(tt,et);function tt(){var nt;return nt=et.call(this)||this,nt.setup=function(at){var lt;if(!isServer&&((lt=window)!=null&&lt.addEventListener)){var dt=function(){return at()};return window.addEventListener("visibilitychange",dt,!1),window.addEventListener("focus",dt,!1),function(){window.removeEventListener("visibilitychange",dt),window.removeEventListener("focus",dt)}}},nt}var rt=tt.prototype;return rt.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},rt.onUnsubscribe=function(){if(!this.hasListeners()){var at;(at=this.cleanup)==null||at.call(this),this.cleanup=void 0}},rt.setEventListener=function(at){var lt,dt=this;this.setup=at,(lt=this.cleanup)==null||lt.call(this),this.cleanup=at(function(ot){typeof ot=="boolean"?dt.setFocused(ot):dt.onFocus()})},rt.setFocused=function(at){this.focused=at,at&&this.onFocus()},rt.onFocus=function(){this.listeners.forEach(function(at){at()})},rt.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},tt}(Subscribable),focusManager=new FocusManager,OnlineManager=function(et){_inheritsLoose(tt,et);function tt(){var nt;return nt=et.call(this)||this,nt.setup=function(at){var lt;if(!isServer&&((lt=window)!=null&&lt.addEventListener)){var dt=function(){return at()};return window.addEventListener("online",dt,!1),window.addEventListener("offline",dt,!1),function(){window.removeEventListener("online",dt),window.removeEventListener("offline",dt)}}},nt}var rt=tt.prototype;return rt.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},rt.onUnsubscribe=function(){if(!this.hasListeners()){var at;(at=this.cleanup)==null||at.call(this),this.cleanup=void 0}},rt.setEventListener=function(at){var lt,dt=this;this.setup=at,(lt=this.cleanup)==null||lt.call(this),this.cleanup=at(function(ot){typeof ot=="boolean"?dt.setOnline(ot):dt.onOnline()})},rt.setOnline=function(at){this.online=at,at&&this.onOnline()},rt.onOnline=function(){this.listeners.forEach(function(at){at()})},rt.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},tt}(Subscribable),onlineManager=new OnlineManager;function defaultRetryDelay(et){return Math.min(1e3*Math.pow(2,et),3e4)}function isCancelable(et){return typeof(et==null?void 0:et.cancel)=="function"}var CancelledError=function(tt){this.revert=tt==null?void 0:tt.revert,this.silent=tt==null?void 0:tt.silent};function isCancelledError(et){return et instanceof CancelledError}var Retryer=function(tt){var rt=this,nt=!1,at,lt,dt,ot;this.abort=tt.abort,this.cancel=function(Tt){return at==null?void 0:at(Tt)},this.cancelRetry=function(){nt=!0},this.continueRetry=function(){nt=!1},this.continue=function(){return lt==null?void 0:lt()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(Tt,Ft){dt=Tt,ot=Ft});var mt=function(Ft){rt.isResolved||(rt.isResolved=!0,tt.onSuccess==null||tt.onSuccess(Ft),lt==null||lt(),dt(Ft))},xt=function(Ft){rt.isResolved||(rt.isResolved=!0,tt.onError==null||tt.onError(Ft),lt==null||lt(),ot(Ft))},Et=function(){return new Promise(function(Ft){lt=Ft,rt.isPaused=!0,tt.onPause==null||tt.onPause()}).then(function(){lt=void 0,rt.isPaused=!1,tt.onContinue==null||tt.onContinue()})},At=function Tt(){if(!rt.isResolved){var Ft;try{Ft=tt.fn()}catch(Mt){Ft=Promise.reject(Mt)}at=function(Lt){if(!rt.isResolved&&(xt(new CancelledError(Lt)),rt.abort==null||rt.abort(),isCancelable(Ft)))try{Ft.cancel()}catch{}},rt.isTransportCancelable=isCancelable(Ft),Promise.resolve(Ft).then(mt).catch(function(Mt){var Lt,Gt;if(!rt.isResolved){var Pt=(Lt=tt.retry)!=null?Lt:3,$t=(Gt=tt.retryDelay)!=null?Gt:defaultRetryDelay,It=typeof $t=="function"?$t(rt.failureCount,Mt):$t,Ot=Pt===!0||typeof Pt=="number"&&rt.failureCount<Pt||typeof Pt=="function"&&Pt(rt.failureCount,Mt);if(nt||!Ot){xt(Mt);return}rt.failureCount++,tt.onFail==null||tt.onFail(rt.failureCount,Mt),sleep(It).then(function(){if(!focusManager.isFocused()||!onlineManager.isOnline())return Et()}).then(function(){nt?xt(Mt):Tt()})}})}};At()},NotifyManager=function(){function et(){this.queue=[],this.transactions=0,this.notifyFn=function(rt){rt()},this.batchNotifyFn=function(rt){rt()}}var tt=et.prototype;return tt.batch=function(nt){var at;this.transactions++;try{at=nt()}finally{this.transactions--,this.transactions||this.flush()}return at},tt.schedule=function(nt){var at=this;this.transactions?this.queue.push(nt):scheduleMicrotask(function(){at.notifyFn(nt)})},tt.batchCalls=function(nt){var at=this;return function(){for(var lt=arguments.length,dt=new Array(lt),ot=0;ot<lt;ot++)dt[ot]=arguments[ot];at.schedule(function(){nt.apply(void 0,dt)})}},tt.flush=function(){var nt=this,at=this.queue;this.queue=[],at.length&&scheduleMicrotask(function(){nt.batchNotifyFn(function(){at.forEach(function(lt){nt.notifyFn(lt)})})})},tt.setNotifyFunction=function(nt){this.notifyFn=nt},tt.setBatchNotifyFunction=function(nt){this.batchNotifyFn=nt},et}(),notifyManager=new NotifyManager,logger$1=console;function getLogger(){return logger$1}function setLogger(et){logger$1=et}var Query=function(){function et(rt){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=rt.defaultOptions,this.setOptions(rt.options),this.observers=[],this.cache=rt.cache,this.queryKey=rt.queryKey,this.queryHash=rt.queryHash,this.initialState=rt.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=rt.meta,this.scheduleGc()}var tt=et.prototype;return tt.setOptions=function(nt){var at;this.options=_extends({},this.defaultOptions,nt),this.meta=nt==null?void 0:nt.meta,this.cacheTime=Math.max(this.cacheTime||0,(at=this.options.cacheTime)!=null?at:5*60*1e3)},tt.setDefaultOptions=function(nt){this.defaultOptions=nt},tt.scheduleGc=function(){var nt=this;this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){nt.optionalRemove()},this.cacheTime))},tt.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},tt.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},tt.setData=function(nt,at){var lt,dt,ot=this.state.data,mt=functionalUpdate(nt,ot);return(lt=(dt=this.options).isDataEqual)!=null&&lt.call(dt,ot,mt)?mt=ot:this.options.structuralSharing!==!1&&(mt=replaceEqualDeep(ot,mt)),this.dispatch({data:mt,type:"success",dataUpdatedAt:at==null?void 0:at.updatedAt}),mt},tt.setState=function(nt,at){this.dispatch({type:"setState",state:nt,setStateOptions:at})},tt.cancel=function(nt){var at,lt=this.promise;return(at=this.retryer)==null||at.cancel(nt),lt?lt.then(noop).catch(noop):Promise.resolve()},tt.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},tt.reset=function(){this.destroy(),this.setState(this.initialState)},tt.isActive=function(){return this.observers.some(function(nt){return nt.options.enabled!==!1})},tt.isFetching=function(){return this.state.isFetching},tt.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(nt){return nt.getCurrentResult().isStale})},tt.isStaleByTime=function(nt){return nt===void 0&&(nt=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,nt)},tt.onFocus=function(){var nt,at=this.observers.find(function(lt){return lt.shouldFetchOnWindowFocus()});at&&at.refetch(),(nt=this.retryer)==null||nt.continue()},tt.onOnline=function(){var nt,at=this.observers.find(function(lt){return lt.shouldFetchOnReconnect()});at&&at.refetch(),(nt=this.retryer)==null||nt.continue()},tt.addObserver=function(nt){this.observers.indexOf(nt)===-1&&(this.observers.push(nt),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:nt}))},tt.removeObserver=function(nt){this.observers.indexOf(nt)!==-1&&(this.observers=this.observers.filter(function(at){return at!==nt}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:nt}))},tt.getObserversCount=function(){return this.observers.length},tt.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},tt.fetch=function(nt,at){var lt=this,dt,ot,mt;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(at!=null&&at.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var xt;return(xt=this.retryer)==null||xt.continueRetry(),this.promise}}if(nt&&this.setOptions(nt),!this.options.queryFn){var Et=this.observers.find(function($t){return $t.options.queryFn});Et&&this.setOptions(Et.options)}var At=ensureQueryKeyArray(this.queryKey),Tt=getAbortController(),Ft={queryKey:At,pageParam:void 0,meta:this.meta};Object.defineProperty(Ft,"signal",{enumerable:!0,get:function(){if(Tt)return lt.abortSignalConsumed=!0,Tt.signal}});var Mt=function(){return lt.options.queryFn?(lt.abortSignalConsumed=!1,lt.options.queryFn(Ft)):Promise.reject("Missing queryFn")},Lt={fetchOptions:at,options:this.options,queryKey:At,state:this.state,fetchFn:Mt,meta:this.meta};if((dt=this.options.behavior)!=null&&dt.onFetch){var Gt;(Gt=this.options.behavior)==null||Gt.onFetch(Lt)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((ot=Lt.fetchOptions)==null?void 0:ot.meta)){var Pt;this.dispatch({type:"fetch",meta:(Pt=Lt.fetchOptions)==null?void 0:Pt.meta})}return this.retryer=new Retryer({fn:Lt.fetchFn,abort:Tt==null||(mt=Tt.abort)==null?void 0:mt.bind(Tt),onSuccess:function(It){lt.setData(It),lt.cache.config.onSuccess==null||lt.cache.config.onSuccess(It,lt),lt.cacheTime===0&&lt.optionalRemove()},onError:function(It){isCancelledError(It)&&It.silent||lt.dispatch({type:"error",error:It}),isCancelledError(It)||(lt.cache.config.onError==null||lt.cache.config.onError(It,lt),getLogger().error(It)),lt.cacheTime===0&&lt.optionalRemove()},onFail:function(){lt.dispatch({type:"failed"})},onPause:function(){lt.dispatch({type:"pause"})},onContinue:function(){lt.dispatch({type:"continue"})},retry:Lt.options.retry,retryDelay:Lt.options.retryDelay}),this.promise=this.retryer.promise,this.promise},tt.dispatch=function(nt){var at=this;this.state=this.reducer(this.state,nt),notifyManager.batch(function(){at.observers.forEach(function(lt){lt.onQueryUpdate(nt)}),at.cache.notify({query:at,type:"queryUpdated",action:nt})})},tt.getDefaultState=function(nt){var at=typeof nt.initialData=="function"?nt.initialData():nt.initialData,lt=typeof nt.initialData<"u",dt=lt?typeof nt.initialDataUpdatedAt=="function"?nt.initialDataUpdatedAt():nt.initialDataUpdatedAt:0,ot=typeof at<"u";return{data:at,dataUpdateCount:0,dataUpdatedAt:ot?dt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:ot?"success":"idle"}},tt.reducer=function(nt,at){var lt,dt;switch(at.type){case"failed":return _extends({},nt,{fetchFailureCount:nt.fetchFailureCount+1});case"pause":return _extends({},nt,{isPaused:!0});case"continue":return _extends({},nt,{isPaused:!1});case"fetch":return _extends({},nt,{fetchFailureCount:0,fetchMeta:(lt=at.meta)!=null?lt:null,isFetching:!0,isPaused:!1},!nt.dataUpdatedAt&&{error:null,status:"loading"});case"success":return _extends({},nt,{data:at.data,dataUpdateCount:nt.dataUpdateCount+1,dataUpdatedAt:(dt=at.dataUpdatedAt)!=null?dt:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var ot=at.error;return isCancelledError(ot)&&ot.revert&&this.revertState?_extends({},this.revertState):_extends({},nt,{error:ot,errorUpdateCount:nt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:nt.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return _extends({},nt,{isInvalidated:!0});case"setState":return _extends({},nt,at.state);default:return nt}},et}(),QueryCache=function(et){_inheritsLoose(tt,et);function tt(nt){var at;return at=et.call(this)||this,at.config=nt||{},at.queries=[],at.queriesMap={},at}var rt=tt.prototype;return rt.build=function(at,lt,dt){var ot,mt=lt.queryKey,xt=(ot=lt.queryHash)!=null?ot:hashQueryKeyByOptions(mt,lt),Et=this.get(xt);return Et||(Et=new Query({cache:this,queryKey:mt,queryHash:xt,options:at.defaultQueryOptions(lt),state:dt,defaultOptions:at.getQueryDefaults(mt),meta:lt.meta}),this.add(Et)),Et},rt.add=function(at){this.queriesMap[at.queryHash]||(this.queriesMap[at.queryHash]=at,this.queries.push(at),this.notify({type:"queryAdded",query:at}))},rt.remove=function(at){var lt=this.queriesMap[at.queryHash];lt&&(at.destroy(),this.queries=this.queries.filter(function(dt){return dt!==at}),lt===at&&delete this.queriesMap[at.queryHash],this.notify({type:"queryRemoved",query:at}))},rt.clear=function(){var at=this;notifyManager.batch(function(){at.queries.forEach(function(lt){at.remove(lt)})})},rt.get=function(at){return this.queriesMap[at]},rt.getAll=function(){return this.queries},rt.find=function(at,lt){var dt=parseFilterArgs(at,lt),ot=dt[0];return typeof ot.exact>"u"&&(ot.exact=!0),this.queries.find(function(mt){return matchQuery(ot,mt)})},rt.findAll=function(at,lt){var dt=parseFilterArgs(at,lt),ot=dt[0];return Object.keys(ot).length>0?this.queries.filter(function(mt){return matchQuery(ot,mt)}):this.queries},rt.notify=function(at){var lt=this;notifyManager.batch(function(){lt.listeners.forEach(function(dt){dt(at)})})},rt.onFocus=function(){var at=this;notifyManager.batch(function(){at.queries.forEach(function(lt){lt.onFocus()})})},rt.onOnline=function(){var at=this;notifyManager.batch(function(){at.queries.forEach(function(lt){lt.onOnline()})})},tt}(Subscribable),Mutation=function(){function et(rt){this.options=_extends({},rt.defaultOptions,rt.options),this.mutationId=rt.mutationId,this.mutationCache=rt.mutationCache,this.observers=[],this.state=rt.state||getDefaultState(),this.meta=rt.meta}var tt=et.prototype;return tt.setState=function(nt){this.dispatch({type:"setState",state:nt})},tt.addObserver=function(nt){this.observers.indexOf(nt)===-1&&this.observers.push(nt)},tt.removeObserver=function(nt){this.observers=this.observers.filter(function(at){return at!==nt})},tt.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(noop).catch(noop)):Promise.resolve()},tt.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},tt.execute=function(){var nt=this,at,lt=this.state.status==="loading",dt=Promise.resolve();return lt||(this.dispatch({type:"loading",variables:this.options.variables}),dt=dt.then(function(){nt.mutationCache.config.onMutate==null||nt.mutationCache.config.onMutate(nt.state.variables,nt)}).then(function(){return nt.options.onMutate==null?void 0:nt.options.onMutate(nt.state.variables)}).then(function(ot){ot!==nt.state.context&&nt.dispatch({type:"loading",context:ot,variables:nt.state.variables})})),dt.then(function(){return nt.executeMutation()}).then(function(ot){at=ot,nt.mutationCache.config.onSuccess==null||nt.mutationCache.config.onSuccess(at,nt.state.variables,nt.state.context,nt)}).then(function(){return nt.options.onSuccess==null?void 0:nt.options.onSuccess(at,nt.state.variables,nt.state.context)}).then(function(){return nt.options.onSettled==null?void 0:nt.options.onSettled(at,null,nt.state.variables,nt.state.context)}).then(function(){return nt.dispatch({type:"success",data:at}),at}).catch(function(ot){return nt.mutationCache.config.onError==null||nt.mutationCache.config.onError(ot,nt.state.variables,nt.state.context,nt),getLogger().error(ot),Promise.resolve().then(function(){return nt.options.onError==null?void 0:nt.options.onError(ot,nt.state.variables,nt.state.context)}).then(function(){return nt.options.onSettled==null?void 0:nt.options.onSettled(void 0,ot,nt.state.variables,nt.state.context)}).then(function(){throw nt.dispatch({type:"error",error:ot}),ot})})},tt.executeMutation=function(){var nt=this,at;return this.retryer=new Retryer({fn:function(){return nt.options.mutationFn?nt.options.mutationFn(nt.state.variables):Promise.reject("No mutationFn found")},onFail:function(){nt.dispatch({type:"failed"})},onPause:function(){nt.dispatch({type:"pause"})},onContinue:function(){nt.dispatch({type:"continue"})},retry:(at=this.options.retry)!=null?at:0,retryDelay:this.options.retryDelay}),this.retryer.promise},tt.dispatch=function(nt){var at=this;this.state=reducer(this.state,nt),notifyManager.batch(function(){at.observers.forEach(function(lt){lt.onMutationUpdate(nt)}),at.mutationCache.notify(at)})},et}();function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function reducer(et,tt){switch(tt.type){case"failed":return _extends({},et,{failureCount:et.failureCount+1});case"pause":return _extends({},et,{isPaused:!0});case"continue":return _extends({},et,{isPaused:!1});case"loading":return _extends({},et,{context:tt.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:tt.variables});case"success":return _extends({},et,{data:tt.data,error:null,status:"success",isPaused:!1});case"error":return _extends({},et,{data:void 0,error:tt.error,failureCount:et.failureCount+1,isPaused:!1,status:"error"});case"setState":return _extends({},et,tt.state);default:return et}}var MutationCache=function(et){_inheritsLoose(tt,et);function tt(nt){var at;return at=et.call(this)||this,at.config=nt||{},at.mutations=[],at.mutationId=0,at}var rt=tt.prototype;return rt.build=function(at,lt,dt){var ot=new Mutation({mutationCache:this,mutationId:++this.mutationId,options:at.defaultMutationOptions(lt),state:dt,defaultOptions:lt.mutationKey?at.getMutationDefaults(lt.mutationKey):void 0,meta:lt.meta});return this.add(ot),ot},rt.add=function(at){this.mutations.push(at),this.notify(at)},rt.remove=function(at){this.mutations=this.mutations.filter(function(lt){return lt!==at}),at.cancel(),this.notify(at)},rt.clear=function(){var at=this;notifyManager.batch(function(){at.mutations.forEach(function(lt){at.remove(lt)})})},rt.getAll=function(){return this.mutations},rt.find=function(at){return typeof at.exact>"u"&&(at.exact=!0),this.mutations.find(function(lt){return matchMutation(at,lt)})},rt.findAll=function(at){return this.mutations.filter(function(lt){return matchMutation(at,lt)})},rt.notify=function(at){var lt=this;notifyManager.batch(function(){lt.listeners.forEach(function(dt){dt(at)})})},rt.onFocus=function(){this.resumePausedMutations()},rt.onOnline=function(){this.resumePausedMutations()},rt.resumePausedMutations=function(){var at=this.mutations.filter(function(lt){return lt.state.isPaused});return notifyManager.batch(function(){return at.reduce(function(lt,dt){return lt.then(function(){return dt.continue().catch(noop)})},Promise.resolve())})},tt}(Subscribable);function infiniteQueryBehavior(){return{onFetch:function(tt){tt.fetchFn=function(){var rt,nt,at,lt,dt,ot,mt=(rt=tt.fetchOptions)==null||(nt=rt.meta)==null?void 0:nt.refetchPage,xt=(at=tt.fetchOptions)==null||(lt=at.meta)==null?void 0:lt.fetchMore,Et=xt==null?void 0:xt.pageParam,At=(xt==null?void 0:xt.direction)==="forward",Tt=(xt==null?void 0:xt.direction)==="backward",Ft=((dt=tt.state.data)==null?void 0:dt.pages)||[],Mt=((ot=tt.state.data)==null?void 0:ot.pageParams)||[],Lt=getAbortController(),Gt=Lt==null?void 0:Lt.signal,Pt=Mt,$t=!1,It=tt.options.queryFn||function(){return Promise.reject("Missing queryFn")},Ot=function(Er,Cr,hr,Tr){return Pt=Tr?[Cr].concat(Pt):[].concat(Pt,[Cr]),Tr?[hr].concat(Er):[].concat(Er,[hr])},Vt=function(Er,Cr,hr,Tr){if($t)return Promise.reject("Cancelled");if(typeof hr>"u"&&!Cr&&Er.length)return Promise.resolve(Er);var Xt={queryKey:tt.queryKey,signal:Gt,pageParam:hr,meta:tt.meta},Qt=It(Xt),lr=Promise.resolve(Qt).then(function(sr){return Ot(Er,hr,sr,Tr)});if(isCancelable(Qt)){var cr=lr;cr.cancel=Qt.cancel}return lr},Ut;if(!Ft.length)Ut=Vt([]);else if(At){var Wt=typeof Et<"u",nr=Wt?Et:getNextPageParam(tt.options,Ft);Ut=Vt(Ft,Wt,nr)}else if(Tt){var er=typeof Et<"u",Kt=er?Et:getPreviousPageParam(tt.options,Ft);Ut=Vt(Ft,er,Kt,!0)}else(function(){Pt=[];var Lr=typeof tt.options.getNextPageParam>"u",Er=mt&&Ft[0]?mt(Ft[0],0,Ft):!0;Ut=Er?Vt([],Lr,Mt[0]):Promise.resolve(Ot([],Mt[0],Ft[0]));for(var Cr=function(Xt){Ut=Ut.then(function(Qt){var lr=mt&&Ft[Xt]?mt(Ft[Xt],Xt,Ft):!0;if(lr){var cr=Lr?Mt[Xt]:getNextPageParam(tt.options,Qt);return Vt(Qt,Lr,cr)}return Promise.resolve(Ot(Qt,Mt[Xt],Ft[Xt]))})},hr=1;hr<Ft.length;hr++)Cr(hr)})();var ur=Ut.then(function(Lr){return{pages:Lr,pageParams:Pt}}),vr=ur;return vr.cancel=function(){$t=!0,Lt==null||Lt.abort(),isCancelable(Ut)&&Ut.cancel()},ur}}}}function getNextPageParam(et,tt){return et.getNextPageParam==null?void 0:et.getNextPageParam(tt[tt.length-1],tt)}function getPreviousPageParam(et,tt){return et.getPreviousPageParam==null?void 0:et.getPreviousPageParam(tt[0],tt)}var QueryClient=function(){function et(rt){rt===void 0&&(rt={}),this.queryCache=rt.queryCache||new QueryCache,this.mutationCache=rt.mutationCache||new MutationCache,this.defaultOptions=rt.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var tt=et.prototype;return tt.mount=function(){var nt=this;this.unsubscribeFocus=focusManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(nt.mutationCache.onFocus(),nt.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(function(){focusManager.isFocused()&&onlineManager.isOnline()&&(nt.mutationCache.onOnline(),nt.queryCache.onOnline())})},tt.unmount=function(){var nt,at;(nt=this.unsubscribeFocus)==null||nt.call(this),(at=this.unsubscribeOnline)==null||at.call(this)},tt.isFetching=function(nt,at){var lt=parseFilterArgs(nt,at),dt=lt[0];return dt.fetching=!0,this.queryCache.findAll(dt).length},tt.isMutating=function(nt){return this.mutationCache.findAll(_extends({},nt,{fetching:!0})).length},tt.getQueryData=function(nt,at){var lt;return(lt=this.queryCache.find(nt,at))==null?void 0:lt.state.data},tt.getQueriesData=function(nt){return this.getQueryCache().findAll(nt).map(function(at){var lt=at.queryKey,dt=at.state,ot=dt.data;return[lt,ot]})},tt.setQueryData=function(nt,at,lt){var dt=parseQueryArgs(nt),ot=this.defaultQueryOptions(dt);return this.queryCache.build(this,ot).setData(at,lt)},tt.setQueriesData=function(nt,at,lt){var dt=this;return notifyManager.batch(function(){return dt.getQueryCache().findAll(nt).map(function(ot){var mt=ot.queryKey;return[mt,dt.setQueryData(mt,at,lt)]})})},tt.getQueryState=function(nt,at){var lt;return(lt=this.queryCache.find(nt,at))==null?void 0:lt.state},tt.removeQueries=function(nt,at){var lt=parseFilterArgs(nt,at),dt=lt[0],ot=this.queryCache;notifyManager.batch(function(){ot.findAll(dt).forEach(function(mt){ot.remove(mt)})})},tt.resetQueries=function(nt,at,lt){var dt=this,ot=parseFilterArgs(nt,at,lt),mt=ot[0],xt=ot[1],Et=this.queryCache,At=_extends({},mt,{active:!0});return notifyManager.batch(function(){return Et.findAll(mt).forEach(function(Tt){Tt.reset()}),dt.refetchQueries(At,xt)})},tt.cancelQueries=function(nt,at,lt){var dt=this,ot=parseFilterArgs(nt,at,lt),mt=ot[0],xt=ot[1],Et=xt===void 0?{}:xt;typeof Et.revert>"u"&&(Et.revert=!0);var At=notifyManager.batch(function(){return dt.queryCache.findAll(mt).map(function(Tt){return Tt.cancel(Et)})});return Promise.all(At).then(noop).catch(noop)},tt.invalidateQueries=function(nt,at,lt){var dt,ot,mt,xt=this,Et=parseFilterArgs(nt,at,lt),At=Et[0],Tt=Et[1],Ft=_extends({},At,{active:(dt=(ot=At.refetchActive)!=null?ot:At.active)!=null?dt:!0,inactive:(mt=At.refetchInactive)!=null?mt:!1});return notifyManager.batch(function(){return xt.queryCache.findAll(At).forEach(function(Mt){Mt.invalidate()}),xt.refetchQueries(Ft,Tt)})},tt.refetchQueries=function(nt,at,lt){var dt=this,ot=parseFilterArgs(nt,at,lt),mt=ot[0],xt=ot[1],Et=notifyManager.batch(function(){return dt.queryCache.findAll(mt).map(function(Tt){return Tt.fetch(void 0,_extends({},xt,{meta:{refetchPage:mt==null?void 0:mt.refetchPage}}))})}),At=Promise.all(Et).then(noop);return xt!=null&&xt.throwOnError||(At=At.catch(noop)),At},tt.fetchQuery=function(nt,at,lt){var dt=parseQueryArgs(nt,at,lt),ot=this.defaultQueryOptions(dt);typeof ot.retry>"u"&&(ot.retry=!1);var mt=this.queryCache.build(this,ot);return mt.isStaleByTime(ot.staleTime)?mt.fetch(ot):Promise.resolve(mt.state.data)},tt.prefetchQuery=function(nt,at,lt){return this.fetchQuery(nt,at,lt).then(noop).catch(noop)},tt.fetchInfiniteQuery=function(nt,at,lt){var dt=parseQueryArgs(nt,at,lt);return dt.behavior=infiniteQueryBehavior(),this.fetchQuery(dt)},tt.prefetchInfiniteQuery=function(nt,at,lt){return this.fetchInfiniteQuery(nt,at,lt).then(noop).catch(noop)},tt.cancelMutations=function(){var nt=this,at=notifyManager.batch(function(){return nt.mutationCache.getAll().map(function(lt){return lt.cancel()})});return Promise.all(at).then(noop).catch(noop)},tt.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},tt.executeMutation=function(nt){return this.mutationCache.build(this,nt).execute()},tt.getQueryCache=function(){return this.queryCache},tt.getMutationCache=function(){return this.mutationCache},tt.getDefaultOptions=function(){return this.defaultOptions},tt.setDefaultOptions=function(nt){this.defaultOptions=nt},tt.setQueryDefaults=function(nt,at){var lt=this.queryDefaults.find(function(dt){return hashQueryKey(nt)===hashQueryKey(dt.queryKey)});lt?lt.defaultOptions=at:this.queryDefaults.push({queryKey:nt,defaultOptions:at})},tt.getQueryDefaults=function(nt){var at;return nt?(at=this.queryDefaults.find(function(lt){return partialMatchKey(nt,lt.queryKey)}))==null?void 0:at.defaultOptions:void 0},tt.setMutationDefaults=function(nt,at){var lt=this.mutationDefaults.find(function(dt){return hashQueryKey(nt)===hashQueryKey(dt.mutationKey)});lt?lt.defaultOptions=at:this.mutationDefaults.push({mutationKey:nt,defaultOptions:at})},tt.getMutationDefaults=function(nt){var at;return nt?(at=this.mutationDefaults.find(function(lt){return partialMatchKey(nt,lt.mutationKey)}))==null?void 0:at.defaultOptions:void 0},tt.defaultQueryOptions=function(nt){if(nt!=null&&nt._defaulted)return nt;var at=_extends({},this.defaultOptions.queries,this.getQueryDefaults(nt==null?void 0:nt.queryKey),nt,{_defaulted:!0});return!at.queryHash&&at.queryKey&&(at.queryHash=hashQueryKeyByOptions(at.queryKey,at)),at},tt.defaultQueryObserverOptions=function(nt){return this.defaultQueryOptions(nt)},tt.defaultMutationOptions=function(nt){return nt!=null&&nt._defaulted?nt:_extends({},this.defaultOptions.mutations,this.getMutationDefaults(nt==null?void 0:nt.mutationKey),nt,{_defaulted:!0})},tt.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},et}(),QueryObserver=function(et){_inheritsLoose(tt,et);function tt(nt,at){var lt;return lt=et.call(this)||this,lt.client=nt,lt.options=at,lt.trackedProps=[],lt.selectError=null,lt.bindMethods(),lt.setOptions(at),lt}var rt=tt.prototype;return rt.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},rt.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},rt.onUnsubscribe=function(){this.listeners.length||this.destroy()},rt.shouldFetchOnReconnect=function(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)},rt.shouldFetchOnWindowFocus=function(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},rt.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},rt.setOptions=function(at,lt){var dt=this.options,ot=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(at),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=dt.queryKey),this.updateQuery();var mt=this.hasListeners();mt&&shouldFetchOptionally(this.currentQuery,ot,this.options,dt)&&this.executeFetch(),this.updateResult(lt),mt&&(this.currentQuery!==ot||this.options.enabled!==dt.enabled||this.options.staleTime!==dt.staleTime)&&this.updateStaleTimeout();var xt=this.computeRefetchInterval();mt&&(this.currentQuery!==ot||this.options.enabled!==dt.enabled||xt!==this.currentRefetchInterval)&&this.updateRefetchInterval(xt)},rt.getOptimisticResult=function(at){var lt=this.client.defaultQueryObserverOptions(at),dt=this.client.getQueryCache().build(this.client,lt);return this.createResult(dt,lt)},rt.getCurrentResult=function(){return this.currentResult},rt.trackResult=function(at,lt){var dt=this,ot={},mt=function(Et){dt.trackedProps.includes(Et)||dt.trackedProps.push(Et)};return Object.keys(at).forEach(function(xt){Object.defineProperty(ot,xt,{configurable:!1,enumerable:!0,get:function(){return mt(xt),at[xt]}})}),(lt.useErrorBoundary||lt.suspense)&&mt("error"),ot},rt.getNextResult=function(at){var lt=this;return new Promise(function(dt,ot){var mt=lt.subscribe(function(xt){xt.isFetching||(mt(),xt.isError&&(at!=null&&at.throwOnError)?ot(xt.error):dt(xt))})})},rt.getCurrentQuery=function(){return this.currentQuery},rt.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},rt.refetch=function(at){return this.fetch(_extends({},at,{meta:{refetchPage:at==null?void 0:at.refetchPage}}))},rt.fetchOptimistic=function(at){var lt=this,dt=this.client.defaultQueryObserverOptions(at),ot=this.client.getQueryCache().build(this.client,dt);return ot.fetch().then(function(){return lt.createResult(ot,dt)})},rt.fetch=function(at){var lt=this;return this.executeFetch(at).then(function(){return lt.updateResult(),lt.currentResult})},rt.executeFetch=function(at){this.updateQuery();var lt=this.currentQuery.fetch(this.options,at);return at!=null&&at.throwOnError||(lt=lt.catch(noop)),lt},rt.updateStaleTimeout=function(){var at=this;if(this.clearStaleTimeout(),!(isServer||this.currentResult.isStale||!isValidTimeout(this.options.staleTime))){var lt=timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime),dt=lt+1;this.staleTimeoutId=setTimeout(function(){at.currentResult.isStale||at.updateResult()},dt)}},rt.computeRefetchInterval=function(){var at;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(at=this.options.refetchInterval)!=null?at:!1},rt.updateRefetchInterval=function(at){var lt=this;this.clearRefetchInterval(),this.currentRefetchInterval=at,!(isServer||this.options.enabled===!1||!isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(lt.options.refetchIntervalInBackground||focusManager.isFocused())&&lt.executeFetch()},this.currentRefetchInterval))},rt.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},rt.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},rt.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},rt.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},rt.createResult=function(at,lt){var dt=this.currentQuery,ot=this.options,mt=this.currentResult,xt=this.currentResultState,Et=this.currentResultOptions,At=at!==dt,Tt=At?at.state:this.currentQueryInitialState,Ft=At?this.currentResult:this.previousQueryResult,Mt=at.state,Lt=Mt.dataUpdatedAt,Gt=Mt.error,Pt=Mt.errorUpdatedAt,$t=Mt.isFetching,It=Mt.status,Ot=!1,Vt=!1,Ut;if(lt.optimisticResults){var Wt=this.hasListeners(),nr=!Wt&&shouldFetchOnMount(at,lt),er=Wt&&shouldFetchOptionally(at,dt,lt,ot);(nr||er)&&($t=!0,Lt||(It="loading"))}if(lt.keepPreviousData&&!Mt.dataUpdateCount&&(Ft!=null&&Ft.isSuccess)&&It!=="error")Ut=Ft.data,Lt=Ft.dataUpdatedAt,It=Ft.status,Ot=!0;else if(lt.select&&typeof Mt.data<"u")if(mt&&Mt.data===(xt==null?void 0:xt.data)&&lt.select===this.selectFn)Ut=this.selectResult;else try{this.selectFn=lt.select,Ut=lt.select(Mt.data),lt.structuralSharing!==!1&&(Ut=replaceEqualDeep(mt==null?void 0:mt.data,Ut)),this.selectResult=Ut,this.selectError=null}catch(vr){getLogger().error(vr),this.selectError=vr}else Ut=Mt.data;if(typeof lt.placeholderData<"u"&&typeof Ut>"u"&&(It==="loading"||It==="idle")){var Kt;if(mt!=null&&mt.isPlaceholderData&&lt.placeholderData===(Et==null?void 0:Et.placeholderData))Kt=mt.data;else if(Kt=typeof lt.placeholderData=="function"?lt.placeholderData():lt.placeholderData,lt.select&&typeof Kt<"u")try{Kt=lt.select(Kt),lt.structuralSharing!==!1&&(Kt=replaceEqualDeep(mt==null?void 0:mt.data,Kt)),this.selectError=null}catch(vr){getLogger().error(vr),this.selectError=vr}typeof Kt<"u"&&(It="success",Ut=Kt,Vt=!0)}this.selectError&&(Gt=this.selectError,Ut=this.selectResult,Pt=Date.now(),It="error");var ur={status:It,isLoading:It==="loading",isSuccess:It==="success",isError:It==="error",isIdle:It==="idle",data:Ut,dataUpdatedAt:Lt,error:Gt,errorUpdatedAt:Pt,failureCount:Mt.fetchFailureCount,errorUpdateCount:Mt.errorUpdateCount,isFetched:Mt.dataUpdateCount>0||Mt.errorUpdateCount>0,isFetchedAfterMount:Mt.dataUpdateCount>Tt.dataUpdateCount||Mt.errorUpdateCount>Tt.errorUpdateCount,isFetching:$t,isRefetching:$t&&It!=="loading",isLoadingError:It==="error"&&Mt.dataUpdatedAt===0,isPlaceholderData:Vt,isPreviousData:Ot,isRefetchError:It==="error"&&Mt.dataUpdatedAt!==0,isStale:isStale(at,lt),refetch:this.refetch,remove:this.remove};return ur},rt.shouldNotifyListeners=function(at,lt){if(!lt)return!0;var dt=this.options,ot=dt.notifyOnChangeProps,mt=dt.notifyOnChangePropsExclusions;if(!ot&&!mt||ot==="tracked"&&!this.trackedProps.length)return!0;var xt=ot==="tracked"?this.trackedProps:ot;return Object.keys(at).some(function(Et){var At=Et,Tt=at[At]!==lt[At],Ft=xt==null?void 0:xt.some(function(Lt){return Lt===Et}),Mt=mt==null?void 0:mt.some(function(Lt){return Lt===Et});return Tt&&!Mt&&(!xt||Ft)})},rt.updateResult=function(at){var lt=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!shallowEqualObjects(this.currentResult,lt)){var dt={cache:!0};(at==null?void 0:at.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,lt)&&(dt.listeners=!0),this.notify(_extends({},dt,at))}},rt.updateQuery=function(){var at=this.client.getQueryCache().build(this.client,this.options);if(at!==this.currentQuery){var lt=this.currentQuery;this.currentQuery=at,this.currentQueryInitialState=at.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(lt==null||lt.removeObserver(this),at.addObserver(this))}},rt.onQueryUpdate=function(at){var lt={};at.type==="success"?lt.onSuccess=!0:at.type==="error"&&!isCancelledError(at.error)&&(lt.onError=!0),this.updateResult(lt),this.hasListeners()&&this.updateTimers()},rt.notify=function(at){var lt=this;notifyManager.batch(function(){at.onSuccess?(lt.options.onSuccess==null||lt.options.onSuccess(lt.currentResult.data),lt.options.onSettled==null||lt.options.onSettled(lt.currentResult.data,null)):at.onError&&(lt.options.onError==null||lt.options.onError(lt.currentResult.error),lt.options.onSettled==null||lt.options.onSettled(void 0,lt.currentResult.error)),at.listeners&&lt.listeners.forEach(function(dt){dt(lt.currentResult)}),at.cache&&lt.client.getQueryCache().notify({query:lt.currentQuery,type:"observerResultsUpdated"})})},tt}(Subscribable);function shouldLoadOnMount(et,tt){return tt.enabled!==!1&&!et.state.dataUpdatedAt&&!(et.state.status==="error"&&tt.retryOnMount===!1)}function shouldFetchOnMount(et,tt){return shouldLoadOnMount(et,tt)||et.state.dataUpdatedAt>0&&shouldFetchOn(et,tt,tt.refetchOnMount)}function shouldFetchOn(et,tt,rt){if(tt.enabled!==!1){var nt=typeof rt=="function"?rt(et):rt;return nt==="always"||nt!==!1&&isStale(et,tt)}return!1}function shouldFetchOptionally(et,tt,rt,nt){return rt.enabled!==!1&&(et!==tt||nt.enabled===!1)&&(!rt.suspense||et.state.status!=="error")&&isStale(et,rt)}function isStale(et,tt){return et.isStaleByTime(tt.staleTime)}var MutationObserver$1=function(et){_inheritsLoose(tt,et);function tt(nt,at){var lt;return lt=et.call(this)||this,lt.client=nt,lt.setOptions(at),lt.bindMethods(),lt.updateResult(),lt}var rt=tt.prototype;return rt.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},rt.setOptions=function(at){this.options=this.client.defaultMutationOptions(at)},rt.onUnsubscribe=function(){if(!this.listeners.length){var at;(at=this.currentMutation)==null||at.removeObserver(this)}},rt.onMutationUpdate=function(at){this.updateResult();var lt={listeners:!0};at.type==="success"?lt.onSuccess=!0:at.type==="error"&&(lt.onError=!0),this.notify(lt)},rt.getCurrentResult=function(){return this.currentResult},rt.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},rt.mutate=function(at,lt){return this.mutateOptions=lt,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,_extends({},this.options,{variables:typeof at<"u"?at:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},rt.updateResult=function(){var at=this.currentMutation?this.currentMutation.state:getDefaultState(),lt=_extends({},at,{isLoading:at.status==="loading",isSuccess:at.status==="success",isError:at.status==="error",isIdle:at.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=lt},rt.notify=function(at){var lt=this;notifyManager.batch(function(){lt.mutateOptions&&(at.onSuccess?(lt.mutateOptions.onSuccess==null||lt.mutateOptions.onSuccess(lt.currentResult.data,lt.currentResult.variables,lt.currentResult.context),lt.mutateOptions.onSettled==null||lt.mutateOptions.onSettled(lt.currentResult.data,null,lt.currentResult.variables,lt.currentResult.context)):at.onError&&(lt.mutateOptions.onError==null||lt.mutateOptions.onError(lt.currentResult.error,lt.currentResult.variables,lt.currentResult.context),lt.mutateOptions.onSettled==null||lt.mutateOptions.onSettled(void 0,lt.currentResult.error,lt.currentResult.variables,lt.currentResult.context))),at.listeners&&lt.listeners.forEach(function(dt){dt(lt.currentResult)})})},tt}(Subscribable),unstable_batchedUpdates=ReactDOM.unstable_batchedUpdates;notifyManager.setBatchNotifyFunction(unstable_batchedUpdates);var logger=console;setLogger(logger);var defaultContext=React.createContext(void 0),QueryClientSharingContext=React.createContext(!1);function getQueryClientContext(et){return et&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext}var useQueryClient=function(){var tt=React.useContext(getQueryClientContext(React.useContext(QueryClientSharingContext)));if(!tt)throw new Error("No QueryClient set, use QueryClientProvider to set one");return tt},QueryClientProvider=function(tt){var rt=tt.client,nt=tt.contextSharing,at=nt===void 0?!1:nt,lt=tt.children;React.useEffect(function(){return rt.mount(),function(){rt.unmount()}},[rt]);var dt=getQueryClientContext(at);return React.createElement(QueryClientSharingContext.Provider,{value:at},React.createElement(dt.Provider,{value:rt},lt))};function createValue(){var et=!1;return{clearReset:function(){et=!1},reset:function(){et=!0},isReset:function(){return et}}}var QueryErrorResetBoundaryContext=React.createContext(createValue()),useQueryErrorResetBoundary=function(){return React.useContext(QueryErrorResetBoundaryContext)},QueryErrorResetBoundary=function(tt){var rt=tt.children,nt=React.useMemo(function(){return createValue()},[]);return React.createElement(QueryErrorResetBoundaryContext.Provider,{value:nt},typeof rt=="function"?rt(nt):rt)};function shouldThrowError(et,tt,rt){return typeof tt=="function"?tt.apply(void 0,rt):typeof tt=="boolean"?tt:!!et}function useMutation(et,tt,rt){var nt=React.useRef(!1),at=React.useState(0),lt=at[1],dt=parseMutationArgs(et,tt,rt),ot=useQueryClient(),mt=React.useRef();mt.current?mt.current.setOptions(dt):mt.current=new MutationObserver$1(ot,dt);var xt=mt.current.getCurrentResult();React.useEffect(function(){nt.current=!0;var At=mt.current.subscribe(notifyManager.batchCalls(function(){nt.current&&lt(function(Tt){return Tt+1})}));return function(){nt.current=!1,At()}},[]);var Et=React.useCallback(function(At,Tt){mt.current.mutate(At,Tt).catch(noop)},[]);if(xt.error&&shouldThrowError(void 0,mt.current.options.useErrorBoundary,[xt.error]))throw xt.error;return _extends({},xt,{mutate:Et,mutateAsync:xt.mutate})}function useBaseQuery(et,tt){var rt=React.useRef(!1),nt=React.useState(0),at=nt[1],lt=useQueryClient(),dt=useQueryErrorResetBoundary(),ot=lt.defaultQueryObserverOptions(et);ot.optimisticResults=!0,ot.onError&&(ot.onError=notifyManager.batchCalls(ot.onError)),ot.onSuccess&&(ot.onSuccess=notifyManager.batchCalls(ot.onSuccess)),ot.onSettled&&(ot.onSettled=notifyManager.batchCalls(ot.onSettled)),ot.suspense&&(typeof ot.staleTime!="number"&&(ot.staleTime=1e3),ot.cacheTime===0&&(ot.cacheTime=1)),(ot.suspense||ot.useErrorBoundary)&&(dt.isReset()||(ot.retryOnMount=!1));var mt=React.useState(function(){return new tt(lt,ot)}),xt=mt[0],Et=xt.getOptimisticResult(ot);if(React.useEffect(function(){rt.current=!0,dt.clearReset();var At=xt.subscribe(notifyManager.batchCalls(function(){rt.current&&at(function(Tt){return Tt+1})}));return xt.updateResult(),function(){rt.current=!1,At()}},[dt,xt]),React.useEffect(function(){xt.setOptions(ot,{listeners:!1})},[ot,xt]),ot.suspense&&Et.isLoading)throw xt.fetchOptimistic(ot).then(function(At){var Tt=At.data;ot.onSuccess==null||ot.onSuccess(Tt),ot.onSettled==null||ot.onSettled(Tt,null)}).catch(function(At){dt.clearReset(),ot.onError==null||ot.onError(At),ot.onSettled==null||ot.onSettled(void 0,At)});if(Et.isError&&!dt.isReset()&&!Et.isFetching&&shouldThrowError(ot.suspense,ot.useErrorBoundary,[Et.error,xt.getCurrentQuery()]))throw Et.error;return ot.notifyOnChangeProps==="tracked"&&(Et=xt.trackResult(Et,ot)),Et}function useQuery(et,tt,rt){var nt=parseQueryArgs(et,tt,rt);return useBaseQuery(nt,QueryObserver)}const Post=async et=>{const tt=new FormData;console.log("==== updated 24 ===="),console.log("photo: ",et.photo),tt.append("latitude",et.latitude),tt.append("longitude",et.longitude),tt.append("category",et.category),tt.append("content",et.content);for(const nt of et.photo||[])tt.append("file",nt.file);const rt=await fetch(`${BACK_URL}/post`,{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYjRmMDUxNTAtOGNiMC00NzVhLWIzYzYtZDM4MjM0OWM5NTNjIiwibmFtZSI6IuydtOuPhOqyvSIsImVtYWlsIjoiZG85OEBrYWthby5jb20iLCJyb2xlIjoiVVNFUiIsImlhdCI6MTY4NjExNDk1MSwiZXhwIjoxNjg2MjAxMzUxfQ.yHoGiXAFZt_a4A0RMyGVFC3kDvz1W8hjxfAHBDaG-_c"},body:tt}).then(nt=>nt.json());return console.log("res: ",rt),rt};function MainWrapper({isHeader:et}){const[tt,rt]=reactExports.useState({menus:[{key:"",value:""}],isForward:!0}),nt=useLocation(),at=useNavigate(),[lt,dt]=reactExports.useState({isFullWidth:!1,isNoneHeadPadding:!1,noneFullHeight:!1,scrollable:!1,isBtn:!1}),[ot,mt]=reactExports.useState(),[xt,Et]=reactExports.useState(!1),[At,Tt]=reactExports.useState("다음"),Ft={latitude:void 0,longitude:void 0,address:null,category:null,photo:[],content:""},[Mt,Lt]=reactExports.useState(Ft),[Gt,Pt]=reactExports.useState(!1),[$t,It]=reactExports.useState(""),Ot=nr=>{console.log("오호라 잘도 여기까지 왔군"),console.log(nr),Ut()},Vt=()=>{nt.pathname==="/add-post"?(Tt("다음"),at("/add-post/category")):nt.pathname==="/add-post/category"?(ot&&Tt("우연 등록하기"),ot&&at("/add-post/content"),ot||(Et(!0),console.log("흔들흔들 setShaking",xt))):Ot(Mt)},{mutate:Ut,isLoading:Wt}=useMutation("post",()=>Post(Mt),{onMutate:nr=>{console.log("onMutation: ",nr),console.log("isLoading: ",Wt),Pt(!0)},onError:nr=>{It(nr.message)},onSuccess:()=>{console.log("우연 등록하기 성공!"),at("/")},onSettled:()=>{Pt(!1),at("/")}});return jsxs(Fragment,{children:[et&&jsx(Header,{headProp:tt,navigate:at,setBtnText:Tt}),jsx(StyledContainer,{className:"globalContainer",maxWidth:"xs",sx:{pl:lt.isFullWidth?0:2,pr:lt.isFullWidth?0:2,"@media (min-width: 600px)":{pl:lt.isFullWidth?0:2,pr:lt.isFullWidth?0:2}},children:jsxs(Box$1,{sx:{maxHeight:"100vh",touchAction:"none",overflowX:lt.scrollable?"scroll":"hidden",height:lt.noneFullHeight?"auto":"100vh",pt:lt.isNoneHeadPadding?0:7,"@media (min-width: 600px)":{pt:lt.isNoneHeadPadding?0:8},pb:lt.isBtn?8:0},children:[jsx(Outlet,{context:{headOpt:tt,setHeadOpt:rt,navigate:at,setWrapperOpt:dt,setCategory:mt,shaking:xt,setShaking:Et,post:Mt,setPost:Lt}}),lt.isBtn&&jsx(Box$1,{sx:{width:"100%",maxWidth:"444px",margin:"auto",position:"fixed",bottom:0,px:3,pb:4},children:jsx(SaveBtn,{text:At,onClick:Vt,isLoading:Wt})})]})})]})}const style$1="";var lib$2={};function _interopRequireWildcard(et){if(et&&et.__esModule)return et;var tt={};if(et!=null){for(var rt in et)if(Object.prototype.hasOwnProperty.call(et,rt)){var nt=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(et,rt):{};nt.get||nt.set?Object.defineProperty(tt,rt,nt):tt[rt]=et[rt]}}return tt.default=et,tt}var interopRequireWildcard=_interopRequireWildcard,SwipeableViews$1={},interopRequireDefault$1,hasRequiredInteropRequireDefault$1;function requireInteropRequireDefault$1(){if(hasRequiredInteropRequireDefault$1)return interopRequireDefault$1;hasRequiredInteropRequireDefault$1=1;function et(tt){return tt&&tt.__esModule?tt:{default:tt}}return interopRequireDefault$1=et,interopRequireDefault$1}var _extends_1,hasRequired_extends;function require_extends(){if(hasRequired_extends)return _extends_1;hasRequired_extends=1;function et(){return _extends_1=et=Object.assign||function(tt){for(var rt=1;rt<arguments.length;rt++){var nt=arguments[rt];for(var at in nt)Object.prototype.hasOwnProperty.call(nt,at)&&(tt[at]=nt[at])}return tt},et.apply(this,arguments)}return _extends_1=et,_extends_1}var objectWithoutPropertiesLoose,hasRequiredObjectWithoutPropertiesLoose;function requireObjectWithoutPropertiesLoose(){if(hasRequiredObjectWithoutPropertiesLoose)return objectWithoutPropertiesLoose;hasRequiredObjectWithoutPropertiesLoose=1;function et(tt,rt){if(tt==null)return{};var nt={},at=Object.keys(tt),lt,dt;for(dt=0;dt<at.length;dt++)lt=at[dt],!(rt.indexOf(lt)>=0)&&(nt[lt]=tt[lt]);return nt}return objectWithoutPropertiesLoose=et,objectWithoutPropertiesLoose}var objectWithoutProperties,hasRequiredObjectWithoutProperties;function requireObjectWithoutProperties(){if(hasRequiredObjectWithoutProperties)return objectWithoutProperties;hasRequiredObjectWithoutProperties=1;var et=requireObjectWithoutPropertiesLoose();function tt(rt,nt){if(rt==null)return{};var at=et(rt,nt),lt,dt;if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(rt);for(dt=0;dt<ot.length;dt++)lt=ot[dt],!(nt.indexOf(lt)>=0)&&Object.prototype.propertyIsEnumerable.call(rt,lt)&&(at[lt]=rt[lt])}return at}return objectWithoutProperties=tt,objectWithoutProperties}var classCallCheck,hasRequiredClassCallCheck;function requireClassCallCheck(){if(hasRequiredClassCallCheck)return classCallCheck;hasRequiredClassCallCheck=1;function et(tt,rt){if(!(tt instanceof rt))throw new TypeError("Cannot call a class as a function")}return classCallCheck=et,classCallCheck}var createClass,hasRequiredCreateClass;function requireCreateClass(){if(hasRequiredCreateClass)return createClass;hasRequiredCreateClass=1;function et(rt,nt){for(var at=0;at<nt.length;at++){var lt=nt[at];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(rt,lt.key,lt)}}function tt(rt,nt,at){return nt&&et(rt.prototype,nt),at&&et(rt,at),rt}return createClass=tt,createClass}var _typeof_1,hasRequired_typeof;function require_typeof(){if(hasRequired_typeof)return _typeof_1;hasRequired_typeof=1;function et(rt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?et=function(at){return typeof at}:et=function(at){return at&&typeof Symbol=="function"&&at.constructor===Symbol&&at!==Symbol.prototype?"symbol":typeof at},et(rt)}function tt(rt){return typeof Symbol=="function"&&et(Symbol.iterator)==="symbol"?_typeof_1=tt=function(at){return et(at)}:_typeof_1=tt=function(at){return at&&typeof Symbol=="function"&&at.constructor===Symbol&&at!==Symbol.prototype?"symbol":et(at)},tt(rt)}return _typeof_1=tt,_typeof_1}var assertThisInitialized,hasRequiredAssertThisInitialized;function requireAssertThisInitialized(){if(hasRequiredAssertThisInitialized)return assertThisInitialized;hasRequiredAssertThisInitialized=1;function et(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}return assertThisInitialized=et,assertThisInitialized}var possibleConstructorReturn,hasRequiredPossibleConstructorReturn;function requirePossibleConstructorReturn(){if(hasRequiredPossibleConstructorReturn)return possibleConstructorReturn;hasRequiredPossibleConstructorReturn=1;var et=require_typeof(),tt=requireAssertThisInitialized();function rt(nt,at){return at&&(et(at)==="object"||typeof at=="function")?at:tt(nt)}return possibleConstructorReturn=rt,possibleConstructorReturn}var getPrototypeOf,hasRequiredGetPrototypeOf;function requireGetPrototypeOf(){if(hasRequiredGetPrototypeOf)return getPrototypeOf;hasRequiredGetPrototypeOf=1;function et(tt){return getPrototypeOf=et=Object.setPrototypeOf?Object.getPrototypeOf:function(nt){return nt.__proto__||Object.getPrototypeOf(nt)},et(tt)}return getPrototypeOf=et,getPrototypeOf}var setPrototypeOf,hasRequiredSetPrototypeOf;function requireSetPrototypeOf(){if(hasRequiredSetPrototypeOf)return setPrototypeOf;hasRequiredSetPrototypeOf=1;function et(tt,rt){return setPrototypeOf=et=Object.setPrototypeOf||function(at,lt){return at.__proto__=lt,at},et(tt,rt)}return setPrototypeOf=et,setPrototypeOf}var inherits,hasRequiredInherits;function requireInherits(){if(hasRequiredInherits)return inherits;hasRequiredInherits=1;var et=requireSetPrototypeOf();function tt(rt,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function");rt.prototype=Object.create(nt&&nt.prototype,{constructor:{value:rt,writable:!0,configurable:!0}}),nt&&et(rt,nt)}return inherits=tt,inherits}var warning_1,hasRequiredWarning;function requireWarning(){if(hasRequiredWarning)return warning_1;hasRequiredWarning=1;var et=function(){};return warning_1=et,warning_1}var lib$1={},interopRequireDefault,hasRequiredInteropRequireDefault;function requireInteropRequireDefault(){if(hasRequiredInteropRequireDefault)return interopRequireDefault;hasRequiredInteropRequireDefault=1;function et(tt){return tt&&tt.__esModule?tt:{default:tt}}return interopRequireDefault=et,interopRequireDefault}var checkIndexBounds={},hasRequiredCheckIndexBounds;function requireCheckIndexBounds(){if(hasRequiredCheckIndexBounds)return checkIndexBounds;hasRequiredCheckIndexBounds=1;var et=requireInteropRequireDefault();Object.defineProperty(checkIndexBounds,"__esModule",{value:!0}),checkIndexBounds.default=void 0;var tt=et(reactExports);et(requireWarning());var rt=function(lt){lt.index;var dt=lt.children;tt.default.Children.count(dt)},nt=rt;return checkIndexBounds.default=nt,checkIndexBounds}var computeIndex={},constant={},hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant;hasRequiredConstant=1,Object.defineProperty(constant,"__esModule",{value:!0}),constant.default=void 0;var et={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3};return constant.default=et,constant}var hasRequiredComputeIndex;function requireComputeIndex(){if(hasRequiredComputeIndex)return computeIndex;hasRequiredComputeIndex=1;var et=requireInteropRequireDefault();Object.defineProperty(computeIndex,"__esModule",{value:!0}),computeIndex.default=nt;var tt=et(reactExports),rt=et(requireConstant());function nt(at){var lt=at.children,dt=at.startIndex,ot=at.startX,mt=at.pageX,xt=at.viewLength,Et=at.resistance,At=tt.default.Children.count(lt)-1,Tt=dt+(ot-mt)/xt,Ft;return Et?Tt<0?Tt=Math.exp(Tt*rt.default.RESISTANCE_COEF)-1:Tt>At&&(Tt=At+1-Math.exp((At-Tt)*rt.default.RESISTANCE_COEF)):Tt<0?(Tt=0,Ft=(Tt-dt)*xt+mt):Tt>At&&(Tt=At,Ft=(Tt-dt)*xt+mt),{index:Tt,startX:Ft}}return computeIndex}var getDisplaySameSlide={},hasRequiredGetDisplaySameSlide;function requireGetDisplaySameSlide(){if(hasRequiredGetDisplaySameSlide)return getDisplaySameSlide;hasRequiredGetDisplaySameSlide=1;var et=requireInteropRequireDefault();Object.defineProperty(getDisplaySameSlide,"__esModule",{value:!0}),getDisplaySameSlide.default=void 0;var tt=et(reactExports),rt=function(lt,dt){var ot=!1,mt=function(Mt){return Mt?Mt.key:"empty"};if(lt.children.length&&dt.children.length){var xt=tt.default.Children.map(lt.children,mt),Et=xt[lt.index];if(Et!=null){var At=tt.default.Children.map(dt.children,mt),Tt=At[dt.index];Et===Tt&&(ot=!0)}}return ot},nt=rt;return getDisplaySameSlide.default=nt,getDisplaySameSlide}var mod={},hasRequiredMod;function requireMod(){if(hasRequiredMod)return mod;hasRequiredMod=1,Object.defineProperty(mod,"__esModule",{value:!0}),mod.default=void 0;function et(rt,nt){var at=rt%nt;return at<0?at+nt:at}var tt=et;return mod.default=tt,mod}var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,function(et){var tt=requireInteropRequireDefault();Object.defineProperty(et,"__esModule",{value:!0}),Object.defineProperty(et,"checkIndexBounds",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(et,"computeIndex",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(et,"constant",{enumerable:!0,get:function(){return at.default}}),Object.defineProperty(et,"getDisplaySameSlide",{enumerable:!0,get:function(){return lt.default}}),Object.defineProperty(et,"mod",{enumerable:!0,get:function(){return dt.default}});var rt=tt(requireCheckIndexBounds()),nt=tt(requireComputeIndex()),at=tt(requireConstant()),lt=tt(requireGetDisplaySameSlide()),dt=tt(requireMod())}(lib$1)),lib$1}var hasRequiredSwipeableViews;function requireSwipeableViews(){if(hasRequiredSwipeableViews)return SwipeableViews$1;hasRequiredSwipeableViews=1;var et=interopRequireWildcard,tt=requireInteropRequireDefault$1();Object.defineProperty(SwipeableViews$1,"__esModule",{value:!0}),SwipeableViews$1.getDomTreeShapes=Pt,SwipeableViews$1.findNativeHandler=It,SwipeableViews$1.default=SwipeableViews$1.SwipeableViewsContext=void 0;var rt=tt(require_extends()),nt=tt(requireObjectWithoutProperties()),at=tt(requireClassCallCheck()),lt=tt(requireCreateClass()),dt=tt(requirePossibleConstructorReturn()),ot=tt(requireGetPrototypeOf()),mt=tt(requireInherits()),xt=et(reactExports);tt(propTypesExports),tt(requireWarning());var Et=requireLib();function At(Wt,nr,er,Kt){return Wt.addEventListener(nr,er,Kt),{remove:function(){Wt.removeEventListener(nr,er,Kt)}}}var Tt={container:{direction:"ltr",display:"flex",willChange:"transform"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},Ft={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(nr){return"translate(".concat(-nr,"%, 0)")},"x-reverse":function(nr){return"translate(".concat(nr,"%, 0)")},y:function(nr){return"translate(0, ".concat(-nr,"%)")},"y-reverse":function(nr){return"translate(0, ".concat(nr,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function Mt(Wt,nr){var er=nr.duration,Kt=nr.easeFunction,ur=nr.delay;return"".concat(Wt," ").concat(er," ").concat(Kt," ").concat(ur)}function Lt(Wt,nr){var er=Ft.rotationMatrix[nr];return{pageX:er.x[0]*Wt.pageX+er.x[1]*Wt.pageY,pageY:er.y[0]*Wt.pageX+er.y[1]*Wt.pageY}}function Gt(Wt){return Wt.touches=[{pageX:Wt.pageX,pageY:Wt.pageY}],Wt}function Pt(Wt,nr){for(var er=[];Wt&&Wt!==nr&&Wt!==document.body&&!Wt.hasAttribute("data-swipeable");){var Kt=window.getComputedStyle(Wt);Kt.getPropertyValue("position")==="absolute"||Kt.getPropertyValue("overflow-x")==="hidden"?er=[]:(Wt.clientWidth>0&&Wt.scrollWidth>Wt.clientWidth||Wt.clientHeight>0&&Wt.scrollHeight>Wt.clientHeight)&&er.push({element:Wt,scrollWidth:Wt.scrollWidth,scrollHeight:Wt.scrollHeight,clientWidth:Wt.clientWidth,clientHeight:Wt.clientHeight,scrollLeft:Wt.scrollLeft,scrollTop:Wt.scrollTop}),Wt=Wt.parentNode}return er}var $t=null;function It(Wt){var nr=Wt.domTreeShapes,er=Wt.pageX,Kt=Wt.startX,ur=Wt.axis;return nr.some(function(vr){var Lr=er>=Kt;(ur==="x"||ur==="y")&&(Lr=!Lr);var Er=Math.round(vr[Ft.scrollPosition[ur]]),Cr=Er>0,hr=Er+vr[Ft.clientLength[ur]]<vr[Ft.scrollLength[ur]];return Lr&&hr||!Lr&&Cr?($t=vr.element,!0):!1})}var Ot=xt.createContext();SwipeableViews$1.SwipeableViewsContext=Ot;var Vt=function(Wt){(0,mt.default)(nr,Wt);function nr(er){var Kt;return(0,at.default)(this,nr),Kt=(0,dt.default)(this,(0,ot.default)(nr).call(this,er)),Kt.rootNode=null,Kt.containerNode=null,Kt.ignoreNextScrollEvents=!1,Kt.viewLength=0,Kt.startX=0,Kt.lastX=0,Kt.vx=0,Kt.startY=0,Kt.isSwiping=void 0,Kt.started=!1,Kt.startIndex=0,Kt.transitionListener=null,Kt.touchMoveListener=null,Kt.activeSlide=null,Kt.indexCurrent=null,Kt.firstRenderTimeout=null,Kt.setRootNode=function(ur){Kt.rootNode=ur},Kt.setContainerNode=function(ur){Kt.containerNode=ur},Kt.setActiveSlide=function(ur){Kt.activeSlide=ur,Kt.updateHeight()},Kt.handleSwipeStart=function(ur){var vr=Kt.props.axis,Lr=Lt(ur.touches[0],vr);Kt.viewLength=Kt.rootNode.getBoundingClientRect()[Ft.length[vr]],Kt.startX=Lr.pageX,Kt.lastX=Lr.pageX,Kt.vx=0,Kt.startY=Lr.pageY,Kt.isSwiping=void 0,Kt.started=!0;var Er=window.getComputedStyle(Kt.containerNode),Cr=Er.getPropertyValue("-webkit-transform")||Er.getPropertyValue("transform");if(Cr&&Cr!=="none"){var hr=Cr.split("(")[1].split(")")[0].split(","),Tr=window.getComputedStyle(Kt.rootNode),Xt=Lt({pageX:parseInt(hr[4],10),pageY:parseInt(hr[5],10)},vr);Kt.startIndex=-Xt.pageX/(Kt.viewLength-parseInt(Tr.paddingLeft,10)-parseInt(Tr.paddingRight,10))||0}},Kt.handleSwipeMove=function(ur){if(!Kt.started){Kt.handleTouchStart(ur);return}if(!($t!==null&&$t!==Kt.rootNode)){var vr=Kt.props,Lr=vr.axis,Er=vr.children,Cr=vr.ignoreNativeScroll,hr=vr.onSwitching,Tr=vr.resistance,Xt=Lt(ur.touches[0],Lr);if(Kt.isSwiping===void 0){var Qt=Math.abs(Xt.pageX-Kt.startX),lr=Math.abs(Xt.pageY-Kt.startY),cr=Qt>lr&&Qt>Et.constant.UNCERTAINTY_THRESHOLD;if(!Tr&&(Lr==="y"||Lr==="y-reverse")&&(Kt.indexCurrent===0&&Kt.startX<Xt.pageX||Kt.indexCurrent===xt.Children.count(Kt.props.children)-1&&Kt.startX>Xt.pageX)){Kt.isSwiping=!1;return}if(Qt>lr&&ur.preventDefault(),cr===!0||lr>Et.constant.UNCERTAINTY_THRESHOLD){Kt.isSwiping=cr,Kt.startX=Xt.pageX;return}}if(Kt.isSwiping===!0){ur.preventDefault(),Kt.vx=Kt.vx*.5+(Xt.pageX-Kt.lastX)*.5,Kt.lastX=Xt.pageX;var sr=(0,Et.computeIndex)({children:Er,resistance:Tr,pageX:Xt.pageX,startIndex:Kt.startIndex,startX:Kt.startX,viewLength:Kt.viewLength}),dr=sr.index,Rr=sr.startX;if($t===null&&!Cr){var jr=Pt(ur.target,Kt.rootNode),Sr=It({domTreeShapes:jr,startX:Kt.startX,pageX:Xt.pageX,axis:Lr});if(Sr)return}Rr?Kt.startX=Rr:$t===null&&($t=Kt.rootNode),Kt.setIndexCurrent(dr);var dn=function(){hr&&hr(dr,"move")};(Kt.state.displaySameSlide||!Kt.state.isDragging)&&Kt.setState({displaySameSlide:!1,isDragging:!0},dn),dn()}}},Kt.handleSwipeEnd=function(){if($t=null,!!Kt.started&&(Kt.started=!1,Kt.isSwiping===!0)){var ur=Kt.state.indexLatest,vr=Kt.indexCurrent,Lr=ur-vr,Er;Math.abs(Kt.vx)>Kt.props.threshold?Kt.vx>0?Er=Math.floor(vr):Er=Math.ceil(vr):Math.abs(Lr)>Kt.props.hysteresis?Er=Lr>0?Math.floor(vr):Math.ceil(vr):Er=ur;var Cr=xt.Children.count(Kt.props.children)-1;Er<0?Er=0:Er>Cr&&(Er=Cr),Kt.setIndexCurrent(Er),Kt.setState({indexLatest:Er,isDragging:!1},function(){Kt.props.onSwitching&&Kt.props.onSwitching(Er,"end"),Kt.props.onChangeIndex&&Er!==ur&&Kt.props.onChangeIndex(Er,ur,{reason:"swipe"}),vr===ur&&Kt.handleTransitionEnd()})}},Kt.handleTouchStart=function(ur){Kt.props.onTouchStart&&Kt.props.onTouchStart(ur),Kt.handleSwipeStart(ur)},Kt.handleTouchEnd=function(ur){Kt.props.onTouchEnd&&Kt.props.onTouchEnd(ur),Kt.handleSwipeEnd(ur)},Kt.handleMouseDown=function(ur){Kt.props.onMouseDown&&Kt.props.onMouseDown(ur),ur.persist(),Kt.handleSwipeStart(Gt(ur))},Kt.handleMouseUp=function(ur){Kt.props.onMouseUp&&Kt.props.onMouseUp(ur),Kt.handleSwipeEnd(Gt(ur))},Kt.handleMouseLeave=function(ur){Kt.props.onMouseLeave&&Kt.props.onMouseLeave(ur),Kt.started&&Kt.handleSwipeEnd(Gt(ur))},Kt.handleMouseMove=function(ur){Kt.props.onMouseMove&&Kt.props.onMouseMove(ur),Kt.started&&Kt.handleSwipeMove(Gt(ur))},Kt.handleScroll=function(ur){if(Kt.props.onScroll&&Kt.props.onScroll(ur),ur.target===Kt.rootNode){if(Kt.ignoreNextScrollEvents){Kt.ignoreNextScrollEvents=!1;return}var vr=Kt.state.indexLatest,Lr=Math.ceil(ur.target.scrollLeft/ur.target.clientWidth)+vr;Kt.ignoreNextScrollEvents=!0,ur.target.scrollLeft=0,Kt.props.onChangeIndex&&Lr!==vr&&Kt.props.onChangeIndex(Lr,vr,{reason:"focus"})}},Kt.updateHeight=function(){if(Kt.activeSlide!==null){var ur=Kt.activeSlide.children[0];ur!==void 0&&ur.offsetHeight!==void 0&&Kt.state.heightLatest!==ur.offsetHeight&&Kt.setState({heightLatest:ur.offsetHeight})}},Kt.state={indexLatest:er.index,isDragging:!1,renderOnlyActive:!er.disableLazyLoading,heightLatest:0,displaySameSlide:!0},Kt.setIndexCurrent(er.index),Kt}return(0,lt.default)(nr,[{key:"componentDidMount",value:function(){var Kt=this;this.transitionListener=At(this.containerNode,"transitionend",function(ur){ur.target===Kt.containerNode&&Kt.handleTransitionEnd()}),this.touchMoveListener=At(this.rootNode,"touchmove",function(ur){Kt.props.disabled||Kt.handleSwipeMove(ur)},{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout(function(){Kt.setState({renderOnlyActive:!1})},0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(Kt){var ur=Kt.index;typeof ur=="number"&&ur!==this.props.index&&(this.setIndexCurrent(ur),this.setState({displaySameSlide:(0,Et.getDisplaySameSlide)(this.props,Kt),indexLatest:ur}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"getSwipeableViewsContext",value:function(){var Kt=this;return{slideUpdateHeight:function(){Kt.updateHeight()}}}},{key:"setIndexCurrent",value:function(Kt){if(!this.props.animateTransitions&&this.indexCurrent!==Kt&&this.handleTransitionEnd(),this.indexCurrent=Kt,this.containerNode){var ur=this.props.axis,vr=Ft.transform[ur](Kt*100);this.containerNode.style.WebkitTransform=vr,this.containerNode.style.transform=vr}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var Kt=this,ur=this.props;ur.action;var vr=ur.animateHeight,Lr=ur.animateTransitions,Er=ur.axis,Cr=ur.children,hr=ur.containerStyle,Tr=ur.disabled;ur.disableLazyLoading;var Xt=ur.enableMouseEvents;ur.hysteresis,ur.ignoreNativeScroll,ur.index,ur.onChangeIndex,ur.onSwitching,ur.onTransitionEnd,ur.resistance;var Qt=ur.slideStyle,lr=ur.slideClassName,cr=ur.springConfig,sr=ur.style;ur.threshold;var dr=(0,nt.default)(ur,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"]),Rr=this.state,jr=Rr.displaySameSlide,Sr=Rr.heightLatest,dn=Rr.indexLatest,Qr=Rr.isDragging,gn=Rr.renderOnlyActive,ln=Tr?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},Kr=!Tr&&Xt?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},cn=(0,rt.default)({},Tt.slide,Qt),En,yn;if(Qr||!Lr||jr)En="all 0s ease 0s",yn="all 0s ease 0s";else if(En=Mt("transform",cr),yn=Mt("-webkit-transform",cr),Sr!==0){var Rn=", ".concat(Mt("height",cr));En+=Rn,yn+=Rn}var Zn={height:null,WebkitFlexDirection:Ft.flexDirection[Er],flexDirection:Ft.flexDirection[Er],WebkitTransition:yn,transition:En};if(!gn){var jn=Ft.transform[Er](this.indexCurrent*100);Zn.WebkitTransform=jn,Zn.transform=jn}return vr&&(Zn.height=Sr),xt.createElement(Ot.Provider,{value:this.getSwipeableViewsContext()},xt.createElement("div",(0,rt.default)({ref:this.setRootNode,style:(0,rt.default)({},Ft.root[Er],sr)},dr,ln,Kr,{onScroll:this.handleScroll}),xt.createElement("div",{ref:this.setContainerNode,style:(0,rt.default)({},Zn,Tt.container,hr),className:"react-swipeable-view-container"},xt.Children.map(Cr,function(so,Eo){if(gn&&Eo!==dn)return null;var _i,po=!0;return Eo===dn&&(po=!1,vr&&(_i=Kt.setActiveSlide,cn.overflowY="hidden")),xt.createElement("div",{ref:_i,style:cn,className:lr,"aria-hidden":po,"data-swipeable":"true"},so)}))))}}]),nr}(xt.Component);Vt.displayName="ReactSwipableView",Vt.propTypes={},Vt.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1};var Ut=Vt;return SwipeableViews$1.default=Ut,SwipeableViews$1}(function(et){var tt=interopRequireWildcard;Object.defineProperty(et,"__esModule",{value:!0}),Object.defineProperty(et,"default",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(et,"SwipeableViewsContext",{enumerable:!0,get:function(){return rt.SwipeableViewsContext}});var rt=tt(requireSwipeableViews())})(lib$2);const SwipeableViews=getDefaultExportFromCjs(lib$2),kakaoIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOkSURBVHgBvVZvbFNVFP+d+17/rYUV0aEmSP/MDmVEZRAcOFn9YIaZ+sVJZhx+UzRBGcRh0GhiiCHGGD+phPjRGIJRiKhJA0ktjCX6waHRbGGVNxYVjaNjlr3S9b3j6aslbVmAhcIvae4759x7fvecc++5BW4S6ErGjc3NC2e02Taw1i0z7xbVyrKNmWZI8R8y/iJCQt15VyKZTBbmRdQZCgVtt3oFRNtEDOLa8I/QH1Jk706OGEatUatVdMSa+6HTl0LSJaIX144G2fcqhupbdusiGp/MDFYaL0X06JIl/tyiwIdgbEZ9sD81mu6VkYuCKmvNRv++OpIUsWlDS2R/WXBS93As8hYRbUXdQSuWLb4lK2kcos7loZDN2mncOEzZ5mxEZ1vbXq5U32Y/Vq/xON8eD8G2gb0fTSPW4kb7eg/efH0K2ayNhzo86Hnajx39GRQKjNvv0LCtfyF2v30elsV4fssCHP7KRHpstugqqHyu7YoV1pSp3eLcNFkc6wgECOfOWcjlGE/1NKCtzY3Hn/A586JRF+5/wA2/v7TD1lYX2td5EA5reGdPEF1dXuQv2hVBcbeSA7C2LH6yL4vXBjKYPs84eiSHN3ZNoalJc3Z8PJXDg+2laPN5rspNNluSd+5qRMtyF17emsHEhFUxg+4pnrordofHun0Y/jGPAwdmnChaV7rgdlcv0f6/jUuX6hg3LIydmq114ykS/X2Z1kdwuciJZN16LyJRHQM7Gx1b/BEvlKqeHwiUFJ99egH3rnDhxZcWVE8g/KnLMCS/J6sWSu79UqN4vNQYvvh8xhlXSZ26Nvrw9WHTkXe82igNBDh7ttTiEgkTunjc1OvHyeE8BgcvlhwyftBCty2+IJ+9lUThiAtDJ3Lw+hQmxgvY+3HWSZ9hFJz0fPuNCa+X4Gsg55QdP5Z3DsaRRA4nxHk4pCP9WwFnzpTqxDb2OMne0BJNSTk7cGNgSCsKO8nVLdoiwxTqj7wiK178cIiOjo39KhV7AXWEZGiaiZ8pPxlV5zQei91nU+Egg0K4PhhC9Oyx0fSlp6LqPTImJ/+KNgUPWkxSaqzGvMEmlPauyhWeS6VPn6q0zP3CzrPREniYSR0Sgg+ShjFnrfW5l2qdNYp/5cK8L/3KsGxbl7vDipTFjHGTcj99P/L7JK6COYls5p5ysMR8UhpvX2ok/TOuA5elbq3883FrnBFD8dK/991oegB1gKpVNCgVVoQUE8XrRXJT8R/r3EAl3h0uxAAAAABJRU5ErkJggg==",googleIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM+SURBVHgBrZZLaBNRFIb/cydpagl9+UgFQauglYoVKlarSPBBjdha3IgLN4JuxCLVlSD1gagoaEXBhRtXihsfNcaq0YhYbcVFQKGKr4Vipa2laaHtJDPHk2hq0mbSNOSDCfeeP+f+9zX3DmEKhtyr3YZmbiVgDcAVAM36Jw0QOGiCOk3AW+rvepGuHUpnwJrRwiA3MkAa6mDwySL/m4cWejJcXV0QKlanRWpCFijCRaedWsjXGUqM2xIrwxtrXIPgdnGvQpYY4CKMFOgT4+MjYk9NYUjnDilWIktkvVpK/J0nUmnjIxoe4+Nim8aEfcx0jwk9sgmGpYeVJOvHQKOIvxlqZ4n/9ROr7NiIBjes9IDUA4u/+Fjj/cWPur6mUgfcqxfoKqy5nr79jDTEjPSbM16O3Vpcaw46kkSZihMyFS3IATTSjvU2hefQNegPyhHpLo33oK3Q39WAHKFsGrbGSnkG8ho/wb7uR6xqGCqr7W2FDYyaxEDMaObo3YKm/m9WSY3nR3YrUvOQIayZfTaZoyoxS3Zf2h9Il0iK9sgp4EammNSrxKRkUkMG3iG3zFapomSDEzkmatQ3yYhQhhzCjIHoyfBBnlmJQp+RJ9tav2qZCDNIUFbyCnmKEwPS8SDpj3FO3pnD8eBrcyaaI8sxyGrRx23+L5gGjadHFpCDUpwg5lk51eGNV6+b87E3XI0htksvtMuYJsqhLqUU2Lyh7JsRkGLgjFGB8+El4xoxPBXeLceQITsujB2TLV8/MU7MHbcPOYOxs25Z2yZ3hNQzizbuQ9MPdHsC31KJq26dLC/r2XdFixR5UqdHPLebnQ/H76MK7+ZWsPWtKjvHpzRuN0zzPZTmJIPLZJF3Sp/d9vAczP9+CvawKzkHaL3TnH8wNrJ4cG5bfUEhjb2kv7tm2kTN5v08gvzRhXGXd6N2x1pfE4WSjKKU321wObTR6OW1DFmh4Ordg9KBhmC+ctTdOEi//isJfN1+71dEaWtlAVuRFSZ65ly7FAk5ahNNolh+bi3x1m0Rw6NSrEVGcEAW8nh3/ZNAKpWmSq9sq6sy2dzFSq4TpirJiB3C8u3QKz8fFPMrKd/p3vaoI107fwAffx5XsvhKSgAAAABJRU5ErkJggg==",getSnsBackground=et=>{const tt={boxShadow:"0 1px 3px rgba(0,0,0,0.12)",backgroundColor:"#FFFFFF",color:"black",width:"21rem",borderRadius:"10px",p:"0.6rem",display:"flex",justifyContent:"space-around",fontSize:"1rem",fontWeight:500,margin:"0.6rem"};return et==="KAKAO"&&(tt.backgroundColor="#F7E600",tt.color="#3A1D1D"),tt},theme=createTheme({palette:{primary:{main:"#EEF1EE"}}}),SnsButton=({sns:et,text:tt,imgSrc:rt})=>{useNavigate();const nt=()=>{location.replace(`${BACK_URL}/auth/${et}`)};return jsx(Fragment,{children:jsx(ThemeProvider,{theme,children:jsxs(Button$1,{variant:"contained",disableElevation:!0,sx:getSnsBackground(et),onClick:nt,children:[jsx("img",{src:rt}),tt]})})})},TextSlideView=({introduction:et,activeStep:tt,handleStepChange:rt})=>{const nt=useTheme();return jsx(Fragment,{children:jsxs(Grid$2,{container:!0,alignItems:"center",justifyContent:"center",children:[jsx(Grid$2,{item:!0,children:jsx(SwipeableViews,{axis:nt.direction==="rtl"?"x-reverse":"x",index:tt,onChangeIndex:rt,enableMouseEvents:!0,children:et.map((at,lt)=>jsxs(Grid$2,{item:!0,sx:{py:"2rem","@media (max-width: 375px)":{py:"1rem"}},children:[jsxs(Typography$1,{align:"center",sx:{fontSize:"2rem",fontWeight:600,lineHeight:1.2,"@media (max-width: 375px)":{fontSize:"1.5rem",fontWeight:500}},children:[jsx("span",{dangerouslySetInnerHTML:{__html:at.mainTextLine1}}),jsx("br",{}),jsx("span",{dangerouslySetInnerHTML:{__html:at.mainTextLine2}})]}),jsx(Typography$1,{variant:"subtitle1",align:"center",sx:{color:"#A2A2A2",pt:"0.7rem","@media (max-width: 375px)":{pt:"0.5rem"}},children:at.subText})]},lt))})}),jsxs(Grid$2,{item:!0,children:[jsx(SnsButton,{sns:"GOOGLE",text:"Google 계정으로 로그인",imgSrc:googleIcon}),jsx(SnsButton,{sns:"KAKAO",text:"Kakao 계정으로 로그인",imgSrc:kakaoIcon})]})]})})},loginImg1="/assets/login1-1aabdfe2.png",loginImg2="/assets/login2-57989292.png",loginImg3="/assets/login3-3da903d0.png",images=[{src:loginImg1,alt:"loginImg1",css:"6rem"},{src:loginImg2,alt:"loginImg2"},{src:loginImg3,alt:"loginImg3"}],ImageSlideView=({activeStep:et,handleStepChange:tt})=>{const rt=useTheme();return jsx(Fragment,{children:jsx(SwipeableViews,{axis:rt.direction==="rtl"?"x-reverse":"x",index:et,onChangeIndex:tt,enableMouseEvents:!0,style:{width:"100%"},children:images.map((nt,at)=>jsx("div",{style:{overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto",maxWidth:"65%",overflowY:"hidden"},children:Math.abs(et-at)<=2?jsx(Box$1,{component:"img",src:nt.src,height:"calc( 100% )",overflow:"hidden",sx:{position:"relative",top:nt.css,"@media (max-width: 375px)":{height:"350px"}}}):null},at))})})},introduction=[{mainTextLine1:"<span class='pointText'>레이더</span>를 통해",mainTextLine2:"내 주변의 우연을 찾기",subText:"원하는 카테고리와 범위 설정하기!"},{mainTextLine1:"발견한 우연을",mainTextLine2:"확인하고 <span class='pointText'>댓글 입력</span>하기",subText:"소통과 재미를 동시에!"},{mainTextLine1:"<span class='pointText'>지도</span>에서 발견한 우연을",mainTextLine2:"볼 수 있어요",subText:"발견했던 우연을 확인 가능!"}];function LoginPage(){const[et,tt]=reactExports.useState(0),rt=images.length,nt=at=>{tt(at)};return jsxs(Grid$2,{container:!0,alignItems:"center",justifyContent:"center",maxWidth:"414px",margin:"0 auto",height:"100vh",padding:"0rem 2rem 1rem 2rem",children:[jsx(CssBaseline,{}),jsx(Global,{styles:{body:{backgroundColor:"#EFF0F2"},".globalContainer .MuiBox-root":{padding:0}}}),jsx(Grid$2,{item:!0,width:"100%",sx:{margin:"0 auto"},children:jsx(ImageSlideView,{introduction,activeStep:et,handleStepChange:nt})}),jsxs(Grid$2,{item:!0,sx:{pt:"1rem",margin:0},children:[jsx(Grid$2,{item:!0,children:jsx(MobileStepper$1,{steps:rt,position:"static",activeStep:et,backButton:null,nextButton:null,sx:{alignItems:"center",justifyContent:"center",dotActiveStyle:{backgroundColor:"#1976d2"},dotStyle:{mx:1}}})}),jsx(Grid$2,{item:!0,children:jsx(TextSlideView,{introduction,activeStep:et,handleStepChange:nt})})]})]})}var Category=(et=>(et.DAILY="일상",et.GROUP="모임",et.ADS="광고",et.INFO="정보",et.EVENT="이벤트",et.PRESENT="선물",et))(Category||{});const categoryArr=[{id:Category.DAILY,value:"DAILY",selected:!1,fn_print:function(){console.log(this.id)}},{id:Category.GROUP,value:"GROUP",selected:!1,fn_print:function(){console.log(this.id)}},{id:Category.ADS,value:"ADS",selected:!1,fn_print:function(){console.log(this.id)}},{id:Category.INFO,value:"INFO",selected:!1,fn_print:function(){console.log(this.id)}},{id:Category.EVENT,value:"EVENT",selected:!1,fn_print:function(){console.log(this.id)}},{id:Category.PRESENT,value:"PRESENT",selected:!1,fn_print:function(){console.log(this.id)}}],CategoryBtnUI=({activeColor:et,handleButtonClick:tt,category:rt})=>{const nt=useTheme();return jsx(Button$1,{variant:"contained",sx:{width:"100%",height:"100%",borderRadius:4,fontWeight:600},onClick:tt,style:{boxShadow:"0 1px 3px rgba(0,0,0,0.12)",fontSize:20,backgroundColor:et,color:nt.palette.mode==="light"?et===mainPrimary?"#ffffff":"#222222":"#FFFFFF"},children:rt.id})},PatchUser=async({name:et,message:tt,category:rt})=>{let nt="";return rt.map((lt,dt)=>{nt+=`category[${dt}]=${lt}`,rt.length-1!==dt&&(nt+="&")}),await fetch(`${BACK_URL}/user?name=${et}&message=${tt}&${nt}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYjRmMDUxNTAtOGNiMC00NzVhLWIzYzYtZDM4MjM0OWM5NTNjIiwibmFtZSI6IuydtOuPhOqyvSIsImVtYWlsIjoiZG85OEBrYWthby5jb20iLCJyb2xlIjoiVVNFUiIsImlhdCI6MTY4NjExNDk1MSwiZXhwIjoxNjg2MjAxMzUxfQ.yHoGiXAFZt_a4A0RMyGVFC3kDvz1W8hjxfAHBDaG-_c"},body:JSON.stringify({name:et,message:tt,category:rt})}).then(lt=>lt.json())},CategoryBtn$1=({category:et})=>{const tt=useTheme(),[rt,nt]=reactExports.useState(tt.palette.background.paper),[at]=Recoil_index_22(userState),[lt,dt]=Recoil_index_22(filterState),ot=()=>{nt(rt===mainPrimary?tt.palette.background.paper:mainPrimary),mt(et.value)},{mutate:mt}=useMutation("updateCategory",xt=>PatchUser({name:at.name,message:"hello",category:lt.preferCategory}),{onSuccess:(xt,Et)=>{dt(At=>{let Tt=At.preferCategory;const Ft=Tt.indexOf(Et);if(Ft===-1)Tt=[...Tt,Et];else if(Ft!==-1){if(At.preferCategory.length===1)return{...At,preferCategory:Tt};Tt=At.preferCategory.filter(Mt=>Mt!==Et)}return{...At,preferCategory:Tt}})}});return jsx(CategoryBtnUI,{activeColor:lt.preferCategory.includes(et.value)?mainPrimary:tt.palette.background.paper,handleButtonClick:ot,category:et})},CategoryPage=()=>{const[,et]=Recoil_index_22(userState);return jsx(Fragment,{children:jsxs(Grid,{container:!0,direction:"column",justifyContent:"space-around",alignItems:"center",maxWidth:"414px",minHeight:"667px",margin:"0 auto",padding:"0rem 2rem 0rem 2rem",spacing:0,height:"100vh",children:[jsx(Global,{styles:{".globalContainer .MuiBox-root":{padding:0}}}),jsxs(Grid,{sx:{pt:"6rem",pb:"3rem",width:"100%","@media (max-width: 375px)":{pt:"4.5rem",pb:"2rem"}},children:[jsxs(Typography$1,{variant:"h5",sx:{fontWeight:600,margin:0},children:["안녕하세요 👋 ",jsx("br",{}),"반복되는 일상속에서 ",jsx("br",{}),"어떤 우연을 발견하고 싶으신가요?"]}),jsx(Typography$1,{variant:"subtitle1",sx:{color:"#A2A2A2",pt:"0.7rem"},children:"발견하고 싶은 카테고리를 1개 이상 선택해 주세요."})]}),jsx(Box$1,{children:jsx(Grid,{margin:"0 auto",children:jsx(Grid,{container:!0,rowSpacing:3,columnSpacing:2,margin:"0 auto",children:categoryArr.map(tt=>jsx(Grid,{xs:6,sx:{height:"7rem","@media (max-width: 375px)":{height:"5rem"}},children:jsx(CategoryBtn$1,{category:tt})},categoryArr.indexOf(tt)))})})}),jsx(Grid,{sx:{width:"100%",padding:"1.5rem 0rem 1.5rem 0rem"},children:jsx(SaveBtn,{text:"선택 완료",onClick:()=>et(tt=>({...tt,role:"USER"}))})})]})})},o$d=reactExports.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1});var R=Object.defineProperty,l$7=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,g$3=Object.prototype.propertyIsEnumerable,d$7=(et,tt,rt)=>tt in et?R(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,s$1=(et,tt)=>{for(var rt in tt||(tt={}))f.call(tt,rt)&&d$7(et,rt,tt[rt]);if(l$7)for(var rt of l$7(tt))g$3.call(tt,rt)&&d$7(et,rt,tt[rt]);return et},a$1=(et,tt)=>{var rt={};for(var nt in et)f.call(et,nt)&&tt.indexOf(nt)<0&&(rt[nt]=et[nt]);if(et!=null&&l$7)for(var nt of l$7(et))tt.indexOf(nt)<0&&g$3.call(et,nt)&&(rt[nt]=et[nt]);return rt};const P=reactExports.forwardRef((et,tt)=>{const rt=et,{alt:nt,color:at,size:lt,weight:dt,mirrored:ot,children:mt,weights:xt}=rt,Et=a$1(rt,["alt","color","size","weight","mirrored","children","weights"]),At=reactExports.useContext(o$d),{color:Tt="currentColor",size:Ft,weight:Mt="regular",mirrored:Lt=!1}=At,Gt=a$1(At,["color","size","weight","mirrored"]);return React.createElement("svg",s$1(s$1({ref:tt,xmlns:"http://www.w3.org/2000/svg",width:lt??Ft,height:lt??Ft,fill:at??Tt,viewBox:"0 0 256 256",transform:ot||Lt?"scale(-1, 1)":void 0},Gt),Et),!!nt&&React.createElement("title",null,nt),mt,xt.get(dt??Mt))});P.displayName="IconBase";var A$8=Object.defineProperty,Z$a=Object.defineProperties,h$a=Object.getOwnPropertyDescriptors,m$8=Object.getOwnPropertySymbols,p$c=Object.prototype.hasOwnProperty,H$4=Object.prototype.propertyIsEnumerable,c$c=(et,tt,rt)=>tt in et?A$8(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,n$d=(et,tt)=>{for(var rt in tt||(tt={}))p$c.call(tt,rt)&&c$c(et,rt,tt[rt]);if(m$8)for(var rt of m$8(tt))H$4.call(tt,rt)&&c$c(et,rt,tt[rt]);return et},r$e=(et,tt)=>Z$a(et,h$a(tt));const d$6=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M225.29,165.93C216.61,151,212,129.57,212,104a84,84,0,0,0-168,0c0,25.58-4.59,47-13.27,61.93A20.08,20.08,0,0,0,30.66,186,19.77,19.77,0,0,0,48,196H208a19.77,19.77,0,0,0,17.31-10A20.08,20.08,0,0,0,225.29,165.93ZM54.66,172C63.51,154,68,131.14,68,104a60,60,0,0,1,120,0c0,27.13,4.48,50,13.33,68ZM172,224a12,12,0,0,1-12,12H96a12,12,0,0,1,0-24h64A12,12,0,0,1,172,224Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M208,192H48a8,8,0,0,1-6.88-12C47.71,168.6,56,139.81,56,104a72,72,0,0,1,144,0c0,35.82,8.3,64.6,14.9,76A8,8,0,0,1,208,192Z",opacity:"0.2"}),React.createElement("path",{d:"M168,224a8,8,0,0,1-8,8H96a8,8,0,1,1,0-16h64A8,8,0,0,1,168,224Zm53.85-32A15.8,15.8,0,0,1,208,200H48a16,16,0,0,1-13.8-24.06C39.75,166.38,48,139.34,48,104a80,80,0,1,1,160,0c0,35.33,8.26,62.38,13.81,71.94A15.89,15.89,0,0,1,221.84,192ZM208,184c-7.73-13.27-16-43.95-16-80a64,64,0,1,0-128,0c0,36.06-8.28,66.74-16,80Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M168,224a8,8,0,0,1-8,8H96a8,8,0,1,1,0-16h64A8,8,0,0,1,168,224Zm53.81-48.06C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H208a16,16,0,0,0,13.8-24.06Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M166,224a6,6,0,0,1-6,6H96a6,6,0,0,1,0-12h64A6,6,0,0,1,166,224Zm54.11-33a13.83,13.83,0,0,1-12.1,7H48a14,14,0,0,1-12.06-21.06C41.59,167.2,50,139.74,50,104a78,78,0,1,1,156,0c0,35.73,8.42,63.2,14.08,72.94A13.9,13.9,0,0,1,220.11,191Zm-10.41-8C202.13,170,194,139.68,194,104a66,66,0,1,0-132,0c0,35.69-8.14,66-15.71,79a2,2,0,0,0,0,2,1.9,1.9,0,0,0,1.7,1H208a1.9,1.9,0,0,0,1.7-1A2,2,0,0,0,209.7,183Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M168,224a8,8,0,0,1-8,8H96a8,8,0,1,1,0-16h64A8,8,0,0,1,168,224Zm53.85-32A15.8,15.8,0,0,1,208,200H48a16,16,0,0,1-13.8-24.06C39.75,166.38,48,139.34,48,104a80,80,0,1,1,160,0c0,35.33,8.26,62.38,13.81,71.94A15.89,15.89,0,0,1,221.84,192ZM208,184c-7.73-13.27-16-43.95-16-80a64,64,0,1,0-128,0c0,36.06-8.28,66.74-16,80Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M164,224a4,4,0,0,1-4,4H96a4,4,0,0,1,0-8h64A4,4,0,0,1,164,224Zm54.38-34A11.84,11.84,0,0,1,208,196H48A12,12,0,0,1,37.65,178C43.42,168,52,140.13,52,104a76,76,0,1,1,152,0c0,36.13,8.59,64,14.36,73.95A11.92,11.92,0,0,1,218.38,190Zm-6.95-8C204,169.17,196,139.31,196,104a68,68,0,1,0-136,0c0,35.32-8,65.17-15.44,78a4,4,0,0,0,0,4A3.91,3.91,0,0,0,48,188H208a3.91,3.91,0,0,0,3.44-2A4,4,0,0,0,211.43,182Z"}))]]),M$6=reactExports.forwardRef((et,tt)=>React.createElement(P,r$e(n$d({ref:tt},et),{weights:d$6})));M$6.displayName="BellSimple";var o$c=Object.defineProperty,p$b=Object.defineProperties,E$9=Object.getOwnPropertyDescriptors,n$c=Object.getOwnPropertySymbols,d$5=Object.prototype.hasOwnProperty,h$9=Object.prototype.propertyIsEnumerable,r$d=(et,tt,rt)=>tt in et?o$c(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,m$7=(et,tt)=>{for(var rt in tt||(tt={}))d$5.call(tt,rt)&&r$d(et,rt,tt[rt]);if(n$c)for(var rt of n$c(tt))h$9.call(tt,rt)&&r$d(et,rt,tt[rt]);return et},c$b=(et,tt)=>p$b(et,E$9(tt));const u$2=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M160,48V208L80,128Z",opacity:"0.2"}),React.createElement("path",{d:"M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"}))]]),M$5=reactExports.forwardRef((et,tt)=>React.createElement(P,c$b(m$7({ref:tt},et),{weights:u$2})));M$5.displayName="CaretLeft";var c$a=Object.defineProperty,V$3=Object.defineProperties,o$b=Object.getOwnPropertyDescriptors,l$6=Object.getOwnPropertySymbols,p$a=Object.prototype.hasOwnProperty,E$8=Object.prototype.propertyIsEnumerable,n$b=(et,tt,rt)=>tt in et?c$a(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,r$c=(et,tt)=>{for(var rt in tt||(tt={}))p$a.call(tt,rt)&&n$b(et,rt,tt[rt]);if(l$6)for(var rt of l$6(tt))E$8.call(tt,rt)&&n$b(et,rt,tt[rt]);return et},Z$9=(et,tt)=>V$3(et,o$b(tt));const d$4=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm12,24.87a83.53,83.53,0,0,1,24,7.25V203.88a83.53,83.53,0,0,1-24,7.25ZM44,128a84.12,84.12,0,0,1,72-83.13V211.13A84.12,84.12,0,0,1,44,128Zm144,58.71V69.29a83.81,83.81,0,0,1,0,117.42Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M224,128a96,96,0,0,1-96,96V32A96,96,0,0,1,224,128Z",opacity:"0.2"}),React.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128a88.11,88.11,0,0,1,80-87.63V215.63A88.11,88.11,0,0,1,40,128Zm96,87.63V40.37a88,88,0,0,1,0,175.26Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128a88.1,88.1,0,0,1,88-88V216A88.1,88.1,0,0,1,40,128Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm6,12.2a89.86,89.86,0,0,1,20,3.63V214.17a89.86,89.86,0,0,1-20,3.63Zm32,8.23a90.48,90.48,0,0,1,20,12.81V196.76a90.48,90.48,0,0,1-20,12.81ZM38,128a90.12,90.12,0,0,1,84-89.8V217.8A90.12,90.12,0,0,1,38,128Zm160,56.5V71.5a89.81,89.81,0,0,1,0,113Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm8,16.37a86.4,86.4,0,0,1,16,3V212.67a86.4,86.4,0,0,1-16,3Zm32,9.26a87.81,87.81,0,0,1,16,10.54V195.83a87.81,87.81,0,0,1-16,10.54ZM40,128a88.11,88.11,0,0,1,80-87.63V215.63A88.11,88.11,0,0,1,40,128Zm160,50.54V77.46a87.82,87.82,0,0,1,0,101.08Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm4,8.09a91.58,91.58,0,0,1,24,4.27V215.64a91.58,91.58,0,0,1-24,4.27Zm32,7.25a92.21,92.21,0,0,1,24,15V197.69a92.21,92.21,0,0,1-24,15ZM36,128a92.11,92.11,0,0,1,88-91.91V219.91A92.11,92.11,0,0,1,36,128Zm160,61.9V66.1a91.83,91.83,0,0,1,0,123.8Z"}))]]),i$5=reactExports.forwardRef((et,tt)=>React.createElement(P,Z$9(r$c({ref:tt},et),{weights:d$4})));i$5.displayName="CircleHalf";var c$9=Object.defineProperty,A$7=Object.defineProperties,h$8=Object.getOwnPropertyDescriptors,l$5=Object.getOwnPropertySymbols,o$a=Object.prototype.hasOwnProperty,d$3=Object.prototype.propertyIsEnumerable,n$a=(et,tt,rt)=>tt in et?c$9(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,r$b=(et,tt)=>{for(var rt in tt||(tt={}))o$a.call(tt,rt)&&n$a(et,rt,tt[rt]);if(l$5)for(var rt of l$5(tt))d$3.call(tt,rt)&&n$a(et,rt,tt[rt]);return et},Z$8=(et,tt)=>A$7(et,h$8(tt));const g$2=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M160,36A92.09,92.09,0,0,0,79,84.36,68,68,0,1,0,72,220h88a92,92,0,0,0,0-184Zm0,160H72a44,44,0,0,1-1.82-88A91.86,91.86,0,0,0,68,128a12,12,0,0,0,24,0,68,68,0,1,1,68,68Zm-12-76V88a12,12,0,0,1,24,0v32a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,176,160Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M240,127.62a80,80,0,0,1-80,80H72A56,56,0,1,1,85.92,97.36l0,.1A80,80,0,0,1,240,127.62Z",opacity:"0.2"}),React.createElement("path",{d:"M160,40A88.09,88.09,0,0,0,81.29,88.67,64,64,0,1,0,72,216h88a88,88,0,0,0,0-176Zm0,160H72a48,48,0,0,1,0-96c1.1,0,2.2,0,3.29.11A88,88,0,0,0,72,128a8,8,0,0,0,16,0,72,72,0,1,1,72,72Zm-8-72V88a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,172,164Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M247.93,124.52C246.11,77.54,207.07,40,160.06,40A88.1,88.1,0,0,0,81.29,88.67h0A87.48,87.48,0,0,0,72,127.73,8.18,8.18,0,0,1,64.57,136,8,8,0,0,1,56,128a103.66,103.66,0,0,1,5.34-32.92,4,4,0,0,0-4.75-5.18A64.09,64.09,0,0,0,8,152c0,35.19,29.75,64,65,64H160A88.09,88.09,0,0,0,247.93,124.52ZM152,88a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,160,176Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M160,42A86.11,86.11,0,0,0,82.43,90.88,62,62,0,1,0,72,214h88a86,86,0,0,0,0-172Zm0,160H72a50,50,0,0,1,0-100,50.67,50.67,0,0,1,5.91.35A85.61,85.61,0,0,0,74,128a6,6,0,0,0,12,0,74,74,0,1,1,74,74Zm-6-74V88a6,6,0,0,1,12,0v40a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,170,164Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M160,40A88.09,88.09,0,0,0,81.29,88.67,64,64,0,1,0,72,216h88a88,88,0,0,0,0-176Zm0,160H72a48,48,0,0,1,0-96c1.1,0,2.2,0,3.29.11A88,88,0,0,0,72,128a8,8,0,0,0,16,0,72,72,0,1,1,72,72Zm-8-72V88a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,172,164Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M160,44A84.11,84.11,0,0,0,83.59,93.12,60.71,60.71,0,0,0,72,92a60,60,0,0,0,0,120h88a84,84,0,0,0,0-168Zm0,160H72a52,52,0,1,1,8.55-103.3A83.66,83.66,0,0,0,76,128a4,4,0,0,0,8,0,76,76,0,1,1,76,76Zm-4-76V88a4,4,0,0,1,8,0v40a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,168,164Z"}))]]),i$4=reactExports.forwardRef((et,tt)=>React.createElement(P,Z$8(r$b({ref:tt},et),{weights:g$2})));i$4.displayName="CloudWarning";var c$8=Object.defineProperty,Z$7=Object.defineProperties,o$9=Object.getOwnPropertyDescriptors,l$4=Object.getOwnPropertySymbols,p$9=Object.prototype.hasOwnProperty,E$7=Object.prototype.propertyIsEnumerable,r$a=(et,tt,rt)=>tt in et?c$8(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,n$9=(et,tt)=>{for(var rt in tt||(tt={}))p$9.call(tt,rt)&&r$a(et,rt,tt[rt]);if(l$4)for(var rt of l$4(tt))E$7.call(tt,rt)&&r$a(et,rt,tt[rt]);return et},A$6=(et,tt)=>Z$7(et,o$9(tt));const i$3=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M112,60a16,16,0,1,1,16,16A16,16,0,0,1,112,60Zm16,52a16,16,0,1,0,16,16A16,16,0,0,0,128,112Zm0,68a16,16,0,1,0,16,16A16,16,0,0,0,128,180Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M208,32V224a16,16,0,0,1-16,16H64a16,16,0,0,1-16-16V32A16,16,0,0,1,64,16H192A16,16,0,0,1,208,32Z",opacity:"0.2"}),React.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM128,72a12,12,0,1,0-12-12A12,12,0,0,0,128,72Zm0,112a12,12,0,1,0,12,12A12,12,0,0,0,128,184Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M192,16H64A16,16,0,0,0,48,32V224a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V32A16,16,0,0,0,192,16ZM128,208a12,12,0,1,1,12-12A12,12,0,0,1,128,208Zm0-68a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm0-68a12,12,0,1,1,12-12A12,12,0,0,1,128,72Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M118,60a10,10,0,1,1,10,10A10,10,0,0,1,118,60Zm10,58a10,10,0,1,0,10,10A10,10,0,0,0,128,118Zm0,68a10,10,0,1,0,10,10A10,10,0,0,0,128,186Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM128,72a12,12,0,1,0-12-12A12,12,0,0,0,128,72Zm0,112a12,12,0,1,0,12,12A12,12,0,0,0,128,184Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M120,60a8,8,0,1,1,8,8A8,8,0,0,1,120,60Zm8,60a8,8,0,1,0,8,8A8,8,0,0,0,128,120Zm0,68a8,8,0,1,0,8,8A8,8,0,0,0,128,188Z"}))]]),M$4=reactExports.forwardRef((et,tt)=>React.createElement(P,A$6(n$9({ref:tt},et),{weights:i$3})));M$4.displayName="DotsThreeVertical";var n$8=Object.defineProperty,r$9=Object.defineProperties,Z$6=Object.getOwnPropertyDescriptors,t$1=Object.getOwnPropertySymbols,h$7=Object.prototype.hasOwnProperty,o$8=Object.prototype.propertyIsEnumerable,A$5=(et,tt,rt)=>tt in et?n$8(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,L$2=(et,tt)=>{for(var rt in tt||(tt={}))h$7.call(tt,rt)&&A$5(et,rt,tt[rt]);if(t$1)for(var rt of t$1(tt))o$8.call(tt,rt)&&A$5(et,rt,tt[rt]);return et},m$6=(et,tt)=>r$9(et,Z$6(tt));const d$2=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,76a52,52,0,1,0,52,52A52.06,52.06,0,0,0,128,76Zm0,80a28,28,0,1,1,28-28A28,28,0,0,1,128,156Zm113.86-49.57A12,12,0,0,0,236,98.34L208.21,82.49l-.11-31.31a12,12,0,0,0-4.25-9.12,116,116,0,0,0-38-21.41,12,12,0,0,0-9.68.89L128,37.27,99.83,21.53a12,12,0,0,0-9.7-.9,116.06,116.06,0,0,0-38,21.47,12,12,0,0,0-4.24,9.1l-.14,31.34L20,98.35a12,12,0,0,0-5.85,8.11,110.7,110.7,0,0,0,0,43.11A12,12,0,0,0,20,157.66l27.82,15.85.11,31.31a12,12,0,0,0,4.25,9.12,116,116,0,0,0,38,21.41,12,12,0,0,0,9.68-.89L128,218.73l28.14,15.74a12,12,0,0,0,9.7.9,116.06,116.06,0,0,0,38-21.47,12,12,0,0,0,4.24-9.1l.14-31.34,27.81-15.81a12,12,0,0,0,5.85-8.11A110.7,110.7,0,0,0,241.86,106.43Zm-22.63,33.18-26.88,15.28a11.94,11.94,0,0,0-4.55,4.59c-.54,1-1.11,1.93-1.7,2.88a12,12,0,0,0-1.83,6.31L184.13,199a91.83,91.83,0,0,1-21.07,11.87l-27.15-15.19a12,12,0,0,0-5.86-1.53h-.29c-1.14,0-2.3,0-3.44,0a12.08,12.08,0,0,0-6.14,1.51L93,210.82A92.27,92.27,0,0,1,71.88,199l-.11-30.24a12,12,0,0,0-1.83-6.32c-.58-.94-1.16-1.91-1.7-2.88A11.92,11.92,0,0,0,63.7,155L36.8,139.63a86.53,86.53,0,0,1,0-23.24l26.88-15.28a12,12,0,0,0,4.55-4.58c.54-1,1.11-1.94,1.7-2.89a12,12,0,0,0,1.83-6.31L71.87,57A91.83,91.83,0,0,1,92.94,45.17l27.15,15.19a11.92,11.92,0,0,0,6.15,1.52c1.14,0,2.3,0,3.44,0a12.08,12.08,0,0,0,6.14-1.51L163,45.18A92.27,92.27,0,0,1,184.12,57l.11,30.24a12,12,0,0,0,1.83,6.32c.58.94,1.16,1.91,1.7,2.88A11.92,11.92,0,0,0,192.3,101l26.9,15.33A86.53,86.53,0,0,1,219.23,139.61Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M230.1,108.76,198.25,90.62c-.64-1.16-1.31-2.29-2-3.41l-.12-36A104.61,104.61,0,0,0,162,32L130,49.89c-1.34,0-2.69,0-4,0L94,32A104.58,104.58,0,0,0,59.89,51.25l-.16,36c-.7,1.12-1.37,2.26-2,3.41l-31.84,18.1a99.15,99.15,0,0,0,0,38.46l31.85,18.14c.64,1.16,1.31,2.29,2,3.41l.12,36A104.61,104.61,0,0,0,94,224l32-17.87c1.34,0,2.69,0,4,0L162,224a104.58,104.58,0,0,0,34.08-19.25l.16-36c.7-1.12,1.37-2.26,2-3.41l31.84-18.1A99.15,99.15,0,0,0,230.1,108.76ZM128,168a40,40,0,1,1,40-40A40,40,0,0,1,128,168Z",opacity:"0.2"}),React.createElement("path",{d:"M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Zm109.94-52.79a8,8,0,0,0-3.89-5.4l-29.83-17-.12-33.62a8,8,0,0,0-2.83-6.08,111.91,111.91,0,0,0-36.72-20.67,8,8,0,0,0-6.46.59L128,41.85,97.88,25a8,8,0,0,0-6.47-.6A111.92,111.92,0,0,0,54.73,45.15a8,8,0,0,0-2.83,6.07l-.15,33.65-29.83,17a8,8,0,0,0-3.89,5.4,106.47,106.47,0,0,0,0,41.56,8,8,0,0,0,3.89,5.4l29.83,17,.12,33.63a8,8,0,0,0,2.83,6.08,111.91,111.91,0,0,0,36.72,20.67,8,8,0,0,0,6.46-.59L128,214.15,158.12,231a7.91,7.91,0,0,0,3.9,1,8.09,8.09,0,0,0,2.57-.42,112.1,112.1,0,0,0,36.68-20.73,8,8,0,0,0,2.83-6.07l.15-33.65,29.83-17a8,8,0,0,0,3.89-5.4A106.47,106.47,0,0,0,237.94,107.21Zm-15,34.91-28.57,16.25a8,8,0,0,0-3,3c-.58,1-1.19,2.06-1.81,3.06a7.94,7.94,0,0,0-1.22,4.21l-.15,32.25a95.89,95.89,0,0,1-25.37,14.3L134,199.13a8,8,0,0,0-3.91-1h-.19c-1.21,0-2.43,0-3.64,0a8.1,8.1,0,0,0-4.1,1l-28.84,16.1A96,96,0,0,1,67.88,201l-.11-32.2a8,8,0,0,0-1.22-4.22c-.62-1-1.23-2-1.8-3.06a8.09,8.09,0,0,0-3-3.06l-28.6-16.29a90.49,90.49,0,0,1,0-28.26L61.67,97.63a8,8,0,0,0,3-3c.58-1,1.19-2.06,1.81-3.06a7.94,7.94,0,0,0,1.22-4.21l.15-32.25a95.89,95.89,0,0,1,25.37-14.3L122,56.87a8,8,0,0,0,4.1,1c1.21,0,2.43,0,3.64,0a8,8,0,0,0,4.1-1l28.84-16.1A96,96,0,0,1,188.12,55l.11,32.2a8,8,0,0,0,1.22,4.22c.62,1,1.23,2,1.8,3.06a8.09,8.09,0,0,0,3,3.06l28.6,16.29A90.49,90.49,0,0,1,222.9,142.12Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M237.94,107.21a8,8,0,0,0-3.89-5.4l-29.83-17-.12-33.62a8,8,0,0,0-2.83-6.08,111.91,111.91,0,0,0-36.72-20.67,8,8,0,0,0-6.46.59L128,41.85,97.88,25a8,8,0,0,0-6.47-.6A111.92,111.92,0,0,0,54.73,45.15a8,8,0,0,0-2.83,6.07l-.15,33.65-29.83,17a8,8,0,0,0-3.89,5.4,106.47,106.47,0,0,0,0,41.56,8,8,0,0,0,3.89,5.4l29.83,17,.12,33.63a8,8,0,0,0,2.83,6.08,111.91,111.91,0,0,0,36.72,20.67,8,8,0,0,0,6.46-.59L128,214.15,158.12,231a7.91,7.91,0,0,0,3.9,1,8.09,8.09,0,0,0,2.57-.42,112.1,112.1,0,0,0,36.68-20.73,8,8,0,0,0,2.83-6.07l.15-33.65,29.83-17a8,8,0,0,0,3.89-5.4A106.47,106.47,0,0,0,237.94,107.21ZM128,168a40,40,0,1,1,40-40A40,40,0,0,1,128,168Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,82a46,46,0,1,0,46,46A46.06,46.06,0,0,0,128,82Zm0,80a34,34,0,1,1,34-34A34,34,0,0,1,128,162Zm108-54.4a6,6,0,0,0-2.92-4L202.64,86.22l-.42-.71L202.1,51.2A6,6,0,0,0,200,46.64a110.12,110.12,0,0,0-36.07-20.31,6,6,0,0,0-4.84.45L128.46,43.86h-1L96.91,26.76a6,6,0,0,0-4.86-.44A109.92,109.92,0,0,0,56,46.68a6,6,0,0,0-2.12,4.55l-.16,34.34c-.14.23-.28.47-.41.71L22.91,103.57A6,6,0,0,0,20,107.62a104.81,104.81,0,0,0,0,40.78,6,6,0,0,0,2.92,4l30.42,17.33.42.71.12,34.31A6,6,0,0,0,56,209.36a110.12,110.12,0,0,0,36.07,20.31,6,6,0,0,0,4.84-.45l30.61-17.08h1l30.56,17.1A6.09,6.09,0,0,0,162,230a5.83,5.83,0,0,0,1.93-.32,109.92,109.92,0,0,0,36-20.36,6,6,0,0,0,2.12-4.55l.16-34.34c.14-.23.28-.47.41-.71l30.42-17.29a6,6,0,0,0,2.92-4.05A104.81,104.81,0,0,0,236,107.6Zm-11.25,35.79L195.32,160.1a6.07,6.07,0,0,0-2.28,2.3c-.59,1-1.21,2.11-1.86,3.14a6,6,0,0,0-.91,3.16l-.16,33.21a98.15,98.15,0,0,1-27.52,15.53L133,200.88a6,6,0,0,0-2.93-.77h-.14c-1.24,0-2.5,0-3.74,0a6,6,0,0,0-3.07.76L93.45,217.43a98,98,0,0,1-27.56-15.49l-.12-33.17a6,6,0,0,0-.91-3.16c-.64-1-1.27-2.08-1.86-3.14a6,6,0,0,0-2.27-2.3L31.3,143.4a93,93,0,0,1,0-30.79L60.68,95.9A6.07,6.07,0,0,0,63,93.6c.59-1,1.21-2.11,1.86-3.14a6,6,0,0,0,.91-3.16l.16-33.21A98.15,98.15,0,0,1,93.41,38.56L123,55.12a5.81,5.81,0,0,0,3.07.76c1.24,0,2.5,0,3.74,0a6,6,0,0,0,3.07-.76l29.65-16.56a98,98,0,0,1,27.56,15.49l.12,33.17a6,6,0,0,0,.91,3.16c.64,1,1.27,2.08,1.86,3.14a6,6,0,0,0,2.27,2.3L224.7,112.6A93,93,0,0,1,224.73,143.39Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Zm109.94-52.79a8,8,0,0,0-3.89-5.4l-29.83-17-.12-33.62a8,8,0,0,0-2.83-6.08,111.91,111.91,0,0,0-36.72-20.67,8,8,0,0,0-6.46.59L128,41.85,97.88,25a8,8,0,0,0-6.47-.6A112.1,112.1,0,0,0,54.73,45.15a8,8,0,0,0-2.83,6.07l-.15,33.65-29.83,17a8,8,0,0,0-3.89,5.4,106.47,106.47,0,0,0,0,41.56,8,8,0,0,0,3.89,5.4l29.83,17,.12,33.62a8,8,0,0,0,2.83,6.08,111.91,111.91,0,0,0,36.72,20.67,8,8,0,0,0,6.46-.59L128,214.15,158.12,231a7.91,7.91,0,0,0,3.9,1,8.09,8.09,0,0,0,2.57-.42,112.1,112.1,0,0,0,36.68-20.73,8,8,0,0,0,2.83-6.07l.15-33.65,29.83-17a8,8,0,0,0,3.89-5.4A106.47,106.47,0,0,0,237.94,107.21Zm-15,34.91-28.57,16.25a8,8,0,0,0-3,3c-.58,1-1.19,2.06-1.81,3.06a7.94,7.94,0,0,0-1.22,4.21l-.15,32.25a95.89,95.89,0,0,1-25.37,14.3L134,199.13a8,8,0,0,0-3.91-1h-.19c-1.21,0-2.43,0-3.64,0a8.08,8.08,0,0,0-4.1,1l-28.84,16.1A96,96,0,0,1,67.88,201l-.11-32.2a8,8,0,0,0-1.22-4.22c-.62-1-1.23-2-1.8-3.06a8.09,8.09,0,0,0-3-3.06l-28.6-16.29a90.49,90.49,0,0,1,0-28.26L61.67,97.63a8,8,0,0,0,3-3c.58-1,1.19-2.06,1.81-3.06a7.94,7.94,0,0,0,1.22-4.21l.15-32.25a95.89,95.89,0,0,1,25.37-14.3L122,56.87a8,8,0,0,0,4.1,1c1.21,0,2.43,0,3.64,0a8.08,8.08,0,0,0,4.1-1l28.84-16.1A96,96,0,0,1,188.12,55l.11,32.2a8,8,0,0,0,1.22,4.22c.62,1,1.23,2,1.8,3.06a8.09,8.09,0,0,0,3,3.06l28.6,16.29A90.49,90.49,0,0,1,222.9,142.12Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,84a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,84Zm0,80a36,36,0,1,1,36-36A36,36,0,0,1,128,164Zm106-56a4,4,0,0,0-2-2.7l-30.89-17.6q-.47-.82-1-1.62L200.1,51.2a3.94,3.94,0,0,0-1.42-3,107.8,107.8,0,0,0-35.41-19.94,4,4,0,0,0-3.23.29L129,45.87h-2l-31-17.36a4,4,0,0,0-3.23-.3,108.05,108.05,0,0,0-35.39,20,4,4,0,0,0-1.41,3l-.16,34.9-1,1.62L23.9,105.3A4,4,0,0,0,22,108a102.76,102.76,0,0,0,0,40,4,4,0,0,0,1.95,2.7l30.89,17.6q.47.83,1,1.62l.12,34.87a3.94,3.94,0,0,0,1.42,3,107.8,107.8,0,0,0,35.41,19.94,4,4,0,0,0,3.23-.29L127,210.13h2l31,17.36a4,4,0,0,0,3.23.3,108.05,108.05,0,0,0,35.39-20,4,4,0,0,0,1.41-3l.16-34.9,1-1.62L232.1,150.7a4,4,0,0,0,2-2.71A102.76,102.76,0,0,0,234,108Zm-7.48,36.67L196.3,161.84a4,4,0,0,0-1.51,1.53c-.61,1.09-1.25,2.17-1.91,3.24a3.92,3.92,0,0,0-.61,2.1l-.16,34.15a99.8,99.8,0,0,1-29.7,16.77l-30.4-17a4.06,4.06,0,0,0-2-.51H130c-1.28,0-2.57,0-3.84,0a4.1,4.1,0,0,0-2.05.51l-30.45,17A100.23,100.23,0,0,1,63.89,202.9l-.12-34.12a3.93,3.93,0,0,0-.61-2.11c-.66-1-1.3-2.14-1.91-3.23a4,4,0,0,0-1.51-1.53L29.49,144.68a94.78,94.78,0,0,1,0-33.34L59.7,94.16a4,4,0,0,0,1.51-1.53c.61-1.09,1.25-2.17,1.91-3.23a4,4,0,0,0,.61-2.11l.16-34.15a99.8,99.8,0,0,1,29.7-16.77l30.4,17a4.1,4.1,0,0,0,2.05.51c1.28,0,2.57,0,3.84,0a4,4,0,0,0,2.05-.51l30.45-17A100.23,100.23,0,0,1,192.11,53.1l.12,34.12a3.93,3.93,0,0,0,.61,2.11c.66,1,1.3,2.14,1.91,3.23a4,4,0,0,0,1.51,1.53l30.25,17.23A94.78,94.78,0,0,1,226.54,144.66Z"}))]]),i$2=reactExports.forwardRef((et,tt)=>React.createElement(P,m$6(L$2({ref:tt},et),{weights:d$2})));i$2.displayName="GearSix";var C$2=Object.defineProperty,A$4=Object.defineProperties,o$7=Object.getOwnPropertyDescriptors,l$3=Object.getOwnPropertySymbols,p$8=Object.prototype.hasOwnProperty,E$6=Object.prototype.propertyIsEnumerable,n$7=(et,tt,rt)=>tt in et?C$2(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,r$8=(et,tt)=>{for(var rt in tt||(tt={}))p$8.call(tt,rt)&&n$7(et,rt,tt[rt]);if(l$3)for(var rt of l$3(tt))E$6.call(tt,rt)&&n$7(et,rt,tt[rt]);return et},m$5=(et,tt)=>A$4(et,o$7(tt));const Z$5=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M178,28c-20.09,0-37.92,7.93-50,21.56C115.92,35.93,98.09,28,78,28A66.08,66.08,0,0,0,12,94c0,72.34,105.81,130.14,110.31,132.57a12,12,0,0,0,11.38,0C138.19,224.14,244,166.34,244,94A66.08,66.08,0,0,0,178,28Zm-5.49,142.36A328.69,328.69,0,0,1,128,202.16a328.69,328.69,0,0,1-44.51-31.8C61.82,151.77,36,123.42,36,94A42,42,0,0,1,78,52c17.8,0,32.7,9.4,38.89,24.54a12,12,0,0,0,22.22,0C145.3,61.4,160.2,52,178,52a42,42,0,0,1,42,42C220,123.42,194.18,151.77,172.51,170.36Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M232,94c0,66-104,122-104,122S24,160,24,94A54,54,0,0,1,78,40c22.59,0,41.94,12.31,50,32,8.06-19.69,27.41-32,50-32A54,54,0,0,1,232,94Z",opacity:"0.2"}),React.createElement("path",{d:"M178,32c-20.65,0-38.73,8.88-50,23.89C116.73,40.88,98.65,32,78,32A62.07,62.07,0,0,0,16,94c0,70,103.79,126.66,108.21,129a8,8,0,0,0,7.58,0C136.21,220.66,240,164,240,94A62.07,62.07,0,0,0,178,32ZM128,206.8C109.74,196.16,32,147.69,32,94A46.06,46.06,0,0,1,78,48c19.45,0,35.78,10.36,42.6,27a8,8,0,0,0,14.8,0c6.82-16.67,23.15-27,42.6-27a46.06,46.06,0,0,1,46,46C224,147.61,146.24,196.15,128,206.8Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M240,94c0,70-103.79,126.66-108.21,129a8,8,0,0,1-7.58,0C119.79,220.66,16,164,16,94A62.07,62.07,0,0,1,78,32c20.65,0,38.73,8.88,50,23.89C139.27,40.88,157.35,32,178,32A62.07,62.07,0,0,1,240,94Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M178,34c-21,0-39.26,9.47-50,25.34C117.26,43.47,99,34,78,34A60.07,60.07,0,0,0,18,94c0,29.2,18.2,59.59,54.1,90.31a334.68,334.68,0,0,0,53.06,37,6,6,0,0,0,5.68,0,334.68,334.68,0,0,0,53.06-37C219.8,153.59,238,123.2,238,94A60.07,60.07,0,0,0,178,34ZM128,209.11C111.59,199.64,30,149.72,30,94A48.05,48.05,0,0,1,78,46c20.28,0,37.31,10.83,44.45,28.27a6,6,0,0,0,11.1,0C140.69,56.83,157.72,46,178,46a48.05,48.05,0,0,1,48,48C226,149.72,144.41,199.64,128,209.11Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M178,32c-20.65,0-38.73,8.88-50,23.89C116.73,40.88,98.65,32,78,32A62.07,62.07,0,0,0,16,94c0,70,103.79,126.66,108.21,129a8,8,0,0,0,7.58,0C136.21,220.66,240,164,240,94A62.07,62.07,0,0,0,178,32ZM128,206.8C109.74,196.16,32,147.69,32,94A46.06,46.06,0,0,1,78,48c19.45,0,35.78,10.36,42.6,27a8,8,0,0,0,14.8,0c6.82-16.67,23.15-27,42.6-27a46.06,46.06,0,0,1,46,46C224,147.61,146.24,196.15,128,206.8Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M178,36c-21.44,0-39.92,10.19-50,27.07C117.92,46.19,99.44,36,78,36A58.07,58.07,0,0,0,20,94c0,28.59,18,58.47,53.4,88.79a333.81,333.81,0,0,0,52.7,36.73,4,4,0,0,0,3.8,0,333.81,333.81,0,0,0,52.7-36.73C218,152.47,236,122.59,236,94A58.07,58.07,0,0,0,178,36ZM128,211.42C114,203.46,28,152.07,28,94A50.06,50.06,0,0,1,78,44c21.11,0,38.85,11.31,46.3,29.51a4,4,0,0,0,7.4,0C139.15,55.31,156.89,44,178,44a50.06,50.06,0,0,1,50,50C228,152,142,203.46,128,211.42Z"}))]]),h$6=reactExports.forwardRef((et,tt)=>React.createElement(P,m$5(r$8({ref:tt},et),{weights:Z$5})));h$6.displayName="Heart";var M$3=Object.defineProperty,o$6=Object.defineProperties,p$7=Object.getOwnPropertyDescriptors,n$6=Object.getOwnPropertySymbols,E$5=Object.prototype.hasOwnProperty,Z$4=Object.prototype.propertyIsEnumerable,r$7=(et,tt,rt)=>tt in et?M$3(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,m$4=(et,tt)=>{for(var rt in tt||(tt={}))E$5.call(tt,rt)&&r$7(et,rt,tt[rt]);if(n$6)for(var rt of n$6(tt))Z$4.call(tt,rt)&&r$7(et,rt,tt[rt]);return et},c$7=(et,tt)=>o$6(et,p$7(tt));const d$1=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z",opacity:"0.2"}),React.createElement("path",{d:"M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"}))]]),h$5=reactExports.forwardRef((et,tt)=>React.createElement(P,c$7(m$4({ref:tt},et),{weights:d$1})));h$5.displayName="MagnifyingGlass";var A$3=Object.defineProperty,Z$3=Object.defineProperties,p$6=Object.getOwnPropertyDescriptors,n$5=Object.getOwnPropertySymbols,o$5=Object.prototype.hasOwnProperty,E$4=Object.prototype.propertyIsEnumerable,l$2=(et,tt,rt)=>tt in et?A$3(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,c$6=(et,tt)=>{for(var rt in tt||(tt={}))o$5.call(tt,rt)&&l$2(et,rt,tt[rt]);if(n$5)for(var rt of n$5(tt))E$4.call(tt,rt)&&l$2(et,rt,tt[rt]);return et},r$6=(et,tt)=>Z$3(et,p$6(tt));const h$4=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,60a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,60Zm0,64a20,20,0,1,1,20-20A20,20,0,0,1,128,124Zm0-112a92.1,92.1,0,0,0-92,92c0,77.36,81.64,135.4,85.12,137.83a12,12,0,0,0,13.76,0,259,259,0,0,0,42.18-39C205.15,170.57,220,136.37,220,104A92.1,92.1,0,0,0,128,12Zm31.3,174.71A249.35,249.35,0,0,1,128,216.89a249.35,249.35,0,0,1-31.3-30.18C80,167.37,60,137.31,60,104a68,68,0,0,1,136,0C196,137.31,176,167.37,159.3,186.71Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,24a80,80,0,0,0-80,80c0,72,80,128,80,128s80-56,80-128A80,80,0,0,0,128,24Zm0,112a32,32,0,1,1,32-32A32,32,0,0,1,128,136Z",opacity:"0.2"}),React.createElement("path",{d:"M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25A88.1,88.1,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,16a88.1,88.1,0,0,0-88,88c0,75.3,80,132.17,83.41,134.55a8,8,0,0,0,9.18,0C136,236.17,216,179.3,216,104A88.1,88.1,0,0,0,128,16Zm0,56a32,32,0,1,1-32,32A32,32,0,0,1,128,72Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,66a38,38,0,1,0,38,38A38,38,0,0,0,128,66Zm0,64a26,26,0,1,1,26-26A26,26,0,0,1,128,130Zm0-112a86.1,86.1,0,0,0-86,86c0,30.91,14.34,63.74,41.47,94.94a252.32,252.32,0,0,0,41.09,38,6,6,0,0,0,6.88,0,252.32,252.32,0,0,0,41.09-38c27.13-31.2,41.47-64,41.47-94.94A86.1,86.1,0,0,0,128,18Zm0,206.51C113,212.93,54,163.62,54,104a74,74,0,0,1,148,0C202,163.62,143,212.93,128,224.51Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25A88.1,88.1,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,68a36,36,0,1,0,36,36A36,36,0,0,0,128,68Zm0,64a28,28,0,1,1,28-28A28,28,0,0,1,128,132Zm0-112a84.09,84.09,0,0,0-84,84c0,30.42,14.17,62.79,41,93.62a250,250,0,0,0,40.73,37.66,4,4,0,0,0,4.58,0A250,250,0,0,0,171,197.62c26.81-30.83,41-63.2,41-93.62A84.09,84.09,0,0,0,128,20Zm37.1,172.23A254.62,254.62,0,0,1,128,227a254.62,254.62,0,0,1-37.1-34.81C73.15,171.8,52,139.9,52,104a76,76,0,0,1,152,0C204,139.9,182.85,171.8,165.1,192.23Z"}))]]),C$1=reactExports.forwardRef((et,tt)=>React.createElement(P,r$6(c$6({ref:tt},et),{weights:h$4})));C$1.displayName="MapPin";var c$5=Object.defineProperty,o$4=Object.defineProperties,p$5=Object.getOwnPropertyDescriptors,l$1=Object.getOwnPropertySymbols,E$3=Object.prototype.hasOwnProperty,M$2=Object.prototype.propertyIsEnumerable,r$5=(et,tt,rt)=>tt in et?c$5(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,m$3=(et,tt)=>{for(var rt in tt||(tt={}))E$3.call(tt,rt)&&r$5(et,rt,tt[rt]);if(l$1)for(var rt of l$1(tt))M$2.call(tt,rt)&&r$5(et,rt,tt[rt]);return et},A$2=(et,tt)=>o$4(et,p$5(tt));const h$3=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M236.37,139.4a12,12,0,0,0-12-3A84.07,84.07,0,0,1,119.6,31.59a12,12,0,0,0-15-15A108.86,108.86,0,0,0,49.69,55.07,108,108,0,0,0,136,228a107.09,107.09,0,0,0,64.93-21.69,108.86,108.86,0,0,0,38.44-54.94A12,12,0,0,0,236.37,139.4Zm-49.88,47.74A84,84,0,0,1,68.86,69.51,84.93,84.93,0,0,1,92.27,48.29Q92,52.13,92,56A108.12,108.12,0,0,0,200,164q3.87,0,7.71-.27A84.79,84.79,0,0,1,186.49,187.14Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M227.89,147.89A96,96,0,1,1,108.11,28.11,96.09,96.09,0,0,0,227.89,147.89Z",opacity:"0.2"}),React.createElement("path",{d:"M233.54,142.23a8,8,0,0,0-8-2,88.08,88.08,0,0,1-109.8-109.8,8,8,0,0,0-10-10,104.84,104.84,0,0,0-52.91,37A104,104,0,0,0,136,224a103.09,103.09,0,0,0,62.52-20.88,104.84,104.84,0,0,0,37-52.91A8,8,0,0,0,233.54,142.23ZM188.9,190.34A88,88,0,0,1,65.66,67.11a89,89,0,0,1,31.4-26A106,106,0,0,0,96,56,104.11,104.11,0,0,0,200,160a106,106,0,0,0,14.92-1.06A89,89,0,0,1,188.9,190.34Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M235.54,150.21a104.84,104.84,0,0,1-37,52.91A104,104,0,0,1,32,120,103.09,103.09,0,0,1,52.88,57.48a104.84,104.84,0,0,1,52.91-37,8,8,0,0,1,10,10,88.08,88.08,0,0,0,109.8,109.8,8,8,0,0,1,10,10Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M232.13,143.64a6,6,0,0,0-6-1.49A90.07,90.07,0,0,1,113.86,29.85a6,6,0,0,0-7.49-7.48A102.88,102.88,0,0,0,54.48,58.68,102,102,0,0,0,197.32,201.52a102.88,102.88,0,0,0,36.31-51.89A6,6,0,0,0,232.13,143.64Zm-42,48.29a90,90,0,0,1-126-126A90.9,90.9,0,0,1,99.65,37.66,102.06,102.06,0,0,0,218.34,156.35,90.9,90.9,0,0,1,190.1,191.93Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M233.54,142.23a8,8,0,0,0-8-2,88.08,88.08,0,0,1-109.8-109.8,8,8,0,0,0-10-10,104.84,104.84,0,0,0-52.91,37A104,104,0,0,0,136,224a103.09,103.09,0,0,0,62.52-20.88,104.84,104.84,0,0,0,37-52.91A8,8,0,0,0,233.54,142.23ZM188.9,190.34A88,88,0,0,1,65.66,67.11a89,89,0,0,1,31.4-26A106,106,0,0,0,96,56,104.11,104.11,0,0,0,200,160a106,106,0,0,0,14.92-1.06A89,89,0,0,1,188.9,190.34Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M230.72,145.06a4,4,0,0,0-4-1A92.08,92.08,0,0,1,111.94,29.27a4,4,0,0,0-5-5A100.78,100.78,0,0,0,56.08,59.88a100,100,0,0,0,140,140,100.78,100.78,0,0,0,35.59-50.87A4,4,0,0,0,230.72,145.06ZM191.3,193.53A92,92,0,0,1,62.47,64.7a93,93,0,0,1,39.88-30.35,100.09,100.09,0,0,0,119.3,119.3A93,93,0,0,1,191.3,193.53Z"}))]]),g$1=reactExports.forwardRef((et,tt)=>React.createElement(P,A$2(m$3({ref:tt},et),{weights:h$3})));g$1.displayName="Moon";var c$4=Object.defineProperty,H$3=Object.defineProperties,V$2=Object.getOwnPropertyDescriptors,n$4=Object.getOwnPropertySymbols,o$3=Object.prototype.hasOwnProperty,p$4=Object.prototype.propertyIsEnumerable,r$4=(et,tt,rt)=>tt in et?c$4(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,m$2=(et,tt)=>{for(var rt in tt||(tt={}))o$3.call(tt,rt)&&r$4(et,rt,tt[rt]);if(n$4)for(var rt of n$4(tt))p$4.call(tt,rt)&&r$4(et,rt,tt[rt]);return et},h$2=(et,tt)=>H$3(et,V$2(tt));const v$3=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216,48V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8H208A8,8,0,0,1,216,48Z",opacity:"0.2"}),React.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM184,136H136v48a8,8,0,0,1-16,0V136H72a8,8,0,0,1,0-16h48V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M222,128a6,6,0,0,1-6,6H134v82a6,6,0,0,1-12,0V134H40a6,6,0,0,1,0-12h82V40a6,6,0,0,1,12,0v82h82A6,6,0,0,1,222,128Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M220,128a4,4,0,0,1-4,4H132v84a4,4,0,0,1-8,0V132H40a4,4,0,0,1,0-8h84V40a4,4,0,0,1,8,0v84h84A4,4,0,0,1,220,128Z"}))]]),u$1=reactExports.forwardRef((et,tt)=>React.createElement(P,h$2(m$2({ref:tt},et),{weights:v$3})));u$1.displayName="Plus";var c$3=Object.defineProperty,Z$2=Object.defineProperties,A$1=Object.getOwnPropertyDescriptors,m$1=Object.getOwnPropertySymbols,o$2=Object.prototype.hasOwnProperty,p$3=Object.prototype.propertyIsEnumerable,n$3=(et,tt,rt)=>tt in et?c$3(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,r$3=(et,tt)=>{for(var rt in tt||(tt={}))o$2.call(tt,rt)&&n$3(et,rt,tt[rt]);if(m$1)for(var rt of m$1(tt))p$3.call(tt,rt)&&n$3(et,rt,tt[rt]);return et},h$1=(et,tt)=>Z$2(et,A$1(tt));const v$2=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm52-84a12,12,0,0,1-12,12H140v28a12,12,0,0,1-24,0V140H88a12,12,0,0,1,0-24h28V88a12,12,0,0,1,24,0v28h28A12,12,0,0,1,180,128Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),React.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm48-88a8,8,0,0,1-8,8H136v32a8,8,0,0,1-16,0V136H88a8,8,0,0,1,0-16h32V88a8,8,0,0,1,16,0v32h32A8,8,0,0,1,176,128Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.13,104.13,0,0,0,128,24Zm40,112H136v32a8,8,0,0,1-16,0V136H88a8,8,0,0,1,0-16h32V88a8,8,0,0,1,16,0v32h32a8,8,0,0,1,0,16Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm46-90a6,6,0,0,1-6,6H134v34a6,6,0,0,1-12,0V134H88a6,6,0,0,1,0-12h34V88a6,6,0,0,1,12,0v34h34A6,6,0,0,1,174,128Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm48-88a8,8,0,0,1-8,8H136v32a8,8,0,0,1-16,0V136H88a8,8,0,0,1,0-16h32V88a8,8,0,0,1,16,0v32h32A8,8,0,0,1,176,128Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm44-92a4,4,0,0,1-4,4H132v36a4,4,0,0,1-8,0V132H88a4,4,0,0,1,0-8h36V88a4,4,0,0,1,8,0v36h36A4,4,0,0,1,172,128Z"}))]]),H$2=reactExports.forwardRef((et,tt)=>React.createElement(P,h$1(r$3({ref:tt},et),{weights:v$2})));H$2.displayName="PlusCircle";var r$2=Object.defineProperty,M$1=Object.defineProperties,c$2=Object.getOwnPropertyDescriptors,Z$1=Object.getOwnPropertySymbols,H$1=Object.prototype.hasOwnProperty,V$1=Object.prototype.propertyIsEnumerable,t=(et,tt,rt)=>tt in et?r$2(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,A=(et,tt)=>{for(var rt in tt||(tt={}))H$1.call(tt,rt)&&t(et,rt,tt[rt]);if(Z$1)for(var rt of Z$1(tt))V$1.call(tt,rt)&&t(et,rt,tt[rt]);return et},n$2=(et,tt)=>M$1(et,c$2(tt));const p$2=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M116,32V16a12,12,0,0,1,24,0V32a12,12,0,0,1-24,0Zm80,96a68,68,0,1,1-68-68A68.07,68.07,0,0,1,196,128Zm-24,0a44,44,0,1,0-44,44A44.05,44.05,0,0,0,172,128ZM51.51,68.49a12,12,0,1,0,17-17l-12-12a12,12,0,0,0-17,17Zm0,119-12,12a12,12,0,0,0,17,17l12-12a12,12,0,1,0-17-17ZM196,72a12,12,0,0,0,8.49-3.51l12-12a12,12,0,0,0-17-17l-12,12A12,12,0,0,0,196,72Zm8.49,115.51a12,12,0,0,0-17,17l12,12a12,12,0,0,0,17-17ZM44,128a12,12,0,0,0-12-12H16a12,12,0,0,0,0,24H32A12,12,0,0,0,44,128Zm84,84a12,12,0,0,0-12,12v16a12,12,0,0,0,24,0V224A12,12,0,0,0,128,212Zm112-96H224a12,12,0,0,0,0,24h16a12,12,0,0,0,0-24Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M184,128a56,56,0,1,1-56-56A56,56,0,0,1,184,128Z",opacity:"0.2"}),React.createElement("path",{d:"M120,40V16a8,8,0,0,1,16,0V40a8,8,0,0,1-16,0Zm72,88a64,64,0,1,1-64-64A64.07,64.07,0,0,1,192,128Zm-16,0a48,48,0,1,0-48,48A48.05,48.05,0,0,0,176,128ZM58.34,69.66A8,8,0,0,0,69.66,58.34l-16-16A8,8,0,0,0,42.34,53.66Zm0,116.68-16,16a8,8,0,0,0,11.32,11.32l16-16a8,8,0,0,0-11.32-11.32ZM192,72a8,8,0,0,0,5.66-2.34l16-16a8,8,0,0,0-11.32-11.32l-16,16A8,8,0,0,0,192,72Zm5.66,114.34a8,8,0,0,0-11.32,11.32l16,16a8,8,0,0,0,11.32-11.32ZM48,128a8,8,0,0,0-8-8H16a8,8,0,0,0,0,16H40A8,8,0,0,0,48,128Zm80,80a8,8,0,0,0-8,8v24a8,8,0,0,0,16,0V216A8,8,0,0,0,128,208Zm112-88H216a8,8,0,0,0,0,16h24a8,8,0,0,0,0-16Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M120,40V16a8,8,0,0,1,16,0V40a8,8,0,0,1-16,0Zm8,24a64,64,0,1,0,64,64A64.07,64.07,0,0,0,128,64ZM58.34,69.66A8,8,0,0,0,69.66,58.34l-16-16A8,8,0,0,0,42.34,53.66Zm0,116.68-16,16a8,8,0,0,0,11.32,11.32l16-16a8,8,0,0,0-11.32-11.32ZM192,72a8,8,0,0,0,5.66-2.34l16-16a8,8,0,0,0-11.32-11.32l-16,16A8,8,0,0,0,192,72Zm5.66,114.34a8,8,0,0,0-11.32,11.32l16,16a8,8,0,0,0,11.32-11.32ZM48,128a8,8,0,0,0-8-8H16a8,8,0,0,0,0,16H40A8,8,0,0,0,48,128Zm80,80a8,8,0,0,0-8,8v24a8,8,0,0,0,16,0V216A8,8,0,0,0,128,208Zm112-88H216a8,8,0,0,0,0,16h24a8,8,0,0,0,0-16Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M122,40V16a6,6,0,0,1,12,0V40a6,6,0,0,1-12,0Zm68,88a62,62,0,1,1-62-62A62.07,62.07,0,0,1,190,128Zm-12,0a50,50,0,1,0-50,50A50.06,50.06,0,0,0,178,128ZM59.76,68.24a6,6,0,1,0,8.48-8.48l-16-16a6,6,0,0,0-8.48,8.48Zm0,119.52-16,16a6,6,0,1,0,8.48,8.48l16-16a6,6,0,1,0-8.48-8.48ZM192,70a6,6,0,0,0,4.24-1.76l16-16a6,6,0,0,0-8.48-8.48l-16,16A6,6,0,0,0,192,70Zm4.24,117.76a6,6,0,0,0-8.48,8.48l16,16a6,6,0,0,0,8.48-8.48ZM46,128a6,6,0,0,0-6-6H16a6,6,0,0,0,0,12H40A6,6,0,0,0,46,128Zm82,82a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V216A6,6,0,0,0,128,210Zm112-88H216a6,6,0,0,0,0,12h24a6,6,0,0,0,0-12Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M120,40V16a8,8,0,0,1,16,0V40a8,8,0,0,1-16,0Zm72,88a64,64,0,1,1-64-64A64.07,64.07,0,0,1,192,128Zm-16,0a48,48,0,1,0-48,48A48.05,48.05,0,0,0,176,128ZM58.34,69.66A8,8,0,0,0,69.66,58.34l-16-16A8,8,0,0,0,42.34,53.66Zm0,116.68-16,16a8,8,0,0,0,11.32,11.32l16-16a8,8,0,0,0-11.32-11.32ZM192,72a8,8,0,0,0,5.66-2.34l16-16a8,8,0,0,0-11.32-11.32l-16,16A8,8,0,0,0,192,72Zm5.66,114.34a8,8,0,0,0-11.32,11.32l16,16a8,8,0,0,0,11.32-11.32ZM48,128a8,8,0,0,0-8-8H16a8,8,0,0,0,0,16H40A8,8,0,0,0,48,128Zm80,80a8,8,0,0,0-8,8v24a8,8,0,0,0,16,0V216A8,8,0,0,0,128,208Zm112-88H216a8,8,0,0,0,0,16h24a8,8,0,0,0,0-16Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M124,40V16a4,4,0,0,1,8,0V40a4,4,0,0,1-8,0Zm64,88a60,60,0,1,1-60-60A60.07,60.07,0,0,1,188,128Zm-8,0a52,52,0,1,0-52,52A52.06,52.06,0,0,0,180,128ZM61.17,66.83a4,4,0,0,0,5.66-5.66l-16-16a4,4,0,0,0-5.66,5.66Zm0,122.34-16,16a4,4,0,0,0,5.66,5.66l16-16a4,4,0,0,0-5.66-5.66ZM192,68a4,4,0,0,0,2.83-1.17l16-16a4,4,0,1,0-5.66-5.66l-16,16A4,4,0,0,0,192,68Zm2.83,121.17a4,4,0,0,0-5.66,5.66l16,16a4,4,0,0,0,5.66-5.66ZM40,124H16a4,4,0,0,0,0,8H40a4,4,0,0,0,0-8Zm88,88a4,4,0,0,0-4,4v24a4,4,0,0,0,8,0V216A4,4,0,0,0,128,212Zm112-88H216a4,4,0,0,0,0,8h24a4,4,0,0,0,0-8Z"}))]]),E$2=reactExports.forwardRef((et,tt)=>React.createElement(P,n$2(A({ref:tt},et),{weights:p$2})));E$2.displayName="Sun";var c$1=Object.defineProperty,o$1=Object.defineProperties,p$1=Object.getOwnPropertyDescriptors,n$1=Object.getOwnPropertySymbols,E$1=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,r$1=(et,tt,rt)=>tt in et?c$1(et,tt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):et[tt]=rt,m=(et,tt)=>{for(var rt in tt||(tt={}))E$1.call(tt,rt)&&r$1(et,rt,tt[rt]);if(n$1)for(var rt of n$1(tt))d.call(tt,rt)&&r$1(et,rt,tt[rt]);return et},L$1=(et,tt)=>o$1(et,p$1(tt));const i$1=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216,48V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8H208A8,8,0,0,1,216,48Z",opacity:"0.2"}),React.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"}))]]),u=reactExports.forwardRef((et,tt)=>React.createElement(P,L$1(m({ref:tt},et),{weights:i$1})));u.displayName="X";var build={exports:{}};(function(et,tt){(function(rt,nt){et.exports=nt(reactExports)})(commonjsGlobal,function(rt){return function(nt){var at={};function lt(dt){if(at[dt])return at[dt].exports;var ot=at[dt]={i:dt,l:!1,exports:{}};return nt[dt].call(ot.exports,ot,ot.exports,lt),ot.l=!0,ot.exports}return lt.m=nt,lt.c=at,lt.d=function(dt,ot,mt){lt.o(dt,ot)||Object.defineProperty(dt,ot,{enumerable:!0,get:mt})},lt.r=function(dt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(dt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(dt,"__esModule",{value:!0})},lt.t=function(dt,ot){if(1&ot&&(dt=lt(dt)),8&ot||4&ot&&typeof dt=="object"&&dt&&dt.__esModule)return dt;var mt=Object.create(null);if(lt.r(mt),Object.defineProperty(mt,"default",{enumerable:!0,value:dt}),2&ot&&typeof dt!="string")for(var xt in dt)lt.d(mt,xt,function(Et){return dt[Et]}.bind(null,xt));return mt},lt.n=function(dt){var ot=dt&&dt.__esModule?function(){return dt.default}:function(){return dt};return lt.d(ot,"a",ot),ot},lt.o=function(dt,ot){return Object.prototype.hasOwnProperty.call(dt,ot)},lt.p="/",lt(lt.s=1)}([function(nt,at){nt.exports=rt},function(nt,at,lt){nt.exports=lt(2)},function(nt,at,lt){function dt(er,Kt,ur){return Kt in er?Object.defineProperty(er,Kt,{value:ur,enumerable:!0,configurable:!0,writable:!0}):er[Kt]=ur,er}function ot(er,Kt){var ur=Object.keys(er);if(Object.getOwnPropertySymbols){var vr=Object.getOwnPropertySymbols(er);Kt&&(vr=vr.filter(function(Lr){return Object.getOwnPropertyDescriptor(er,Lr).enumerable})),ur.push.apply(ur,vr)}return ur}function mt(er,Kt){if(er==null)return{};var ur,vr,Lr=function(Cr,hr){if(Cr==null)return{};var Tr,Xt,Qt={},lr=Object.keys(Cr);for(Xt=0;Xt<lr.length;Xt++)Tr=lr[Xt],hr.indexOf(Tr)>=0||(Qt[Tr]=Cr[Tr]);return Qt}(er,Kt);if(Object.getOwnPropertySymbols){var Er=Object.getOwnPropertySymbols(er);for(vr=0;vr<Er.length;vr++)ur=Er[vr],Kt.indexOf(ur)>=0||Object.prototype.propertyIsEnumerable.call(er,ur)&&(Lr[ur]=er[ur])}return Lr}lt.r(at);var xt=lt(0),Et=lt.n(xt),At=function(er){for(var Kt=0,ur=0;ur<er.length;ur++)Kt=(Kt<<5)-Kt+er.charCodeAt(ur),Kt&=Kt;return Math.abs(Kt)},Tt=function(er,Kt){return Math.floor(er/Math.pow(10,Kt)%10)},Ft=function(er,Kt){return!(Tt(er,Kt)%2)},Mt=function(er,Kt,ur){var vr=er%Kt;return ur&&Tt(er,ur)%2===0?-vr:vr},Lt=function(er,Kt,ur){return Kt[er%ur]},Gt=function(er){var Kt=function(ur,vr){var Lr=At(ur),Er=vr&&vr.length;return Array.from({length:4},function(Cr,hr){return{color:Lt(Lr+hr,vr,Er),translateX:Mt(Lr*(hr+1),40-(hr+17),1),translateY:Mt(Lr*(hr+1),40-(hr+17),2),rotate:Mt(Lr*(hr+1),360),isSquare:Ft(Lr,2)}})}(er.name,er.colors);return xt.createElement("svg",{viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:er.size,height:er.size},er.title&&xt.createElement("title",null,er.name),xt.createElement("mask",{id:"mask__bauhaus",maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},xt.createElement("rect",{width:80,height:80,rx:er.square?void 0:160,fill:"#FFFFFF"})),xt.createElement("g",{mask:"url(#mask__bauhaus)"},xt.createElement("rect",{width:80,height:80,fill:Kt[0].color}),xt.createElement("rect",{x:10,y:30,width:80,height:Kt[1].isSquare?80:10,fill:Kt[1].color,transform:"translate("+Kt[1].translateX+" "+Kt[1].translateY+") rotate("+Kt[1].rotate+" 40 40)"}),xt.createElement("circle",{cx:40,cy:40,fill:Kt[2].color,r:16,transform:"translate("+Kt[2].translateX+" "+Kt[2].translateY+")"}),xt.createElement("line",{x1:0,y1:40,x2:80,y2:40,strokeWidth:2,stroke:Kt[3].color,transform:"translate("+Kt[3].translateX+" "+Kt[3].translateY+") rotate("+Kt[3].rotate+" 40 40)"})))},Pt=function(er){var Kt=function(ur,vr){var Lr=At(vr),Er=ur&&ur.length,Cr=Array.from({length:5},function(Tr,Xt){return Lt(Lr+Xt,ur,Er)}),hr=[];return hr[0]=Cr[0],hr[1]=Cr[1],hr[2]=Cr[1],hr[3]=Cr[2],hr[4]=Cr[2],hr[5]=Cr[3],hr[6]=Cr[3],hr[7]=Cr[0],hr[8]=Cr[4],hr}(er.colors,er.name);return Et.a.createElement("svg",{viewBox:"0 0 90 90",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:er.size,height:er.size},er.title&&Et.a.createElement("title",null,er.name),Et.a.createElement("mask",{id:"mask__ring",maskUnits:"userSpaceOnUse",x:0,y:0,width:90,height:90},Et.a.createElement("rect",{width:90,height:90,rx:er.square?void 0:180,fill:"#FFFFFF"})),Et.a.createElement("g",{mask:"url(#mask__ring)"},Et.a.createElement("path",{d:"M0 0h90v45H0z",fill:Kt[0]}),Et.a.createElement("path",{d:"M0 45h90v45H0z",fill:Kt[1]}),Et.a.createElement("path",{d:"M83 45a38 38 0 00-76 0h76z",fill:Kt[2]}),Et.a.createElement("path",{d:"M83 45a38 38 0 01-76 0h76z",fill:Kt[3]}),Et.a.createElement("path",{d:"M77 45a32 32 0 10-64 0h64z",fill:Kt[4]}),Et.a.createElement("path",{d:"M77 45a32 32 0 11-64 0h64z",fill:Kt[5]}),Et.a.createElement("path",{d:"M71 45a26 26 0 00-52 0h52z",fill:Kt[6]}),Et.a.createElement("path",{d:"M71 45a26 26 0 01-52 0h52z",fill:Kt[7]}),Et.a.createElement("circle",{cx:45,cy:45,r:23,fill:Kt[8]})))},$t=function(er){var Kt=function(ur,vr){var Lr=At(ur),Er=vr&&vr.length;return Array.from({length:64},function(Cr,hr){return Lt(Lr%hr,vr,Er)})}(er.name,er.colors);return xt.createElement("svg",{viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:er.size,height:er.size},er.title&&xt.createElement("title",null,er.name),xt.createElement("mask",{id:"mask__pixel","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},xt.createElement("rect",{width:80,height:80,rx:er.square?void 0:160,fill:"#FFFFFF"})),xt.createElement("g",{mask:"url(#mask__pixel)"},xt.createElement("rect",{width:10,height:10,fill:Kt[0]}),xt.createElement("rect",{x:20,width:10,height:10,fill:Kt[1]}),xt.createElement("rect",{x:40,width:10,height:10,fill:Kt[2]}),xt.createElement("rect",{x:60,width:10,height:10,fill:Kt[3]}),xt.createElement("rect",{x:10,width:10,height:10,fill:Kt[4]}),xt.createElement("rect",{x:30,width:10,height:10,fill:Kt[5]}),xt.createElement("rect",{x:50,width:10,height:10,fill:Kt[6]}),xt.createElement("rect",{x:70,width:10,height:10,fill:Kt[7]}),xt.createElement("rect",{y:10,width:10,height:10,fill:Kt[8]}),xt.createElement("rect",{y:20,width:10,height:10,fill:Kt[9]}),xt.createElement("rect",{y:30,width:10,height:10,fill:Kt[10]}),xt.createElement("rect",{y:40,width:10,height:10,fill:Kt[11]}),xt.createElement("rect",{y:50,width:10,height:10,fill:Kt[12]}),xt.createElement("rect",{y:60,width:10,height:10,fill:Kt[13]}),xt.createElement("rect",{y:70,width:10,height:10,fill:Kt[14]}),xt.createElement("rect",{x:20,y:10,width:10,height:10,fill:Kt[15]}),xt.createElement("rect",{x:20,y:20,width:10,height:10,fill:Kt[16]}),xt.createElement("rect",{x:20,y:30,width:10,height:10,fill:Kt[17]}),xt.createElement("rect",{x:20,y:40,width:10,height:10,fill:Kt[18]}),xt.createElement("rect",{x:20,y:50,width:10,height:10,fill:Kt[19]}),xt.createElement("rect",{x:20,y:60,width:10,height:10,fill:Kt[20]}),xt.createElement("rect",{x:20,y:70,width:10,height:10,fill:Kt[21]}),xt.createElement("rect",{x:40,y:10,width:10,height:10,fill:Kt[22]}),xt.createElement("rect",{x:40,y:20,width:10,height:10,fill:Kt[23]}),xt.createElement("rect",{x:40,y:30,width:10,height:10,fill:Kt[24]}),xt.createElement("rect",{x:40,y:40,width:10,height:10,fill:Kt[25]}),xt.createElement("rect",{x:40,y:50,width:10,height:10,fill:Kt[26]}),xt.createElement("rect",{x:40,y:60,width:10,height:10,fill:Kt[27]}),xt.createElement("rect",{x:40,y:70,width:10,height:10,fill:Kt[28]}),xt.createElement("rect",{x:60,y:10,width:10,height:10,fill:Kt[29]}),xt.createElement("rect",{x:60,y:20,width:10,height:10,fill:Kt[30]}),xt.createElement("rect",{x:60,y:30,width:10,height:10,fill:Kt[31]}),xt.createElement("rect",{x:60,y:40,width:10,height:10,fill:Kt[32]}),xt.createElement("rect",{x:60,y:50,width:10,height:10,fill:Kt[33]}),xt.createElement("rect",{x:60,y:60,width:10,height:10,fill:Kt[34]}),xt.createElement("rect",{x:60,y:70,width:10,height:10,fill:Kt[35]}),xt.createElement("rect",{x:10,y:10,width:10,height:10,fill:Kt[36]}),xt.createElement("rect",{x:10,y:20,width:10,height:10,fill:Kt[37]}),xt.createElement("rect",{x:10,y:30,width:10,height:10,fill:Kt[38]}),xt.createElement("rect",{x:10,y:40,width:10,height:10,fill:Kt[39]}),xt.createElement("rect",{x:10,y:50,width:10,height:10,fill:Kt[40]}),xt.createElement("rect",{x:10,y:60,width:10,height:10,fill:Kt[41]}),xt.createElement("rect",{x:10,y:70,width:10,height:10,fill:Kt[42]}),xt.createElement("rect",{x:30,y:10,width:10,height:10,fill:Kt[43]}),xt.createElement("rect",{x:30,y:20,width:10,height:10,fill:Kt[44]}),xt.createElement("rect",{x:30,y:30,width:10,height:10,fill:Kt[45]}),xt.createElement("rect",{x:30,y:40,width:10,height:10,fill:Kt[46]}),xt.createElement("rect",{x:30,y:50,width:10,height:10,fill:Kt[47]}),xt.createElement("rect",{x:30,y:60,width:10,height:10,fill:Kt[48]}),xt.createElement("rect",{x:30,y:70,width:10,height:10,fill:Kt[49]}),xt.createElement("rect",{x:50,y:10,width:10,height:10,fill:Kt[50]}),xt.createElement("rect",{x:50,y:20,width:10,height:10,fill:Kt[51]}),xt.createElement("rect",{x:50,y:30,width:10,height:10,fill:Kt[52]}),xt.createElement("rect",{x:50,y:40,width:10,height:10,fill:Kt[53]}),xt.createElement("rect",{x:50,y:50,width:10,height:10,fill:Kt[54]}),xt.createElement("rect",{x:50,y:60,width:10,height:10,fill:Kt[55]}),xt.createElement("rect",{x:50,y:70,width:10,height:10,fill:Kt[56]}),xt.createElement("rect",{x:70,y:10,width:10,height:10,fill:Kt[57]}),xt.createElement("rect",{x:70,y:20,width:10,height:10,fill:Kt[58]}),xt.createElement("rect",{x:70,y:30,width:10,height:10,fill:Kt[59]}),xt.createElement("rect",{x:70,y:40,width:10,height:10,fill:Kt[60]}),xt.createElement("rect",{x:70,y:50,width:10,height:10,fill:Kt[61]}),xt.createElement("rect",{x:70,y:60,width:10,height:10,fill:Kt[62]}),xt.createElement("rect",{x:70,y:70,width:10,height:10,fill:Kt[63]})))},It=function(er){var Kt=function(ur,vr){var Lr,Er=At(ur),Cr=vr&&vr.length,hr=Lt(Er,vr,Cr),Tr=Mt(Er,10,1),Xt=Tr<5?Tr+4:Tr,Qt=Mt(Er,10,2),lr=Qt<5?Qt+4:Qt;return{wrapperColor:hr,faceColor:(Lr=hr,Lr.slice(0,1)==="#"&&(Lr=Lr.slice(1)),(299*parseInt(Lr.substr(0,2),16)+587*parseInt(Lr.substr(2,2),16)+114*parseInt(Lr.substr(4,2),16))/1e3>=128?"#000000":"#FFFFFF"),backgroundColor:Lt(Er+13,vr,Cr),wrapperTranslateX:Xt,wrapperTranslateY:lr,wrapperRotate:Mt(Er,360),wrapperScale:1+Mt(Er,3)/10,isMouthOpen:Ft(Er,2),isCircle:Ft(Er,1),eyeSpread:Mt(Er,5),mouthSpread:Mt(Er,3),faceRotate:Mt(Er,10,3),faceTranslateX:Xt>6?Xt/2:Mt(Er,8,1),faceTranslateY:lr>6?lr/2:Mt(Er,7,2)}}(er.name,er.colors);return xt.createElement("svg",{viewBox:"0 0 36 36",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:er.size,height:er.size},er.title&&xt.createElement("title",null,er.name),xt.createElement("mask",{id:"mask__beam",maskUnits:"userSpaceOnUse",x:0,y:0,width:36,height:36},xt.createElement("rect",{width:36,height:36,rx:er.square?void 0:72,fill:"#FFFFFF"})),xt.createElement("g",{mask:"url(#mask__beam)"},xt.createElement("rect",{width:36,height:36,fill:Kt.backgroundColor}),xt.createElement("rect",{x:"0",y:"0",width:36,height:36,transform:"translate("+Kt.wrapperTranslateX+" "+Kt.wrapperTranslateY+") rotate("+Kt.wrapperRotate+" 18 18) scale("+Kt.wrapperScale+")",fill:Kt.wrapperColor,rx:Kt.isCircle?36:6}),xt.createElement("g",{transform:"translate("+Kt.faceTranslateX+" "+Kt.faceTranslateY+") rotate("+Kt.faceRotate+" 18 18)"},Kt.isMouthOpen?xt.createElement("path",{d:"M15 "+(19+Kt.mouthSpread)+"c2 1 4 1 6 0",stroke:Kt.faceColor,fill:"none",strokeLinecap:"round"}):xt.createElement("path",{d:"M13,"+(19+Kt.mouthSpread)+" a1,0.75 0 0,0 10,0",fill:Kt.faceColor}),xt.createElement("rect",{x:14-Kt.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:Kt.faceColor}),xt.createElement("rect",{x:20+Kt.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:Kt.faceColor}))))},Ot=function(er){var Kt=function(vr,Lr){var Er=At(vr),Cr=Lr&&Lr.length;return Array.from({length:4},function(hr,Tr){return Lt(Er+Tr,Lr,Cr)})}(er.name,er.colors),ur=er.name.replace(/\s/g,"");return xt.createElement("svg",{viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:er.size,height:er.size},er.title&&xt.createElement("title",null,er.name),xt.createElement("mask",{id:"mask__sunset",maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},xt.createElement("rect",{width:80,height:80,rx:er.square?void 0:160,fill:"#FFFFFF"})),xt.createElement("g",{mask:"url(#mask__sunset)"},xt.createElement("path",{fill:"url(#gradient_paint0_linear_"+ur+")",d:"M0 0h80v40H0z"}),xt.createElement("path",{fill:"url(#gradient_paint1_linear_"+ur+")",d:"M0 40h80v40H0z"})),xt.createElement("defs",null,xt.createElement("linearGradient",{id:"gradient_paint0_linear_"+ur,x1:40,y1:0,x2:40,y2:40,gradientUnits:"userSpaceOnUse"},xt.createElement("stop",{stopColor:Kt[0]}),xt.createElement("stop",{offset:1,stopColor:Kt[1]})),xt.createElement("linearGradient",{id:"gradient_paint1_linear_"+ur,x1:40,y1:40,x2:40,y2:80,gradientUnits:"userSpaceOnUse"},xt.createElement("stop",{stopColor:Kt[2]}),xt.createElement("stop",{offset:1,stopColor:Kt[3]}))))},Vt=function(er){var Kt=function(ur,vr){var Lr=At(ur),Er=vr&&vr.length;return Array.from({length:3},function(Cr,hr){return{color:Lt(Lr+hr,vr,Er),translateX:Mt(Lr*(hr+1),8,1),translateY:Mt(Lr*(hr+1),8,2),scale:1.2+Mt(Lr*(hr+1),4)/10,rotate:Mt(Lr*(hr+1),360,1)}})}(er.name,er.colors);return xt.createElement("svg",{viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:er.size,height:er.size},er.title&&xt.createElement("title",null,er.name),xt.createElement("mask",{id:"mask__marble",maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},xt.createElement("rect",{width:80,height:80,rx:er.square?void 0:160,fill:"#FFFFFF"})),xt.createElement("g",{mask:"url(#mask__marble)"},xt.createElement("rect",{width:80,height:80,fill:Kt[0].color}),xt.createElement("path",{filter:"url(#prefix__filter0_f)",d:"M32.414 59.35L50.376 70.5H72.5v-71H33.728L26.5 13.381l19.057 27.08L32.414 59.35z",fill:Kt[1].color,transform:"translate("+Kt[1].translateX+" "+Kt[1].translateY+") rotate("+Kt[1].rotate+" 40 40) scale("+Kt[2].scale+")"}),xt.createElement("path",{filter:"url(#prefix__filter0_f)",style:{mixBlendMode:"overlay"},d:"M22.216 24L0 46.75l14.108 38.129L78 86l-3.081-59.276-22.378 4.005 12.972 20.186-23.35 27.395L22.215 24z",fill:Kt[2].color,transform:"translate("+Kt[2].translateX+" "+Kt[2].translateY+") rotate("+Kt[2].rotate+" 40 40) scale("+Kt[2].scale+")"})),xt.createElement("defs",null,xt.createElement("filter",{id:"prefix__filter0_f",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},xt.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),xt.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),xt.createElement("feGaussianBlur",{stdDeviation:7,result:"effect1_foregroundBlur"}))))},Ut=["pixel","bauhaus","ring","beam","sunset","marble"],Wt={geometric:"beam",abstract:"bauhaus"},nr=function(er){var Kt=er.variant,ur=Kt===void 0?"marble":Kt,vr=er.colors,Lr=vr===void 0?["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"]:vr,Er=er.name,Cr=Er===void 0?"Clara Barton":Er,hr=er.square,Tr=hr!==void 0&&hr,Xt=er.title,Qt=Xt!==void 0&&Xt,lr=er.size,cr=function(sr){for(var dr=1;dr<arguments.length;dr++){var Rr=arguments[dr]!=null?arguments[dr]:{};dr%2?ot(Object(Rr),!0).forEach(function(jr){dt(sr,jr,Rr[jr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(sr,Object.getOwnPropertyDescriptors(Rr)):ot(Object(Rr)).forEach(function(jr){Object.defineProperty(sr,jr,Object.getOwnPropertyDescriptor(Rr,jr))})}return sr}({colors:Lr,name:Cr,title:Qt,size:lr===void 0?40:lr,square:Tr},mt(er,["variant","colors","name","square","title","size"]));return{pixel:Et.a.createElement($t,cr),bauhaus:Et.a.createElement(Gt,cr),ring:Et.a.createElement(Pt,cr),beam:Et.a.createElement(It,cr),sunset:Et.a.createElement(Ot,cr),marble:Et.a.createElement(Vt,cr)}[Object.keys(Wt).includes(ur)?Wt[ur]:Ut.includes(ur)?ur:"marble"]};at.default=nr}])})})(build);var buildExports=build.exports;const Avatar=getDefaultExportFromCjs(buildExports),index=_mergeNamespaces({__proto__:null,default:Avatar},[buildExports]);function Main(){const[et]=Recoil_index_22(userState),{setHeadOpt:tt,navigate:rt,setWrapperOpt:nt}=useOutletContext(),at={menus:[{key:"우연 찾기",value:"/"},{key:"과거 우연",value:"/previous"}],isForward:!0,icon_L:M$6,fn_L:()=>rt("/notification"),icon_R:()=>jsx(Avatar,{name:et.user_id,variant:"beam",size:28,colors:avatarColors}),fn_R:()=>rt("/mypage")},lt={isNoneHeadPadding:!0,scrollable:!1,isFullWidth:!0};return reactExports.useLayoutEffect(()=>{tt(at),nt(lt)},[]),jsx(Outlet,{context:{navigate:rt}})}const DrawrHandle=({drawerBleeding:et,children:tt,onClick:rt})=>{const nt=useTheme();return jsxs(Box$1,{onClick:rt,sx:{position:"absolute",top:-et+1,height:et,borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",visibility:"visible",right:0,left:0,boxShadow:`0px -7px 7px ${alpha(mainPrimary,.1)}`,backgroundColor:nt.palette.background.default,cursor:"pointer",zIndex:99},children:[jsx(Puller,{}),jsx(Box$1,{sx:{position:"absolute",bottom:0,px:"1rem",width:"100%"},children:tt})]})},Drawer=({open:et,toggleDrawer:tt,children:rt,headerChildren:nt,drawerBleeding:at=52})=>{const lt=useTheme();return jsxs(Fragment,{children:[jsx(Global,{styles:{html:{"--brand-color":"#000"},".use_drawer > .MuiPaper-root":{maxHeight:"340px",width:"100%",overflow:"visible",boxShadow:"none"},".use_drawer .MuiPaper-root":{maxWidth:"444px",margin:"0 auto",background:lt.palette.background.default},".use_drawer .MuiBackdrop-root":{background:"none",backdropFilter:"blur(2px)",maxWidth:"444px",margin:"0 auto"}}}),jsxs(SwipeableDrawer$1,{anchor:"bottom",open:et,onClose:tt,onOpen:tt,swipeAreaWidth:at,disableSwipeToOpen:!1,ModalProps:{keepMounted:!0},className:"use_drawer",children:[jsx("div",{style:{position:"relative",bottom:"9rem",height:"0rem"},children:"우연 이미지 미리보기 표시할 부분"}),jsx(DrawrHandle,{drawerBleeding:at,open:et,onClick:tt,children:nt}),jsx(StyledBox,{sx:{position:"relative",overflow:"scroll",zIndex:10,px:2,boxShadow:`0px -4px 4px ${alpha(mainPrimary,.1)}`},children:rt})]})]})};function useDrawer(){const[et,tt]=reactExports.useState(!1);return{open:et,toggleDrawer:()=>{tt(!et)},Drawer}}function wooyeonItemStyle({iconSize:et,rand:tt,pos:rt}){return{width:"10vw",height:"10vw",maxHeight:et,maxWidth:et,borderRadius:"50%",position:"absolute",left:`${50+rt.x}%`,bottom:`${50+rt.y}%`,transform:"translate(-50%, 50%)",animation:`1.5s ${tt}s ease-in-out infinite alternate wooFlow`,boxShadow:"0px 4px 4px #0000003b",cursor:"pointer",textAlign:"center",lineHeight:"2rem","&:hover":{opacity:.8},"& .MuiAvatar-img":{filter:"blur(1.5px)",border:"none",height:"110%",width:"110%"},"@keyframes wooFlow":{from:{transform:"translate(-50%, 50%)"},to:{transform:"translate(-50%, 60%)"}},"@keyframes mount":{from:{transform:"translate(-50%, 50%)scale(0)"},to:{transform:"translate(-50%, 50%)scale(1)"}}}}const WooyeonItem=({image:et,pos:tt,onClick:rt})=>{const nt=Math.random(),at=40;return jsx(Zoom$1,{in:!0,children:jsx(Box$1,{sx:{position:"absolute",left:`${50+tt.x}%`,bottom:`${50+tt.y}%`},onClick:rt,children:jsx(Box$1,{sx:wooyeonItemStyle({iconSize:at,rand:nt,pos:tt}),children:jsx(Avatar$2,{alt:et,src:et,sx:{border:"none"}})})})})},WooyeonItem$1=React.memo(WooyeonItem),StyledButton=newStyled(Button$1)(({theme:et})=>({color:et.palette.text.primary})),CategoryButton=newStyled(StyledButton)(({checked:et})=>({borderRadius:"1.25rem",height:"2rem",padding:"0 1.6rem",border:`1px solid ${et?"#0000":mainPrimary}`,color:et?"#fff":"",flex:"0 0 auto"}));function CategoryItem({children:et,filter:tt,setFilter:rt,checked:nt}){const[at]=Recoil_index_22(userState),lt=ot=>{dt(ot)},{mutate:dt}=useMutation("updateCategory",ot=>PatchUser({name:at.name,message:"hello",category:tt.preferCategory}),{onSuccess:(ot,mt)=>{rt(xt=>{let Et=xt.preferCategory;const At=Et.indexOf(mt);if(At===-1)Et=[...Et,mt];else if(At!==-1){if(xt.preferCategory.length===1)return{...xt,preferCategory:Et};Et=xt.preferCategory.filter(Tt=>Tt!==mt)}return{...xt,preferCategory:Et}})}});return jsx(CategoryButton,{variant:nt?"contained":"outlined",onClick:()=>lt(et.id),checked:nt,children:et.value})}function useCategory(){return{CategoryItem}}const wooyeonCategory$2=[{id:"DAILY",value:"일상"},{id:"GROUP",value:"모임"},{id:"INFO",value:"정보"},{id:"EVENT",value:"이벤트"},{id:"ADS",value:"광고"},{id:"PRESENT",value:"선물"}];function Categories({filter:et,setFilter:tt}){const{CategoryItem:rt}=useCategory();return jsx(Box$1,{sx:{width:"100%",display:"flex",flexWrap:"nowrap",overflow:"auto",gap:"0.5rem",padding:"1rem 0","&::-webkit-scrollbar":{display:"none"}},children:wooyeonCategory$2.map(nt=>jsx(rt,{checked:et.preferCategory.includes(nt.id),filter:et,setFilter:tt,children:nt},nt.id))})}const RangeBarStyle={px:2,touchAction:"auto",".MuiSlider-root":{height:"1px",padding:"20px 0"},".MuiSlider-root > .MuiSlider-mark":{width:"10px",height:"10px",color:"#fff",backgroundColor:"#fff",border:`1px solid ${mainPrimary}`,borderRadius:"50%",opacity:1},".MuiSlider-root .MuiSlider-markLabel":{fontSize:"10px !important",top:"40px"}},ranges=[{value:1,label:"10m"},{value:50,label:"50m"},{value:100,label:"100m"}];function RangeBar(){const[et,tt]=Recoil_index_22(filterState),rt=at=>{tt(lt=>({...lt,searchRange:at}))};function nt(at){return ranges.findIndex(lt=>lt.value===at)+1}return jsx(UnDragBox,{sx:RangeBarStyle,children:jsx(Slider$1,{onChange:(at,lt)=>rt(lt),value:et.searchRange,valueLabelFormat:nt,step:null,valueLabelDisplay:"off",marks:ranges,min:1,max:100})})}const searchPageStyle={display:"flex",width:"100%",height:"100vh",alignItems:"center",justifyContent:"center",position:"fixed",touchAction:"auto",maxWidth:"444px",overflow:"hidden","& .lf-player-container":{position:"absolute",width:"100vh"},"& .wooyeonArea":{position:"absolute",top:"calc(50% - 20px)",left:"50%",transform:"translate(-50%, -50%)",width:"110%",aspectRatio:"1 / 1"},"& .radar_circle, & .radar_circle *":{border:"1px solid #c6c6c661",borderRadius:"50%",display:"flex",position:"absolute",alignItems:"center",justifyContent:"center",aspectRatio:"1 / 1"},"& > .radar_circle":{width:"110%",marginBottom:"40px",animation:"1.5s linear 1s infinite alternate a1"},"& .radar_circle > div":{width:"70%",animation:"1.5s linear 2s infinite alternate a1"},"& .radar_circle > div > div":{width:"50%",animation:"1.5s linear 3s infinite alternate a1"},"@keyframes a1":{from:{borderColor:"#c6c6c661"},to:{borderColor:"#4646467a"}},"& .loadingWooyeon":{minWidth:"120vw",aspectRatio:"1/1",display:"flex",flexDirection:"column",justifyContent:"center",zIndex:9},"& .loadingWooyeon .lottie":{width:"50%",margin:"0 auto"},"& .loadingWooyeon .MuiTypography-root":{padding:"0 20vw",textAlign:"center"}},forUntouchableStyle={height:"65px",width:"100%",position:"fixed",bottom:0,cursor:"pointer",zIndex:99999};function searchBtnStyle(et){return{maxWidth:"444px",transform:"translate(-50%, 0)",left:"50%",bottom:et?0:58,zIndex:et?2e3:"initial",transition:"all 0.5s cubic-bezier(0, 0.85, 0.58, 1) 0s",position:"fixed",display:"flex",width:"100%",justifyContent:"center",gap:3,overflow:"hidden",padding:et?0:"1.5rem 0","& .search-btn":{transition:"all 0.5s cubic-bezier(0, 0.85, 0.58, 1) 0s",height:et?"3.5rem":"3rem",width:et?"100%":"11rem",minWidth:"10rem",maxWidth:"444px",borderRadius:et?"0":"1.5rem",padding:et?"2rem 0 4rem":"0 2rem",color:"#fff !important"},"& .MuiButton-startIcon svg":{fontSize:"15px"},"& .MuiFab-root":{backgroundColor:"#ED6729",color:"#fff",display:"flex"},"& .MuiFab-root:hover":{backgroundColor:"#ED6729",opacity:.8},"& .hide_btn":{display:et?"none":"flex"}}}const SearchItem=({open:et,searchItems:tt,isLoading:rt})=>{const{navigate:nt}=useOutletContext();return jsxs(Box$1,{sx:searchBtnStyle(et),children:[jsx(Box$1,{className:"hide_btn",sx:{width:"48px"}}),jsx(Button$1,{variant:"contained",onClick:tt,className:"search-btn",startIcon:rt?jsx(CircularProgress$1,{sx:{color:"#fff"},size:16}):jsx(h$5,{}),disabled:rt,sx:{backgroundColor:mainPrimary+"!important"},children:"우연 찾아보기"}),jsx(Fab$1,{className:"hide_btn",size:"medium",onClick:()=>nt("/add-post"),children:jsx(u$1,{})})]})};function getRandomCircleEdgeCoordinates(et){let tt;et>50?tt=50:et>30?tt=34.5:tt=16.5;const rt=Math.random()*2*Math.PI,nt=tt*Math.cos(rt),at=tt*Math.sin(rt);if(Math.abs(nt)<=40&&at>=-40)return{x:nt,y:at};const lt=et-1;return getRandomCircleEdgeCoordinates(lt)}function wooyeonPositioning({setWooyeons:et,distance:tt,image:rt,post_id:nt}){let at=[];if(et(dt=>(at=dt,dt)),at.length>5)return;const lt=getRandomCircleEdgeCoordinates(tt);if(at.length===0)return addWooyeon({pos:lt,image:rt,post_id:nt,setWooyeons:et});if(at.some(ot=>Math.sqrt((lt.x-ot.pos.x)*(lt.x-ot.pos.x)+(lt.y-ot.pos.y)*(lt.y-ot.pos.y))<13))wooyeonPositioning({setWooyeons:et,distance:tt,image:rt,post_id:nt});else return addWooyeon({pos:lt,image:rt,post_id:nt,setWooyeons:et})}function addWooyeon({pos:et,image:tt,post_id:rt,setWooyeons:nt}){nt(at=>at.length>6?at:[...at,{pos:et,image:tt,post_id:rt}])}const getCurrentLocation$1=async({setPosition:et})=>{await navigator.geolocation.getCurrentPosition(tt=>{et({latitude:tt.coords.latitude,longitude:tt.coords.longitude})})},rangeDictionary={1:.01,50:.05,100:.1},getPost=async({position:et,range:tt,category:rt})=>{if(et==null)return;let nt="";return rt.map((lt,dt)=>{nt+=`category[${dt}]=${lt}`,rt.length-1!==dt&&(nt+="&")}),console.log(et),await fetch(`${BACK_URL}/post/near?latitude=${et==null?void 0:et.latitude}&longitude=${et==null?void 0:et.longitude}&range=${rangeDictionary[tt]}&${nt}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYjRmMDUxNTAtOGNiMC00NzVhLWIzYzYtZDM4MjM0OWM5NTNjIiwibmFtZSI6IuydtOuPhOqyvSIsImVtYWlsIjoiZG85OEBrYWthby5jb20iLCJyb2xlIjoiVVNFUiIsImlhdCI6MTY4NjExNDk1MSwiZXhwIjoxNjg2MjAxMzUxfQ.yHoGiXAFZt_a4A0RMyGVFC3kDvz1W8hjxfAHBDaG-_c"}}).then(lt=>lt.json())};var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(et,tt){module.exports=tt()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(tt){_useWebWorker=!!tt},getWebWorker=function(){return _useWebWorker},setLocationHref=function(tt){locationHref=tt},getLocationHref=function(){return locationHref};function createTag(et){return document.createElement(et)}function extendPrototype(et,tt){var rt,nt=et.length,at;for(rt=0;rt<nt;rt+=1){at=et[rt].prototype;for(var lt in at)Object.prototype.hasOwnProperty.call(at,lt)&&(tt.prototype[lt]=at[lt])}}function getDescriptor(et,tt){return Object.getOwnPropertyDescriptor(et,tt)}function createProxyFunction(et){function tt(){}return tt.prototype=et,tt}var audioControllerFactory=function(){function et(tt){this.audios=[],this.audioFactory=tt,this._volume=1,this._isMuted=!1}return et.prototype={addAudio:function(rt){this.audios.push(rt)},pause:function(){var rt,nt=this.audios.length;for(rt=0;rt<nt;rt+=1)this.audios[rt].pause()},resume:function(){var rt,nt=this.audios.length;for(rt=0;rt<nt;rt+=1)this.audios[rt].resume()},setRate:function(rt){var nt,at=this.audios.length;for(nt=0;nt<at;nt+=1)this.audios[nt].setRate(rt)},createAudio:function(rt){return this.audioFactory?this.audioFactory(rt):window.Howl?new window.Howl({src:[rt]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(rt){this.audioFactory=rt},setVolume:function(rt){this._volume=rt,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var rt,nt=this.audios.length;for(rt=0;rt<nt;rt+=1)this.audios[rt].volume(this._volume*(this._isMuted?0:1))}},function(){return new et}}(),createTypedArray=function(){function et(rt,nt){var at=0,lt=[],dt;switch(rt){case"int16":case"uint8c":dt=1;break;default:dt=1.1;break}for(at=0;at<nt;at+=1)lt.push(dt);return lt}function tt(rt,nt){return rt==="float32"?new Float32Array(nt):rt==="int16"?new Int16Array(nt):rt==="uint8c"?new Uint8ClampedArray(nt):et(rt,nt)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?tt:et}();function createSizedArray(et){return Array.apply(null,{length:et})}function _typeof$6(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(rt){return typeof rt}:_typeof$6=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$6(et)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var et=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],tt,rt=et.length;for(tt=0;tt<rt;tt+=1)BMMath[et[tt]]=Math[et[tt]]})(),BMMath.random=Math.random,BMMath.abs=function(et){var tt=_typeof$6(et);if(tt==="object"&&et.length){var rt=createSizedArray(et.length),nt,at=et.length;for(nt=0;nt<at;nt+=1)rt[nt]=Math.abs(et[nt]);return rt}return Math.abs(et)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(et){et.style.position="absolute",et.style.top=0,et.style.left=0,et.style.display="block",et.style.transformOrigin="0 0",et.style.webkitTransformOrigin="0 0",et.style.backfaceVisibility="visible",et.style.webkitBackfaceVisibility="visible",et.style.transformStyle="preserve-3d",et.style.webkitTransformStyle="preserve-3d",et.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(et,tt,rt,nt){this.type=et,this.currentTime=tt,this.totalTime=rt,this.direction=nt<0?-1:1}function BMCompleteEvent(et,tt){this.type=et,this.direction=tt<0?-1:1}function BMCompleteLoopEvent(et,tt,rt,nt){this.type=et,this.currentLoop=rt,this.totalLoops=tt,this.direction=nt<0?-1:1}function BMSegmentStartEvent(et,tt,rt){this.type=et,this.firstFrame=tt,this.totalFrames=rt}function BMDestroyEvent(et,tt){this.type=et,this.target=tt}function BMRenderFrameErrorEvent(et,tt){this.type="renderFrameError",this.nativeError=et,this.currentTime=tt}function BMConfigErrorEvent(et){this.type="configError",this.nativeError=et}var createElementID=function(){var et=0;return function(){return et+=1,idPrefix$1+"__lottie_element_"+et}}();function HSVtoRGB(et,tt,rt){var nt,at,lt,dt,ot,mt,xt,Et;switch(dt=Math.floor(et*6),ot=et*6-dt,mt=rt*(1-tt),xt=rt*(1-ot*tt),Et=rt*(1-(1-ot)*tt),dt%6){case 0:nt=rt,at=Et,lt=mt;break;case 1:nt=xt,at=rt,lt=mt;break;case 2:nt=mt,at=rt,lt=Et;break;case 3:nt=mt,at=xt,lt=rt;break;case 4:nt=Et,at=mt,lt=rt;break;case 5:nt=rt,at=mt,lt=xt;break}return[nt,at,lt]}function RGBtoHSV(et,tt,rt){var nt=Math.max(et,tt,rt),at=Math.min(et,tt,rt),lt=nt-at,dt,ot=nt===0?0:lt/nt,mt=nt/255;switch(nt){case at:dt=0;break;case et:dt=tt-rt+lt*(tt<rt?6:0),dt/=6*lt;break;case tt:dt=rt-et+lt*2,dt/=6*lt;break;case rt:dt=et-tt+lt*4,dt/=6*lt;break}return[dt,ot,mt]}function addSaturationToRGB(et,tt){var rt=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return rt[1]+=tt,rt[1]>1?rt[1]=1:rt[1]<=0&&(rt[1]=0),HSVtoRGB(rt[0],rt[1],rt[2])}function addBrightnessToRGB(et,tt){var rt=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return rt[2]+=tt,rt[2]>1?rt[2]=1:rt[2]<0&&(rt[2]=0),HSVtoRGB(rt[0],rt[1],rt[2])}function addHueToRGB(et,tt){var rt=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return rt[0]+=tt/360,rt[0]>1?rt[0]-=1:rt[0]<0&&(rt[0]+=1),HSVtoRGB(rt[0],rt[1],rt[2])}var rgbToHex=function(){var et=[],tt,rt;for(tt=0;tt<256;tt+=1)rt=tt.toString(16),et[tt]=rt.length===1?"0"+rt:rt;return function(nt,at,lt){return nt<0&&(nt=0),at<0&&(at=0),lt<0&&(lt=0),"#"+et[nt]+et[at]+et[lt]}}(),setSubframeEnabled=function(tt){subframeEnabled=!!tt},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(tt){expressionsPlugin=tt},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(tt){expressionsInterfaces=tt},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(tt){defaultCurveSegments=tt},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(tt){idPrefix$1=tt};function createNS(et){return document.createElementNS(svgNS,et)}function _typeof$5(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(rt){return typeof rt}:_typeof$5=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$5(et)}var dataManager=function(){var et=1,tt=[],rt,nt,at={onmessage:function(){},postMessage:function(Ft){rt({data:Ft})}},lt={postMessage:function(Ft){at.onmessage({data:Ft})}};function dt(Tt){if(window.Worker&&window.Blob&&getWebWorker()){var Ft=new Blob(["var _workerSelf = self; self.onmessage = ",Tt.toString()],{type:"text/javascript"}),Mt=URL.createObjectURL(Ft);return new Worker(Mt)}return rt=Tt,at}function ot(){nt||(nt=dt(function(Ft){function Mt(){function Gt(Cr,hr){var Tr,Xt,Qt=Cr.length,lr,cr,sr,dr;for(Xt=0;Xt<Qt;Xt+=1)if(Tr=Cr[Xt],"ks"in Tr&&!Tr.completed){if(Tr.completed=!0,Tr.hasMask){var Rr=Tr.masksProperties;for(cr=Rr.length,lr=0;lr<cr;lr+=1)if(Rr[lr].pt.k.i)Vt(Rr[lr].pt.k);else for(dr=Rr[lr].pt.k.length,sr=0;sr<dr;sr+=1)Rr[lr].pt.k[sr].s&&Vt(Rr[lr].pt.k[sr].s[0]),Rr[lr].pt.k[sr].e&&Vt(Rr[lr].pt.k[sr].e[0])}Tr.ty===0?(Tr.layers=It(Tr.refId,hr),Gt(Tr.layers,hr)):Tr.ty===4?Ot(Tr.shapes):Tr.ty===5&&Lr(Tr)}}function Pt(Cr,hr){if(Cr){var Tr=0,Xt=Cr.length;for(Tr=0;Tr<Xt;Tr+=1)Cr[Tr].t===1&&(Cr[Tr].data.layers=It(Cr[Tr].data.refId,hr),Gt(Cr[Tr].data.layers,hr))}}function $t(Cr,hr){for(var Tr=0,Xt=hr.length;Tr<Xt;){if(hr[Tr].id===Cr)return hr[Tr];Tr+=1}return null}function It(Cr,hr){var Tr=$t(Cr,hr);return Tr?Tr.layers.__used?JSON.parse(JSON.stringify(Tr.layers)):(Tr.layers.__used=!0,Tr.layers):null}function Ot(Cr){var hr,Tr=Cr.length,Xt,Qt;for(hr=Tr-1;hr>=0;hr-=1)if(Cr[hr].ty==="sh")if(Cr[hr].ks.k.i)Vt(Cr[hr].ks.k);else for(Qt=Cr[hr].ks.k.length,Xt=0;Xt<Qt;Xt+=1)Cr[hr].ks.k[Xt].s&&Vt(Cr[hr].ks.k[Xt].s[0]),Cr[hr].ks.k[Xt].e&&Vt(Cr[hr].ks.k[Xt].e[0]);else Cr[hr].ty==="gr"&&Ot(Cr[hr].it)}function Vt(Cr){var hr,Tr=Cr.i.length;for(hr=0;hr<Tr;hr+=1)Cr.i[hr][0]+=Cr.v[hr][0],Cr.i[hr][1]+=Cr.v[hr][1],Cr.o[hr][0]+=Cr.v[hr][0],Cr.o[hr][1]+=Cr.v[hr][1]}function Ut(Cr,hr){var Tr=hr?hr.split("."):[100,100,100];return Cr[0]>Tr[0]?!0:Tr[0]>Cr[0]?!1:Cr[1]>Tr[1]?!0:Tr[1]>Cr[1]?!1:Cr[2]>Tr[2]?!0:Tr[2]>Cr[2]?!1:null}var Wt=function(){var Cr=[4,4,14];function hr(Xt){var Qt=Xt.t.d;Xt.t.d={k:[{s:Qt,t:0}]}}function Tr(Xt){var Qt,lr=Xt.length;for(Qt=0;Qt<lr;Qt+=1)Xt[Qt].ty===5&&hr(Xt[Qt])}return function(Xt){if(Ut(Cr,Xt.v)&&(Tr(Xt.layers),Xt.assets)){var Qt,lr=Xt.assets.length;for(Qt=0;Qt<lr;Qt+=1)Xt.assets[Qt].layers&&Tr(Xt.assets[Qt].layers)}}}(),nr=function(){var Cr=[4,7,99];return function(hr){if(hr.chars&&!Ut(Cr,hr.v)){var Tr,Xt=hr.chars.length;for(Tr=0;Tr<Xt;Tr+=1){var Qt=hr.chars[Tr];Qt.data&&Qt.data.shapes&&(Ot(Qt.data.shapes),Qt.data.ip=0,Qt.data.op=99999,Qt.data.st=0,Qt.data.sr=1,Qt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},hr.chars[Tr].t||(Qt.data.shapes.push({ty:"no"}),Qt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),er=function(){var Cr=[5,7,15];function hr(Xt){var Qt=Xt.t.p;typeof Qt.a=="number"&&(Qt.a={a:0,k:Qt.a}),typeof Qt.p=="number"&&(Qt.p={a:0,k:Qt.p}),typeof Qt.r=="number"&&(Qt.r={a:0,k:Qt.r})}function Tr(Xt){var Qt,lr=Xt.length;for(Qt=0;Qt<lr;Qt+=1)Xt[Qt].ty===5&&hr(Xt[Qt])}return function(Xt){if(Ut(Cr,Xt.v)&&(Tr(Xt.layers),Xt.assets)){var Qt,lr=Xt.assets.length;for(Qt=0;Qt<lr;Qt+=1)Xt.assets[Qt].layers&&Tr(Xt.assets[Qt].layers)}}}(),Kt=function(){var Cr=[4,1,9];function hr(Xt){var Qt,lr=Xt.length,cr,sr;for(Qt=0;Qt<lr;Qt+=1)if(Xt[Qt].ty==="gr")hr(Xt[Qt].it);else if(Xt[Qt].ty==="fl"||Xt[Qt].ty==="st")if(Xt[Qt].c.k&&Xt[Qt].c.k[0].i)for(sr=Xt[Qt].c.k.length,cr=0;cr<sr;cr+=1)Xt[Qt].c.k[cr].s&&(Xt[Qt].c.k[cr].s[0]/=255,Xt[Qt].c.k[cr].s[1]/=255,Xt[Qt].c.k[cr].s[2]/=255,Xt[Qt].c.k[cr].s[3]/=255),Xt[Qt].c.k[cr].e&&(Xt[Qt].c.k[cr].e[0]/=255,Xt[Qt].c.k[cr].e[1]/=255,Xt[Qt].c.k[cr].e[2]/=255,Xt[Qt].c.k[cr].e[3]/=255);else Xt[Qt].c.k[0]/=255,Xt[Qt].c.k[1]/=255,Xt[Qt].c.k[2]/=255,Xt[Qt].c.k[3]/=255}function Tr(Xt){var Qt,lr=Xt.length;for(Qt=0;Qt<lr;Qt+=1)Xt[Qt].ty===4&&hr(Xt[Qt].shapes)}return function(Xt){if(Ut(Cr,Xt.v)&&(Tr(Xt.layers),Xt.assets)){var Qt,lr=Xt.assets.length;for(Qt=0;Qt<lr;Qt+=1)Xt.assets[Qt].layers&&Tr(Xt.assets[Qt].layers)}}}(),ur=function(){var Cr=[4,4,18];function hr(Xt){var Qt,lr=Xt.length,cr,sr;for(Qt=lr-1;Qt>=0;Qt-=1)if(Xt[Qt].ty==="sh")if(Xt[Qt].ks.k.i)Xt[Qt].ks.k.c=Xt[Qt].closed;else for(sr=Xt[Qt].ks.k.length,cr=0;cr<sr;cr+=1)Xt[Qt].ks.k[cr].s&&(Xt[Qt].ks.k[cr].s[0].c=Xt[Qt].closed),Xt[Qt].ks.k[cr].e&&(Xt[Qt].ks.k[cr].e[0].c=Xt[Qt].closed);else Xt[Qt].ty==="gr"&&hr(Xt[Qt].it)}function Tr(Xt){var Qt,lr,cr=Xt.length,sr,dr,Rr,jr;for(lr=0;lr<cr;lr+=1){if(Qt=Xt[lr],Qt.hasMask){var Sr=Qt.masksProperties;for(dr=Sr.length,sr=0;sr<dr;sr+=1)if(Sr[sr].pt.k.i)Sr[sr].pt.k.c=Sr[sr].cl;else for(jr=Sr[sr].pt.k.length,Rr=0;Rr<jr;Rr+=1)Sr[sr].pt.k[Rr].s&&(Sr[sr].pt.k[Rr].s[0].c=Sr[sr].cl),Sr[sr].pt.k[Rr].e&&(Sr[sr].pt.k[Rr].e[0].c=Sr[sr].cl)}Qt.ty===4&&hr(Qt.shapes)}}return function(Xt){if(Ut(Cr,Xt.v)&&(Tr(Xt.layers),Xt.assets)){var Qt,lr=Xt.assets.length;for(Qt=0;Qt<lr;Qt+=1)Xt.assets[Qt].layers&&Tr(Xt.assets[Qt].layers)}}}();function vr(Cr){Cr.__complete||(Kt(Cr),Wt(Cr),nr(Cr),er(Cr),ur(Cr),Gt(Cr.layers,Cr.assets),Pt(Cr.chars,Cr.assets),Cr.__complete=!0)}function Lr(Cr){Cr.t.a.length===0&&"m"in Cr.t.p}var Er={};return Er.completeData=vr,Er.checkColors=Kt,Er.checkChars=nr,Er.checkPathProperties=er,Er.checkShapes=ur,Er.completeLayers=Gt,Er}if(lt.dataManager||(lt.dataManager=Mt()),lt.assetLoader||(lt.assetLoader=function(){function Gt($t){var It=$t.getResponseHeader("content-type");return It&&$t.responseType==="json"&&It.indexOf("json")!==-1||$t.response&&_typeof$5($t.response)==="object"?$t.response:$t.response&&typeof $t.response=="string"?JSON.parse($t.response):$t.responseText?JSON.parse($t.responseText):null}function Pt($t,It,Ot,Vt){var Ut,Wt=new XMLHttpRequest;try{Wt.responseType="json"}catch{}Wt.onreadystatechange=function(){if(Wt.readyState===4)if(Wt.status===200)Ut=Gt(Wt),Ot(Ut);else try{Ut=Gt(Wt),Ot(Ut)}catch(nr){Vt&&Vt(nr)}};try{Wt.open(["G","E","T"].join(""),$t,!0)}catch{Wt.open(["G","E","T"].join(""),It+"/"+$t,!0)}Wt.send()}return{load:Pt}}()),Ft.data.type==="loadAnimation")lt.assetLoader.load(Ft.data.path,Ft.data.fullPath,function(Gt){lt.dataManager.completeData(Gt),lt.postMessage({id:Ft.data.id,payload:Gt,status:"success"})},function(){lt.postMessage({id:Ft.data.id,status:"error"})});else if(Ft.data.type==="complete"){var Lt=Ft.data.animation;lt.dataManager.completeData(Lt),lt.postMessage({id:Ft.data.id,payload:Lt,status:"success"})}else Ft.data.type==="loadData"&&lt.assetLoader.load(Ft.data.path,Ft.data.fullPath,function(Gt){lt.postMessage({id:Ft.data.id,payload:Gt,status:"success"})},function(){lt.postMessage({id:Ft.data.id,status:"error"})})}),nt.onmessage=function(Tt){var Ft=Tt.data,Mt=Ft.id,Lt=tt[Mt];tt[Mt]=null,Ft.status==="success"?Lt.onComplete(Ft.payload):Lt.onError&&Lt.onError()})}function mt(Tt,Ft){et+=1;var Mt="processId_"+et;return tt[Mt]={onComplete:Tt,onError:Ft},Mt}function xt(Tt,Ft,Mt){ot();var Lt=mt(Ft,Mt);nt.postMessage({type:"loadAnimation",path:Tt,fullPath:window.location.origin+window.location.pathname,id:Lt})}function Et(Tt,Ft,Mt){ot();var Lt=mt(Ft,Mt);nt.postMessage({type:"loadData",path:Tt,fullPath:window.location.origin+window.location.pathname,id:Lt})}function At(Tt,Ft,Mt){ot();var Lt=mt(Ft,Mt);nt.postMessage({type:"complete",animation:Tt,id:Lt})}return{loadAnimation:xt,loadData:Et,completeAnimation:At}}(),ImagePreloader=function(){var et=function(){var Pt=createTag("canvas");Pt.width=1,Pt.height=1;var $t=Pt.getContext("2d");return $t.fillStyle="rgba(0,0,0,0)",$t.fillRect(0,0,1,1),Pt}();function tt(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function rt(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function nt(Pt,$t,It){var Ot="";if(Pt.e)Ot=Pt.p;else if($t){var Vt=Pt.p;Vt.indexOf("images/")!==-1&&(Vt=Vt.split("/")[1]),Ot=$t+Vt}else Ot=It,Ot+=Pt.u?Pt.u:"",Ot+=Pt.p;return Ot}function at(Pt){var $t=0,It=setInterval(function(){var Ot=Pt.getBBox();(Ot.width||$t>500)&&(this._imageLoaded(),clearInterval(It)),$t+=1}.bind(this),50)}function lt(Pt){var $t=nt(Pt,this.assetsPath,this.path),It=createNS("image");isSafari?this.testImageLoaded(It):It.addEventListener("load",this._imageLoaded,!1),It.addEventListener("error",function(){Ot.img=et,this._imageLoaded()}.bind(this),!1),It.setAttributeNS("http://www.w3.org/1999/xlink","href",$t),this._elementHelper.append?this._elementHelper.append(It):this._elementHelper.appendChild(It);var Ot={img:It,assetData:Pt};return Ot}function dt(Pt){var $t=nt(Pt,this.assetsPath,this.path),It=createTag("img");It.crossOrigin="anonymous",It.addEventListener("load",this._imageLoaded,!1),It.addEventListener("error",function(){Ot.img=et,this._imageLoaded()}.bind(this),!1),It.src=$t;var Ot={img:It,assetData:Pt};return Ot}function ot(Pt){var $t={assetData:Pt},It=nt(Pt,this.assetsPath,this.path);return dataManager.loadData(It,function(Ot){$t.img=Ot,this._footageLoaded()}.bind(this),function(){$t.img={},this._footageLoaded()}.bind(this)),$t}function mt(Pt,$t){this.imagesLoadedCb=$t;var It,Ot=Pt.length;for(It=0;It<Ot;It+=1)Pt[It].layers||(!Pt[It].t||Pt[It].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Pt[It]))):Pt[It].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Pt[It]))))}function xt(Pt){this.path=Pt||""}function Et(Pt){this.assetsPath=Pt||""}function At(Pt){for(var $t=0,It=this.images.length;$t<It;){if(this.images[$t].assetData===Pt)return this.images[$t].img;$t+=1}return null}function Tt(){this.imagesLoadedCb=null,this.images.length=0}function Ft(){return this.totalImages===this.loadedAssets}function Mt(){return this.totalFootages===this.loadedFootagesCount}function Lt(Pt,$t){Pt==="svg"?(this._elementHelper=$t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Gt(){this._imageLoaded=tt.bind(this),this._footageLoaded=rt.bind(this),this.testImageLoaded=at.bind(this),this.createFootageData=ot.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Gt.prototype={loadAssets:mt,setAssetsPath:Et,setPath:xt,loadedImages:Ft,loadedFootages:Mt,destroy:Tt,getAsset:At,createImgData:dt,createImageData:lt,imageLoaded:tt,footageLoaded:rt,setCacheType:Lt},Gt}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(tt,rt){if(this._cbs[tt])for(var nt=this._cbs[tt],at=0;at<nt.length;at+=1)nt[at](rt)},addEventListener:function(tt,rt){return this._cbs[tt]||(this._cbs[tt]=[]),this._cbs[tt].push(rt),function(){this.removeEventListener(tt,rt)}.bind(this)},removeEventListener:function(tt,rt){if(!rt)this._cbs[tt]=null;else if(this._cbs[tt]){for(var nt=0,at=this._cbs[tt].length;nt<at;)this._cbs[tt][nt]===rt&&(this._cbs[tt].splice(nt,1),nt-=1,at-=1),nt+=1;this._cbs[tt].length||(this._cbs[tt]=null)}}};var markerParser=function(){function et(tt){for(var rt=tt.split(`\r
`),nt={},at,lt=0,dt=0;dt<rt.length;dt+=1)at=rt[dt].split(":"),at.length===2&&(nt[at[0]]=at[1].trim(),lt+=1);if(lt===0)throw new Error;return nt}return function(tt){for(var rt=[],nt=0;nt<tt.length;nt+=1){var at=tt[nt],lt={time:at.tm,duration:at.dr};try{lt.payload=JSON.parse(tt[nt].cm)}catch{try{lt.payload=et(tt[nt].cm)}catch{lt.payload={name:tt[nt].cm}}}rt.push(lt)}return rt}}(),ProjectInterface=function(){function et(tt){this.compositions.push(tt)}return function(){function tt(rt){for(var nt=0,at=this.compositions.length;nt<at;){if(this.compositions[nt].data&&this.compositions[nt].data.nm===rt)return this.compositions[nt].prepareFrame&&this.compositions[nt].data.xt&&this.compositions[nt].prepareFrame(this.currentFrame),this.compositions[nt].compInterface;nt+=1}return null}return tt.compositions=[],tt.currentFrame=0,tt.registerComposition=et,tt}}(),renderers={},registerRenderer=function(tt,rt){renderers[tt]=rt};function getRenderer(et){return renderers[et]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var et in renderers)if(renderers[et])return et;return""}function _typeof$4(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(rt){return typeof rt}:_typeof$4=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$4(et)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(et){(et.wrapper||et.container)&&(this.wrapper=et.wrapper||et.container);var tt="svg";et.animType?tt=et.animType:et.renderer&&(tt=et.renderer);var rt=getRenderer(tt);this.renderer=new rt(this,et.rendererSettings),this.imagePreloader.setCacheType(tt,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=tt,et.loop===""||et.loop===null||et.loop===void 0||et.loop===!0?this.loop=!0:et.loop===!1?this.loop=!1:this.loop=parseInt(et.loop,10),this.autoplay="autoplay"in et?et.autoplay:!0,this.name=et.name?et.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(et,"autoloadSegments")?et.autoloadSegments:!0,this.assetsPath=et.assetsPath,this.initialSegment=et.initialSegment,et.audioFactory&&this.audioController.setAudioFactory(et.audioFactory),et.animationData?this.setupAnimation(et.animationData):et.path&&(et.path.lastIndexOf("\\")!==-1?this.path=et.path.substr(0,et.path.lastIndexOf("\\")+1):this.path=et.path.substr(0,et.path.lastIndexOf("/")+1),this.fileName=et.path.substr(et.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(et.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(et){dataManager.completeAnimation(et,this.configAnimation)},AnimationItem.prototype.setData=function(et,tt){tt&&_typeof$4(tt)!=="object"&&(tt=JSON.parse(tt));var rt={wrapper:et,animationData:tt},nt=et.attributes;rt.path=nt.getNamedItem("data-animation-path")?nt.getNamedItem("data-animation-path").value:nt.getNamedItem("data-bm-path")?nt.getNamedItem("data-bm-path").value:nt.getNamedItem("bm-path")?nt.getNamedItem("bm-path").value:"",rt.animType=nt.getNamedItem("data-anim-type")?nt.getNamedItem("data-anim-type").value:nt.getNamedItem("data-bm-type")?nt.getNamedItem("data-bm-type").value:nt.getNamedItem("bm-type")?nt.getNamedItem("bm-type").value:nt.getNamedItem("data-bm-renderer")?nt.getNamedItem("data-bm-renderer").value:nt.getNamedItem("bm-renderer")?nt.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var at=nt.getNamedItem("data-anim-loop")?nt.getNamedItem("data-anim-loop").value:nt.getNamedItem("data-bm-loop")?nt.getNamedItem("data-bm-loop").value:nt.getNamedItem("bm-loop")?nt.getNamedItem("bm-loop").value:"";at==="false"?rt.loop=!1:at==="true"?rt.loop=!0:at!==""&&(rt.loop=parseInt(at,10));var lt=nt.getNamedItem("data-anim-autoplay")?nt.getNamedItem("data-anim-autoplay").value:nt.getNamedItem("data-bm-autoplay")?nt.getNamedItem("data-bm-autoplay").value:nt.getNamedItem("bm-autoplay")?nt.getNamedItem("bm-autoplay").value:!0;rt.autoplay=lt!=="false",rt.name=nt.getNamedItem("data-name")?nt.getNamedItem("data-name").value:nt.getNamedItem("data-bm-name")?nt.getNamedItem("data-bm-name").value:nt.getNamedItem("bm-name")?nt.getNamedItem("bm-name").value:"";var dt=nt.getNamedItem("data-anim-prerender")?nt.getNamedItem("data-anim-prerender").value:nt.getNamedItem("data-bm-prerender")?nt.getNamedItem("data-bm-prerender").value:nt.getNamedItem("bm-prerender")?nt.getNamedItem("bm-prerender").value:"";dt==="false"&&(rt.prerender=!1),rt.path?this.setParams(rt):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(et){et.op>this.animationData.op&&(this.animationData.op=et.op,this.totalFrames=Math.floor(et.op-this.animationData.ip));var tt=this.animationData.layers,rt,nt=tt.length,at=et.layers,lt,dt=at.length;for(lt=0;lt<dt;lt+=1)for(rt=0;rt<nt;){if(tt[rt].id===at[lt].id){tt[rt]=at[lt];break}rt+=1}if((et.chars||et.fonts)&&(this.renderer.globalData.fontManager.addChars(et.chars),this.renderer.globalData.fontManager.addFonts(et.fonts,this.renderer.globalData.defs)),et.assets)for(nt=et.assets.length,rt=0;rt<nt;rt+=1)this.animationData.assets.push(et.assets[rt]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(et){this.animationData=et;var tt=getExpressionsPlugin();tt&&tt.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var et=this.animationData.segments;if(!et||et.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var tt=et.shift();this.timeCompleted=tt.time*this.frameRate;var rt=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(rt,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var et=this.animationData.segments;et||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(et){if(this.renderer)try{this.animationData=et,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(et),et.assets||(et.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(et.assets),this.markers=markerParser(et.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(tt){this.triggerConfigError(tt)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var et=getExpressionsPlugin();et&&et.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(et,tt){var rt=typeof et=="number"?et:void 0,nt=typeof tt=="number"?tt:void 0;this.renderer.updateContainerSize(rt,nt)},AnimationItem.prototype.setSubframe=function(et){this.isSubframeEnabled=!!et},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(et){this.triggerRenderFrameError(et)}},AnimationItem.prototype.play=function(et){et&&this.name!==et||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(et){et&&this.name!==et||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(et){et&&this.name!==et||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(et){et&&this.name!==et||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(et){for(var tt,rt=0;rt<this.markers.length;rt+=1)if(tt=this.markers[rt],tt.payload&&tt.payload.name===et)return tt;return null},AnimationItem.prototype.goToAndStop=function(et,tt,rt){if(!(rt&&this.name!==rt)){var nt=Number(et);if(isNaN(nt)){var at=this.getMarkerData(et);at&&this.goToAndStop(at.time,!0)}else tt?this.setCurrentRawFrameValue(et):this.setCurrentRawFrameValue(et*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(et,tt,rt){if(!(rt&&this.name!==rt)){var nt=Number(et);if(isNaN(nt)){var at=this.getMarkerData(et);at&&(at.duration?this.playSegments([at.time,at.time+at.duration],!0):this.goToAndStop(at.time,!0))}else this.goToAndStop(nt,tt,rt);this.play()}},AnimationItem.prototype.advanceTime=function(et){if(!(this.isPaused===!0||this.isLoaded===!1)){var tt=this.currentRawFrame+et*this.frameModifier,rt=!1;tt>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(tt>this.totalFrames?tt%this.totalFrames:0)||(rt=!0,tt=this.totalFrames-1):tt>=this.totalFrames?(this.playCount+=1,this.checkSegments(tt%this.totalFrames)||(this.setCurrentRawFrameValue(tt%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(tt):tt<0?this.checkSegments(tt%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+tt%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(rt=!0,tt=0)):this.setCurrentRawFrameValue(tt),rt&&(this.setCurrentRawFrameValue(tt),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(et,tt){this.playCount=0,et[1]<et[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=et[0]-et[1],this.timeCompleted=this.totalFrames,this.firstFrame=et[1],this.setCurrentRawFrameValue(this.totalFrames-.001-tt)):et[1]>et[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=et[1]-et[0],this.timeCompleted=this.totalFrames,this.firstFrame=et[0],this.setCurrentRawFrameValue(.001+tt)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(et,tt){var rt=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<et?rt=et:this.currentRawFrame+this.firstFrame>tt&&(rt=tt-et)),this.firstFrame=et,this.totalFrames=tt-et,this.timeCompleted=this.totalFrames,rt!==-1&&this.goToAndStop(rt,!0)},AnimationItem.prototype.playSegments=function(et,tt){if(tt&&(this.segments.length=0),_typeof$4(et[0])==="object"){var rt,nt=et.length;for(rt=0;rt<nt;rt+=1)this.segments.push(et[rt])}else this.segments.push(et);this.segments.length&&tt&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(et){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),et&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(et){return this.segments.length?(this.adjustSegment(this.segments.shift(),et),!0):!1},AnimationItem.prototype.destroy=function(et){et&&this.name!==et||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(et){this.currentRawFrame=et,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(et){this.playSpeed=et,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(et){this.playDirection=et<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(et){this.loop=et},AnimationItem.prototype.setVolume=function(et,tt){tt&&this.name!==tt||this.audioController.setVolume(et)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(et){et&&this.name!==et||this.audioController.mute()},AnimationItem.prototype.unmute=function(et){et&&this.name!==et||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(et){var tt="";if(et.e)tt=et.p;else if(this.assetsPath){var rt=et.p;rt.indexOf("images/")!==-1&&(rt=rt.split("/")[1]),tt=this.assetsPath+rt}else tt=this.path,tt+=et.u?et.u:"",tt+=et.p;return tt},AnimationItem.prototype.getAssetData=function(et){for(var tt=0,rt=this.assets.length;tt<rt;){if(et===this.assets[tt].id)return this.assets[tt];tt+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(et){return et?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(et,tt,rt){try{var nt=this.renderer.getElementByPath(et);nt.updateDocumentData(tt,rt)}catch{}},AnimationItem.prototype.trigger=function(et){if(this._cbs&&this._cbs[et])switch(et){case"enterFrame":this.triggerEvent(et,new BMEnterFrameEvent(et,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(et,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(et,new BMCompleteLoopEvent(et,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(et,new BMCompleteEvent(et,this.frameMult));break;case"segmentStart":this.triggerEvent(et,new BMSegmentStartEvent(et,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(et,new BMDestroyEvent(et,this));break;default:this.triggerEvent(et)}et==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(et,this.currentFrame,this.totalFrames,this.frameMult)),et==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(et,this.loop,this.playCount,this.frameMult)),et==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(et,this.frameMult)),et==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(et,this.firstFrame,this.totalFrames)),et==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(et,this))},AnimationItem.prototype.triggerRenderFrameError=function(et){var tt=new BMRenderFrameErrorEvent(et,this.currentFrame);this.triggerEvent("error",tt),this.onError&&this.onError.call(this,tt)},AnimationItem.prototype.triggerConfigError=function(et){var tt=new BMConfigErrorEvent(et,this.currentFrame);this.triggerEvent("error",tt),this.onError&&this.onError.call(this,tt)};var animationManager=function(){var et={},tt=[],rt=0,nt=0,at=0,lt=!0,dt=!1;function ot(hr){for(var Tr=0,Xt=hr.target;Tr<nt;)tt[Tr].animation===Xt&&(tt.splice(Tr,1),Tr-=1,nt-=1,Xt.isPaused||At()),Tr+=1}function mt(hr,Tr){if(!hr)return null;for(var Xt=0;Xt<nt;){if(tt[Xt].elem===hr&&tt[Xt].elem!==null)return tt[Xt].animation;Xt+=1}var Qt=new AnimationItem;return Tt(Qt,hr),Qt.setData(hr,Tr),Qt}function xt(){var hr,Tr=tt.length,Xt=[];for(hr=0;hr<Tr;hr+=1)Xt.push(tt[hr].animation);return Xt}function Et(){at+=1,Kt()}function At(){at-=1}function Tt(hr,Tr){hr.addEventListener("destroy",ot),hr.addEventListener("_active",Et),hr.addEventListener("_idle",At),tt.push({elem:Tr,animation:hr}),nt+=1}function Ft(hr){var Tr=new AnimationItem;return Tt(Tr,null),Tr.setParams(hr),Tr}function Mt(hr,Tr){var Xt;for(Xt=0;Xt<nt;Xt+=1)tt[Xt].animation.setSpeed(hr,Tr)}function Lt(hr,Tr){var Xt;for(Xt=0;Xt<nt;Xt+=1)tt[Xt].animation.setDirection(hr,Tr)}function Gt(hr){var Tr;for(Tr=0;Tr<nt;Tr+=1)tt[Tr].animation.play(hr)}function Pt(hr){var Tr=hr-rt,Xt;for(Xt=0;Xt<nt;Xt+=1)tt[Xt].animation.advanceTime(Tr);rt=hr,at&&!dt?window.requestAnimationFrame(Pt):lt=!0}function $t(hr){rt=hr,window.requestAnimationFrame(Pt)}function It(hr){var Tr;for(Tr=0;Tr<nt;Tr+=1)tt[Tr].animation.pause(hr)}function Ot(hr,Tr,Xt){var Qt;for(Qt=0;Qt<nt;Qt+=1)tt[Qt].animation.goToAndStop(hr,Tr,Xt)}function Vt(hr){var Tr;for(Tr=0;Tr<nt;Tr+=1)tt[Tr].animation.stop(hr)}function Ut(hr){var Tr;for(Tr=0;Tr<nt;Tr+=1)tt[Tr].animation.togglePause(hr)}function Wt(hr){var Tr;for(Tr=nt-1;Tr>=0;Tr-=1)tt[Tr].animation.destroy(hr)}function nr(hr,Tr,Xt){var Qt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),lr,cr=Qt.length;for(lr=0;lr<cr;lr+=1)Xt&&Qt[lr].setAttribute("data-bm-type",Xt),mt(Qt[lr],hr);if(Tr&&cr===0){Xt||(Xt="svg");var sr=document.getElementsByTagName("body")[0];sr.innerText="";var dr=createTag("div");dr.style.width="100%",dr.style.height="100%",dr.setAttribute("data-bm-type",Xt),sr.appendChild(dr),mt(dr,hr)}}function er(){var hr;for(hr=0;hr<nt;hr+=1)tt[hr].animation.resize()}function Kt(){!dt&&at&&lt&&(window.requestAnimationFrame($t),lt=!1)}function ur(){dt=!0}function vr(){dt=!1,Kt()}function Lr(hr,Tr){var Xt;for(Xt=0;Xt<nt;Xt+=1)tt[Xt].animation.setVolume(hr,Tr)}function Er(hr){var Tr;for(Tr=0;Tr<nt;Tr+=1)tt[Tr].animation.mute(hr)}function Cr(hr){var Tr;for(Tr=0;Tr<nt;Tr+=1)tt[Tr].animation.unmute(hr)}return et.registerAnimation=mt,et.loadAnimation=Ft,et.setSpeed=Mt,et.setDirection=Lt,et.play=Gt,et.pause=It,et.stop=Vt,et.togglePause=Ut,et.searchAnimations=nr,et.resize=er,et.goToAndStop=Ot,et.destroy=Wt,et.freeze=ur,et.unfreeze=vr,et.setVolume=Lr,et.mute=Er,et.unmute=Cr,et.getRegisteredAnimations=xt,et}(),BezierFactory=function(){var et={};et.getBezierEasing=rt;var tt={};function rt($t,It,Ot,Vt,Ut){var Wt=Ut||("bez_"+$t+"_"+It+"_"+Ot+"_"+Vt).replace(/\./g,"p");if(tt[Wt])return tt[Wt];var nr=new Pt([$t,It,Ot,Vt]);return tt[Wt]=nr,nr}var nt=4,at=.001,lt=1e-7,dt=10,ot=11,mt=1/(ot-1),xt=typeof Float32Array=="function";function Et($t,It){return 1-3*It+3*$t}function At($t,It){return 3*It-6*$t}function Tt($t){return 3*$t}function Ft($t,It,Ot){return((Et(It,Ot)*$t+At(It,Ot))*$t+Tt(It))*$t}function Mt($t,It,Ot){return 3*Et(It,Ot)*$t*$t+2*At(It,Ot)*$t+Tt(It)}function Lt($t,It,Ot,Vt,Ut){var Wt,nr,er=0;do nr=It+(Ot-It)/2,Wt=Ft(nr,Vt,Ut)-$t,Wt>0?Ot=nr:It=nr;while(Math.abs(Wt)>lt&&++er<dt);return nr}function Gt($t,It,Ot,Vt){for(var Ut=0;Ut<nt;++Ut){var Wt=Mt(It,Ot,Vt);if(Wt===0)return It;var nr=Ft(It,Ot,Vt)-$t;It-=nr/Wt}return It}function Pt($t){this._p=$t,this._mSampleValues=xt?new Float32Array(ot):new Array(ot),this._precomputed=!1,this.get=this.get.bind(this)}return Pt.prototype={get:function(It){var Ot=this._p[0],Vt=this._p[1],Ut=this._p[2],Wt=this._p[3];return this._precomputed||this._precompute(),Ot===Vt&&Ut===Wt?It:It===0?0:It===1?1:Ft(this._getTForX(It),Vt,Wt)},_precompute:function(){var It=this._p[0],Ot=this._p[1],Vt=this._p[2],Ut=this._p[3];this._precomputed=!0,(It!==Ot||Vt!==Ut)&&this._calcSampleValues()},_calcSampleValues:function(){for(var It=this._p[0],Ot=this._p[2],Vt=0;Vt<ot;++Vt)this._mSampleValues[Vt]=Ft(Vt*mt,It,Ot)},_getTForX:function(It){for(var Ot=this._p[0],Vt=this._p[2],Ut=this._mSampleValues,Wt=0,nr=1,er=ot-1;nr!==er&&Ut[nr]<=It;++nr)Wt+=mt;--nr;var Kt=(It-Ut[nr])/(Ut[nr+1]-Ut[nr]),ur=Wt+Kt*mt,vr=Mt(ur,Ot,Vt);return vr>=at?Gt(It,ur,Ot,Vt):vr===0?ur:Lt(It,Wt,Wt+mt,Ot,Vt)}},et}(),pooling=function(){function et(tt){return tt.concat(createSizedArray(tt.length))}return{double:et}}(),poolFactory=function(){return function(et,tt,rt){var nt=0,at=et,lt=createSizedArray(at),dt={newElement:ot,release:mt};function ot(){var xt;return nt?(nt-=1,xt=lt[nt]):xt=tt(),xt}function mt(xt){nt===at&&(lt=pooling.double(lt),at*=2),rt&&rt(xt),lt[nt]=xt,nt+=1}return dt}}(),bezierLengthPool=function(){function et(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,et)}(),segmentsLengthPool=function(){function et(){return{lengths:[],totalLength:0}}function tt(rt){var nt,at=rt.lengths.length;for(nt=0;nt<at;nt+=1)bezierLengthPool.release(rt.lengths[nt]);rt.lengths.length=0}return poolFactory(8,et,tt)}();function bezFunction(){var et=Math;function tt(Tt,Ft,Mt,Lt,Gt,Pt){var $t=Tt*Lt+Ft*Gt+Mt*Pt-Gt*Lt-Pt*Tt-Mt*Ft;return $t>-.001&&$t<.001}function rt(Tt,Ft,Mt,Lt,Gt,Pt,$t,It,Ot){if(Mt===0&&Pt===0&&Ot===0)return tt(Tt,Ft,Lt,Gt,$t,It);var Vt=et.sqrt(et.pow(Lt-Tt,2)+et.pow(Gt-Ft,2)+et.pow(Pt-Mt,2)),Ut=et.sqrt(et.pow($t-Tt,2)+et.pow(It-Ft,2)+et.pow(Ot-Mt,2)),Wt=et.sqrt(et.pow($t-Lt,2)+et.pow(It-Gt,2)+et.pow(Ot-Pt,2)),nr;return Vt>Ut?Vt>Wt?nr=Vt-Ut-Wt:nr=Wt-Ut-Vt:Wt>Ut?nr=Wt-Ut-Vt:nr=Ut-Vt-Wt,nr>-1e-4&&nr<1e-4}var nt=function(){return function(Tt,Ft,Mt,Lt){var Gt=getDefaultCurveSegments(),Pt,$t,It,Ot,Vt,Ut=0,Wt,nr=[],er=[],Kt=bezierLengthPool.newElement();for(It=Mt.length,Pt=0;Pt<Gt;Pt+=1){for(Vt=Pt/(Gt-1),Wt=0,$t=0;$t<It;$t+=1)Ot=bmPow(1-Vt,3)*Tt[$t]+3*bmPow(1-Vt,2)*Vt*Mt[$t]+3*(1-Vt)*bmPow(Vt,2)*Lt[$t]+bmPow(Vt,3)*Ft[$t],nr[$t]=Ot,er[$t]!==null&&(Wt+=bmPow(nr[$t]-er[$t],2)),er[$t]=nr[$t];Wt&&(Wt=bmSqrt(Wt),Ut+=Wt),Kt.percents[Pt]=Vt,Kt.lengths[Pt]=Ut}return Kt.addedLength=Ut,Kt}}();function at(Tt){var Ft=segmentsLengthPool.newElement(),Mt=Tt.c,Lt=Tt.v,Gt=Tt.o,Pt=Tt.i,$t,It=Tt._length,Ot=Ft.lengths,Vt=0;for($t=0;$t<It-1;$t+=1)Ot[$t]=nt(Lt[$t],Lt[$t+1],Gt[$t],Pt[$t+1]),Vt+=Ot[$t].addedLength;return Mt&&It&&(Ot[$t]=nt(Lt[$t],Lt[0],Gt[$t],Pt[0]),Vt+=Ot[$t].addedLength),Ft.totalLength=Vt,Ft}function lt(Tt){this.segmentLength=0,this.points=new Array(Tt)}function dt(Tt,Ft){this.partialLength=Tt,this.point=Ft}var ot=function(){var Tt={};return function(Ft,Mt,Lt,Gt){var Pt=(Ft[0]+"_"+Ft[1]+"_"+Mt[0]+"_"+Mt[1]+"_"+Lt[0]+"_"+Lt[1]+"_"+Gt[0]+"_"+Gt[1]).replace(/\./g,"p");if(!Tt[Pt]){var $t=getDefaultCurveSegments(),It,Ot,Vt,Ut,Wt,nr=0,er,Kt,ur=null;Ft.length===2&&(Ft[0]!==Mt[0]||Ft[1]!==Mt[1])&&tt(Ft[0],Ft[1],Mt[0],Mt[1],Ft[0]+Lt[0],Ft[1]+Lt[1])&&tt(Ft[0],Ft[1],Mt[0],Mt[1],Mt[0]+Gt[0],Mt[1]+Gt[1])&&($t=2);var vr=new lt($t);for(Vt=Lt.length,It=0;It<$t;It+=1){for(Kt=createSizedArray(Vt),Wt=It/($t-1),er=0,Ot=0;Ot<Vt;Ot+=1)Ut=bmPow(1-Wt,3)*Ft[Ot]+3*bmPow(1-Wt,2)*Wt*(Ft[Ot]+Lt[Ot])+3*(1-Wt)*bmPow(Wt,2)*(Mt[Ot]+Gt[Ot])+bmPow(Wt,3)*Mt[Ot],Kt[Ot]=Ut,ur!==null&&(er+=bmPow(Kt[Ot]-ur[Ot],2));er=bmSqrt(er),nr+=er,vr.points[It]=new dt(er,Kt),ur=Kt}vr.segmentLength=nr,Tt[Pt]=vr}return Tt[Pt]}}();function mt(Tt,Ft){var Mt=Ft.percents,Lt=Ft.lengths,Gt=Mt.length,Pt=bmFloor((Gt-1)*Tt),$t=Tt*Ft.addedLength,It=0;if(Pt===Gt-1||Pt===0||$t===Lt[Pt])return Mt[Pt];for(var Ot=Lt[Pt]>$t?-1:1,Vt=!0;Vt;)if(Lt[Pt]<=$t&&Lt[Pt+1]>$t?(It=($t-Lt[Pt])/(Lt[Pt+1]-Lt[Pt]),Vt=!1):Pt+=Ot,Pt<0||Pt>=Gt-1){if(Pt===Gt-1)return Mt[Pt];Vt=!1}return Mt[Pt]+(Mt[Pt+1]-Mt[Pt])*It}function xt(Tt,Ft,Mt,Lt,Gt,Pt){var $t=mt(Gt,Pt),It=1-$t,Ot=et.round((It*It*It*Tt[0]+($t*It*It+It*$t*It+It*It*$t)*Mt[0]+($t*$t*It+It*$t*$t+$t*It*$t)*Lt[0]+$t*$t*$t*Ft[0])*1e3)/1e3,Vt=et.round((It*It*It*Tt[1]+($t*It*It+It*$t*It+It*It*$t)*Mt[1]+($t*$t*It+It*$t*$t+$t*It*$t)*Lt[1]+$t*$t*$t*Ft[1])*1e3)/1e3;return[Ot,Vt]}var Et=createTypedArray("float32",8);function At(Tt,Ft,Mt,Lt,Gt,Pt,$t){Gt<0?Gt=0:Gt>1&&(Gt=1);var It=mt(Gt,$t);Pt=Pt>1?1:Pt;var Ot=mt(Pt,$t),Vt,Ut=Tt.length,Wt=1-It,nr=1-Ot,er=Wt*Wt*Wt,Kt=It*Wt*Wt*3,ur=It*It*Wt*3,vr=It*It*It,Lr=Wt*Wt*nr,Er=It*Wt*nr+Wt*It*nr+Wt*Wt*Ot,Cr=It*It*nr+Wt*It*Ot+It*Wt*Ot,hr=It*It*Ot,Tr=Wt*nr*nr,Xt=It*nr*nr+Wt*Ot*nr+Wt*nr*Ot,Qt=It*Ot*nr+Wt*Ot*Ot+It*nr*Ot,lr=It*Ot*Ot,cr=nr*nr*nr,sr=Ot*nr*nr+nr*Ot*nr+nr*nr*Ot,dr=Ot*Ot*nr+nr*Ot*Ot+Ot*nr*Ot,Rr=Ot*Ot*Ot;for(Vt=0;Vt<Ut;Vt+=1)Et[Vt*4]=et.round((er*Tt[Vt]+Kt*Mt[Vt]+ur*Lt[Vt]+vr*Ft[Vt])*1e3)/1e3,Et[Vt*4+1]=et.round((Lr*Tt[Vt]+Er*Mt[Vt]+Cr*Lt[Vt]+hr*Ft[Vt])*1e3)/1e3,Et[Vt*4+2]=et.round((Tr*Tt[Vt]+Xt*Mt[Vt]+Qt*Lt[Vt]+lr*Ft[Vt])*1e3)/1e3,Et[Vt*4+3]=et.round((cr*Tt[Vt]+sr*Mt[Vt]+dr*Lt[Vt]+Rr*Ft[Vt])*1e3)/1e3;return Et}return{getSegmentsLength:at,getNewSegment:At,getPointInSegment:xt,buildBezierData:ot,pointOnLine2D:tt,pointOnLine3D:rt}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(et,tt){var rt=this.offsetTime,nt;this.propType==="multidimensional"&&(nt=createTypedArray("float32",this.pv.length));for(var at=tt.lastIndex,lt=at,dt=this.keyframes.length-1,ot=!0,mt,xt,Et;ot;){if(mt=this.keyframes[lt],xt=this.keyframes[lt+1],lt===dt-1&&et>=xt.t-rt){mt.h&&(mt=xt),at=0;break}if(xt.t-rt>et){at=lt;break}lt<dt-1?lt+=1:(at=0,ot=!1)}Et=this.keyframesMetadata[lt]||{};var At,Tt,Ft,Mt,Lt,Gt,Pt=xt.t-rt,$t=mt.t-rt,It;if(mt.to){Et.bezierData||(Et.bezierData=bez.buildBezierData(mt.s,xt.s||mt.e,mt.to,mt.ti));var Ot=Et.bezierData;if(et>=Pt||et<$t){var Vt=et>=Pt?Ot.points.length-1:0;for(Tt=Ot.points[Vt].point.length,At=0;At<Tt;At+=1)nt[At]=Ot.points[Vt].point[At]}else{Et.__fnct?Gt=Et.__fnct:(Gt=BezierFactory.getBezierEasing(mt.o.x,mt.o.y,mt.i.x,mt.i.y,mt.n).get,Et.__fnct=Gt),Ft=Gt((et-$t)/(Pt-$t));var Ut=Ot.segmentLength*Ft,Wt,nr=tt.lastFrame<et&&tt._lastKeyframeIndex===lt?tt._lastAddedLength:0;for(Lt=tt.lastFrame<et&&tt._lastKeyframeIndex===lt?tt._lastPoint:0,ot=!0,Mt=Ot.points.length;ot;){if(nr+=Ot.points[Lt].partialLength,Ut===0||Ft===0||Lt===Ot.points.length-1){for(Tt=Ot.points[Lt].point.length,At=0;At<Tt;At+=1)nt[At]=Ot.points[Lt].point[At];break}else if(Ut>=nr&&Ut<nr+Ot.points[Lt+1].partialLength){for(Wt=(Ut-nr)/Ot.points[Lt+1].partialLength,Tt=Ot.points[Lt].point.length,At=0;At<Tt;At+=1)nt[At]=Ot.points[Lt].point[At]+(Ot.points[Lt+1].point[At]-Ot.points[Lt].point[At])*Wt;break}Lt<Mt-1?Lt+=1:ot=!1}tt._lastPoint=Lt,tt._lastAddedLength=nr-Ot.points[Lt].partialLength,tt._lastKeyframeIndex=lt}}else{var er,Kt,ur,vr,Lr;if(dt=mt.s.length,It=xt.s||mt.e,this.sh&&mt.h!==1)if(et>=Pt)nt[0]=It[0],nt[1]=It[1],nt[2]=It[2];else if(et<=$t)nt[0]=mt.s[0],nt[1]=mt.s[1],nt[2]=mt.s[2];else{var Er=createQuaternion(mt.s),Cr=createQuaternion(It),hr=(et-$t)/(Pt-$t);quaternionToEuler(nt,slerp(Er,Cr,hr))}else for(lt=0;lt<dt;lt+=1)mt.h!==1&&(et>=Pt?Ft=1:et<$t?Ft=0:(mt.o.x.constructor===Array?(Et.__fnct||(Et.__fnct=[]),Et.__fnct[lt]?Gt=Et.__fnct[lt]:(er=mt.o.x[lt]===void 0?mt.o.x[0]:mt.o.x[lt],Kt=mt.o.y[lt]===void 0?mt.o.y[0]:mt.o.y[lt],ur=mt.i.x[lt]===void 0?mt.i.x[0]:mt.i.x[lt],vr=mt.i.y[lt]===void 0?mt.i.y[0]:mt.i.y[lt],Gt=BezierFactory.getBezierEasing(er,Kt,ur,vr).get,Et.__fnct[lt]=Gt)):Et.__fnct?Gt=Et.__fnct:(er=mt.o.x,Kt=mt.o.y,ur=mt.i.x,vr=mt.i.y,Gt=BezierFactory.getBezierEasing(er,Kt,ur,vr).get,mt.keyframeMetadata=Gt),Ft=Gt((et-$t)/(Pt-$t)))),It=xt.s||mt.e,Lr=mt.h===1?mt.s[lt]:mt.s[lt]+(It[lt]-mt.s[lt])*Ft,this.propType==="multidimensional"?nt[lt]=Lr:nt=Lr}return tt.lastIndex=at,nt}function slerp(et,tt,rt){var nt=[],at=et[0],lt=et[1],dt=et[2],ot=et[3],mt=tt[0],xt=tt[1],Et=tt[2],At=tt[3],Tt,Ft,Mt,Lt,Gt;return Ft=at*mt+lt*xt+dt*Et+ot*At,Ft<0&&(Ft=-Ft,mt=-mt,xt=-xt,Et=-Et,At=-At),1-Ft>1e-6?(Tt=Math.acos(Ft),Mt=Math.sin(Tt),Lt=Math.sin((1-rt)*Tt)/Mt,Gt=Math.sin(rt*Tt)/Mt):(Lt=1-rt,Gt=rt),nt[0]=Lt*at+Gt*mt,nt[1]=Lt*lt+Gt*xt,nt[2]=Lt*dt+Gt*Et,nt[3]=Lt*ot+Gt*At,nt}function quaternionToEuler(et,tt){var rt=tt[0],nt=tt[1],at=tt[2],lt=tt[3],dt=Math.atan2(2*nt*lt-2*rt*at,1-2*nt*nt-2*at*at),ot=Math.asin(2*rt*nt+2*at*lt),mt=Math.atan2(2*rt*lt-2*nt*at,1-2*rt*rt-2*at*at);et[0]=dt/degToRads,et[1]=ot/degToRads,et[2]=mt/degToRads}function createQuaternion(et){var tt=et[0]*degToRads,rt=et[1]*degToRads,nt=et[2]*degToRads,at=Math.cos(tt/2),lt=Math.cos(rt/2),dt=Math.cos(nt/2),ot=Math.sin(tt/2),mt=Math.sin(rt/2),xt=Math.sin(nt/2),Et=at*lt*dt-ot*mt*xt,At=ot*mt*dt+at*lt*xt,Tt=ot*lt*dt+at*mt*xt,Ft=at*mt*dt-ot*lt*xt;return[At,Tt,Ft,Et]}function getValueAtCurrentTime(){var et=this.comp.renderedFrame-this.offsetTime,tt=this.keyframes[0].t-this.offsetTime,rt=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(et===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=rt&&et>=rt||this._caching.lastFrame<tt&&et<tt))){this._caching.lastFrame>=et&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var nt=this.interpolateValue(et,this._caching);this.pv=nt}return this._caching.lastFrame=et,this.pv}function setVValue(et){var tt;if(this.propType==="unidimensional")tt=et*this.mult,mathAbs(this.v-tt)>1e-5&&(this.v=tt,this._mdf=!0);else for(var rt=0,nt=this.v.length;rt<nt;)tt=et[rt]*this.mult,mathAbs(this.v[rt]-tt)>1e-5&&(this.v[rt]=tt,this._mdf=!0),rt+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var et,tt=this.effectsSequence.length,rt=this.kf?this.pv:this.data.k;for(et=0;et<tt;et+=1)rt=this.effectsSequence[et](rt);this.setVValue(rt),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(et){this.effectsSequence.push(et),this.container.addDynamicProperty(this)}function ValueProperty(et,tt,rt,nt){this.propType="unidimensional",this.mult=rt||1,this.data=tt,this.v=rt?tt.k*rt:tt.k,this.pv=tt.k,this._mdf=!1,this.elem=et,this.container=nt,this.comp=et.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(et,tt,rt,nt){this.propType="multidimensional",this.mult=rt||1,this.data=tt,this._mdf=!1,this.elem=et,this.container=nt,this.comp=et.comp,this.k=!1,this.kf=!1,this.frameId=-1;var at,lt=tt.k.length;for(this.v=createTypedArray("float32",lt),this.pv=createTypedArray("float32",lt),this.vel=createTypedArray("float32",lt),at=0;at<lt;at+=1)this.v[at]=tt.k[at]*this.mult,this.pv[at]=tt.k[at];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(et,tt,rt,nt){this.propType="unidimensional",this.keyframes=tt.k,this.keyframesMetadata=[],this.offsetTime=et.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=tt,this.mult=rt||1,this.elem=et,this.container=nt,this.comp=et.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(et,tt,rt,nt){this.propType="multidimensional";var at,lt=tt.k.length,dt,ot,mt,xt;for(at=0;at<lt-1;at+=1)tt.k[at].to&&tt.k[at].s&&tt.k[at+1]&&tt.k[at+1].s&&(dt=tt.k[at].s,ot=tt.k[at+1].s,mt=tt.k[at].to,xt=tt.k[at].ti,(dt.length===2&&!(dt[0]===ot[0]&&dt[1]===ot[1])&&bez.pointOnLine2D(dt[0],dt[1],ot[0],ot[1],dt[0]+mt[0],dt[1]+mt[1])&&bez.pointOnLine2D(dt[0],dt[1],ot[0],ot[1],ot[0]+xt[0],ot[1]+xt[1])||dt.length===3&&!(dt[0]===ot[0]&&dt[1]===ot[1]&&dt[2]===ot[2])&&bez.pointOnLine3D(dt[0],dt[1],dt[2],ot[0],ot[1],ot[2],dt[0]+mt[0],dt[1]+mt[1],dt[2]+mt[2])&&bez.pointOnLine3D(dt[0],dt[1],dt[2],ot[0],ot[1],ot[2],ot[0]+xt[0],ot[1]+xt[1],ot[2]+xt[2]))&&(tt.k[at].to=null,tt.k[at].ti=null),dt[0]===ot[0]&&dt[1]===ot[1]&&mt[0]===0&&mt[1]===0&&xt[0]===0&&xt[1]===0&&(dt.length===2||dt[2]===ot[2]&&mt[2]===0&&xt[2]===0)&&(tt.k[at].to=null,tt.k[at].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=tt,this.keyframes=tt.k,this.keyframesMetadata=[],this.offsetTime=et.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=rt||1,this.elem=et,this.container=nt,this.comp=et.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var Et=tt.k[0].s.length;for(this.v=createTypedArray("float32",Et),this.pv=createTypedArray("float32",Et),at=0;at<Et;at+=1)this.v[at]=initFrame,this.pv[at]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",Et)},this.addEffect=addEffect}var PropertyFactory=function(){function et(rt,nt,at,lt,dt){nt.sid&&(nt=rt.globalData.slotManager.getProp(nt));var ot;if(!nt.k.length)ot=new ValueProperty(rt,nt,lt,dt);else if(typeof nt.k[0]=="number")ot=new MultiDimensionalProperty(rt,nt,lt,dt);else switch(at){case 0:ot=new KeyframedValueProperty(rt,nt,lt,dt);break;case 1:ot=new KeyframedMultidimensionalProperty(rt,nt,lt,dt);break}return ot.effectsSequence.length&&dt.addDynamicProperty(ot),ot}var tt={getProp:et};return tt}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(tt){this.dynamicProperties.indexOf(tt)===-1&&(this.dynamicProperties.push(tt),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var tt,rt=this.dynamicProperties.length;for(tt=0;tt<rt;tt+=1)this.dynamicProperties[tt].getValue(),this.dynamicProperties[tt]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(tt){this.container=tt,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function et(){return createTypedArray("float32",2)}return poolFactory(8,et)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(et,tt){this.c=et,this.setLength(tt);for(var rt=0;rt<tt;)this.v[rt]=pointPool.newElement(),this.o[rt]=pointPool.newElement(),this.i[rt]=pointPool.newElement(),rt+=1},ShapePath.prototype.setLength=function(et){for(;this._maxLength<et;)this.doubleArrayLength();this._length=et},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(et,tt,rt,nt,at){var lt;switch(this._length=Math.max(this._length,nt+1),this._length>=this._maxLength&&this.doubleArrayLength(),rt){case"v":lt=this.v;break;case"i":lt=this.i;break;case"o":lt=this.o;break;default:lt=[];break}(!lt[nt]||lt[nt]&&!at)&&(lt[nt]=pointPool.newElement()),lt[nt][0]=et,lt[nt][1]=tt},ShapePath.prototype.setTripleAt=function(et,tt,rt,nt,at,lt,dt,ot){this.setXYAt(et,tt,"v",dt,ot),this.setXYAt(rt,nt,"o",dt,ot),this.setXYAt(at,lt,"i",dt,ot)},ShapePath.prototype.reverse=function(){var et=new ShapePath;et.setPathData(this.c,this._length);var tt=this.v,rt=this.o,nt=this.i,at=0;this.c&&(et.setTripleAt(tt[0][0],tt[0][1],nt[0][0],nt[0][1],rt[0][0],rt[0][1],0,!1),at=1);var lt=this._length-1,dt=this._length,ot;for(ot=at;ot<dt;ot+=1)et.setTripleAt(tt[lt][0],tt[lt][1],nt[lt][0],nt[lt][1],rt[lt][0],rt[lt][1],ot,!1),lt-=1;return et},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function et(){return new ShapePath}function tt(at){var lt=at._length,dt;for(dt=0;dt<lt;dt+=1)pointPool.release(at.v[dt]),pointPool.release(at.i[dt]),pointPool.release(at.o[dt]),at.v[dt]=null,at.i[dt]=null,at.o[dt]=null;at._length=0,at.c=!1}function rt(at){var lt=nt.newElement(),dt,ot=at._length===void 0?at.v.length:at._length;for(lt.setLength(ot),lt.c=at.c,dt=0;dt<ot;dt+=1)lt.setTripleAt(at.v[dt][0],at.v[dt][1],at.o[dt][0],at.o[dt][1],at.i[dt][0],at.i[dt][1],dt);return lt}var nt=poolFactory(4,et,tt);return nt.clone=rt,nt}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(et){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=et,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var et;for(et=0;et<this._length;et+=1)shapePool.release(this.shapes[et]);this._length=0};var shapeCollectionPool=function(){var et={newShapeCollection:at,release:lt},tt=0,rt=4,nt=createSizedArray(rt);function at(){var dt;return tt?(tt-=1,dt=nt[tt]):dt=new ShapeCollection,dt}function lt(dt){var ot,mt=dt._length;for(ot=0;ot<mt;ot+=1)shapePool.release(dt.shapes[ot]);dt._length=0,tt===rt&&(nt=pooling.double(nt),rt*=2),nt[tt]=dt,tt+=1}return et}(),ShapePropertyFactory=function(){var et=-999999;function tt(Pt,$t,It){var Ot=It.lastIndex,Vt,Ut,Wt,nr,er,Kt,ur,vr,Lr,Er=this.keyframes;if(Pt<Er[0].t-this.offsetTime)Vt=Er[0].s[0],Wt=!0,Ot=0;else if(Pt>=Er[Er.length-1].t-this.offsetTime)Vt=Er[Er.length-1].s?Er[Er.length-1].s[0]:Er[Er.length-2].e[0],Wt=!0;else{for(var Cr=Ot,hr=Er.length-1,Tr=!0,Xt,Qt,lr;Tr&&(Xt=Er[Cr],Qt=Er[Cr+1],!(Qt.t-this.offsetTime>Pt));)Cr<hr-1?Cr+=1:Tr=!1;if(lr=this.keyframesMetadata[Cr]||{},Wt=Xt.h===1,Ot=Cr,!Wt){if(Pt>=Qt.t-this.offsetTime)vr=1;else if(Pt<Xt.t-this.offsetTime)vr=0;else{var cr;lr.__fnct?cr=lr.__fnct:(cr=BezierFactory.getBezierEasing(Xt.o.x,Xt.o.y,Xt.i.x,Xt.i.y).get,lr.__fnct=cr),vr=cr((Pt-(Xt.t-this.offsetTime))/(Qt.t-this.offsetTime-(Xt.t-this.offsetTime)))}Ut=Qt.s?Qt.s[0]:Xt.e[0]}Vt=Xt.s[0]}for(Kt=$t._length,ur=Vt.i[0].length,It.lastIndex=Ot,nr=0;nr<Kt;nr+=1)for(er=0;er<ur;er+=1)Lr=Wt?Vt.i[nr][er]:Vt.i[nr][er]+(Ut.i[nr][er]-Vt.i[nr][er])*vr,$t.i[nr][er]=Lr,Lr=Wt?Vt.o[nr][er]:Vt.o[nr][er]+(Ut.o[nr][er]-Vt.o[nr][er])*vr,$t.o[nr][er]=Lr,Lr=Wt?Vt.v[nr][er]:Vt.v[nr][er]+(Ut.v[nr][er]-Vt.v[nr][er])*vr,$t.v[nr][er]=Lr}function rt(){var Pt=this.comp.renderedFrame-this.offsetTime,$t=this.keyframes[0].t-this.offsetTime,It=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Ot=this._caching.lastFrame;return Ot!==et&&(Ot<$t&&Pt<$t||Ot>It&&Pt>It)||(this._caching.lastIndex=Ot<Pt?this._caching.lastIndex:0,this.interpolateShape(Pt,this.pv,this._caching)),this._caching.lastFrame=Pt,this.pv}function nt(){this.paths=this.localShapeCollection}function at(Pt,$t){if(Pt._length!==$t._length||Pt.c!==$t.c)return!1;var It,Ot=Pt._length;for(It=0;It<Ot;It+=1)if(Pt.v[It][0]!==$t.v[It][0]||Pt.v[It][1]!==$t.v[It][1]||Pt.o[It][0]!==$t.o[It][0]||Pt.o[It][1]!==$t.o[It][1]||Pt.i[It][0]!==$t.i[It][0]||Pt.i[It][1]!==$t.i[It][1])return!1;return!0}function lt(Pt){at(this.v,Pt)||(this.v=shapePool.clone(Pt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function dt(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Pt;this.kf?Pt=this.pv:this.data.ks?Pt=this.data.ks.k:Pt=this.data.pt.k;var $t,It=this.effectsSequence.length;for($t=0;$t<It;$t+=1)Pt=this.effectsSequence[$t](Pt);this.setVValue(Pt),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ot(Pt,$t,It){this.propType="shape",this.comp=Pt.comp,this.container=Pt,this.elem=Pt,this.data=$t,this.k=!1,this.kf=!1,this._mdf=!1;var Ot=It===3?$t.pt.k:$t.ks.k;this.v=shapePool.clone(Ot),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=nt,this.effectsSequence=[]}function mt(Pt){this.effectsSequence.push(Pt),this.container.addDynamicProperty(this)}ot.prototype.interpolateShape=tt,ot.prototype.getValue=dt,ot.prototype.setVValue=lt,ot.prototype.addEffect=mt;function xt(Pt,$t,It){this.propType="shape",this.comp=Pt.comp,this.elem=Pt,this.container=Pt,this.offsetTime=Pt.data.st,this.keyframes=It===3?$t.pt.k:$t.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Ot=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Ot),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=et,this.reset=nt,this._caching={lastFrame:et,lastIndex:0},this.effectsSequence=[rt.bind(this)]}xt.prototype.getValue=dt,xt.prototype.interpolateShape=tt,xt.prototype.setVValue=lt,xt.prototype.addEffect=mt;var Et=function(){var Pt=roundCorner;function $t(It,Ot){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Ot.d,this.elem=It,this.comp=It.comp,this.frameId=-1,this.initDynamicPropertyContainer(It),this.p=PropertyFactory.getProp(It,Ot.p,1,0,this),this.s=PropertyFactory.getProp(It,Ot.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return $t.prototype={reset:nt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Ot=this.p.v[0],Vt=this.p.v[1],Ut=this.s.v[0]/2,Wt=this.s.v[1]/2,nr=this.d!==3,er=this.v;er.v[0][0]=Ot,er.v[0][1]=Vt-Wt,er.v[1][0]=nr?Ot+Ut:Ot-Ut,er.v[1][1]=Vt,er.v[2][0]=Ot,er.v[2][1]=Vt+Wt,er.v[3][0]=nr?Ot-Ut:Ot+Ut,er.v[3][1]=Vt,er.i[0][0]=nr?Ot-Ut*Pt:Ot+Ut*Pt,er.i[0][1]=Vt-Wt,er.i[1][0]=nr?Ot+Ut:Ot-Ut,er.i[1][1]=Vt-Wt*Pt,er.i[2][0]=nr?Ot+Ut*Pt:Ot-Ut*Pt,er.i[2][1]=Vt+Wt,er.i[3][0]=nr?Ot-Ut:Ot+Ut,er.i[3][1]=Vt+Wt*Pt,er.o[0][0]=nr?Ot+Ut*Pt:Ot-Ut*Pt,er.o[0][1]=Vt-Wt,er.o[1][0]=nr?Ot+Ut:Ot-Ut,er.o[1][1]=Vt+Wt*Pt,er.o[2][0]=nr?Ot-Ut*Pt:Ot+Ut*Pt,er.o[2][1]=Vt+Wt,er.o[3][0]=nr?Ot-Ut:Ot+Ut,er.o[3][1]=Vt-Wt*Pt}},extendPrototype([DynamicPropertyContainer],$t),$t}(),At=function(){function Pt($t,It){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=$t,this.comp=$t.comp,this.data=It,this.frameId=-1,this.d=It.d,this.initDynamicPropertyContainer($t),It.sy===1?(this.ir=PropertyFactory.getProp($t,It.ir,0,0,this),this.is=PropertyFactory.getProp($t,It.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp($t,It.pt,0,0,this),this.p=PropertyFactory.getProp($t,It.p,1,0,this),this.r=PropertyFactory.getProp($t,It.r,0,degToRads,this),this.or=PropertyFactory.getProp($t,It.or,0,0,this),this.os=PropertyFactory.getProp($t,It.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Pt.prototype={reset:nt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var It=Math.floor(this.pt.v)*2,Ot=Math.PI*2/It,Vt=!0,Ut=this.or.v,Wt=this.ir.v,nr=this.os.v,er=this.is.v,Kt=2*Math.PI*Ut/(It*2),ur=2*Math.PI*Wt/(It*2),vr,Lr,Er,Cr,hr=-Math.PI/2;hr+=this.r.v;var Tr=this.data.d===3?-1:1;for(this.v._length=0,vr=0;vr<It;vr+=1){Lr=Vt?Ut:Wt,Er=Vt?nr:er,Cr=Vt?Kt:ur;var Xt=Lr*Math.cos(hr),Qt=Lr*Math.sin(hr),lr=Xt===0&&Qt===0?0:Qt/Math.sqrt(Xt*Xt+Qt*Qt),cr=Xt===0&&Qt===0?0:-Xt/Math.sqrt(Xt*Xt+Qt*Qt);Xt+=+this.p.v[0],Qt+=+this.p.v[1],this.v.setTripleAt(Xt,Qt,Xt-lr*Cr*Er*Tr,Qt-cr*Cr*Er*Tr,Xt+lr*Cr*Er*Tr,Qt+cr*Cr*Er*Tr,vr,!0),Vt=!Vt,hr+=Ot*Tr}},convertPolygonToPath:function(){var It=Math.floor(this.pt.v),Ot=Math.PI*2/It,Vt=this.or.v,Ut=this.os.v,Wt=2*Math.PI*Vt/(It*4),nr,er=-Math.PI*.5,Kt=this.data.d===3?-1:1;for(er+=this.r.v,this.v._length=0,nr=0;nr<It;nr+=1){var ur=Vt*Math.cos(er),vr=Vt*Math.sin(er),Lr=ur===0&&vr===0?0:vr/Math.sqrt(ur*ur+vr*vr),Er=ur===0&&vr===0?0:-ur/Math.sqrt(ur*ur+vr*vr);ur+=+this.p.v[0],vr+=+this.p.v[1],this.v.setTripleAt(ur,vr,ur-Lr*Wt*Ut*Kt,vr-Er*Wt*Ut*Kt,ur+Lr*Wt*Ut*Kt,vr+Er*Wt*Ut*Kt,nr,!0),er+=Ot*Kt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Pt),Pt}(),Tt=function(){function Pt($t,It){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=$t,this.comp=$t.comp,this.frameId=-1,this.d=It.d,this.initDynamicPropertyContainer($t),this.p=PropertyFactory.getProp($t,It.p,1,0,this),this.s=PropertyFactory.getProp($t,It.s,1,0,this),this.r=PropertyFactory.getProp($t,It.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Pt.prototype={convertRectToPath:function(){var It=this.p.v[0],Ot=this.p.v[1],Vt=this.s.v[0]/2,Ut=this.s.v[1]/2,Wt=bmMin(Vt,Ut,this.r.v),nr=Wt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(It+Vt,Ot-Ut+Wt,It+Vt,Ot-Ut+Wt,It+Vt,Ot-Ut+nr,0,!0),this.v.setTripleAt(It+Vt,Ot+Ut-Wt,It+Vt,Ot+Ut-nr,It+Vt,Ot+Ut-Wt,1,!0),Wt!==0?(this.v.setTripleAt(It+Vt-Wt,Ot+Ut,It+Vt-Wt,Ot+Ut,It+Vt-nr,Ot+Ut,2,!0),this.v.setTripleAt(It-Vt+Wt,Ot+Ut,It-Vt+nr,Ot+Ut,It-Vt+Wt,Ot+Ut,3,!0),this.v.setTripleAt(It-Vt,Ot+Ut-Wt,It-Vt,Ot+Ut-Wt,It-Vt,Ot+Ut-nr,4,!0),this.v.setTripleAt(It-Vt,Ot-Ut+Wt,It-Vt,Ot-Ut+nr,It-Vt,Ot-Ut+Wt,5,!0),this.v.setTripleAt(It-Vt+Wt,Ot-Ut,It-Vt+Wt,Ot-Ut,It-Vt+nr,Ot-Ut,6,!0),this.v.setTripleAt(It+Vt-Wt,Ot-Ut,It+Vt-nr,Ot-Ut,It+Vt-Wt,Ot-Ut,7,!0)):(this.v.setTripleAt(It-Vt,Ot+Ut,It-Vt+nr,Ot+Ut,It-Vt,Ot+Ut,2),this.v.setTripleAt(It-Vt,Ot-Ut,It-Vt,Ot-Ut+nr,It-Vt,Ot-Ut,3))):(this.v.setTripleAt(It+Vt,Ot-Ut+Wt,It+Vt,Ot-Ut+nr,It+Vt,Ot-Ut+Wt,0,!0),Wt!==0?(this.v.setTripleAt(It+Vt-Wt,Ot-Ut,It+Vt-Wt,Ot-Ut,It+Vt-nr,Ot-Ut,1,!0),this.v.setTripleAt(It-Vt+Wt,Ot-Ut,It-Vt+nr,Ot-Ut,It-Vt+Wt,Ot-Ut,2,!0),this.v.setTripleAt(It-Vt,Ot-Ut+Wt,It-Vt,Ot-Ut+Wt,It-Vt,Ot-Ut+nr,3,!0),this.v.setTripleAt(It-Vt,Ot+Ut-Wt,It-Vt,Ot+Ut-nr,It-Vt,Ot+Ut-Wt,4,!0),this.v.setTripleAt(It-Vt+Wt,Ot+Ut,It-Vt+Wt,Ot+Ut,It-Vt+nr,Ot+Ut,5,!0),this.v.setTripleAt(It+Vt-Wt,Ot+Ut,It+Vt-nr,Ot+Ut,It+Vt-Wt,Ot+Ut,6,!0),this.v.setTripleAt(It+Vt,Ot+Ut-Wt,It+Vt,Ot+Ut-Wt,It+Vt,Ot+Ut-nr,7,!0)):(this.v.setTripleAt(It-Vt,Ot-Ut,It-Vt+nr,Ot-Ut,It-Vt,Ot-Ut,1,!0),this.v.setTripleAt(It-Vt,Ot+Ut,It-Vt,Ot+Ut-nr,It-Vt,Ot+Ut,2,!0),this.v.setTripleAt(It+Vt,Ot+Ut,It+Vt-nr,Ot+Ut,It+Vt,Ot+Ut,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:nt},extendPrototype([DynamicPropertyContainer],Pt),Pt}();function Ft(Pt,$t,It){var Ot;if(It===3||It===4){var Vt=It===3?$t.pt:$t.ks,Ut=Vt.k;Ut.length?Ot=new xt(Pt,$t,It):Ot=new ot(Pt,$t,It)}else It===5?Ot=new Tt(Pt,$t):It===6?Ot=new Et(Pt,$t):It===7&&(Ot=new At(Pt,$t));return Ot.k&&Pt.addDynamicProperty(Ot),Ot}function Mt(){return ot}function Lt(){return xt}var Gt={};return Gt.getShapeProp=Ft,Gt.getConstructorFunction=Mt,Gt.getKeyframedConstructorFunction=Lt,Gt}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var et=Math.cos,tt=Math.sin,rt=Math.tan,nt=Math.round;function at(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function lt(Xt){if(Xt===0)return this;var Qt=et(Xt),lr=tt(Xt);return this._t(Qt,-lr,0,0,lr,Qt,0,0,0,0,1,0,0,0,0,1)}function dt(Xt){if(Xt===0)return this;var Qt=et(Xt),lr=tt(Xt);return this._t(1,0,0,0,0,Qt,-lr,0,0,lr,Qt,0,0,0,0,1)}function ot(Xt){if(Xt===0)return this;var Qt=et(Xt),lr=tt(Xt);return this._t(Qt,0,lr,0,0,1,0,0,-lr,0,Qt,0,0,0,0,1)}function mt(Xt){if(Xt===0)return this;var Qt=et(Xt),lr=tt(Xt);return this._t(Qt,-lr,0,0,lr,Qt,0,0,0,0,1,0,0,0,0,1)}function xt(Xt,Qt){return this._t(1,Qt,Xt,1,0,0)}function Et(Xt,Qt){return this.shear(rt(Xt),rt(Qt))}function At(Xt,Qt){var lr=et(Qt),cr=tt(Qt);return this._t(lr,cr,0,0,-cr,lr,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,rt(Xt),1,0,0,0,0,1,0,0,0,0,1)._t(lr,-cr,0,0,cr,lr,0,0,0,0,1,0,0,0,0,1)}function Tt(Xt,Qt,lr){return!lr&&lr!==0&&(lr=1),Xt===1&&Qt===1&&lr===1?this:this._t(Xt,0,0,0,0,Qt,0,0,0,0,lr,0,0,0,0,1)}function Ft(Xt,Qt,lr,cr,sr,dr,Rr,jr,Sr,dn,Qr,gn,ln,Kr,cn,En){return this.props[0]=Xt,this.props[1]=Qt,this.props[2]=lr,this.props[3]=cr,this.props[4]=sr,this.props[5]=dr,this.props[6]=Rr,this.props[7]=jr,this.props[8]=Sr,this.props[9]=dn,this.props[10]=Qr,this.props[11]=gn,this.props[12]=ln,this.props[13]=Kr,this.props[14]=cn,this.props[15]=En,this}function Mt(Xt,Qt,lr){return lr=lr||0,Xt!==0||Qt!==0||lr!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Xt,Qt,lr,1):this}function Lt(Xt,Qt,lr,cr,sr,dr,Rr,jr,Sr,dn,Qr,gn,ln,Kr,cn,En){var yn=this.props;if(Xt===1&&Qt===0&&lr===0&&cr===0&&sr===0&&dr===1&&Rr===0&&jr===0&&Sr===0&&dn===0&&Qr===1&&gn===0)return yn[12]=yn[12]*Xt+yn[15]*ln,yn[13]=yn[13]*dr+yn[15]*Kr,yn[14]=yn[14]*Qr+yn[15]*cn,yn[15]*=En,this._identityCalculated=!1,this;var Rn=yn[0],Zn=yn[1],jn=yn[2],so=yn[3],Eo=yn[4],_i=yn[5],po=yn[6],Mo=yn[7],yo=yn[8],mn=yn[9],Bn=yn[10],no=yn[11],eo=yn[12],to=yn[13],Yn=yn[14],Hr=yn[15];return yn[0]=Rn*Xt+Zn*sr+jn*Sr+so*ln,yn[1]=Rn*Qt+Zn*dr+jn*dn+so*Kr,yn[2]=Rn*lr+Zn*Rr+jn*Qr+so*cn,yn[3]=Rn*cr+Zn*jr+jn*gn+so*En,yn[4]=Eo*Xt+_i*sr+po*Sr+Mo*ln,yn[5]=Eo*Qt+_i*dr+po*dn+Mo*Kr,yn[6]=Eo*lr+_i*Rr+po*Qr+Mo*cn,yn[7]=Eo*cr+_i*jr+po*gn+Mo*En,yn[8]=yo*Xt+mn*sr+Bn*Sr+no*ln,yn[9]=yo*Qt+mn*dr+Bn*dn+no*Kr,yn[10]=yo*lr+mn*Rr+Bn*Qr+no*cn,yn[11]=yo*cr+mn*jr+Bn*gn+no*En,yn[12]=eo*Xt+to*sr+Yn*Sr+Hr*ln,yn[13]=eo*Qt+to*dr+Yn*dn+Hr*Kr,yn[14]=eo*lr+to*Rr+Yn*Qr+Hr*cn,yn[15]=eo*cr+to*jr+Yn*gn+Hr*En,this._identityCalculated=!1,this}function Gt(Xt){var Qt=Xt.props;return this.transform(Qt[0],Qt[1],Qt[2],Qt[3],Qt[4],Qt[5],Qt[6],Qt[7],Qt[8],Qt[9],Qt[10],Qt[11],Qt[12],Qt[13],Qt[14],Qt[15])}function Pt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function $t(Xt){for(var Qt=0;Qt<16;){if(Xt.props[Qt]!==this.props[Qt])return!1;Qt+=1}return!0}function It(Xt){var Qt;for(Qt=0;Qt<16;Qt+=1)Xt.props[Qt]=this.props[Qt];return Xt}function Ot(Xt){var Qt;for(Qt=0;Qt<16;Qt+=1)this.props[Qt]=Xt[Qt]}function Vt(Xt,Qt,lr){return{x:Xt*this.props[0]+Qt*this.props[4]+lr*this.props[8]+this.props[12],y:Xt*this.props[1]+Qt*this.props[5]+lr*this.props[9]+this.props[13],z:Xt*this.props[2]+Qt*this.props[6]+lr*this.props[10]+this.props[14]}}function Ut(Xt,Qt,lr){return Xt*this.props[0]+Qt*this.props[4]+lr*this.props[8]+this.props[12]}function Wt(Xt,Qt,lr){return Xt*this.props[1]+Qt*this.props[5]+lr*this.props[9]+this.props[13]}function nr(Xt,Qt,lr){return Xt*this.props[2]+Qt*this.props[6]+lr*this.props[10]+this.props[14]}function er(){var Xt=this.props[0]*this.props[5]-this.props[1]*this.props[4],Qt=this.props[5]/Xt,lr=-this.props[1]/Xt,cr=-this.props[4]/Xt,sr=this.props[0]/Xt,dr=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Xt,Rr=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Xt,jr=new Matrix;return jr.props[0]=Qt,jr.props[1]=lr,jr.props[4]=cr,jr.props[5]=sr,jr.props[12]=dr,jr.props[13]=Rr,jr}function Kt(Xt){var Qt=this.getInverseMatrix();return Qt.applyToPointArray(Xt[0],Xt[1],Xt[2]||0)}function ur(Xt){var Qt,lr=Xt.length,cr=[];for(Qt=0;Qt<lr;Qt+=1)cr[Qt]=Kt(Xt[Qt]);return cr}function vr(Xt,Qt,lr){var cr=createTypedArray("float32",6);if(this.isIdentity())cr[0]=Xt[0],cr[1]=Xt[1],cr[2]=Qt[0],cr[3]=Qt[1],cr[4]=lr[0],cr[5]=lr[1];else{var sr=this.props[0],dr=this.props[1],Rr=this.props[4],jr=this.props[5],Sr=this.props[12],dn=this.props[13];cr[0]=Xt[0]*sr+Xt[1]*Rr+Sr,cr[1]=Xt[0]*dr+Xt[1]*jr+dn,cr[2]=Qt[0]*sr+Qt[1]*Rr+Sr,cr[3]=Qt[0]*dr+Qt[1]*jr+dn,cr[4]=lr[0]*sr+lr[1]*Rr+Sr,cr[5]=lr[0]*dr+lr[1]*jr+dn}return cr}function Lr(Xt,Qt,lr){var cr;return this.isIdentity()?cr=[Xt,Qt,lr]:cr=[Xt*this.props[0]+Qt*this.props[4]+lr*this.props[8]+this.props[12],Xt*this.props[1]+Qt*this.props[5]+lr*this.props[9]+this.props[13],Xt*this.props[2]+Qt*this.props[6]+lr*this.props[10]+this.props[14]],cr}function Er(Xt,Qt){if(this.isIdentity())return Xt+","+Qt;var lr=this.props;return Math.round((Xt*lr[0]+Qt*lr[4]+lr[12])*100)/100+","+Math.round((Xt*lr[1]+Qt*lr[5]+lr[13])*100)/100}function Cr(){for(var Xt=0,Qt=this.props,lr="matrix3d(",cr=1e4;Xt<16;)lr+=nt(Qt[Xt]*cr)/cr,lr+=Xt===15?")":",",Xt+=1;return lr}function hr(Xt){var Qt=1e4;return Xt<1e-6&&Xt>0||Xt>-1e-6&&Xt<0?nt(Xt*Qt)/Qt:Xt}function Tr(){var Xt=this.props,Qt=hr(Xt[0]),lr=hr(Xt[1]),cr=hr(Xt[4]),sr=hr(Xt[5]),dr=hr(Xt[12]),Rr=hr(Xt[13]);return"matrix("+Qt+","+lr+","+cr+","+sr+","+dr+","+Rr+")"}return function(){this.reset=at,this.rotate=lt,this.rotateX=dt,this.rotateY=ot,this.rotateZ=mt,this.skew=Et,this.skewFromAxis=At,this.shear=xt,this.scale=Tt,this.setTransform=Ft,this.translate=Mt,this.transform=Lt,this.multiply=Gt,this.applyToPoint=Vt,this.applyToX=Ut,this.applyToY=Wt,this.applyToZ=nr,this.applyToPointArray=Lr,this.applyToTriplePoints=vr,this.applyToPointStringified=Er,this.toCSS=Cr,this.to2dCSS=Tr,this.clone=It,this.cloneFromProps=Ot,this.equals=$t,this.inversePoints=ur,this.inversePoint=Kt,this.getInverseMatrix=er,this._t=this.transform,this.isIdentity=Pt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(rt){return typeof rt}:_typeof$3=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$3(et)}var lottie={};function setLocation(et){setLocationHref(et)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(et){setSubframeEnabled(et)}function setPrefix(et){setIdPrefix(et)}function loadAnimation(et){return animationManager.loadAnimation(et)}function setQuality(et){if(typeof et=="string")switch(et){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(et)&&et>1&&setDefaultCurveSegments(et)}function inBrowser(){return typeof navigator<"u"}function installPlugin(et,tt){et==="expressions"&&setExpressionsPlugin(tt)}function getFactory(et){switch(et){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(et){for(var tt=queryString.split("&"),rt=0;rt<tt.length;rt+=1){var nt=tt[rt].split("=");if(decodeURIComponent(nt[0])==et)return decodeURIComponent(nt[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(et){}var ShapeModifiers=function(){var et={},tt={};et.registerModifier=rt,et.getModifier=nt;function rt(at,lt){tt[at]||(tt[at]=lt)}function nt(at,lt,dt){return new tt[at](lt,dt)}return et}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(et){if(!this.closed){et.sh.container.addDynamicProperty(et.sh);var tt={shape:et.sh,data:et,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(tt),this.addShapeToModifier(tt),this._isAnimated&&et.setAsAnimated()}},ShapeModifier.prototype.init=function(et,tt){this.shapes=[],this.elem=et,this.initDynamicPropertyContainer(et),this.initModifierProperties(et,tt),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(et,tt){this.s=PropertyFactory.getProp(et,tt.s,0,.01,this),this.e=PropertyFactory.getProp(et,tt.e,0,.01,this),this.o=PropertyFactory.getProp(et,tt.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=tt.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(et){et.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(et,tt,rt,nt,at){var lt=[];tt<=1?lt.push({s:et,e:tt}):et>=1?lt.push({s:et-1,e:tt-1}):(lt.push({s:et,e:1}),lt.push({s:0,e:tt-1}));var dt=[],ot,mt=lt.length,xt;for(ot=0;ot<mt;ot+=1)if(xt=lt[ot],!(xt.e*at<nt||xt.s*at>nt+rt)){var Et,At;xt.s*at<=nt?Et=0:Et=(xt.s*at-nt)/rt,xt.e*at>=nt+rt?At=1:At=(xt.e*at-nt)/rt,dt.push([Et,At])}return dt.length||dt.push([0,0]),dt},TrimModifier.prototype.releasePathsData=function(et){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)segmentsLengthPool.release(et[tt]);return et.length=0,et},TrimModifier.prototype.processShapes=function(et){var tt,rt;if(this._mdf||et){var nt=this.o.v%360/360;if(nt<0&&(nt+=1),this.s.v>1?tt=1+nt:this.s.v<0?tt=0+nt:tt=this.s.v+nt,this.e.v>1?rt=1+nt:this.e.v<0?rt=0+nt:rt=this.e.v+nt,tt>rt){var at=tt;tt=rt,rt=at}tt=Math.round(tt*1e4)*1e-4,rt=Math.round(rt*1e4)*1e-4,this.sValue=tt,this.eValue=rt}else tt=this.sValue,rt=this.eValue;var lt,dt,ot=this.shapes.length,mt,xt,Et,At,Tt,Ft=0;if(rt===tt)for(dt=0;dt<ot;dt+=1)this.shapes[dt].localShapeCollection.releaseShapes(),this.shapes[dt].shape._mdf=!0,this.shapes[dt].shape.paths=this.shapes[dt].localShapeCollection,this._mdf&&(this.shapes[dt].pathsData.length=0);else if(rt===1&&tt===0||rt===0&&tt===1){if(this._mdf)for(dt=0;dt<ot;dt+=1)this.shapes[dt].pathsData.length=0,this.shapes[dt].shape._mdf=!0}else{var Mt=[],Lt,Gt;for(dt=0;dt<ot;dt+=1)if(Lt=this.shapes[dt],!Lt.shape._mdf&&!this._mdf&&!et&&this.m!==2)Lt.shape.paths=Lt.localShapeCollection;else{if(lt=Lt.shape.paths,xt=lt._length,Tt=0,!Lt.shape._mdf&&Lt.pathsData.length)Tt=Lt.totalShapeLength;else{for(Et=this.releasePathsData(Lt.pathsData),mt=0;mt<xt;mt+=1)At=bez.getSegmentsLength(lt.shapes[mt]),Et.push(At),Tt+=At.totalLength;Lt.totalShapeLength=Tt,Lt.pathsData=Et}Ft+=Tt,Lt.shape._mdf=!0}var Pt=tt,$t=rt,It=0,Ot;for(dt=ot-1;dt>=0;dt-=1)if(Lt=this.shapes[dt],Lt.shape._mdf){for(Gt=Lt.localShapeCollection,Gt.releaseShapes(),this.m===2&&ot>1?(Ot=this.calculateShapeEdges(tt,rt,Lt.totalShapeLength,It,Ft),It+=Lt.totalShapeLength):Ot=[[Pt,$t]],xt=Ot.length,mt=0;mt<xt;mt+=1){Pt=Ot[mt][0],$t=Ot[mt][1],Mt.length=0,$t<=1?Mt.push({s:Lt.totalShapeLength*Pt,e:Lt.totalShapeLength*$t}):Pt>=1?Mt.push({s:Lt.totalShapeLength*(Pt-1),e:Lt.totalShapeLength*($t-1)}):(Mt.push({s:Lt.totalShapeLength*Pt,e:Lt.totalShapeLength}),Mt.push({s:0,e:Lt.totalShapeLength*($t-1)}));var Vt=this.addShapes(Lt,Mt[0]);if(Mt[0].s!==Mt[0].e){if(Mt.length>1){var Ut=Lt.shape.paths.shapes[Lt.shape.paths._length-1];if(Ut.c){var Wt=Vt.pop();this.addPaths(Vt,Gt),Vt=this.addShapes(Lt,Mt[1],Wt)}else this.addPaths(Vt,Gt),Vt=this.addShapes(Lt,Mt[1])}this.addPaths(Vt,Gt)}}Lt.shape.paths=Gt}}},TrimModifier.prototype.addPaths=function(et,tt){var rt,nt=et.length;for(rt=0;rt<nt;rt+=1)tt.addShape(et[rt])},TrimModifier.prototype.addSegment=function(et,tt,rt,nt,at,lt,dt){at.setXYAt(tt[0],tt[1],"o",lt),at.setXYAt(rt[0],rt[1],"i",lt+1),dt&&at.setXYAt(et[0],et[1],"v",lt),at.setXYAt(nt[0],nt[1],"v",lt+1)},TrimModifier.prototype.addSegmentFromArray=function(et,tt,rt,nt){tt.setXYAt(et[1],et[5],"o",rt),tt.setXYAt(et[2],et[6],"i",rt+1),nt&&tt.setXYAt(et[0],et[4],"v",rt),tt.setXYAt(et[3],et[7],"v",rt+1)},TrimModifier.prototype.addShapes=function(et,tt,rt){var nt=et.pathsData,at=et.shape.paths.shapes,lt,dt=et.shape.paths._length,ot,mt,xt=0,Et,At,Tt,Ft,Mt=[],Lt,Gt=!0;for(rt?(At=rt._length,Lt=rt._length):(rt=shapePool.newElement(),At=0,Lt=0),Mt.push(rt),lt=0;lt<dt;lt+=1){for(Tt=nt[lt].lengths,rt.c=at[lt].c,mt=at[lt].c?Tt.length:Tt.length+1,ot=1;ot<mt;ot+=1)if(Et=Tt[ot-1],xt+Et.addedLength<tt.s)xt+=Et.addedLength,rt.c=!1;else if(xt>tt.e){rt.c=!1;break}else tt.s<=xt&&tt.e>=xt+Et.addedLength?(this.addSegment(at[lt].v[ot-1],at[lt].o[ot-1],at[lt].i[ot],at[lt].v[ot],rt,At,Gt),Gt=!1):(Ft=bez.getNewSegment(at[lt].v[ot-1],at[lt].v[ot],at[lt].o[ot-1],at[lt].i[ot],(tt.s-xt)/Et.addedLength,(tt.e-xt)/Et.addedLength,Tt[ot-1]),this.addSegmentFromArray(Ft,rt,At,Gt),Gt=!1,rt.c=!1),xt+=Et.addedLength,At+=1;if(at[lt].c&&Tt.length){if(Et=Tt[ot-1],xt<=tt.e){var Pt=Tt[ot-1].addedLength;tt.s<=xt&&tt.e>=xt+Pt?(this.addSegment(at[lt].v[ot-1],at[lt].o[ot-1],at[lt].i[0],at[lt].v[0],rt,At,Gt),Gt=!1):(Ft=bez.getNewSegment(at[lt].v[ot-1],at[lt].v[0],at[lt].o[ot-1],at[lt].i[0],(tt.s-xt)/Pt,(tt.e-xt)/Pt,Tt[ot-1]),this.addSegmentFromArray(Ft,rt,At,Gt),Gt=!1,rt.c=!1)}else rt.c=!1;xt+=Et.addedLength,At+=1}if(rt._length&&(rt.setXYAt(rt.v[Lt][0],rt.v[Lt][1],"i",Lt),rt.setXYAt(rt.v[rt._length-1][0],rt.v[rt._length-1][1],"o",rt._length-1)),xt>tt.e)break;lt<dt-1&&(rt=shapePool.newElement(),Gt=!0,Mt.push(rt),At=0)}return Mt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(et,tt){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(et,tt.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(et,tt){var rt=tt/100,nt=[0,0],at=et._length,lt=0;for(lt=0;lt<at;lt+=1)nt[0]+=et.v[lt][0],nt[1]+=et.v[lt][1];nt[0]/=at,nt[1]/=at;var dt=shapePool.newElement();dt.c=et.c;var ot,mt,xt,Et,At,Tt;for(lt=0;lt<at;lt+=1)ot=et.v[lt][0]+(nt[0]-et.v[lt][0])*rt,mt=et.v[lt][1]+(nt[1]-et.v[lt][1])*rt,xt=et.o[lt][0]+(nt[0]-et.o[lt][0])*-rt,Et=et.o[lt][1]+(nt[1]-et.o[lt][1])*-rt,At=et.i[lt][0]+(nt[0]-et.i[lt][0])*-rt,Tt=et.i[lt][1]+(nt[1]-et.i[lt][1])*-rt,dt.setTripleAt(ot,mt,xt,Et,At,Tt,lt);return dt},PuckerAndBloatModifier.prototype.processShapes=function(et){var tt,rt,nt=this.shapes.length,at,lt,dt=this.amount.v;if(dt!==0){var ot,mt;for(rt=0;rt<nt;rt+=1){if(ot=this.shapes[rt],mt=ot.localShapeCollection,!(!ot.shape._mdf&&!this._mdf&&!et))for(mt.releaseShapes(),ot.shape._mdf=!0,tt=ot.shape.paths.shapes,lt=ot.shape.paths._length,at=0;at<lt;at+=1)mt.addShape(this.processPath(tt[at],dt));ot.shape.paths=ot.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var et=[0,0];function tt(mt){var xt=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||xt,this.a&&mt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&mt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&mt.skewFromAxis(-this.sk.v,this.sa.v),this.r?mt.rotate(-this.r.v):mt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?mt.translate(this.px.v,this.py.v,-this.pz.v):mt.translate(this.px.v,this.py.v,0):mt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function rt(mt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||mt){var xt;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Et,At;if(xt=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Et=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/xt,0),At=this.p.getValueAtTime(this.p.keyframes[0].t/xt,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Et=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/xt,0),At=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/xt,0)):(Et=this.p.pv,At=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/xt,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Et=[],At=[];var Tt=this.px,Ft=this.py;Tt._caching.lastFrame+Tt.offsetTime<=Tt.keyframes[0].t?(Et[0]=Tt.getValueAtTime((Tt.keyframes[0].t+.01)/xt,0),Et[1]=Ft.getValueAtTime((Ft.keyframes[0].t+.01)/xt,0),At[0]=Tt.getValueAtTime(Tt.keyframes[0].t/xt,0),At[1]=Ft.getValueAtTime(Ft.keyframes[0].t/xt,0)):Tt._caching.lastFrame+Tt.offsetTime>=Tt.keyframes[Tt.keyframes.length-1].t?(Et[0]=Tt.getValueAtTime(Tt.keyframes[Tt.keyframes.length-1].t/xt,0),Et[1]=Ft.getValueAtTime(Ft.keyframes[Ft.keyframes.length-1].t/xt,0),At[0]=Tt.getValueAtTime((Tt.keyframes[Tt.keyframes.length-1].t-.01)/xt,0),At[1]=Ft.getValueAtTime((Ft.keyframes[Ft.keyframes.length-1].t-.01)/xt,0)):(Et=[Tt.pv,Ft.pv],At[0]=Tt.getValueAtTime((Tt._caching.lastFrame+Tt.offsetTime-.01)/xt,Tt.offsetTime),At[1]=Ft.getValueAtTime((Ft._caching.lastFrame+Ft.offsetTime-.01)/xt,Ft.offsetTime))}else At=et,Et=At;this.v.rotate(-Math.atan2(Et[1]-At[1],Et[0]-At[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function nt(){if(!this.a.k)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function at(){}function lt(mt){this._addDynamicProperty(mt),this.elem.addDynamicProperty(mt),this._isDirty=!0}function dt(mt,xt,Et){if(this.elem=mt,this.frameId=-1,this.propType="transform",this.data=xt,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(Et||mt),xt.p&&xt.p.s?(this.px=PropertyFactory.getProp(mt,xt.p.x,0,0,this),this.py=PropertyFactory.getProp(mt,xt.p.y,0,0,this),xt.p.z&&(this.pz=PropertyFactory.getProp(mt,xt.p.z,0,0,this))):this.p=PropertyFactory.getProp(mt,xt.p||{k:[0,0,0]},1,0,this),xt.rx){if(this.rx=PropertyFactory.getProp(mt,xt.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(mt,xt.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(mt,xt.rz,0,degToRads,this),xt.or.k[0].ti){var At,Tt=xt.or.k.length;for(At=0;At<Tt;At+=1)xt.or.k[At].to=null,xt.or.k[At].ti=null}this.or=PropertyFactory.getProp(mt,xt.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(mt,xt.r||{k:0},0,degToRads,this);xt.sk&&(this.sk=PropertyFactory.getProp(mt,xt.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(mt,xt.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(mt,xt.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(mt,xt.s||{k:[100,100,100]},1,.01,this),xt.o?this.o=PropertyFactory.getProp(mt,xt.o,0,.01,mt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}dt.prototype={applyToMatrix:tt,getValue:rt,precalculateMatrix:nt,autoOrient:at},extendPrototype([DynamicPropertyContainer],dt),dt.prototype.addDynamicProperty=lt,dt.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ot(mt,xt,Et){return new dt(mt,xt,Et)}return{getTransformProperty:ot}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(et,tt){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(et,tt.c,0,null,this),this.o=PropertyFactory.getProp(et,tt.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(et,tt.tr,this),this.so=PropertyFactory.getProp(et,tt.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(et,tt.tr.eo,0,.01,this),this.data=tt,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(et,tt,rt,nt,at,lt){var dt=lt?-1:1,ot=nt.s.v[0]+(1-nt.s.v[0])*(1-at),mt=nt.s.v[1]+(1-nt.s.v[1])*(1-at);et.translate(nt.p.v[0]*dt*at,nt.p.v[1]*dt*at,nt.p.v[2]),tt.translate(-nt.a.v[0],-nt.a.v[1],nt.a.v[2]),tt.rotate(-nt.r.v*dt*at),tt.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2]),rt.translate(-nt.a.v[0],-nt.a.v[1],nt.a.v[2]),rt.scale(lt?1/ot:ot,lt?1/mt:mt),rt.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2])},RepeaterModifier.prototype.init=function(et,tt,rt,nt){for(this.elem=et,this.arr=tt,this.pos=rt,this.elemsData=nt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(et),this.initModifierProperties(et,tt[rt]);rt>0;)rt-=1,this._elements.unshift(tt[rt]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(et){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)et[tt]._processed=!1,et[tt].ty==="gr"&&this.resetElements(et[tt].it)},RepeaterModifier.prototype.cloneElements=function(et){var tt=JSON.parse(JSON.stringify(et));return this.resetElements(tt),tt},RepeaterModifier.prototype.changeGroupRender=function(et,tt){var rt,nt=et.length;for(rt=0;rt<nt;rt+=1)et[rt]._render=tt,et[rt].ty==="gr"&&this.changeGroupRender(et[rt].it,tt)},RepeaterModifier.prototype.processShapes=function(et){var tt,rt,nt,at,lt,dt=!1;if(this._mdf||et){var ot=Math.ceil(this.c.v);if(this._groups.length<ot){for(;this._groups.length<ot;){var mt={it:this.cloneElements(this._elements),ty:"gr"};mt.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,mt),this._groups.splice(0,0,mt),this._currentCopies+=1}this.elem.reloadShapes(),dt=!0}lt=0;var xt;for(nt=0;nt<=this._groups.length-1;nt+=1){if(xt=lt<ot,this._groups[nt]._render=xt,this.changeGroupRender(this._groups[nt].it,xt),!xt){var Et=this.elemsData[nt].it,At=Et[Et.length-1];At.transform.op.v!==0?(At.transform.op._mdf=!0,At.transform.op.v=0):At.transform.op._mdf=!1}lt+=1}this._currentCopies=ot;var Tt=this.o.v,Ft=Tt%1,Mt=Tt>0?Math.floor(Tt):Math.ceil(Tt),Lt=this.pMatrix.props,Gt=this.rMatrix.props,Pt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var $t=0;if(Tt>0){for(;$t<Mt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),$t+=1;Ft&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,Ft,!1),$t+=Ft)}else if(Tt<0){for(;$t>Mt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),$t-=1;Ft&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-Ft,!0),$t-=Ft)}nt=this.data.m===1?0:this._currentCopies-1,at=this.data.m===1?1:-1,lt=this._currentCopies;for(var It,Ot;lt;){if(tt=this.elemsData[nt].it,rt=tt[tt.length-1].transform.mProps.v.props,Ot=rt.length,tt[tt.length-1].transform.mProps._mdf=!0,tt[tt.length-1].transform.op._mdf=!0,tt[tt.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(nt/(this._currentCopies-1)),$t!==0){for((nt!==0&&at===1||nt!==this._currentCopies-1&&at===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Gt[0],Gt[1],Gt[2],Gt[3],Gt[4],Gt[5],Gt[6],Gt[7],Gt[8],Gt[9],Gt[10],Gt[11],Gt[12],Gt[13],Gt[14],Gt[15]),this.matrix.transform(Pt[0],Pt[1],Pt[2],Pt[3],Pt[4],Pt[5],Pt[6],Pt[7],Pt[8],Pt[9],Pt[10],Pt[11],Pt[12],Pt[13],Pt[14],Pt[15]),this.matrix.transform(Lt[0],Lt[1],Lt[2],Lt[3],Lt[4],Lt[5],Lt[6],Lt[7],Lt[8],Lt[9],Lt[10],Lt[11],Lt[12],Lt[13],Lt[14],Lt[15]),It=0;It<Ot;It+=1)rt[It]=this.matrix.props[It];this.matrix.reset()}else for(this.matrix.reset(),It=0;It<Ot;It+=1)rt[It]=this.matrix.props[It];$t+=1,lt-=1,nt+=at}}else for(lt=this._currentCopies,nt=0,at=1;lt;)tt=this.elemsData[nt].it,rt=tt[tt.length-1].transform.mProps.v.props,tt[tt.length-1].transform.mProps._mdf=!1,tt[tt.length-1].transform.op._mdf=!1,lt-=1,nt+=at;return dt},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(et,tt){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(et,tt.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(et,tt){var rt=shapePool.newElement();rt.c=et.c;var nt,at=et._length,lt,dt,ot,mt,xt,Et,At=0,Tt,Ft,Mt,Lt,Gt,Pt;for(nt=0;nt<at;nt+=1)lt=et.v[nt],ot=et.o[nt],dt=et.i[nt],lt[0]===ot[0]&&lt[1]===ot[1]&&lt[0]===dt[0]&&lt[1]===dt[1]?(nt===0||nt===at-1)&&!et.c?(rt.setTripleAt(lt[0],lt[1],ot[0],ot[1],dt[0],dt[1],At),At+=1):(nt===0?mt=et.v[at-1]:mt=et.v[nt-1],xt=Math.sqrt(Math.pow(lt[0]-mt[0],2)+Math.pow(lt[1]-mt[1],2)),Et=xt?Math.min(xt/2,tt)/xt:0,Gt=lt[0]+(mt[0]-lt[0])*Et,Tt=Gt,Pt=lt[1]-(lt[1]-mt[1])*Et,Ft=Pt,Mt=Tt-(Tt-lt[0])*roundCorner,Lt=Ft-(Ft-lt[1])*roundCorner,rt.setTripleAt(Tt,Ft,Mt,Lt,Gt,Pt,At),At+=1,nt===at-1?mt=et.v[0]:mt=et.v[nt+1],xt=Math.sqrt(Math.pow(lt[0]-mt[0],2)+Math.pow(lt[1]-mt[1],2)),Et=xt?Math.min(xt/2,tt)/xt:0,Mt=lt[0]+(mt[0]-lt[0])*Et,Tt=Mt,Lt=lt[1]+(mt[1]-lt[1])*Et,Ft=Lt,Gt=Tt-(Tt-lt[0])*roundCorner,Pt=Ft-(Ft-lt[1])*roundCorner,rt.setTripleAt(Tt,Ft,Mt,Lt,Gt,Pt,At),At+=1):(rt.setTripleAt(et.v[nt][0],et.v[nt][1],et.o[nt][0],et.o[nt][1],et.i[nt][0],et.i[nt][1],At),At+=1);return rt},RoundCornersModifier.prototype.processShapes=function(et){var tt,rt,nt=this.shapes.length,at,lt,dt=this.rd.v;if(dt!==0){var ot,mt;for(rt=0;rt<nt;rt+=1){if(ot=this.shapes[rt],mt=ot.localShapeCollection,!(!ot.shape._mdf&&!this._mdf&&!et))for(mt.releaseShapes(),ot.shape._mdf=!0,tt=ot.shape.paths.shapes,lt=ot.shape.paths._length,at=0;at<lt;at+=1)mt.addShape(this.processPath(tt[at],dt));ot.shape.paths=ot.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(et,tt){return Math.abs(et-tt)*1e5<=Math.min(Math.abs(et),Math.abs(tt))}function floatZero(et){return Math.abs(et)<=1e-5}function lerp(et,tt,rt){return et*(1-rt)+tt*rt}function lerpPoint(et,tt,rt){return[lerp(et[0],tt[0],rt),lerp(et[1],tt[1],rt)]}function quadRoots(et,tt,rt){if(et===0)return[];var nt=tt*tt-4*et*rt;if(nt<0)return[];var at=-tt/(2*et);if(nt===0)return[at];var lt=Math.sqrt(nt)/(2*et);return[at-lt,at+lt]}function polynomialCoefficients(et,tt,rt,nt){return[-et+3*tt-3*rt+nt,3*et-6*tt+3*rt,-3*et+3*tt,et]}function singlePoint(et){return new PolynomialBezier(et,et,et,et,!1)}function PolynomialBezier(et,tt,rt,nt,at){at&&pointEqual(et,tt)&&(tt=lerpPoint(et,nt,1/3)),at&&pointEqual(rt,nt)&&(rt=lerpPoint(et,nt,2/3));var lt=polynomialCoefficients(et[0],tt[0],rt[0],nt[0]),dt=polynomialCoefficients(et[1],tt[1],rt[1],nt[1]);this.a=[lt[0],dt[0]],this.b=[lt[1],dt[1]],this.c=[lt[2],dt[2]],this.d=[lt[3],dt[3]],this.points=[et,tt,rt,nt]}PolynomialBezier.prototype.point=function(et){return[((this.a[0]*et+this.b[0])*et+this.c[0])*et+this.d[0],((this.a[1]*et+this.b[1])*et+this.c[1])*et+this.d[1]]},PolynomialBezier.prototype.derivative=function(et){return[(3*et*this.a[0]+2*this.b[0])*et+this.c[0],(3*et*this.a[1]+2*this.b[1])*et+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(et){var tt=this.derivative(et);return Math.atan2(tt[1],tt[0])},PolynomialBezier.prototype.normalAngle=function(et){var tt=this.derivative(et);return Math.atan2(tt[0],tt[1])},PolynomialBezier.prototype.inflectionPoints=function(){var et=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(et))return[];var tt=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/et,rt=tt*tt-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/et;if(rt<0)return[];var nt=Math.sqrt(rt);return floatZero(nt)?nt>0&&nt<1?[tt]:[]:[tt-nt,tt+nt].filter(function(at){return at>0&&at<1})},PolynomialBezier.prototype.split=function(et){if(et<=0)return[singlePoint(this.points[0]),this];if(et>=1)return[this,singlePoint(this.points[this.points.length-1])];var tt=lerpPoint(this.points[0],this.points[1],et),rt=lerpPoint(this.points[1],this.points[2],et),nt=lerpPoint(this.points[2],this.points[3],et),at=lerpPoint(tt,rt,et),lt=lerpPoint(rt,nt,et),dt=lerpPoint(at,lt,et);return[new PolynomialBezier(this.points[0],tt,at,dt,!0),new PolynomialBezier(dt,lt,nt,this.points[3],!0)]};function extrema(et,tt){var rt=et.points[0][tt],nt=et.points[et.points.length-1][tt];if(rt>nt){var at=nt;nt=rt,rt=at}for(var lt=quadRoots(3*et.a[tt],2*et.b[tt],et.c[tt]),dt=0;dt<lt.length;dt+=1)if(lt[dt]>0&&lt[dt]<1){var ot=et.point(lt[dt])[tt];ot<rt?rt=ot:ot>nt&&(nt=ot)}return{min:rt,max:nt}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var et=this.bounds();return{left:et.x.min,right:et.x.max,top:et.y.min,bottom:et.y.max,width:et.x.max-et.x.min,height:et.y.max-et.y.min,cx:(et.x.max+et.x.min)/2,cy:(et.y.max+et.y.min)/2}};function intersectData(et,tt,rt){var nt=et.boundingBox();return{cx:nt.cx,cy:nt.cy,width:nt.width,height:nt.height,bez:et,t:(tt+rt)/2,t1:tt,t2:rt}}function splitData(et){var tt=et.bez.split(.5);return[intersectData(tt[0],et.t1,et.t),intersectData(tt[1],et.t,et.t2)]}function boxIntersect(et,tt){return Math.abs(et.cx-tt.cx)*2<et.width+tt.width&&Math.abs(et.cy-tt.cy)*2<et.height+tt.height}function intersectsImpl(et,tt,rt,nt,at,lt){if(boxIntersect(et,tt)){if(rt>=lt||et.width<=nt&&et.height<=nt&&tt.width<=nt&&tt.height<=nt){at.push([et.t,tt.t]);return}var dt=splitData(et),ot=splitData(tt);intersectsImpl(dt[0],ot[0],rt+1,nt,at,lt),intersectsImpl(dt[0],ot[1],rt+1,nt,at,lt),intersectsImpl(dt[1],ot[0],rt+1,nt,at,lt),intersectsImpl(dt[1],ot[1],rt+1,nt,at,lt)}}PolynomialBezier.prototype.intersections=function(et,tt,rt){tt===void 0&&(tt=2),rt===void 0&&(rt=7);var nt=[];return intersectsImpl(intersectData(this,0,1),intersectData(et,0,1),0,tt,nt,rt),nt},PolynomialBezier.shapeSegment=function(et,tt){var rt=(tt+1)%et.length();return new PolynomialBezier(et.v[tt],et.o[tt],et.i[rt],et.v[rt],!0)},PolynomialBezier.shapeSegmentInverted=function(et,tt){var rt=(tt+1)%et.length();return new PolynomialBezier(et.v[rt],et.i[rt],et.o[tt],et.v[tt],!0)};function crossProduct(et,tt){return[et[1]*tt[2]-et[2]*tt[1],et[2]*tt[0]-et[0]*tt[2],et[0]*tt[1]-et[1]*tt[0]]}function lineIntersection(et,tt,rt,nt){var at=[et[0],et[1],1],lt=[tt[0],tt[1],1],dt=[rt[0],rt[1],1],ot=[nt[0],nt[1],1],mt=crossProduct(crossProduct(at,lt),crossProduct(dt,ot));return floatZero(mt[2])?null:[mt[0]/mt[2],mt[1]/mt[2]]}function polarOffset(et,tt,rt){return[et[0]+Math.cos(tt)*rt,et[1]-Math.sin(tt)*rt]}function pointDistance(et,tt){return Math.hypot(et[0]-tt[0],et[1]-tt[1])}function pointEqual(et,tt){return floatEqual(et[0],tt[0])&&floatEqual(et[1],tt[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(et,tt){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(et,tt.s,0,null,this),this.frequency=PropertyFactory.getProp(et,tt.r,0,null,this),this.pointsType=PropertyFactory.getProp(et,tt.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(et,tt,rt,nt,at,lt,dt){var ot=rt-Math.PI/2,mt=rt+Math.PI/2,xt=tt[0]+Math.cos(rt)*nt*at,Et=tt[1]-Math.sin(rt)*nt*at;et.setTripleAt(xt,Et,xt+Math.cos(ot)*lt,Et-Math.sin(ot)*lt,xt+Math.cos(mt)*dt,Et-Math.sin(mt)*dt,et.length())}function getPerpendicularVector(et,tt){var rt=[tt[0]-et[0],tt[1]-et[1]],nt=-Math.PI*.5,at=[Math.cos(nt)*rt[0]-Math.sin(nt)*rt[1],Math.sin(nt)*rt[0]+Math.cos(nt)*rt[1]];return at}function getProjectingAngle(et,tt){var rt=tt===0?et.length()-1:tt-1,nt=(tt+1)%et.length(),at=et.v[rt],lt=et.v[nt],dt=getPerpendicularVector(at,lt);return Math.atan2(0,1)-Math.atan2(dt[1],dt[0])}function zigZagCorner(et,tt,rt,nt,at,lt,dt){var ot=getProjectingAngle(tt,rt),mt=tt.v[rt%tt._length],xt=tt.v[rt===0?tt._length-1:rt-1],Et=tt.v[(rt+1)%tt._length],At=lt===2?Math.sqrt(Math.pow(mt[0]-xt[0],2)+Math.pow(mt[1]-xt[1],2)):0,Tt=lt===2?Math.sqrt(Math.pow(mt[0]-Et[0],2)+Math.pow(mt[1]-Et[1],2)):0;setPoint(et,tt.v[rt%tt._length],ot,dt,nt,Tt/((at+1)*2),At/((at+1)*2))}function zigZagSegment(et,tt,rt,nt,at,lt){for(var dt=0;dt<nt;dt+=1){var ot=(dt+1)/(nt+1),mt=at===2?Math.sqrt(Math.pow(tt.points[3][0]-tt.points[0][0],2)+Math.pow(tt.points[3][1]-tt.points[0][1],2)):0,xt=tt.normalAngle(ot),Et=tt.point(ot);setPoint(et,Et,xt,lt,rt,mt/((nt+1)*2),mt/((nt+1)*2)),lt=-lt}return lt}ZigZagModifier.prototype.processPath=function(et,tt,rt,nt){var at=et._length,lt=shapePool.newElement();if(lt.c=et.c,et.c||(at-=1),at===0)return lt;var dt=-1,ot=PolynomialBezier.shapeSegment(et,0);zigZagCorner(lt,et,0,tt,rt,nt,dt);for(var mt=0;mt<at;mt+=1)dt=zigZagSegment(lt,ot,tt,rt,nt,-dt),mt===at-1&&!et.c?ot=null:ot=PolynomialBezier.shapeSegment(et,(mt+1)%at),zigZagCorner(lt,et,mt+1,tt,rt,nt,dt);return lt},ZigZagModifier.prototype.processShapes=function(et){var tt,rt,nt=this.shapes.length,at,lt,dt=this.amplitude.v,ot=Math.max(0,Math.round(this.frequency.v)),mt=this.pointsType.v;if(dt!==0){var xt,Et;for(rt=0;rt<nt;rt+=1){if(xt=this.shapes[rt],Et=xt.localShapeCollection,!(!xt.shape._mdf&&!this._mdf&&!et))for(Et.releaseShapes(),xt.shape._mdf=!0,tt=xt.shape.paths.shapes,lt=xt.shape.paths._length,at=0;at<lt;at+=1)Et.addShape(this.processPath(tt[at],dt,ot,mt));xt.shape.paths=xt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(et,tt,rt){var nt=Math.atan2(tt[0]-et[0],tt[1]-et[1]);return[polarOffset(et,nt,rt),polarOffset(tt,nt,rt)]}function offsetSegment(et,tt){var rt,nt,at,lt,dt,ot,mt;mt=linearOffset(et.points[0],et.points[1],tt),rt=mt[0],nt=mt[1],mt=linearOffset(et.points[1],et.points[2],tt),at=mt[0],lt=mt[1],mt=linearOffset(et.points[2],et.points[3],tt),dt=mt[0],ot=mt[1];var xt=lineIntersection(rt,nt,at,lt);xt===null&&(xt=nt);var Et=lineIntersection(dt,ot,at,lt);return Et===null&&(Et=dt),new PolynomialBezier(rt,xt,Et,ot)}function joinLines(et,tt,rt,nt,at){var lt=tt.points[3],dt=rt.points[0];if(nt===3||pointEqual(lt,dt))return lt;if(nt===2){var ot=-tt.tangentAngle(1),mt=-rt.tangentAngle(0)+Math.PI,xt=lineIntersection(lt,polarOffset(lt,ot+Math.PI/2,100),dt,polarOffset(dt,ot+Math.PI/2,100)),Et=xt?pointDistance(xt,lt):pointDistance(lt,dt)/2,At=polarOffset(lt,ot,2*Et*roundCorner);return et.setXYAt(At[0],At[1],"o",et.length()-1),At=polarOffset(dt,mt,2*Et*roundCorner),et.setTripleAt(dt[0],dt[1],dt[0],dt[1],At[0],At[1],et.length()),dt}var Tt=pointEqual(lt,tt.points[2])?tt.points[0]:tt.points[2],Ft=pointEqual(dt,rt.points[1])?rt.points[3]:rt.points[1],Mt=lineIntersection(Tt,lt,dt,Ft);return Mt&&pointDistance(Mt,lt)<at?(et.setTripleAt(Mt[0],Mt[1],Mt[0],Mt[1],Mt[0],Mt[1],et.length()),Mt):lt}function getIntersection(et,tt){var rt=et.intersections(tt);return rt.length&&floatEqual(rt[0][0],1)&&rt.shift(),rt.length?rt[0]:null}function pruneSegmentIntersection(et,tt){var rt=et.slice(),nt=tt.slice(),at=getIntersection(et[et.length-1],tt[0]);return at&&(rt[et.length-1]=et[et.length-1].split(at[0])[0],nt[0]=tt[0].split(at[1])[1]),et.length>1&&tt.length>1&&(at=getIntersection(et[0],tt[tt.length-1]),at)?[[et[0].split(at[0])[0]],[tt[tt.length-1].split(at[1])[1]]]:[rt,nt]}function pruneIntersections(et){for(var tt,rt=1;rt<et.length;rt+=1)tt=pruneSegmentIntersection(et[rt-1],et[rt]),et[rt-1]=tt[0],et[rt]=tt[1];return et.length>1&&(tt=pruneSegmentIntersection(et[et.length-1],et[0]),et[et.length-1]=tt[0],et[0]=tt[1]),et}function offsetSegmentSplit(et,tt){var rt=et.inflectionPoints(),nt,at,lt,dt;if(rt.length===0)return[offsetSegment(et,tt)];if(rt.length===1||floatEqual(rt[1],1))return lt=et.split(rt[0]),nt=lt[0],at=lt[1],[offsetSegment(nt,tt),offsetSegment(at,tt)];lt=et.split(rt[0]),nt=lt[0];var ot=(rt[1]-rt[0])/(1-rt[0]);return lt=lt[1].split(ot),dt=lt[0],at=lt[1],[offsetSegment(nt,tt),offsetSegment(dt,tt),offsetSegment(at,tt)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(et,tt){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(et,tt.a,0,null,this),this.miterLimit=PropertyFactory.getProp(et,tt.ml,0,null,this),this.lineJoin=tt.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(et,tt,rt,nt){var at=shapePool.newElement();at.c=et.c;var lt=et.length();et.c||(lt-=1);var dt,ot,mt,xt=[];for(dt=0;dt<lt;dt+=1)mt=PolynomialBezier.shapeSegment(et,dt),xt.push(offsetSegmentSplit(mt,tt));if(!et.c)for(dt=lt-1;dt>=0;dt-=1)mt=PolynomialBezier.shapeSegmentInverted(et,dt),xt.push(offsetSegmentSplit(mt,tt));xt=pruneIntersections(xt);var Et=null,At=null;for(dt=0;dt<xt.length;dt+=1){var Tt=xt[dt];for(At&&(Et=joinLines(at,At,Tt[0],rt,nt)),At=Tt[Tt.length-1],ot=0;ot<Tt.length;ot+=1)mt=Tt[ot],Et&&pointEqual(mt.points[0],Et)?at.setXYAt(mt.points[1][0],mt.points[1][1],"o",at.length()-1):at.setTripleAt(mt.points[0][0],mt.points[0][1],mt.points[1][0],mt.points[1][1],mt.points[0][0],mt.points[0][1],at.length()),at.setTripleAt(mt.points[3][0],mt.points[3][1],mt.points[3][0],mt.points[3][1],mt.points[2][0],mt.points[2][1],at.length()),Et=mt.points[3]}return xt.length&&joinLines(at,At,xt[0][0],rt,nt),at},OffsetPathModifier.prototype.processShapes=function(et){var tt,rt,nt=this.shapes.length,at,lt,dt=this.amount.v,ot=this.miterLimit.v,mt=this.lineJoin;if(dt!==0){var xt,Et;for(rt=0;rt<nt;rt+=1){if(xt=this.shapes[rt],Et=xt.localShapeCollection,!(!xt.shape._mdf&&!this._mdf&&!et))for(Et.releaseShapes(),xt.shape._mdf=!0,tt=xt.shape.paths.shapes,lt=xt.shape.paths._length,at=0;at<lt;at+=1)Et.addShape(this.processPath(tt[at],dt,mt,ot));xt.shape.paths=xt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(et){for(var tt=et.fStyle?et.fStyle.split(" "):[],rt="normal",nt="normal",at=tt.length,lt,dt=0;dt<at;dt+=1)switch(lt=tt[dt].toLowerCase(),lt){case"italic":nt="italic";break;case"bold":rt="700";break;case"black":rt="900";break;case"medium":rt="500";break;case"regular":case"normal":rt="400";break;case"light":case"thin":rt="200";break}return{style:nt,weight:et.fWeight||rt}}var FontManager=function(){var et=5e3,tt={w:0,size:0,shapes:[],data:{shapes:[]}},rt=[];rt=rt.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var nt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],at=[65039,8205];function lt(Ot){var Vt=Ot.split(","),Ut,Wt=Vt.length,nr=[];for(Ut=0;Ut<Wt;Ut+=1)Vt[Ut]!=="sans-serif"&&Vt[Ut]!=="monospace"&&nr.push(Vt[Ut]);return nr.join(",")}function dt(Ot,Vt){var Ut=createTag("span");Ut.setAttribute("aria-hidden",!0),Ut.style.fontFamily=Vt;var Wt=createTag("span");Wt.innerText="giItT1WQy@!-/#",Ut.style.position="absolute",Ut.style.left="-10000px",Ut.style.top="-10000px",Ut.style.fontSize="300px",Ut.style.fontVariant="normal",Ut.style.fontStyle="normal",Ut.style.fontWeight="normal",Ut.style.letterSpacing="0",Ut.appendChild(Wt),document.body.appendChild(Ut);var nr=Wt.offsetWidth;return Wt.style.fontFamily=lt(Ot)+", "+Vt,{node:Wt,w:nr,parent:Ut}}function ot(){var Ot,Vt=this.fonts.length,Ut,Wt,nr=Vt;for(Ot=0;Ot<Vt;Ot+=1)this.fonts[Ot].loaded?nr-=1:this.fonts[Ot].fOrigin==="n"||this.fonts[Ot].origin===0?this.fonts[Ot].loaded=!0:(Ut=this.fonts[Ot].monoCase.node,Wt=this.fonts[Ot].monoCase.w,Ut.offsetWidth!==Wt?(nr-=1,this.fonts[Ot].loaded=!0):(Ut=this.fonts[Ot].sansCase.node,Wt=this.fonts[Ot].sansCase.w,Ut.offsetWidth!==Wt&&(nr-=1,this.fonts[Ot].loaded=!0)),this.fonts[Ot].loaded&&(this.fonts[Ot].sansCase.parent.parentNode.removeChild(this.fonts[Ot].sansCase.parent),this.fonts[Ot].monoCase.parent.parentNode.removeChild(this.fonts[Ot].monoCase.parent)));nr!==0&&Date.now()-this.initTime<et?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function mt(Ot,Vt){var Ut=document.body&&Vt?"svg":"canvas",Wt,nr=getFontProperties(Ot);if(Ut==="svg"){var er=createNS("text");er.style.fontSize="100px",er.setAttribute("font-family",Ot.fFamily),er.setAttribute("font-style",nr.style),er.setAttribute("font-weight",nr.weight),er.textContent="1",Ot.fClass?(er.style.fontFamily="inherit",er.setAttribute("class",Ot.fClass)):er.style.fontFamily=Ot.fFamily,Vt.appendChild(er),Wt=er}else{var Kt=new OffscreenCanvas(500,500).getContext("2d");Kt.font=nr.style+" "+nr.weight+" 100px "+Ot.fFamily,Wt=Kt}function ur(vr){return Ut==="svg"?(Wt.textContent=vr,Wt.getComputedTextLength()):Wt.measureText(vr).width}return{measureText:ur}}function xt(Ot,Vt){if(!Ot){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Ot.list;return}if(!document.body){this.isLoaded=!0,Ot.list.forEach(function(hr){hr.helper=mt(hr),hr.cache={}}),this.fonts=Ot.list;return}var Ut=Ot.list,Wt,nr=Ut.length,er=nr;for(Wt=0;Wt<nr;Wt+=1){var Kt=!0,ur,vr;if(Ut[Wt].loaded=!1,Ut[Wt].monoCase=dt(Ut[Wt].fFamily,"monospace"),Ut[Wt].sansCase=dt(Ut[Wt].fFamily,"sans-serif"),!Ut[Wt].fPath)Ut[Wt].loaded=!0,er-=1;else if(Ut[Wt].fOrigin==="p"||Ut[Wt].origin===3){if(ur=document.querySelectorAll('style[f-forigin="p"][f-family="'+Ut[Wt].fFamily+'"], style[f-origin="3"][f-family="'+Ut[Wt].fFamily+'"]'),ur.length>0&&(Kt=!1),Kt){var Lr=createTag("style");Lr.setAttribute("f-forigin",Ut[Wt].fOrigin),Lr.setAttribute("f-origin",Ut[Wt].origin),Lr.setAttribute("f-family",Ut[Wt].fFamily),Lr.type="text/css",Lr.innerText="@font-face {font-family: "+Ut[Wt].fFamily+"; font-style: normal; src: url('"+Ut[Wt].fPath+"');}",Vt.appendChild(Lr)}}else if(Ut[Wt].fOrigin==="g"||Ut[Wt].origin===1){for(ur=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),vr=0;vr<ur.length;vr+=1)ur[vr].href.indexOf(Ut[Wt].fPath)!==-1&&(Kt=!1);if(Kt){var Er=createTag("link");Er.setAttribute("f-forigin",Ut[Wt].fOrigin),Er.setAttribute("f-origin",Ut[Wt].origin),Er.type="text/css",Er.rel="stylesheet",Er.href=Ut[Wt].fPath,document.body.appendChild(Er)}}else if(Ut[Wt].fOrigin==="t"||Ut[Wt].origin===2){for(ur=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),vr=0;vr<ur.length;vr+=1)Ut[Wt].fPath===ur[vr].src&&(Kt=!1);if(Kt){var Cr=createTag("link");Cr.setAttribute("f-forigin",Ut[Wt].fOrigin),Cr.setAttribute("f-origin",Ut[Wt].origin),Cr.setAttribute("rel","stylesheet"),Cr.setAttribute("href",Ut[Wt].fPath),Vt.appendChild(Cr)}}Ut[Wt].helper=mt(Ut[Wt],Vt),Ut[Wt].cache={},this.fonts.push(Ut[Wt])}er===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Et(Ot){if(Ot){this.chars||(this.chars=[]);var Vt,Ut=Ot.length,Wt,nr=this.chars.length,er;for(Vt=0;Vt<Ut;Vt+=1){for(Wt=0,er=!1;Wt<nr;)this.chars[Wt].style===Ot[Vt].style&&this.chars[Wt].fFamily===Ot[Vt].fFamily&&this.chars[Wt].ch===Ot[Vt].ch&&(er=!0),Wt+=1;er||(this.chars.push(Ot[Vt]),nr+=1)}}}function At(Ot,Vt,Ut){for(var Wt=0,nr=this.chars.length;Wt<nr;){if(this.chars[Wt].ch===Ot&&this.chars[Wt].style===Vt&&this.chars[Wt].fFamily===Ut)return this.chars[Wt];Wt+=1}return(typeof Ot=="string"&&Ot.charCodeAt(0)!==13||!Ot)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Ot,Vt,Ut)),tt}function Tt(Ot,Vt,Ut){var Wt=this.getFontByName(Vt),nr=Ot.charCodeAt(0);if(!Wt.cache[nr+1]){var er=Wt.helper;if(Ot===" "){var Kt=er.measureText("|"+Ot+"|"),ur=er.measureText("||");Wt.cache[nr+1]=(Kt-ur)/100}else Wt.cache[nr+1]=er.measureText(Ot)/100}return Wt.cache[nr+1]*Ut}function Ft(Ot){for(var Vt=0,Ut=this.fonts.length;Vt<Ut;){if(this.fonts[Vt].fName===Ot)return this.fonts[Vt];Vt+=1}return this.fonts[0]}function Mt(Ot,Vt){var Ut=Ot.toString(16)+Vt.toString(16);return nt.indexOf(Ut)!==-1}function Lt(Ot,Vt){return Vt?Ot===at[0]&&Vt===at[1]:Ot===at[1]}function Gt(Ot){return rt.indexOf(Ot)!==-1}function Pt(){this.isLoaded=!0}var $t=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};$t.isModifier=Mt,$t.isZeroWidthJoiner=Lt,$t.isCombinedCharacter=Gt;var It={addChars:Et,addFonts:xt,getCharData:At,getFontByName:Ft,measureText:Tt,checkLoadedFonts:ot,setIsLoaded:Pt};return $t.prototype=It,$t}();function SlotManager(et){this.animationData=et}SlotManager.prototype.getProp=function(et){return this.animationData.slots&&this.animationData.slots[et.sid]?Object.assign(et,this.animationData.slots[et.sid].p):et};function slotFactory(et){return new SlotManager(et)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(tt){this.renderableComponents.indexOf(tt)===-1&&this.renderableComponents.push(tt)},removeRenderableComponent:function(tt){this.renderableComponents.indexOf(tt)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(tt),1)},prepareRenderableFrame:function(tt){this.checkLayerLimits(tt)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(tt){this.data.ip-this.data.st<=tt&&this.data.op-this.data.st>tt?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var tt,rt=this.renderableComponents.length;for(tt=0;tt<rt;tt+=1)this.renderableComponents[tt].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var et={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(tt){return et[tt]||""}}();function SliderEffect(et,tt,rt){this.p=PropertyFactory.getProp(tt,et.v,0,0,rt)}function AngleEffect(et,tt,rt){this.p=PropertyFactory.getProp(tt,et.v,0,0,rt)}function ColorEffect(et,tt,rt){this.p=PropertyFactory.getProp(tt,et.v,1,0,rt)}function PointEffect(et,tt,rt){this.p=PropertyFactory.getProp(tt,et.v,1,0,rt)}function LayerIndexEffect(et,tt,rt){this.p=PropertyFactory.getProp(tt,et.v,0,0,rt)}function MaskIndexEffect(et,tt,rt){this.p=PropertyFactory.getProp(tt,et.v,0,0,rt)}function CheckboxEffect(et,tt,rt){this.p=PropertyFactory.getProp(tt,et.v,0,0,rt)}function NoValueEffect(){this.p={}}function EffectsManager(et,tt){var rt=et.ef||[];this.effectElements=[];var nt,at=rt.length,lt;for(nt=0;nt<at;nt+=1)lt=new GroupEffect(rt[nt],tt),this.effectElements.push(lt)}function GroupEffect(et,tt){this.init(et,tt)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(et,tt){this.data=et,this.effectElements=[],this.initDynamicPropertyContainer(tt);var rt,nt=this.data.ef.length,at,lt=this.data.ef;for(rt=0;rt<nt;rt+=1){switch(at=null,lt[rt].ty){case 0:at=new SliderEffect(lt[rt],tt,this);break;case 1:at=new AngleEffect(lt[rt],tt,this);break;case 2:at=new ColorEffect(lt[rt],tt,this);break;case 3:at=new PointEffect(lt[rt],tt,this);break;case 4:case 7:at=new CheckboxEffect(lt[rt],tt,this);break;case 10:at=new LayerIndexEffect(lt[rt],tt,this);break;case 11:at=new MaskIndexEffect(lt[rt],tt,this);break;case 5:at=new EffectsManager(lt[rt],tt);break;default:at=new NoValueEffect(lt[rt]);break}at&&this.effectElements.push(at)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var tt=0,rt=this.data.masksProperties.length;tt<rt;){if(this.data.masksProperties[tt].mode!=="n"&&this.data.masksProperties[tt].cl!==!1)return!0;tt+=1}return!1},initExpressions:function(){var tt=getExpressionInterfaces();if(tt){var rt=tt("layer"),nt=tt("effects"),at=tt("shape"),lt=tt("text"),dt=tt("comp");this.layerInterface=rt(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ot=nt.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ot),this.data.ty===0||this.data.xt?this.compInterface=dt(this):this.data.ty===4?(this.layerInterface.shapeInterface=at(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=lt(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var tt=getBlendMode(this.data.bm),rt=this.baseElement||this.layerElement;rt.style["mix-blend-mode"]=tt},initBaseData:function(tt,rt,nt){this.globalData=rt,this.comp=nt,this.data=tt,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(tt,rt){var nt,at=this.dynamicProperties.length;for(nt=0;nt<at;nt+=1)(rt||this._isParent&&this.dynamicProperties[nt].propType==="transform")&&(this.dynamicProperties[nt].getValue(),this.dynamicProperties[nt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(tt){this.dynamicProperties.indexOf(tt)===-1&&this.dynamicProperties.push(tt)}};function FootageElement(et,tt,rt){this.initFrame(),this.initRenderable(),this.assetData=tt.getAssetData(et.refId),this.footageData=tt.imageLoader.getAsset(this.assetData),this.initBaseData(et,tt,rt)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var et=getExpressionInterfaces();if(et){var tt=et("footage");this.layerInterface=tt(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(et,tt,rt){this.initFrame(),this.initRenderable(),this.assetData=tt.getAssetData(et.refId),this.initBaseData(et,tt,rt),this._isPlaying=!1,this._canPlay=!1;var nt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(nt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,tt.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,et.au&&et.au.lv?et.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(et){if(this.prepareRenderableFrame(et,!0),this.prepareProperties(et,!0),this.tm._placeholder)this._currentTime=et/this.data.sr;else{var tt=this.tm.v;this._currentTime=tt}this._volume=this.lv.v[0];var rt=this._volume*this._volumeMultiplier;this._previousVolume!==rt&&(this._previousVolume=rt,this.audio.volume(rt))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(et){this.audio.rate(et)},AudioElement.prototype.volume=function(et){this._volumeMultiplier=et,this._previousVolume=et*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(et){var tt,rt=this.layers.length,nt;for(this.completeLayers=!0,tt=rt-1;tt>=0;tt-=1)this.elements[tt]||(nt=this.layers[tt],nt.ip-nt.st<=et-this.layers[tt].st&&nt.op-nt.st>et-this.layers[tt].st&&this.buildItem(tt)),this.completeLayers=this.elements[tt]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(et){switch(et.ty){case 2:return this.createImage(et);case 0:return this.createComp(et);case 1:return this.createSolid(et);case 3:return this.createNull(et);case 4:return this.createShape(et);case 5:return this.createText(et);case 6:return this.createAudio(et);case 13:return this.createCamera(et);case 15:return this.createFootage(et);default:return this.createNull(et)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(et){return new AudioElement(et,this.globalData,this)},BaseRenderer.prototype.createFootage=function(et){return new FootageElement(et,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var et,tt=this.layers.length;for(et=0;et<tt;et+=1)this.buildItem(et);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(et){this.completeLayers=!1;var tt,rt=et.length,nt,at=this.layers.length;for(tt=0;tt<rt;tt+=1)for(nt=0;nt<at;){if(this.layers[nt].id===et[tt].id){this.layers[nt]=et[tt];break}nt+=1}},BaseRenderer.prototype.setProjectInterface=function(et){this.globalData.projectInterface=et},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(et,tt,rt){for(var nt=this.elements,at=this.layers,lt=0,dt=at.length;lt<dt;)at[lt].ind==tt&&(!nt[lt]||nt[lt]===!0?(this.buildItem(lt),this.addPendingElement(et)):(rt.push(nt[lt]),nt[lt].setAsParent(),at[lt].parent!==void 0?this.buildElementParenting(et,at[lt].parent,rt):et.setHierarchy(rt))),lt+=1},BaseRenderer.prototype.addPendingElement=function(et){this.pendingElements.push(et)},BaseRenderer.prototype.searchExtraCompositions=function(et){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)if(et[tt].xt){var nt=this.createComp(et[tt]);nt.initExpressions(),this.globalData.projectInterface.registerComposition(nt)}},BaseRenderer.prototype.getElementById=function(et){var tt,rt=this.elements.length;for(tt=0;tt<rt;tt+=1)if(this.elements[tt].data.ind===et)return this.elements[tt];return null},BaseRenderer.prototype.getElementByPath=function(et){var tt=et.shift(),rt;if(typeof tt=="number")rt=this.elements[tt];else{var nt,at=this.elements.length;for(nt=0;nt<at;nt+=1)if(this.elements[nt].data.nm===tt){rt=this.elements[nt];break}}return et.length===0?rt:rt.getElementByPath(et)},BaseRenderer.prototype.setupGlobalData=function(et,tt){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(et),this.globalData.fontManager.addChars(et.chars),this.globalData.fontManager.addFonts(et.fonts,tt),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=et.fr,this.globalData.nm=et.nm,this.globalData.compSize={w:et.w,h:et.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var tt=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:tt,localMat:tt,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var tt,rt=this.finalTransform.mat,nt=0,at=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;nt<at;){if(this.hierarchy[nt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}nt+=1}if(this.finalTransform._matMdf)for(tt=this.finalTransform.mProp.v.props,rt.cloneFromProps(tt),nt=0;nt<at;nt+=1)rt.multiply(this.hierarchy[nt].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var tt=0,rt=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;tt<rt;)this.localTransforms[tt]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[tt]._opMdf&&(this.finalTransform._opMdf=!0),tt+=1;if(this.finalTransform._localMatMdf){var nt=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(nt),tt=1;tt<rt;tt+=1){var at=this.localTransforms[tt].matrix;nt.multiply(at)}nt.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var lt=this.finalTransform.localOpacity;for(tt=0;tt<rt;tt+=1)lt*=this.localTransforms[tt].opacity*.01;this.finalTransform.localOpacity=lt}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var tt=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(tt.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var rt=0,nt=tt.length;for(rt=0;rt<nt;rt+=1)this.localTransforms.push(tt[rt])}}},globalToLocal:function(tt){var rt=[];rt.push(this.finalTransform);for(var nt=!0,at=this.comp;nt;)at.finalTransform?(at.data.hasMask&&rt.splice(0,0,at.finalTransform),at=at.comp):nt=!1;var lt,dt=rt.length,ot;for(lt=0;lt<dt;lt+=1)ot=rt[lt].mat.applyToPointArray(0,0,0),tt=[tt[0]-ot[0],tt[1]-ot[1],0];return tt},mHelper:new Matrix};function MaskElement(et,tt,rt){this.data=et,this.element=tt,this.globalData=rt,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var nt=this.globalData.defs,at,lt=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(lt),this.solidPath="";var dt,ot=this.masksProperties,mt=0,xt=[],Et,At,Tt=createElementID(),Ft,Mt,Lt,Gt,Pt="clipPath",$t="clip-path";for(at=0;at<lt;at+=1)if((ot[at].mode!=="a"&&ot[at].mode!=="n"||ot[at].inv||ot[at].o.k!==100||ot[at].o.x)&&(Pt="mask",$t="mask"),(ot[at].mode==="s"||ot[at].mode==="i")&&mt===0?(Ft=createNS("rect"),Ft.setAttribute("fill","#ffffff"),Ft.setAttribute("width",this.element.comp.data.w||0),Ft.setAttribute("height",this.element.comp.data.h||0),xt.push(Ft)):Ft=null,dt=createNS("path"),ot[at].mode==="n")this.viewData[at]={op:PropertyFactory.getProp(this.element,ot[at].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ot[at],3),elem:dt,lastPath:""},nt.appendChild(dt);else{mt+=1,dt.setAttribute("fill",ot[at].mode==="s"?"#000000":"#ffffff"),dt.setAttribute("clip-rule","nonzero");var It;if(ot[at].x.k!==0?(Pt="mask",$t="mask",Gt=PropertyFactory.getProp(this.element,ot[at].x,0,null,this.element),It=createElementID(),Mt=createNS("filter"),Mt.setAttribute("id",It),Lt=createNS("feMorphology"),Lt.setAttribute("operator","erode"),Lt.setAttribute("in","SourceGraphic"),Lt.setAttribute("radius","0"),Mt.appendChild(Lt),nt.appendChild(Mt),dt.setAttribute("stroke",ot[at].mode==="s"?"#000000":"#ffffff")):(Lt=null,Gt=null),this.storedData[at]={elem:dt,x:Gt,expan:Lt,lastPath:"",lastOperator:"",filterId:It,lastRadius:0},ot[at].mode==="i"){At=xt.length;var Ot=createNS("g");for(Et=0;Et<At;Et+=1)Ot.appendChild(xt[Et]);var Vt=createNS("mask");Vt.setAttribute("mask-type","alpha"),Vt.setAttribute("id",Tt+"_"+mt),Vt.appendChild(dt),nt.appendChild(Vt),Ot.setAttribute("mask","url("+getLocationHref()+"#"+Tt+"_"+mt+")"),xt.length=0,xt.push(Ot)}else xt.push(dt);ot[at].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[at]={elem:dt,lastPath:"",op:PropertyFactory.getProp(this.element,ot[at].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ot[at],3),invRect:Ft},this.viewData[at].prop.k||this.drawPath(ot[at],this.viewData[at].prop.v,this.viewData[at])}for(this.maskElement=createNS(Pt),lt=xt.length,at=0;at<lt;at+=1)this.maskElement.appendChild(xt[at]);mt>0&&(this.maskElement.setAttribute("id",Tt),this.element.maskedElement.setAttribute($t,"url("+getLocationHref()+"#"+Tt+")"),nt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(et){return this.viewData[et].prop},MaskElement.prototype.renderFrame=function(et){var tt=this.element.finalTransform.mat,rt,nt=this.masksProperties.length;for(rt=0;rt<nt;rt+=1)if((this.viewData[rt].prop._mdf||et)&&this.drawPath(this.masksProperties[rt],this.viewData[rt].prop.v,this.viewData[rt]),(this.viewData[rt].op._mdf||et)&&this.viewData[rt].elem.setAttribute("fill-opacity",this.viewData[rt].op.v),this.masksProperties[rt].mode!=="n"&&(this.viewData[rt].invRect&&(this.element.finalTransform.mProp._mdf||et)&&this.viewData[rt].invRect.setAttribute("transform",tt.getInverseMatrix().to2dCSS()),this.storedData[rt].x&&(this.storedData[rt].x._mdf||et))){var at=this.storedData[rt].expan;this.storedData[rt].x.v<0?(this.storedData[rt].lastOperator!=="erode"&&(this.storedData[rt].lastOperator="erode",this.storedData[rt].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[rt].filterId+")")),at.setAttribute("radius",-this.storedData[rt].x.v)):(this.storedData[rt].lastOperator!=="dilate"&&(this.storedData[rt].lastOperator="dilate",this.storedData[rt].elem.setAttribute("filter",null)),this.storedData[rt].elem.setAttribute("stroke-width",this.storedData[rt].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var et="M0,0 ";return et+=" h"+this.globalData.compSize.w,et+=" v"+this.globalData.compSize.h,et+=" h-"+this.globalData.compSize.w,et+=" v-"+this.globalData.compSize.h+" ",et},MaskElement.prototype.drawPath=function(et,tt,rt){var nt=" M"+tt.v[0][0]+","+tt.v[0][1],at,lt;for(lt=tt._length,at=1;at<lt;at+=1)nt+=" C"+tt.o[at-1][0]+","+tt.o[at-1][1]+" "+tt.i[at][0]+","+tt.i[at][1]+" "+tt.v[at][0]+","+tt.v[at][1];if(tt.c&&lt>1&&(nt+=" C"+tt.o[at-1][0]+","+tt.o[at-1][1]+" "+tt.i[0][0]+","+tt.i[0][1]+" "+tt.v[0][0]+","+tt.v[0][1]),rt.lastPath!==nt){var dt="";rt.elem&&(tt.c&&(dt=et.inv?this.solidPath+nt:nt),rt.elem.setAttribute("d",dt)),rt.lastPath=nt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var et={};et.createFilter=tt,et.createAlphaToLuminanceFilter=rt;function tt(nt,at){var lt=createNS("filter");return lt.setAttribute("id",nt),at!==!0&&(lt.setAttribute("filterUnits","objectBoundingBox"),lt.setAttribute("x","0%"),lt.setAttribute("y","0%"),lt.setAttribute("width","100%"),lt.setAttribute("height","100%")),lt}function rt(){var nt=createNS("feColorMatrix");return nt.setAttribute("type","matrix"),nt.setAttribute("color-interpolation-filters","sRGB"),nt.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),nt}return et}(),featureSupport=function(){var et={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(et.maskType=!1),/firefox/i.test(navigator.userAgent)&&(et.svgLumaHidden=!1),et}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(et){var tt,rt="SourceGraphic",nt=et.data.ef?et.data.ef.length:0,at=createElementID(),lt=filtersFactory.createFilter(at,!0),dt=0;this.filters=[];var ot;for(tt=0;tt<nt;tt+=1){ot=null;var mt=et.data.ef[tt].ty;if(registeredEffects$1[mt]){var xt=registeredEffects$1[mt].effect;ot=new xt(lt,et.effectsManager.effectElements[tt],et,idPrefix+dt,rt),rt=idPrefix+dt,registeredEffects$1[mt].countsAsEffect&&(dt+=1)}ot&&this.filters.push(ot)}dt&&(et.globalData.defs.appendChild(lt),et.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+at+")")),this.filters.length&&et.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(et){var tt,rt=this.filters.length;for(tt=0;tt<rt;tt+=1)this.filters[tt].renderFrame(et)},SVGEffects.prototype.getEffects=function(et){var tt,rt=this.filters.length,nt=[];for(tt=0;tt<rt;tt+=1)this.filters[tt].type===et&&nt.push(this.filters[tt]);return nt};function registerEffect$1(et,tt,rt){registeredEffects$1[et]={effect:tt,countsAsEffect:rt}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var tt=null;if(this.data.td){this.matteMasks={};var rt=createNS("g");rt.setAttribute("id",this.layerId),rt.appendChild(this.layerElement),tt=rt,this.globalData.defs.appendChild(rt)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),tt=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var nt=createNS("clipPath"),at=createNS("path");at.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var lt=createElementID();if(nt.setAttribute("id",lt),nt.appendChild(at),this.globalData.defs.appendChild(nt),this.checkMasks()){var dt=createNS("g");dt.setAttribute("clip-path","url("+getLocationHref()+"#"+lt+")"),dt.appendChild(this.layerElement),this.transformedElement=dt,tt?tt.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+lt+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(tt){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[tt]){var rt=this.layerId+"_"+tt,nt,at,lt,dt;if(tt===1||tt===3){var ot=createNS("mask");ot.setAttribute("id",rt),ot.setAttribute("mask-type",tt===3?"luminance":"alpha"),lt=createNS("use"),lt.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ot.appendChild(lt),this.globalData.defs.appendChild(ot),!featureSupport.maskType&&tt===1&&(ot.setAttribute("mask-type","luminance"),nt=createElementID(),at=filtersFactory.createFilter(nt),this.globalData.defs.appendChild(at),at.appendChild(filtersFactory.createAlphaToLuminanceFilter()),dt=createNS("g"),dt.appendChild(lt),ot.appendChild(dt),dt.setAttribute("filter","url("+getLocationHref()+"#"+nt+")"))}else if(tt===2){var mt=createNS("mask");mt.setAttribute("id",rt),mt.setAttribute("mask-type","alpha");var xt=createNS("g");mt.appendChild(xt),nt=createElementID(),at=filtersFactory.createFilter(nt);var Et=createNS("feComponentTransfer");Et.setAttribute("in","SourceGraphic"),at.appendChild(Et);var At=createNS("feFuncA");At.setAttribute("type","table"),At.setAttribute("tableValues","1.0 0.0"),Et.appendChild(At),this.globalData.defs.appendChild(at);var Tt=createNS("rect");Tt.setAttribute("width",this.comp.data.w),Tt.setAttribute("height",this.comp.data.h),Tt.setAttribute("x","0"),Tt.setAttribute("y","0"),Tt.setAttribute("fill","#ffffff"),Tt.setAttribute("opacity","0"),xt.setAttribute("filter","url("+getLocationHref()+"#"+nt+")"),xt.appendChild(Tt),lt=createNS("use"),lt.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),xt.appendChild(lt),featureSupport.maskType||(mt.setAttribute("mask-type","luminance"),at.appendChild(filtersFactory.createAlphaToLuminanceFilter()),dt=createNS("g"),xt.appendChild(Tt),dt.appendChild(this.layerElement),xt.appendChild(dt)),this.globalData.defs.appendChild(mt)}this.matteMasks[tt]=rt}return this.matteMasks[tt]},setMatte:function(tt){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+tt+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(tt){this.hierarchy=tt},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var et={initElement:function(rt,nt,at){this.initFrame(),this.initBaseData(rt,nt,at),this.initTransform(rt,nt,at),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var rt=this.baseElement||this.layerElement;rt.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var rt=this.baseElement||this.layerElement;rt.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(rt){this._mdf=!1,this.prepareRenderableFrame(rt),this.prepareProperties(rt,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(et)],RenderableDOMElement)})();function IImageElement(et,tt,rt){this.assetData=tt.getAssetData(et.refId),this.assetData&&this.assetData.sid&&(this.assetData=tt.slotManager.getProp(this.assetData)),this.initElement(et,tt,rt),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var et=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",et),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(et,tt){this.elem=et,this.pos=tt}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(tt){var rt,nt=this.shapeModifiers.length;for(rt=0;rt<nt;rt+=1)this.shapeModifiers[rt].addShape(tt)},isShapeInAnimatedModifiers:function(tt){for(var rt=0,nt=this.shapeModifiers.length;rt<nt;)if(this.shapeModifiers[rt].isAnimatedWithShape(tt))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var tt,rt=this.shapes.length;for(tt=0;tt<rt;tt+=1)this.shapes[tt].sh.reset();rt=this.shapeModifiers.length;var nt;for(tt=rt-1;tt>=0&&(nt=this.shapeModifiers[tt].processShapes(this._isFirstFrame),!nt);tt-=1);}},searchProcessedElement:function(tt){for(var rt=this.processedElements,nt=0,at=rt.length;nt<at;){if(rt[nt].elem===tt)return rt[nt].pos;nt+=1}return 0},addProcessedElement:function(tt,rt){for(var nt=this.processedElements,at=nt.length;at;)if(at-=1,nt[at].elem===tt){nt[at].pos=rt;return}nt.push(new ProcessedElement(tt,rt))},prepareFrame:function(tt){this.prepareRenderableFrame(tt),this.prepareProperties(tt,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(et,tt,rt){this.caches=[],this.styles=[],this.transformers=et,this.lStr="",this.sh=rt,this.lvl=tt,this._isAnimated=!!rt.k;for(var nt=0,at=et.length;nt<at;){if(et[nt].mProps.dynamicProperties.length){this._isAnimated=!0;break}nt+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(et,tt){this.data=et,this.type=et.ty,this.d="",this.lvl=tt,this._mdf=!1,this.closed=et.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(et,tt,rt,nt){this.elem=et,this.frameId=-1,this.dataProps=createSizedArray(tt.length),this.renderer=rt,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",tt.length?tt.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(nt);var at,lt=tt.length||0,dt;for(at=0;at<lt;at+=1)dt=PropertyFactory.getProp(et,tt[at].v,0,0,this),this.k=dt.k||this.k,this.dataProps[at]={n:tt[at].n,p:dt};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(et){if(!(this.elem.globalData.frameId===this.frameId&&!et)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||et,this._mdf)){var tt=0,rt=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),tt=0;tt<rt;tt+=1)this.dataProps[tt].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[tt].p.v:this.dashArray[tt]=this.dataProps[tt].p.v:this.dashoffset[0]=this.dataProps[tt].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(et,tt,rt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(et,tt.o,0,.01,this),this.w=PropertyFactory.getProp(et,tt.w,0,null,this),this.d=new DashProperty(et,tt.d||{},"svg",this),this.c=PropertyFactory.getProp(et,tt.c,1,255,this),this.style=rt,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(et,tt,rt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(et,tt.o,0,.01,this),this.c=PropertyFactory.getProp(et,tt.c,1,255,this),this.style=rt}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(et,tt,rt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.style=rt}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(et,tt,rt){this.data=tt,this.c=createTypedArray("uint8c",tt.p*4);var nt=tt.k.k[0].s?tt.k.k[0].s.length-tt.p*4:tt.k.k.length-tt.p*4;this.o=createTypedArray("float32",nt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=nt,this.initDynamicPropertyContainer(rt),this.prop=PropertyFactory.getProp(et,tt.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(et,tt){for(var rt=0,nt=this.o.length/2,at;rt<nt;){if(at=Math.abs(et[rt*4]-et[tt*4+rt*2]),at>.01)return!1;rt+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var et=0,tt=this.data.k.k.length;et<tt;){if(!this.comparePoints(this.data.k.k[et].s,this.data.p))return!1;et+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(et){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||et){var tt,rt=this.data.p*4,nt,at;for(tt=0;tt<rt;tt+=1)nt=tt%4===0?100:255,at=Math.round(this.prop.v[tt]*nt),this.c[tt]!==at&&(this.c[tt]=at,this._cmdf=!et);if(this.o.length)for(rt=this.prop.v.length,tt=this.data.p*4;tt<rt;tt+=1)nt=tt%2===0?100:1,at=tt%2===0?Math.round(this.prop.v[tt]*100):this.prop.v[tt],this.o[tt-this.data.p*4]!==at&&(this.o[tt-this.data.p*4]=at,this._omdf=!et);this._mdf=!et}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(et,tt,rt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.initGradientData(et,tt,rt)}SVGGradientFillStyleData.prototype.initGradientData=function(et,tt,rt){this.o=PropertyFactory.getProp(et,tt.o,0,.01,this),this.s=PropertyFactory.getProp(et,tt.s,1,null,this),this.e=PropertyFactory.getProp(et,tt.e,1,null,this),this.h=PropertyFactory.getProp(et,tt.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(et,tt.a||{k:0},0,degToRads,this),this.g=new GradientProperty(et,tt.g,this),this.style=rt,this.stops=[],this.setGradientData(rt.pElem,tt),this.setGradientOpacity(tt,rt),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(et,tt){var rt=createElementID(),nt=createNS(tt.t===1?"linearGradient":"radialGradient");nt.setAttribute("id",rt),nt.setAttribute("spreadMethod","pad"),nt.setAttribute("gradientUnits","userSpaceOnUse");var at=[],lt,dt,ot;for(ot=tt.g.p*4,dt=0;dt<ot;dt+=4)lt=createNS("stop"),nt.appendChild(lt),at.push(lt);et.setAttribute(tt.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+rt+")"),this.gf=nt,this.cst=at},SVGGradientFillStyleData.prototype.setGradientOpacity=function(et,tt){if(this.g._hasOpacity&&!this.g._collapsable){var rt,nt,at,lt=createNS("mask"),dt=createNS("path");lt.appendChild(dt);var ot=createElementID(),mt=createElementID();lt.setAttribute("id",mt);var xt=createNS(et.t===1?"linearGradient":"radialGradient");xt.setAttribute("id",ot),xt.setAttribute("spreadMethod","pad"),xt.setAttribute("gradientUnits","userSpaceOnUse"),at=et.g.k.k[0].s?et.g.k.k[0].s.length:et.g.k.k.length;var Et=this.stops;for(nt=et.g.p*4;nt<at;nt+=2)rt=createNS("stop"),rt.setAttribute("stop-color","rgb(255,255,255)"),xt.appendChild(rt),Et.push(rt);dt.setAttribute(et.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ot+")"),et.ty==="gs"&&(dt.setAttribute("stroke-linecap",lineCapEnum[et.lc||2]),dt.setAttribute("stroke-linejoin",lineJoinEnum[et.lj||2]),et.lj===1&&dt.setAttribute("stroke-miterlimit",et.ml)),this.of=xt,this.ms=lt,this.ost=Et,this.maskId=mt,tt.msElem=dt}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(et,tt,rt){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(et,tt.w,0,null,this),this.d=new DashProperty(et,tt.d||{},"svg",this),this.initGradientData(et,tt,rt),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(et,tt,rt){this.transform={mProps:et,op:tt,container:rt},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(tt,rt,nt,at){if(rt===0)return"";var lt=tt.o,dt=tt.i,ot=tt.v,mt,xt=" M"+at.applyToPointStringified(ot[0][0],ot[0][1]);for(mt=1;mt<rt;mt+=1)xt+=" C"+at.applyToPointStringified(lt[mt-1][0],lt[mt-1][1])+" "+at.applyToPointStringified(dt[mt][0],dt[mt][1])+" "+at.applyToPointStringified(ot[mt][0],ot[mt][1]);return nt&&rt&&(xt+=" C"+at.applyToPointStringified(lt[mt-1][0],lt[mt-1][1])+" "+at.applyToPointStringified(dt[0][0],dt[0][1])+" "+at.applyToPointStringified(ot[0][0],ot[0][1]),xt+="z"),xt},SVGElementsRenderer=function(){var et=new Matrix,tt=new Matrix,rt={createRenderFunction:nt};function nt(At){switch(At.ty){case"fl":return ot;case"gf":return xt;case"gs":return mt;case"st":return Et;case"sh":case"el":case"rc":case"sr":return dt;case"tr":return at;case"no":return lt;default:return null}}function at(At,Tt,Ft){(Ft||Tt.transform.op._mdf)&&Tt.transform.container.setAttribute("opacity",Tt.transform.op.v),(Ft||Tt.transform.mProps._mdf)&&Tt.transform.container.setAttribute("transform",Tt.transform.mProps.v.to2dCSS())}function lt(){}function dt(At,Tt,Ft){var Mt,Lt,Gt,Pt,$t,It,Ot=Tt.styles.length,Vt=Tt.lvl,Ut,Wt,nr,er;for(It=0;It<Ot;It+=1){if(Pt=Tt.sh._mdf||Ft,Tt.styles[It].lvl<Vt){for(Wt=tt.reset(),nr=Vt-Tt.styles[It].lvl,er=Tt.transformers.length-1;!Pt&&nr>0;)Pt=Tt.transformers[er].mProps._mdf||Pt,nr-=1,er-=1;if(Pt)for(nr=Vt-Tt.styles[It].lvl,er=Tt.transformers.length-1;nr>0;)Wt.multiply(Tt.transformers[er].mProps.v),nr-=1,er-=1}else Wt=et;if(Ut=Tt.sh.paths,Lt=Ut._length,Pt){for(Gt="",Mt=0;Mt<Lt;Mt+=1)$t=Ut.shapes[Mt],$t&&$t._length&&(Gt+=buildShapeString($t,$t._length,$t.c,Wt));Tt.caches[It]=Gt}else Gt=Tt.caches[It];Tt.styles[It].d+=At.hd===!0?"":Gt,Tt.styles[It]._mdf=Pt||Tt.styles[It]._mdf}}function ot(At,Tt,Ft){var Mt=Tt.style;(Tt.c._mdf||Ft)&&Mt.pElem.setAttribute("fill","rgb("+bmFloor(Tt.c.v[0])+","+bmFloor(Tt.c.v[1])+","+bmFloor(Tt.c.v[2])+")"),(Tt.o._mdf||Ft)&&Mt.pElem.setAttribute("fill-opacity",Tt.o.v)}function mt(At,Tt,Ft){xt(At,Tt,Ft),Et(At,Tt,Ft)}function xt(At,Tt,Ft){var Mt=Tt.gf,Lt=Tt.g._hasOpacity,Gt=Tt.s.v,Pt=Tt.e.v;if(Tt.o._mdf||Ft){var $t=At.ty==="gf"?"fill-opacity":"stroke-opacity";Tt.style.pElem.setAttribute($t,Tt.o.v)}if(Tt.s._mdf||Ft){var It=At.t===1?"x1":"cx",Ot=It==="x1"?"y1":"cy";Mt.setAttribute(It,Gt[0]),Mt.setAttribute(Ot,Gt[1]),Lt&&!Tt.g._collapsable&&(Tt.of.setAttribute(It,Gt[0]),Tt.of.setAttribute(Ot,Gt[1]))}var Vt,Ut,Wt,nr;if(Tt.g._cmdf||Ft){Vt=Tt.cst;var er=Tt.g.c;for(Wt=Vt.length,Ut=0;Ut<Wt;Ut+=1)nr=Vt[Ut],nr.setAttribute("offset",er[Ut*4]+"%"),nr.setAttribute("stop-color","rgb("+er[Ut*4+1]+","+er[Ut*4+2]+","+er[Ut*4+3]+")")}if(Lt&&(Tt.g._omdf||Ft)){var Kt=Tt.g.o;for(Tt.g._collapsable?Vt=Tt.cst:Vt=Tt.ost,Wt=Vt.length,Ut=0;Ut<Wt;Ut+=1)nr=Vt[Ut],Tt.g._collapsable||nr.setAttribute("offset",Kt[Ut*2]+"%"),nr.setAttribute("stop-opacity",Kt[Ut*2+1])}if(At.t===1)(Tt.e._mdf||Ft)&&(Mt.setAttribute("x2",Pt[0]),Mt.setAttribute("y2",Pt[1]),Lt&&!Tt.g._collapsable&&(Tt.of.setAttribute("x2",Pt[0]),Tt.of.setAttribute("y2",Pt[1])));else{var ur;if((Tt.s._mdf||Tt.e._mdf||Ft)&&(ur=Math.sqrt(Math.pow(Gt[0]-Pt[0],2)+Math.pow(Gt[1]-Pt[1],2)),Mt.setAttribute("r",ur),Lt&&!Tt.g._collapsable&&Tt.of.setAttribute("r",ur)),Tt.e._mdf||Tt.h._mdf||Tt.a._mdf||Ft){ur||(ur=Math.sqrt(Math.pow(Gt[0]-Pt[0],2)+Math.pow(Gt[1]-Pt[1],2)));var vr=Math.atan2(Pt[1]-Gt[1],Pt[0]-Gt[0]),Lr=Tt.h.v;Lr>=1?Lr=.99:Lr<=-1&&(Lr=-.99);var Er=ur*Lr,Cr=Math.cos(vr+Tt.a.v)*Er+Gt[0],hr=Math.sin(vr+Tt.a.v)*Er+Gt[1];Mt.setAttribute("fx",Cr),Mt.setAttribute("fy",hr),Lt&&!Tt.g._collapsable&&(Tt.of.setAttribute("fx",Cr),Tt.of.setAttribute("fy",hr))}}}function Et(At,Tt,Ft){var Mt=Tt.style,Lt=Tt.d;Lt&&(Lt._mdf||Ft)&&Lt.dashStr&&(Mt.pElem.setAttribute("stroke-dasharray",Lt.dashStr),Mt.pElem.setAttribute("stroke-dashoffset",Lt.dashoffset[0])),Tt.c&&(Tt.c._mdf||Ft)&&Mt.pElem.setAttribute("stroke","rgb("+bmFloor(Tt.c.v[0])+","+bmFloor(Tt.c.v[1])+","+bmFloor(Tt.c.v[2])+")"),(Tt.o._mdf||Ft)&&Mt.pElem.setAttribute("stroke-opacity",Tt.o.v),(Tt.w._mdf||Ft)&&(Mt.pElem.setAttribute("stroke-width",Tt.w.v),Mt.msElem&&Mt.msElem.setAttribute("stroke-width",Tt.w.v))}return rt}();function SVGShapeElement(et,tt,rt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(et,tt,rt),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var et,tt=this.shapes.length,rt,nt,at=this.stylesList.length,lt,dt=[],ot=!1;for(nt=0;nt<at;nt+=1){for(lt=this.stylesList[nt],ot=!1,dt.length=0,et=0;et<tt;et+=1)rt=this.shapes[et],rt.styles.indexOf(lt)!==-1&&(dt.push(rt),ot=rt._isAnimated||ot);dt.length>1&&ot&&this.setShapesAsAnimated(dt)}},SVGShapeElement.prototype.setShapesAsAnimated=function(et){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)et[tt].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(et,tt){var rt,nt=new SVGStyleData(et,tt),at=nt.pElem;if(et.ty==="st")rt=new SVGStrokeStyleData(this,et,nt);else if(et.ty==="fl")rt=new SVGFillStyleData(this,et,nt);else if(et.ty==="gf"||et.ty==="gs"){var lt=et.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;rt=new lt(this,et,nt),this.globalData.defs.appendChild(rt.gf),rt.maskId&&(this.globalData.defs.appendChild(rt.ms),this.globalData.defs.appendChild(rt.of),at.setAttribute("mask","url("+getLocationHref()+"#"+rt.maskId+")"))}else et.ty==="no"&&(rt=new SVGNoStyleData(this,et,nt));return(et.ty==="st"||et.ty==="gs")&&(at.setAttribute("stroke-linecap",lineCapEnum[et.lc||2]),at.setAttribute("stroke-linejoin",lineJoinEnum[et.lj||2]),at.setAttribute("fill-opacity","0"),et.lj===1&&at.setAttribute("stroke-miterlimit",et.ml)),et.r===2&&at.setAttribute("fill-rule","evenodd"),et.ln&&at.setAttribute("id",et.ln),et.cl&&at.setAttribute("class",et.cl),et.bm&&(at.style["mix-blend-mode"]=getBlendMode(et.bm)),this.stylesList.push(nt),this.addToAnimatedContents(et,rt),rt},SVGShapeElement.prototype.createGroupElement=function(et){var tt=new ShapeGroupData;return et.ln&&tt.gr.setAttribute("id",et.ln),et.cl&&tt.gr.setAttribute("class",et.cl),et.bm&&(tt.gr.style["mix-blend-mode"]=getBlendMode(et.bm)),tt},SVGShapeElement.prototype.createTransformElement=function(et,tt){var rt=TransformPropertyFactory.getTransformProperty(this,et,this),nt=new SVGTransformData(rt,rt.o,tt);return this.addToAnimatedContents(et,nt),nt},SVGShapeElement.prototype.createShapeElement=function(et,tt,rt){var nt=4;et.ty==="rc"?nt=5:et.ty==="el"?nt=6:et.ty==="sr"&&(nt=7);var at=ShapePropertyFactory.getShapeProp(this,et,nt,this),lt=new SVGShapeData(tt,rt,at);return this.shapes.push(lt),this.addShapeToModifiers(lt),this.addToAnimatedContents(et,lt),lt},SVGShapeElement.prototype.addToAnimatedContents=function(et,tt){for(var rt=0,nt=this.animatedContents.length;rt<nt;){if(this.animatedContents[rt].element===tt)return;rt+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(et),element:tt,data:et})},SVGShapeElement.prototype.setElementStyles=function(et){var tt=et.styles,rt,nt=this.stylesList.length;for(rt=0;rt<nt;rt+=1)this.stylesList[rt].closed||tt.push(this.stylesList[rt])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var et,tt=this.itemsData.length;for(et=0;et<tt;et+=1)this.prevViewData[et]=this.itemsData[et];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),tt=this.dynamicProperties.length,et=0;et<tt;et+=1)this.dynamicProperties[et].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(et,tt,rt,nt,at,lt,dt){var ot=[].concat(lt),mt,xt=et.length-1,Et,At,Tt=[],Ft=[],Mt,Lt,Gt;for(mt=xt;mt>=0;mt-=1){if(Gt=this.searchProcessedElement(et[mt]),Gt?tt[mt]=rt[Gt-1]:et[mt]._render=dt,et[mt].ty==="fl"||et[mt].ty==="st"||et[mt].ty==="gf"||et[mt].ty==="gs"||et[mt].ty==="no")Gt?tt[mt].style.closed=!1:tt[mt]=this.createStyleElement(et[mt],at),et[mt]._render&&tt[mt].style.pElem.parentNode!==nt&&nt.appendChild(tt[mt].style.pElem),Tt.push(tt[mt].style);else if(et[mt].ty==="gr"){if(!Gt)tt[mt]=this.createGroupElement(et[mt]);else for(At=tt[mt].it.length,Et=0;Et<At;Et+=1)tt[mt].prevViewData[Et]=tt[mt].it[Et];this.searchShapes(et[mt].it,tt[mt].it,tt[mt].prevViewData,tt[mt].gr,at+1,ot,dt),et[mt]._render&&tt[mt].gr.parentNode!==nt&&nt.appendChild(tt[mt].gr)}else et[mt].ty==="tr"?(Gt||(tt[mt]=this.createTransformElement(et[mt],nt)),Mt=tt[mt].transform,ot.push(Mt)):et[mt].ty==="sh"||et[mt].ty==="rc"||et[mt].ty==="el"||et[mt].ty==="sr"?(Gt||(tt[mt]=this.createShapeElement(et[mt],ot,at)),this.setElementStyles(tt[mt])):et[mt].ty==="tm"||et[mt].ty==="rd"||et[mt].ty==="ms"||et[mt].ty==="pb"||et[mt].ty==="zz"||et[mt].ty==="op"?(Gt?(Lt=tt[mt],Lt.closed=!1):(Lt=ShapeModifiers.getModifier(et[mt].ty),Lt.init(this,et[mt]),tt[mt]=Lt,this.shapeModifiers.push(Lt)),Ft.push(Lt)):et[mt].ty==="rp"&&(Gt?(Lt=tt[mt],Lt.closed=!0):(Lt=ShapeModifiers.getModifier(et[mt].ty),tt[mt]=Lt,Lt.init(this,et,mt,tt),this.shapeModifiers.push(Lt),dt=!1),Ft.push(Lt));this.addProcessedElement(et[mt],mt+1)}for(xt=Tt.length,mt=0;mt<xt;mt+=1)Tt[mt].closed=!0;for(xt=Ft.length,mt=0;mt<xt;mt+=1)Ft[mt].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var et,tt=this.stylesList.length;for(et=0;et<tt;et+=1)this.stylesList[et].reset();for(this.renderShape(),et=0;et<tt;et+=1)(this.stylesList[et]._mdf||this._isFirstFrame)&&(this.stylesList[et].msElem&&(this.stylesList[et].msElem.setAttribute("d",this.stylesList[et].d),this.stylesList[et].d="M0 0"+this.stylesList[et].d),this.stylesList[et].pElem.setAttribute("d",this.stylesList[et].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var et,tt=this.animatedContents.length,rt;for(et=0;et<tt;et+=1)rt=this.animatedContents[et],(this._isFirstFrame||rt.element._isAnimated)&&rt.data!==!0&&rt.fn(rt.data,rt.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(et,tt,rt,nt,at,lt){this.o=et,this.sw=tt,this.sc=rt,this.fc=nt,this.m=at,this.p=lt,this._mdf={o:!0,sw:!!tt,sc:!!rt,fc:!!nt,m:!0,p:!0}}LetterProps.prototype.update=function(et,tt,rt,nt,at,lt){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var dt=!1;return this.o!==et&&(this.o=et,this._mdf.o=!0,dt=!0),this.sw!==tt&&(this.sw=tt,this._mdf.sw=!0,dt=!0),this.sc!==rt&&(this.sc=rt,this._mdf.sc=!0,dt=!0),this.fc!==nt&&(this.fc=nt,this._mdf.fc=!0,dt=!0),this.m!==at&&(this.m=at,this._mdf.m=!0,dt=!0),lt.length&&(this.p[0]!==lt[0]||this.p[1]!==lt[1]||this.p[4]!==lt[4]||this.p[5]!==lt[5]||this.p[12]!==lt[12]||this.p[13]!==lt[13])&&(this.p=lt,this._mdf.p=!0,dt=!0),dt};function TextProperty(et,tt){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,tt.d&&tt.d.sid&&(tt.d=et.globalData.slotManager.getProp(tt.d)),this.data=tt,this.elem=et,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(et,tt){for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt]);return et},TextProperty.prototype.setCurrentData=function(et){et.__complete||this.completeTextData(et),this.currentData=et,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(et){this.effectsSequence.push(et),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(et){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!et)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var tt=this.currentData,rt=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var nt,at=this.effectsSequence.length,lt=et||this.data.d.k[this.keysIndex].s;for(nt=0;nt<at;nt+=1)rt!==this.keysIndex?lt=this.effectsSequence[nt](lt,lt.t):lt=this.effectsSequence[nt](this.currentData,lt.t);tt!==lt&&this.setCurrentData(lt),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var et=this.data.d.k,tt=this.elem.comp.renderedFrame,rt=0,nt=et.length;rt<=nt-1&&!(rt===nt-1||et[rt+1].t>tt);)rt+=1;return this.keysIndex!==rt&&(this.keysIndex=rt),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(et){for(var tt=[],rt=0,nt=et.length,at,lt,dt=!1;rt<nt;)at=et.charCodeAt(rt),FontManager.isCombinedCharacter(at)?tt[tt.length-1]+=et.charAt(rt):at>=55296&&at<=56319?(lt=et.charCodeAt(rt+1),lt>=56320&&lt<=57343?(dt||FontManager.isModifier(at,lt)?(tt[tt.length-1]+=et.substr(rt,2),dt=!1):tt.push(et.substr(rt,2)),rt+=1):tt.push(et.charAt(rt))):at>56319?(lt=et.charCodeAt(rt+1),FontManager.isZeroWidthJoiner(at,lt)?(dt=!0,tt[tt.length-1]+=et.substr(rt,2),rt+=1):tt.push(et.charAt(rt))):FontManager.isZeroWidthJoiner(at)?(tt[tt.length-1]+=et.charAt(rt),dt=!0):tt.push(et.charAt(rt)),rt+=1;return tt},TextProperty.prototype.completeTextData=function(et){et.__complete=!0;var tt=this.elem.globalData.fontManager,rt=this.data,nt=[],at,lt,dt,ot=0,mt,xt=rt.m.g,Et=0,At=0,Tt=0,Ft=[],Mt=0,Lt=0,Gt,Pt,$t=tt.getFontByName(et.f),It,Ot=0,Vt=getFontProperties($t);et.fWeight=Vt.weight,et.fStyle=Vt.style,et.finalSize=et.s,et.finalText=this.buildFinalText(et.t),lt=et.finalText.length,et.finalLineHeight=et.lh;var Ut=et.tr/1e3*et.finalSize,Wt;if(et.sz)for(var nr=!0,er=et.sz[0],Kt=et.sz[1],ur,vr;nr;){vr=this.buildFinalText(et.t),ur=0,Mt=0,lt=vr.length,Ut=et.tr/1e3*et.finalSize;var Lr=-1;for(at=0;at<lt;at+=1)Wt=vr[at].charCodeAt(0),dt=!1,vr[at]===" "?Lr=at:(Wt===13||Wt===3)&&(Mt=0,dt=!0,ur+=et.finalLineHeight||et.finalSize*1.2),tt.chars?(It=tt.getCharData(vr[at],$t.fStyle,$t.fFamily),Ot=dt?0:It.w*et.finalSize/100):Ot=tt.measureText(vr[at],et.f,et.finalSize),Mt+Ot>er&&vr[at]!==" "?(Lr===-1?lt+=1:at=Lr,ur+=et.finalLineHeight||et.finalSize*1.2,vr.splice(at,Lr===at?1:0,"\r"),Lr=-1,Mt=0):(Mt+=Ot,Mt+=Ut);ur+=$t.ascent*et.finalSize/100,this.canResize&&et.finalSize>this.minimumFontSize&&Kt<ur?(et.finalSize-=1,et.finalLineHeight=et.finalSize*et.lh/et.s):(et.finalText=vr,lt=et.finalText.length,nr=!1)}Mt=-Ut,Ot=0;var Er=0,Cr;for(at=0;at<lt;at+=1)if(dt=!1,Cr=et.finalText[at],Wt=Cr.charCodeAt(0),Wt===13||Wt===3?(Er=0,Ft.push(Mt),Lt=Mt>Lt?Mt:Lt,Mt=-2*Ut,mt="",dt=!0,Tt+=1):mt=Cr,tt.chars?(It=tt.getCharData(Cr,$t.fStyle,tt.getFontByName(et.f).fFamily),Ot=dt?0:It.w*et.finalSize/100):Ot=tt.measureText(mt,et.f,et.finalSize),Cr===" "?Er+=Ot+Ut:(Mt+=Ot+Ut+Er,Er=0),nt.push({l:Ot,an:Ot,add:Et,n:dt,anIndexes:[],val:mt,line:Tt,animatorJustifyOffset:0}),xt==2){if(Et+=Ot,mt===""||mt===" "||at===lt-1){for((mt===""||mt===" ")&&(Et-=Ot);At<=at;)nt[At].an=Et,nt[At].ind=ot,nt[At].extra=Ot,At+=1;ot+=1,Et=0}}else if(xt==3){if(Et+=Ot,mt===""||at===lt-1){for(mt===""&&(Et-=Ot);At<=at;)nt[At].an=Et,nt[At].ind=ot,nt[At].extra=Ot,At+=1;Et=0,ot+=1}}else nt[ot].ind=ot,nt[ot].extra=0,ot+=1;if(et.l=nt,Lt=Mt>Lt?Mt:Lt,Ft.push(Mt),et.sz)et.boxWidth=et.sz[0],et.justifyOffset=0;else switch(et.boxWidth=Lt,et.j){case 1:et.justifyOffset=-et.boxWidth;break;case 2:et.justifyOffset=-et.boxWidth/2;break;default:et.justifyOffset=0}et.lineWidths=Ft;var hr=rt.a,Tr,Xt;Pt=hr.length;var Qt,lr,cr=[];for(Gt=0;Gt<Pt;Gt+=1){for(Tr=hr[Gt],Tr.a.sc&&(et.strokeColorAnim=!0),Tr.a.sw&&(et.strokeWidthAnim=!0),(Tr.a.fc||Tr.a.fh||Tr.a.fs||Tr.a.fb)&&(et.fillColorAnim=!0),lr=0,Qt=Tr.s.b,at=0;at<lt;at+=1)Xt=nt[at],Xt.anIndexes[Gt]=lr,(Qt==1&&Xt.val!==""||Qt==2&&Xt.val!==""&&Xt.val!==" "||Qt==3&&(Xt.n||Xt.val==" "||at==lt-1)||Qt==4&&(Xt.n||at==lt-1))&&(Tr.s.rn===1&&cr.push(lr),lr+=1);rt.a[Gt].s.totalChars=lr;var sr=-1,dr;if(Tr.s.rn===1)for(at=0;at<lt;at+=1)Xt=nt[at],sr!=Xt.anIndexes[Gt]&&(sr=Xt.anIndexes[Gt],dr=cr.splice(Math.floor(Math.random()*cr.length),1)[0]),Xt.anIndexes[Gt]=dr}et.yOffset=et.finalLineHeight||et.finalSize*1.2,et.ls=et.ls||0,et.ascent=$t.ascent*et.finalSize/100},TextProperty.prototype.updateDocumentData=function(et,tt){tt=tt===void 0?this.keysIndex:tt;var rt=this.copyData({},this.data.d.k[tt].s);rt=this.copyData(rt,et),this.data.d.k[tt].s=rt,this.recalculate(tt),this.setCurrentData(rt),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(et){var tt=this.data.d.k[et].s;tt.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(tt)},TextProperty.prototype.canResizeFont=function(et){this.canResize=et,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(et){this.minimumFontSize=Math.floor(et)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var et=Math.max,tt=Math.min,rt=Math.floor;function nt(lt,dt){this._currentTextLength=-1,this.k=!1,this.data=dt,this.elem=lt,this.comp=lt.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(lt),this.s=PropertyFactory.getProp(lt,dt.s||{k:0},0,0,this),"e"in dt?this.e=PropertyFactory.getProp(lt,dt.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(lt,dt.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(lt,dt.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(lt,dt.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(lt,dt.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(lt,dt.a,0,.01,this),this.dynamicProperties.length||this.getValue()}nt.prototype={getMult:function(dt){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ot=0,mt=0,xt=1,Et=1;this.ne.v>0?ot=this.ne.v/100:mt=-this.ne.v/100,this.xe.v>0?xt=1-this.xe.v/100:Et=1+this.xe.v/100;var At=BezierFactory.getBezierEasing(ot,mt,xt,Et).get,Tt=0,Ft=this.finalS,Mt=this.finalE,Lt=this.data.sh;if(Lt===2)Mt===Ft?Tt=dt>=Mt?1:0:Tt=et(0,tt(.5/(Mt-Ft)+(dt-Ft)/(Mt-Ft),1)),Tt=At(Tt);else if(Lt===3)Mt===Ft?Tt=dt>=Mt?0:1:Tt=1-et(0,tt(.5/(Mt-Ft)+(dt-Ft)/(Mt-Ft),1)),Tt=At(Tt);else if(Lt===4)Mt===Ft?Tt=0:(Tt=et(0,tt(.5/(Mt-Ft)+(dt-Ft)/(Mt-Ft),1)),Tt<.5?Tt*=2:Tt=1-2*(Tt-.5)),Tt=At(Tt);else if(Lt===5){if(Mt===Ft)Tt=0;else{var Gt=Mt-Ft;dt=tt(et(0,dt+.5-Ft),Mt-Ft);var Pt=-Gt/2+dt,$t=Gt/2;Tt=Math.sqrt(1-Pt*Pt/($t*$t))}Tt=At(Tt)}else Lt===6?(Mt===Ft?Tt=0:(dt=tt(et(0,dt+.5-Ft),Mt-Ft),Tt=(1+Math.cos(Math.PI+Math.PI*2*dt/(Mt-Ft)))/2),Tt=At(Tt)):(dt>=rt(Ft)&&(dt-Ft<0?Tt=et(0,tt(tt(Mt,1)-(Ft-dt),1)):Tt=et(0,tt(Mt-dt,1))),Tt=At(Tt));if(this.sm.v!==100){var It=this.sm.v*.01;It===0&&(It=1e-8);var Ot=.5-It*.5;Tt<Ot?Tt=0:(Tt=(Tt-Ot)/It,Tt>1&&(Tt=1))}return Tt*this.a.v},getValue:function(dt){this.iterateDynamicProperties(),this._mdf=dt||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,dt&&this.data.r===2&&(this.e.v=this._currentTextLength);var ot=this.data.r===2?1:100/this.data.totalChars,mt=this.o.v/ot,xt=this.s.v/ot+mt,Et=this.e.v/ot+mt;if(xt>Et){var At=xt;xt=Et,Et=At}this.finalS=xt,this.finalE=Et}},extendPrototype([DynamicPropertyContainer],nt);function at(lt,dt,ot){return new nt(lt,dt)}return{getTextSelectorProp:at}}();function TextAnimatorDataProperty(et,tt,rt){var nt={propType:!1},at=PropertyFactory.getProp,lt=tt.a;this.a={r:lt.r?at(et,lt.r,0,degToRads,rt):nt,rx:lt.rx?at(et,lt.rx,0,degToRads,rt):nt,ry:lt.ry?at(et,lt.ry,0,degToRads,rt):nt,sk:lt.sk?at(et,lt.sk,0,degToRads,rt):nt,sa:lt.sa?at(et,lt.sa,0,degToRads,rt):nt,s:lt.s?at(et,lt.s,1,.01,rt):nt,a:lt.a?at(et,lt.a,1,0,rt):nt,o:lt.o?at(et,lt.o,0,.01,rt):nt,p:lt.p?at(et,lt.p,1,0,rt):nt,sw:lt.sw?at(et,lt.sw,0,0,rt):nt,sc:lt.sc?at(et,lt.sc,1,0,rt):nt,fc:lt.fc?at(et,lt.fc,1,0,rt):nt,fh:lt.fh?at(et,lt.fh,0,0,rt):nt,fs:lt.fs?at(et,lt.fs,0,.01,rt):nt,fb:lt.fb?at(et,lt.fb,0,.01,rt):nt,t:lt.t?at(et,lt.t,0,0,rt):nt},this.s=TextSelectorProp.getTextSelectorProp(et,tt.s,rt),this.s.t=tt.s.t}function TextAnimatorProperty(et,tt,rt){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=et,this._renderType=tt,this._elem=rt,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(rt)}TextAnimatorProperty.prototype.searchProperties=function(){var et,tt=this._textData.a.length,rt,nt=PropertyFactory.getProp;for(et=0;et<tt;et+=1)rt=this._textData.a[et],this._animatorsData[et]=new TextAnimatorDataProperty(this._elem,rt,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:nt(this._elem,this._textData.p.a,0,0,this),f:nt(this._elem,this._textData.p.f,0,0,this),l:nt(this._elem,this._textData.p.l,0,0,this),r:nt(this._elem,this._textData.p.r,0,0,this),p:nt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=nt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(et,tt){if(this.lettersChangedFlag=tt,!(!this._mdf&&!this._isFirstFrame&&!tt&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var rt=this._moreOptions.alignment.v,nt=this._animatorsData,at=this._textData,lt=this.mHelper,dt=this._renderType,ot=this.renderedLetters.length,mt,xt,Et,At,Tt=et.l,Ft,Mt,Lt,Gt,Pt,$t,It,Ot,Vt,Ut,Wt,nr,er,Kt,ur;if(this._hasMaskedPath){if(ur=this._pathData.m,!this._pathData.n||this._pathData._mdf){var vr=ur.v;this._pathData.r.v&&(vr=vr.reverse()),Ft={tLength:0,segments:[]},At=vr._length-1;var Lr;for(nr=0,Et=0;Et<At;Et+=1)Lr=bez.buildBezierData(vr.v[Et],vr.v[Et+1],[vr.o[Et][0]-vr.v[Et][0],vr.o[Et][1]-vr.v[Et][1]],[vr.i[Et+1][0]-vr.v[Et+1][0],vr.i[Et+1][1]-vr.v[Et+1][1]]),Ft.tLength+=Lr.segmentLength,Ft.segments.push(Lr),nr+=Lr.segmentLength;Et=At,ur.v.c&&(Lr=bez.buildBezierData(vr.v[Et],vr.v[0],[vr.o[Et][0]-vr.v[Et][0],vr.o[Et][1]-vr.v[Et][1]],[vr.i[0][0]-vr.v[0][0],vr.i[0][1]-vr.v[0][1]]),Ft.tLength+=Lr.segmentLength,Ft.segments.push(Lr),nr+=Lr.segmentLength),this._pathData.pi=Ft}if(Ft=this._pathData.pi,Mt=this._pathData.f.v,It=0,$t=1,Gt=0,Pt=!0,Ut=Ft.segments,Mt<0&&ur.v.c)for(Ft.tLength<Math.abs(Mt)&&(Mt=-Math.abs(Mt)%Ft.tLength),It=Ut.length-1,Vt=Ut[It].points,$t=Vt.length-1;Mt<0;)Mt+=Vt[$t].partialLength,$t-=1,$t<0&&(It-=1,Vt=Ut[It].points,$t=Vt.length-1);Vt=Ut[It].points,Ot=Vt[$t-1],Lt=Vt[$t],Wt=Lt.partialLength}At=Tt.length,mt=0,xt=0;var Er=et.finalSize*1.2*.714,Cr=!0,hr,Tr,Xt,Qt,lr;Qt=nt.length;var cr,sr=-1,dr,Rr,jr,Sr=Mt,dn=It,Qr=$t,gn=-1,ln,Kr,cn,En,yn,Rn,Zn,jn,so="",Eo=this.defaultPropsArray,_i;if(et.j===2||et.j===1){var po=0,Mo=0,yo=et.j===2?-.5:-1,mn=0,Bn=!0;for(Et=0;Et<At;Et+=1)if(Tt[Et].n){for(po&&(po+=Mo);mn<Et;)Tt[mn].animatorJustifyOffset=po,mn+=1;po=0,Bn=!0}else{for(Xt=0;Xt<Qt;Xt+=1)hr=nt[Xt].a,hr.t.propType&&(Bn&&et.j===2&&(Mo+=hr.t.v*yo),Tr=nt[Xt].s,cr=Tr.getMult(Tt[Et].anIndexes[Xt],at.a[Xt].s.totalChars),cr.length?po+=hr.t.v*cr[0]*yo:po+=hr.t.v*cr*yo);Bn=!1}for(po&&(po+=Mo);mn<Et;)Tt[mn].animatorJustifyOffset=po,mn+=1}for(Et=0;Et<At;Et+=1){if(lt.reset(),ln=1,Tt[Et].n)mt=0,xt+=et.yOffset,xt+=Cr?1:0,Mt=Sr,Cr=!1,this._hasMaskedPath&&(It=dn,$t=Qr,Vt=Ut[It].points,Ot=Vt[$t-1],Lt=Vt[$t],Wt=Lt.partialLength,Gt=0),so="",jn="",Rn="",_i="",Eo=this.defaultPropsArray;else{if(this._hasMaskedPath){if(gn!==Tt[Et].line){switch(et.j){case 1:Mt+=nr-et.lineWidths[Tt[Et].line];break;case 2:Mt+=(nr-et.lineWidths[Tt[Et].line])/2;break}gn=Tt[Et].line}sr!==Tt[Et].ind&&(Tt[sr]&&(Mt+=Tt[sr].extra),Mt+=Tt[Et].an/2,sr=Tt[Et].ind),Mt+=rt[0]*Tt[Et].an*.005;var no=0;for(Xt=0;Xt<Qt;Xt+=1)hr=nt[Xt].a,hr.p.propType&&(Tr=nt[Xt].s,cr=Tr.getMult(Tt[Et].anIndexes[Xt],at.a[Xt].s.totalChars),cr.length?no+=hr.p.v[0]*cr[0]:no+=hr.p.v[0]*cr),hr.a.propType&&(Tr=nt[Xt].s,cr=Tr.getMult(Tt[Et].anIndexes[Xt],at.a[Xt].s.totalChars),cr.length?no+=hr.a.v[0]*cr[0]:no+=hr.a.v[0]*cr);for(Pt=!0,this._pathData.a.v&&(Mt=Tt[0].an*.5+(nr-this._pathData.f.v-Tt[0].an*.5-Tt[Tt.length-1].an*.5)*sr/(At-1),Mt+=this._pathData.f.v);Pt;)Gt+Wt>=Mt+no||!Vt?(er=(Mt+no-Gt)/Lt.partialLength,Rr=Ot.point[0]+(Lt.point[0]-Ot.point[0])*er,jr=Ot.point[1]+(Lt.point[1]-Ot.point[1])*er,lt.translate(-rt[0]*Tt[Et].an*.005,-(rt[1]*Er)*.01),Pt=!1):Vt&&(Gt+=Lt.partialLength,$t+=1,$t>=Vt.length&&($t=0,It+=1,Ut[It]?Vt=Ut[It].points:ur.v.c?($t=0,It=0,Vt=Ut[It].points):(Gt-=Lt.partialLength,Vt=null)),Vt&&(Ot=Lt,Lt=Vt[$t],Wt=Lt.partialLength));dr=Tt[Et].an/2-Tt[Et].add,lt.translate(-dr,0,0)}else dr=Tt[Et].an/2-Tt[Et].add,lt.translate(-dr,0,0),lt.translate(-rt[0]*Tt[Et].an*.005,-rt[1]*Er*.01,0);for(Xt=0;Xt<Qt;Xt+=1)hr=nt[Xt].a,hr.t.propType&&(Tr=nt[Xt].s,cr=Tr.getMult(Tt[Et].anIndexes[Xt],at.a[Xt].s.totalChars),(mt!==0||et.j!==0)&&(this._hasMaskedPath?cr.length?Mt+=hr.t.v*cr[0]:Mt+=hr.t.v*cr:cr.length?mt+=hr.t.v*cr[0]:mt+=hr.t.v*cr));for(et.strokeWidthAnim&&(cn=et.sw||0),et.strokeColorAnim&&(et.sc?Kr=[et.sc[0],et.sc[1],et.sc[2]]:Kr=[0,0,0]),et.fillColorAnim&&et.fc&&(En=[et.fc[0],et.fc[1],et.fc[2]]),Xt=0;Xt<Qt;Xt+=1)hr=nt[Xt].a,hr.a.propType&&(Tr=nt[Xt].s,cr=Tr.getMult(Tt[Et].anIndexes[Xt],at.a[Xt].s.totalChars),cr.length?lt.translate(-hr.a.v[0]*cr[0],-hr.a.v[1]*cr[1],hr.a.v[2]*cr[2]):lt.translate(-hr.a.v[0]*cr,-hr.a.v[1]*cr,hr.a.v[2]*cr));for(Xt=0;Xt<Qt;Xt+=1)hr=nt[Xt].a,hr.s.propType&&(Tr=nt[Xt].s,cr=Tr.getMult(Tt[Et].anIndexes[Xt],at.a[Xt].s.totalChars),cr.length?lt.scale(1+(hr.s.v[0]-1)*cr[0],1+(hr.s.v[1]-1)*cr[1],1):lt.scale(1+(hr.s.v[0]-1)*cr,1+(hr.s.v[1]-1)*cr,1));for(Xt=0;Xt<Qt;Xt+=1){if(hr=nt[Xt].a,Tr=nt[Xt].s,cr=Tr.getMult(Tt[Et].anIndexes[Xt],at.a[Xt].s.totalChars),hr.sk.propType&&(cr.length?lt.skewFromAxis(-hr.sk.v*cr[0],hr.sa.v*cr[1]):lt.skewFromAxis(-hr.sk.v*cr,hr.sa.v*cr)),hr.r.propType&&(cr.length?lt.rotateZ(-hr.r.v*cr[2]):lt.rotateZ(-hr.r.v*cr)),hr.ry.propType&&(cr.length?lt.rotateY(hr.ry.v*cr[1]):lt.rotateY(hr.ry.v*cr)),hr.rx.propType&&(cr.length?lt.rotateX(hr.rx.v*cr[0]):lt.rotateX(hr.rx.v*cr)),hr.o.propType&&(cr.length?ln+=(hr.o.v*cr[0]-ln)*cr[0]:ln+=(hr.o.v*cr-ln)*cr),et.strokeWidthAnim&&hr.sw.propType&&(cr.length?cn+=hr.sw.v*cr[0]:cn+=hr.sw.v*cr),et.strokeColorAnim&&hr.sc.propType)for(yn=0;yn<3;yn+=1)cr.length?Kr[yn]+=(hr.sc.v[yn]-Kr[yn])*cr[0]:Kr[yn]+=(hr.sc.v[yn]-Kr[yn])*cr;if(et.fillColorAnim&&et.fc){if(hr.fc.propType)for(yn=0;yn<3;yn+=1)cr.length?En[yn]+=(hr.fc.v[yn]-En[yn])*cr[0]:En[yn]+=(hr.fc.v[yn]-En[yn])*cr;hr.fh.propType&&(cr.length?En=addHueToRGB(En,hr.fh.v*cr[0]):En=addHueToRGB(En,hr.fh.v*cr)),hr.fs.propType&&(cr.length?En=addSaturationToRGB(En,hr.fs.v*cr[0]):En=addSaturationToRGB(En,hr.fs.v*cr)),hr.fb.propType&&(cr.length?En=addBrightnessToRGB(En,hr.fb.v*cr[0]):En=addBrightnessToRGB(En,hr.fb.v*cr))}}for(Xt=0;Xt<Qt;Xt+=1)hr=nt[Xt].a,hr.p.propType&&(Tr=nt[Xt].s,cr=Tr.getMult(Tt[Et].anIndexes[Xt],at.a[Xt].s.totalChars),this._hasMaskedPath?cr.length?lt.translate(0,hr.p.v[1]*cr[0],-hr.p.v[2]*cr[1]):lt.translate(0,hr.p.v[1]*cr,-hr.p.v[2]*cr):cr.length?lt.translate(hr.p.v[0]*cr[0],hr.p.v[1]*cr[1],-hr.p.v[2]*cr[2]):lt.translate(hr.p.v[0]*cr,hr.p.v[1]*cr,-hr.p.v[2]*cr));if(et.strokeWidthAnim&&(Rn=cn<0?0:cn),et.strokeColorAnim&&(Zn="rgb("+Math.round(Kr[0]*255)+","+Math.round(Kr[1]*255)+","+Math.round(Kr[2]*255)+")"),et.fillColorAnim&&et.fc&&(jn="rgb("+Math.round(En[0]*255)+","+Math.round(En[1]*255)+","+Math.round(En[2]*255)+")"),this._hasMaskedPath){if(lt.translate(0,-et.ls),lt.translate(0,rt[1]*Er*.01+xt,0),this._pathData.p.v){Kt=(Lt.point[1]-Ot.point[1])/(Lt.point[0]-Ot.point[0]);var eo=Math.atan(Kt)*180/Math.PI;Lt.point[0]<Ot.point[0]&&(eo+=180),lt.rotate(-eo*Math.PI/180)}lt.translate(Rr,jr,0),Mt-=rt[0]*Tt[Et].an*.005,Tt[Et+1]&&sr!==Tt[Et+1].ind&&(Mt+=Tt[Et].an/2,Mt+=et.tr*.001*et.finalSize)}else{switch(lt.translate(mt,xt,0),et.ps&&lt.translate(et.ps[0],et.ps[1]+et.ascent,0),et.j){case 1:lt.translate(Tt[Et].animatorJustifyOffset+et.justifyOffset+(et.boxWidth-et.lineWidths[Tt[Et].line]),0,0);break;case 2:lt.translate(Tt[Et].animatorJustifyOffset+et.justifyOffset+(et.boxWidth-et.lineWidths[Tt[Et].line])/2,0,0);break}lt.translate(0,-et.ls),lt.translate(dr,0,0),lt.translate(rt[0]*Tt[Et].an*.005,rt[1]*Er*.01,0),mt+=Tt[Et].l+et.tr*.001*et.finalSize}dt==="html"?so=lt.toCSS():dt==="svg"?so=lt.to2dCSS():Eo=[lt.props[0],lt.props[1],lt.props[2],lt.props[3],lt.props[4],lt.props[5],lt.props[6],lt.props[7],lt.props[8],lt.props[9],lt.props[10],lt.props[11],lt.props[12],lt.props[13],lt.props[14],lt.props[15]],_i=ln}ot<=Et?(lr=new LetterProps(_i,Rn,Zn,jn,so,Eo),this.renderedLetters.push(lr),ot+=1,this.lettersChangedFlag=!0):(lr=this.renderedLetters[Et],this.lettersChangedFlag=lr.update(_i,Rn,Zn,jn,so,Eo)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(et,tt,rt){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(et,tt,rt),this.textProperty=new TextProperty(this,et.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(et.t,this.renderType,this),this.initTransform(et,tt,rt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(et){this._mdf=!1,this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange)},ITextElement.prototype.createPathShape=function(et,tt){var rt,nt=tt.length,at,lt="";for(rt=0;rt<nt;rt+=1)tt[rt].ty==="sh"&&(at=tt[rt].ks.k,lt+=buildShapeString(at,at.i.length,!0,et));return lt},ITextElement.prototype.updateDocumentData=function(et,tt){this.textProperty.updateDocumentData(et,tt)},ITextElement.prototype.canResizeFont=function(et){this.textProperty.canResizeFont(et)},ITextElement.prototype.setMinimumFontSize=function(et){this.textProperty.setMinimumFontSize(et)},ITextElement.prototype.applyTextPropertiesToMatrix=function(et,tt,rt,nt,at){switch(et.ps&&tt.translate(et.ps[0],et.ps[1]+et.ascent,0),tt.translate(0,-et.ls,0),et.j){case 1:tt.translate(et.justifyOffset+(et.boxWidth-et.lineWidths[rt]),0,0);break;case 2:tt.translate(et.justifyOffset+(et.boxWidth-et.lineWidths[rt])/2,0,0);break}tt.translate(nt,at,0)},ITextElement.prototype.buildColor=function(et){return"rgb("+Math.round(et[0]*255)+","+Math.round(et[1]*255)+","+Math.round(et[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(et,tt,rt){this.textSpans=[],this.renderType="svg",this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(et){for(var tt=0,rt=et.length,nt=[],at="";tt<rt;)et[tt]===String.fromCharCode(13)||et[tt]===String.fromCharCode(3)?(nt.push(at),at=""):at+=et[tt],tt+=1;return nt.push(at),nt},SVGTextLottieElement.prototype.buildShapeData=function(et,tt){if(et.shapes&&et.shapes.length){var rt=et.shapes[0];if(rt.it){var nt=rt.it[rt.it.length-1];nt.s&&(nt.s.k[0]=tt,nt.s.k[1]=tt)}}return et},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var et,tt,rt=this.textProperty.currentData;this.renderedLetters=createSizedArray(rt?rt.l.length:0),rt.fc?this.layerElement.setAttribute("fill",this.buildColor(rt.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),rt.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(rt.sc)),this.layerElement.setAttribute("stroke-width",rt.sw)),this.layerElement.setAttribute("font-size",rt.finalSize);var nt=this.globalData.fontManager.getFontByName(rt.f);if(nt.fClass)this.layerElement.setAttribute("class",nt.fClass);else{this.layerElement.setAttribute("font-family",nt.fFamily);var at=rt.fWeight,lt=rt.fStyle;this.layerElement.setAttribute("font-style",lt),this.layerElement.setAttribute("font-weight",at)}this.layerElement.setAttribute("aria-label",rt.t);var dt=rt.l||[],ot=!!this.globalData.fontManager.chars;tt=dt.length;var mt,xt=this.mHelper,Et="",At=this.data.singleShape,Tt=0,Ft=0,Mt=!0,Lt=rt.tr*.001*rt.finalSize;if(At&&!ot&&!rt.sz){var Gt=this.textContainer,Pt="start";switch(rt.j){case 1:Pt="end";break;case 2:Pt="middle";break;default:Pt="start";break}Gt.setAttribute("text-anchor",Pt),Gt.setAttribute("letter-spacing",Lt);var $t=this.buildTextContents(rt.finalText);for(tt=$t.length,Ft=rt.ps?rt.ps[1]+rt.ascent:0,et=0;et<tt;et+=1)mt=this.textSpans[et].span||createNS("tspan"),mt.textContent=$t[et],mt.setAttribute("x",0),mt.setAttribute("y",Ft),mt.style.display="inherit",Gt.appendChild(mt),this.textSpans[et]||(this.textSpans[et]={span:null,glyph:null}),this.textSpans[et].span=mt,Ft+=rt.finalLineHeight;this.layerElement.appendChild(Gt)}else{var It=this.textSpans.length,Ot;for(et=0;et<tt;et+=1){if(this.textSpans[et]||(this.textSpans[et]={span:null,childSpan:null,glyph:null}),!ot||!At||et===0){if(mt=It>et?this.textSpans[et].span:createNS(ot?"g":"text"),It<=et){if(mt.setAttribute("stroke-linecap","butt"),mt.setAttribute("stroke-linejoin","round"),mt.setAttribute("stroke-miterlimit","4"),this.textSpans[et].span=mt,ot){var Vt=createNS("g");mt.appendChild(Vt),this.textSpans[et].childSpan=Vt}this.textSpans[et].span=mt,this.layerElement.appendChild(mt)}mt.style.display="inherit"}if(xt.reset(),At&&(dt[et].n&&(Tt=-Lt,Ft+=rt.yOffset,Ft+=Mt?1:0,Mt=!1),this.applyTextPropertiesToMatrix(rt,xt,dt[et].line,Tt,Ft),Tt+=dt[et].l||0,Tt+=Lt),ot){Ot=this.globalData.fontManager.getCharData(rt.finalText[et],nt.fStyle,this.globalData.fontManager.getFontByName(rt.f).fFamily);var Ut;if(Ot.t===1)Ut=new SVGCompElement(Ot.data,this.globalData,this);else{var Wt=emptyShapeData;Ot.data&&Ot.data.shapes&&(Wt=this.buildShapeData(Ot.data,rt.finalSize)),Ut=new SVGShapeElement(Wt,this.globalData,this)}if(this.textSpans[et].glyph){var nr=this.textSpans[et].glyph;this.textSpans[et].childSpan.removeChild(nr.layerElement),nr.destroy()}this.textSpans[et].glyph=Ut,Ut._debug=!0,Ut.prepareFrame(0),Ut.renderFrame(),this.textSpans[et].childSpan.appendChild(Ut.layerElement),Ot.t===1&&this.textSpans[et].childSpan.setAttribute("transform","scale("+rt.finalSize/100+","+rt.finalSize/100+")")}else At&&mt.setAttribute("transform","translate("+xt.props[12]+","+xt.props[13]+")"),mt.textContent=dt[et].val,mt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}At&&mt&&mt.setAttribute("d",Et)}for(;et<this.textSpans.length;)this.textSpans[et].span.style.display="none",et+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var et=this.layerElement.getBBox();this.bbox={top:et.y,left:et.x,width:et.width,height:et.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var et,tt=this.textSpans.length,rt;for(this.renderedFrame=this.comp.renderedFrame,et=0;et<tt;et+=1)rt=this.textSpans[et].glyph,rt&&(rt.prepareFrame(this.comp.renderedFrame-this.data.st),rt._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var et,tt,rt=this.textAnimator.renderedLetters,nt=this.textProperty.currentData.l;tt=nt.length;var at,lt,dt;for(et=0;et<tt;et+=1)nt[et].n||(at=rt[et],lt=this.textSpans[et].span,dt=this.textSpans[et].glyph,dt&&dt.renderFrame(),at._mdf.m&&lt.setAttribute("transform",at.m),at._mdf.o&&lt.setAttribute("opacity",at.o),at._mdf.sw&&lt.setAttribute("stroke-width",at.sw),at._mdf.sc&&lt.setAttribute("stroke",at.sc),at._mdf.fc&&lt.setAttribute("fill",at.fc))}};function ISolidElement(et,tt,rt){this.initElement(et,tt,rt)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var et=createNS("rect");et.setAttribute("width",this.data.sw),et.setAttribute("height",this.data.sh),et.setAttribute("fill",this.data.sc),this.layerElement.appendChild(et)};function NullElement(et,tt,rt){this.initFrame(),this.initBaseData(et,tt,rt),this.initFrame(),this.initTransform(et,tt,rt),this.initHierarchy()}NullElement.prototype.prepareFrame=function(et){this.prepareProperties(et,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(et){return new NullElement(et,this.globalData,this)},SVGRendererBase.prototype.createShape=function(et){return new SVGShapeElement(et,this.globalData,this)},SVGRendererBase.prototype.createText=function(et){return new SVGTextLottieElement(et,this.globalData,this)},SVGRendererBase.prototype.createImage=function(et){return new IImageElement(et,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(et){return new ISolidElement(et,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(et){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+et.w+" "+et.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",et.w),this.svgElement.setAttribute("height",et.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var tt=this.globalData.defs;this.setupGlobalData(et,tt),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=et;var rt=createNS("clipPath"),nt=createNS("rect");nt.setAttribute("width",et.w),nt.setAttribute("height",et.h),nt.setAttribute("x",0),nt.setAttribute("y",0);var at=createElementID();rt.setAttribute("id",at),rt.appendChild(nt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+at+")"),tt.appendChild(rt),this.layers=et.layers,this.elements=createSizedArray(et.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var et,tt=this.layers?this.layers.length:0;for(et=0;et<tt;et+=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(et){var tt=0,rt=this.layers.length;for(tt=0;tt<rt;tt+=1)if(this.layers[tt].ind===et)return tt;return-1},SVGRendererBase.prototype.buildItem=function(et){var tt=this.elements;if(!(tt[et]||this.layers[et].ty===99)){tt[et]=!0;var rt=this.createItem(this.layers[et]);if(tt[et]=rt,getExpressionsPlugin()&&(this.layers[et].ty===0&&this.globalData.projectInterface.registerComposition(rt),rt.initExpressions()),this.appendElementInPos(rt,et),this.layers[et].tt){var nt="tp"in this.layers[et]?this.findIndexByInd(this.layers[et].tp):et-1;if(nt===-1)return;if(!this.elements[nt]||this.elements[nt]===!0)this.buildItem(nt),this.addPendingElement(rt);else{var at=tt[nt],lt=at.getMatte(this.layers[et].tt);rt.setMatte(lt)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();if(et.checkParenting(),et.data.tt)for(var tt=0,rt=this.elements.length;tt<rt;){if(this.elements[tt]===et){var nt="tp"in et.data?this.findIndexByInd(et.data.tp):tt-1,at=this.elements[nt],lt=at.getMatte(this.layers[tt].tt);et.setMatte(lt);break}tt+=1}}},SVGRendererBase.prototype.renderFrame=function(et){if(!(this.renderedFrame===et||this.destroyed)){et===null?et=this.renderedFrame:this.renderedFrame=et,this.globalData.frameNum=et,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=et,this.globalData._mdf=!1;var tt,rt=this.layers.length;for(this.completeLayers||this.checkLayers(et),tt=rt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].prepareFrame(et-this.layers[tt].st);if(this.globalData._mdf)for(tt=0;tt<rt;tt+=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(et,tt){var rt=et.getBaseElement();if(rt){for(var nt=0,at;nt<tt;)this.elements[nt]&&this.elements[nt]!==!0&&this.elements[nt].getBaseElement()&&(at=this.elements[nt].getBaseElement()),nt+=1;at?this.layerElement.insertBefore(rt,at):this.layerElement.appendChild(rt)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(et,tt,rt){this.initFrame(),this.initBaseData(et,tt,rt),this.initTransform(et,tt,rt),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!tt.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(et){if(this._mdf=!1,this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=et/this.data.sr;else{var tt=this.tm.v;tt===this.data.op&&(tt=this.data.op-1),this.renderedFrame=tt}var rt,nt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),rt=nt-1;rt>=0;rt-=1)(this.completeLayers||this.elements[rt])&&(this.elements[rt].prepareFrame(this.renderedFrame-this.layers[rt].st),this.elements[rt]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var et,tt=this.layers.length;for(et=0;et<tt;et+=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()},ICompElement.prototype.setElements=function(et){this.elements=et},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var et,tt=this.layers.length;for(et=0;et<tt;et+=1)this.elements[et]&&this.elements[et].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(et,tt,rt){this.layers=et.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(et,tt,rt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,tt.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(et){return new SVGCompElement(et,this.globalData,this)};function SVGRenderer(et,tt){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var rt="";if(tt&&tt.title){var nt=createNS("title"),at=createElementID();nt.setAttribute("id",at),nt.textContent=tt.title,this.svgElement.appendChild(nt),rt+=at}if(tt&&tt.description){var lt=createNS("desc"),dt=createElementID();lt.setAttribute("id",dt),lt.textContent=tt.description,this.svgElement.appendChild(lt),rt+=" "+dt}rt&&this.svgElement.setAttribute("aria-labelledby",rt);var ot=createNS("defs");this.svgElement.appendChild(ot);var mt=createNS("g");this.svgElement.appendChild(mt),this.layerElement=mt,this.renderConfig={preserveAspectRatio:tt&&tt.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:tt&&tt.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:tt&&tt.contentVisibility||"visible",progressiveLoad:tt&&tt.progressiveLoad||!1,hideOnTransparent:!(tt&&tt.hideOnTransparent===!1),viewBoxOnly:tt&&tt.viewBoxOnly||!1,viewBoxSize:tt&&tt.viewBoxSize||!1,className:tt&&tt.className||"",id:tt&&tt.id||"",focusable:tt&&tt.focusable,filterSize:{width:tt&&tt.filterSize&&tt.filterSize.width||"100%",height:tt&&tt.filterSize&&tt.filterSize.height||"100%",x:tt&&tt.filterSize&&tt.filterSize.x||"0%",y:tt&&tt.filterSize&&tt.filterSize.y||"0%"},width:tt&&tt.width,height:tt&&tt.height,runExpressions:!tt||tt.runExpressions===void 0||tt.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ot,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(et){return new SVGCompElement(et,this.globalData,this)};function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var et,tt=15;for(this.savedOp=createTypedArray("float32",tt),et=0;et<tt;et+=1)this.saved[et]=createTypedArray("float32",16);this._length=tt}CVContextData.prototype.duplicate=function(){var et=this._length*2,tt=this.savedOp;this.savedOp=createTypedArray("float32",et),this.savedOp.set(tt);var rt=0;for(rt=this._length;rt<et;rt+=1)this.saved[rt]=createTypedArray("float32",16);this._length=et},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVContextData.prototype.popTransform=function(){var et=this.saved[this.cArrPos],tt,rt=this.cTr.props;for(tt=0;tt<16;tt+=1)rt[tt]=et[tt];return et},CVContextData.prototype.popOpacity=function(){var et=this.savedOp[this.cArrPos];return this.cO=et,et},CVContextData.prototype.pop=function(){this.cArrPos-=1;var et=this.popTransform(),tt=this.popOpacity();return{transform:et,opacity:tt}},CVContextData.prototype.push=function(){var et=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var tt,rt=this.saved[this.cArrPos];for(tt=0;tt<16;tt+=1)rt[tt]=et[tt];this.savedOp[this.cArrPos]=this.cO,this.cArrPos+=1},CVContextData.prototype.getTransform=function(){return this.cTr},CVContextData.prototype.getOpacity=function(){return this.cO},CVContextData.prototype.setOpacity=function(et){this.cO=et};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(tt){var rt,nt=tt.length,at="_";for(rt=0;rt<nt;rt+=1)at+=tt[rt].transform.key+"_";var lt=this.sequences[at];return lt||(lt={transforms:[].concat(tt),finalTransform:new Matrix,_mdf:!1},this.sequences[at]=lt,this.sequenceList.push(lt)),lt},processSequence:function(tt,rt){for(var nt=0,at=tt.transforms.length,lt=rt;nt<at&&!rt;){if(tt.transforms[nt].transform.mProps._mdf){lt=!0;break}nt+=1}if(lt)for(tt.finalTransform.reset(),nt=at-1;nt>=0;nt-=1)tt.finalTransform.multiply(tt.transforms[nt].transform.mProps.v);tt._mdf=lt},processSequences:function(tt){var rt,nt=this.sequenceList.length;for(rt=0;rt<nt;rt+=1)this.processSequence(this.sequenceList[rt],tt)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var tt="__lottie_element_luma_buffer",rt=null,nt=null,at=null;function lt(){var mt=createNS("svg"),xt=createNS("filter"),Et=createNS("feColorMatrix");return xt.setAttribute("id",tt),Et.setAttribute("type","matrix"),Et.setAttribute("color-interpolation-filters","sRGB"),Et.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),xt.appendChild(Et),mt.appendChild(xt),mt.setAttribute("id",tt+"_svg"),featureSupport.svgLumaHidden&&(mt.style.display="none"),mt}function dt(){rt||(at=lt(),document.body.appendChild(at),rt=createTag("canvas"),nt=rt.getContext("2d"),nt.filter="url(#"+tt+")",nt.fillStyle="rgba(0,0,0,0)",nt.fillRect(0,0,1,1))}function ot(mt){return rt||dt(),rt.width=mt.width,rt.height=mt.height,nt.filter="url(#"+tt+")",rt}return{load:dt,get:ot}};function createCanvas(et,tt){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(et,tt);var rt=createTag("canvas");return rt.width=et,rt.height=tt,rt}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(et){var tt,rt=et.data.ef?et.data.ef.length:0;this.filters=[];var nt;for(tt=0;tt<rt;tt+=1){nt=null;var at=et.data.ef[tt].ty;if(registeredEffects[at]){var lt=registeredEffects[at].effect;nt=new lt(et.effectsManager.effectElements[tt],et)}nt&&this.filters.push(nt)}this.filters.length&&et.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(et){var tt,rt=this.filters.length;for(tt=0;tt<rt;tt+=1)this.filters[tt].renderFrame(et)},CVEffects.prototype.getEffects=function(et){var tt,rt=this.filters.length,nt=[];for(tt=0;tt<rt;tt+=1)this.filters[tt].type===et&&nt.push(this.filters[tt]);return nt};function registerEffect(et,tt){registeredEffects[et]={effect:tt}}function CVMaskElement(et,tt){this.data=et,this.element=tt,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var rt,nt=this.masksProperties.length,at=!1;for(rt=0;rt<nt;rt+=1)this.masksProperties[rt].mode!=="n"&&(at=!0),this.viewData[rt]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[rt],3);this.hasMasks=at,at&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var et=this.element.finalTransform.mat,tt=this.element.canvasContext,rt,nt=this.masksProperties.length,at,lt,dt;for(tt.beginPath(),rt=0;rt<nt;rt+=1)if(this.masksProperties[rt].mode!=="n"){this.masksProperties[rt].inv&&(tt.moveTo(0,0),tt.lineTo(this.element.globalData.compSize.w,0),tt.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),tt.lineTo(0,this.element.globalData.compSize.h),tt.lineTo(0,0)),dt=this.viewData[rt].v,at=et.applyToPointArray(dt.v[0][0],dt.v[0][1],0),tt.moveTo(at[0],at[1]);var ot,mt=dt._length;for(ot=1;ot<mt;ot+=1)lt=et.applyToTriplePoints(dt.o[ot-1],dt.i[ot],dt.v[ot]),tt.bezierCurveTo(lt[0],lt[1],lt[2],lt[3],lt[4],lt[5]);lt=et.applyToTriplePoints(dt.o[ot-1],dt.i[0],dt.v[0]),tt.bezierCurveTo(lt[0],lt[1],lt[2],lt[3],lt[4],lt[5])}this.element.globalData.renderer.save(!0),tt.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var tt=this.globalData.canvasContext,rt=assetLoader.createCanvas(tt.canvas.width,tt.canvas.height);this.buffers.push(rt);var nt=assetLoader.createCanvas(tt.canvas.width,tt.canvas.height);this.buffers.push(nt),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var tt=this.globalData;if(tt.blendMode!==this.data.bm){tt.blendMode=this.data.bm;var rt=getBlendMode(this.data.bm);tt.canvasContext.globalCompositeOperation=rt}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(tt){tt.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var tt=this.buffers[0],rt=tt.getContext("2d");this.clearCanvas(rt),rt.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var tt=this.buffers[1],rt=tt.getContext("2d");this.clearCanvas(rt),rt.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var nt=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(nt.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var at=assetLoader.getLumaCanvas(this.canvasContext.canvas),lt=at.getContext("2d");lt.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(at,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(tt,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(tt){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!tt)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var rt=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(rt),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(rt),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(et,tt,rt,nt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var at=4;tt.ty==="rc"?at=5:tt.ty==="el"?at=6:tt.ty==="sr"&&(at=7),this.sh=ShapePropertyFactory.getShapeProp(et,tt,at,et);var lt,dt=rt.length,ot;for(lt=0;lt<dt;lt+=1)rt[lt].closed||(ot={transforms:nt.addTransformSequence(rt[lt].transforms),trNodes:[]},this.styledShapes.push(ot),rt[lt].elements.push(ot))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(et,tt,rt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(et,tt){var rt={data:et,type:et.ty,preTransforms:this.transformsManager.addTransformSequence(tt),transforms:[],elements:[],closed:et.hd===!0},nt={};if(et.ty==="fl"||et.ty==="st"?(nt.c=PropertyFactory.getProp(this,et.c,1,255,this),nt.c.k||(rt.co="rgb("+bmFloor(nt.c.v[0])+","+bmFloor(nt.c.v[1])+","+bmFloor(nt.c.v[2])+")")):(et.ty==="gf"||et.ty==="gs")&&(nt.s=PropertyFactory.getProp(this,et.s,1,null,this),nt.e=PropertyFactory.getProp(this,et.e,1,null,this),nt.h=PropertyFactory.getProp(this,et.h||{k:0},0,.01,this),nt.a=PropertyFactory.getProp(this,et.a||{k:0},0,degToRads,this),nt.g=new GradientProperty(this,et.g,this)),nt.o=PropertyFactory.getProp(this,et.o,0,.01,this),et.ty==="st"||et.ty==="gs"){if(rt.lc=lineCapEnum[et.lc||2],rt.lj=lineJoinEnum[et.lj||2],et.lj==1&&(rt.ml=et.ml),nt.w=PropertyFactory.getProp(this,et.w,0,null,this),nt.w.k||(rt.wi=nt.w.v),et.d){var at=new DashProperty(this,et.d,"canvas",this);nt.d=at,nt.d.k||(rt.da=nt.d.dashArray,rt.do=nt.d.dashoffset[0])}}else rt.r=et.r===2?"evenodd":"nonzero";return this.stylesList.push(rt),nt.style=rt,nt},CVShapeElement.prototype.createGroupElement=function(){var et={it:[],prevViewData:[]};return et},CVShapeElement.prototype.createTransformElement=function(et){var tt={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,et.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,et,this)}};return tt},CVShapeElement.prototype.createShapeElement=function(et){var tt=new CVShapeData(this,et,this.stylesList,this.transformsManager);return this.shapes.push(tt),this.addShapeToModifiers(tt),tt},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var et,tt=this.itemsData.length;for(et=0;et<tt;et+=1)this.prevViewData[et]=this.itemsData[et];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),tt=this.dynamicProperties.length,et=0;et<tt;et+=1)this.dynamicProperties[et].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(et){var tt,rt=this.stylesList.length;for(tt=0;tt<rt;tt+=1)this.stylesList[tt].closed||this.stylesList[tt].transforms.push(et)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var et,tt=this.stylesList.length;for(et=0;et<tt;et+=1)this.stylesList[et].closed||this.stylesList[et].transforms.pop()},CVShapeElement.prototype.closeStyles=function(et){var tt,rt=et.length;for(tt=0;tt<rt;tt+=1)et[tt].closed=!0},CVShapeElement.prototype.searchShapes=function(et,tt,rt,nt,at){var lt,dt=et.length-1,ot,mt,xt=[],Et=[],At,Tt,Ft,Mt=[].concat(at);for(lt=dt;lt>=0;lt-=1){if(At=this.searchProcessedElement(et[lt]),At?tt[lt]=rt[At-1]:et[lt]._shouldRender=nt,et[lt].ty==="fl"||et[lt].ty==="st"||et[lt].ty==="gf"||et[lt].ty==="gs")At?tt[lt].style.closed=!1:tt[lt]=this.createStyleElement(et[lt],Mt),xt.push(tt[lt].style);else if(et[lt].ty==="gr"){if(!At)tt[lt]=this.createGroupElement(et[lt]);else for(mt=tt[lt].it.length,ot=0;ot<mt;ot+=1)tt[lt].prevViewData[ot]=tt[lt].it[ot];this.searchShapes(et[lt].it,tt[lt].it,tt[lt].prevViewData,nt,Mt)}else et[lt].ty==="tr"?(At||(Ft=this.createTransformElement(et[lt]),tt[lt]=Ft),Mt.push(tt[lt]),this.addTransformToStyleList(tt[lt])):et[lt].ty==="sh"||et[lt].ty==="rc"||et[lt].ty==="el"||et[lt].ty==="sr"?At||(tt[lt]=this.createShapeElement(et[lt])):et[lt].ty==="tm"||et[lt].ty==="rd"||et[lt].ty==="pb"||et[lt].ty==="zz"||et[lt].ty==="op"?(At?(Tt=tt[lt],Tt.closed=!1):(Tt=ShapeModifiers.getModifier(et[lt].ty),Tt.init(this,et[lt]),tt[lt]=Tt,this.shapeModifiers.push(Tt)),Et.push(Tt)):et[lt].ty==="rp"&&(At?(Tt=tt[lt],Tt.closed=!0):(Tt=ShapeModifiers.getModifier(et[lt].ty),tt[lt]=Tt,Tt.init(this,et,lt,tt),this.shapeModifiers.push(Tt),nt=!1),Et.push(Tt));this.addProcessedElement(et[lt],lt+1)}for(this.removeTransformFromStyleList(),this.closeStyles(xt),dt=Et.length,lt=0;lt<dt;lt+=1)Et[lt].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(et,tt){(et._opMdf||tt.op._mdf||this._isFirstFrame)&&(tt.opacity=et.opacity,tt.opacity*=tt.op.v,tt._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var et,tt=this.stylesList.length,rt,nt,at,lt,dt,ot,mt=this.globalData.renderer,xt=this.globalData.canvasContext,Et,At;for(et=0;et<tt;et+=1)if(At=this.stylesList[et],Et=At.type,!((Et==="st"||Et==="gs")&&At.wi===0||!At.data._shouldRender||At.coOp===0||this.globalData.currentGlobalAlpha===0)){for(mt.save(),dt=At.elements,Et==="st"||Et==="gs"?(xt.strokeStyle=Et==="st"?At.co:At.grd,xt.lineWidth=At.wi,xt.lineCap=At.lc,xt.lineJoin=At.lj,xt.miterLimit=At.ml||0):xt.fillStyle=Et==="fl"?At.co:At.grd,mt.ctxOpacity(At.coOp),Et!=="st"&&Et!=="gs"&&xt.beginPath(),mt.ctxTransform(At.preTransforms.finalTransform.props),nt=dt.length,rt=0;rt<nt;rt+=1){for((Et==="st"||Et==="gs")&&(xt.beginPath(),At.da&&(xt.setLineDash(At.da),xt.lineDashOffset=At.do)),ot=dt[rt].trNodes,lt=ot.length,at=0;at<lt;at+=1)ot[at].t==="m"?xt.moveTo(ot[at].p[0],ot[at].p[1]):ot[at].t==="c"?xt.bezierCurveTo(ot[at].pts[0],ot[at].pts[1],ot[at].pts[2],ot[at].pts[3],ot[at].pts[4],ot[at].pts[5]):xt.closePath();(Et==="st"||Et==="gs")&&(xt.stroke(),At.da&&xt.setLineDash(this.dashResetter))}Et!=="st"&&Et!=="gs"&&xt.fill(At.r),mt.restore()}},CVShapeElement.prototype.renderShape=function(et,tt,rt,nt){var at,lt=tt.length-1,dt;for(dt=et,at=lt;at>=0;at-=1)tt[at].ty==="tr"?(dt=rt[at].transform,this.renderShapeTransform(et,dt)):tt[at].ty==="sh"||tt[at].ty==="el"||tt[at].ty==="rc"||tt[at].ty==="sr"?this.renderPath(tt[at],rt[at]):tt[at].ty==="fl"?this.renderFill(tt[at],rt[at],dt):tt[at].ty==="st"?this.renderStroke(tt[at],rt[at],dt):tt[at].ty==="gf"||tt[at].ty==="gs"?this.renderGradientFill(tt[at],rt[at],dt):tt[at].ty==="gr"?this.renderShape(dt,tt[at].it,rt[at].it):tt[at].ty;nt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(et,tt){if(this._isFirstFrame||tt._mdf||et.transforms._mdf){var rt=et.trNodes,nt=tt.paths,at,lt,dt,ot=nt._length;rt.length=0;var mt=et.transforms.finalTransform;for(dt=0;dt<ot;dt+=1){var xt=nt.shapes[dt];if(xt&&xt.v){for(lt=xt._length,at=1;at<lt;at+=1)at===1&&rt.push({t:"m",p:mt.applyToPointArray(xt.v[0][0],xt.v[0][1],0)}),rt.push({t:"c",pts:mt.applyToTriplePoints(xt.o[at-1],xt.i[at],xt.v[at])});lt===1&&rt.push({t:"m",p:mt.applyToPointArray(xt.v[0][0],xt.v[0][1],0)}),xt.c&&lt&&(rt.push({t:"c",pts:mt.applyToTriplePoints(xt.o[at-1],xt.i[0],xt.v[0])}),rt.push({t:"z"}))}}et.trNodes=rt}},CVShapeElement.prototype.renderPath=function(et,tt){if(et.hd!==!0&&et._shouldRender){var rt,nt=tt.styledShapes.length;for(rt=0;rt<nt;rt+=1)this.renderStyledShape(tt.styledShapes[rt],tt.sh)}},CVShapeElement.prototype.renderFill=function(et,tt,rt){var nt=tt.style;(tt.c._mdf||this._isFirstFrame)&&(nt.co="rgb("+bmFloor(tt.c.v[0])+","+bmFloor(tt.c.v[1])+","+bmFloor(tt.c.v[2])+")"),(tt.o._mdf||rt._opMdf||this._isFirstFrame)&&(nt.coOp=tt.o.v*rt.opacity)},CVShapeElement.prototype.renderGradientFill=function(et,tt,rt){var nt=tt.style,at;if(!nt.grd||tt.g._mdf||tt.s._mdf||tt.e._mdf||et.t!==1&&(tt.h._mdf||tt.a._mdf)){var lt=this.globalData.canvasContext,dt=tt.s.v,ot=tt.e.v;if(et.t===1)at=lt.createLinearGradient(dt[0],dt[1],ot[0],ot[1]);else{var mt=Math.sqrt(Math.pow(dt[0]-ot[0],2)+Math.pow(dt[1]-ot[1],2)),xt=Math.atan2(ot[1]-dt[1],ot[0]-dt[0]),Et=tt.h.v;Et>=1?Et=.99:Et<=-1&&(Et=-.99);var At=mt*Et,Tt=Math.cos(xt+tt.a.v)*At+dt[0],Ft=Math.sin(xt+tt.a.v)*At+dt[1];at=lt.createRadialGradient(Tt,Ft,0,dt[0],dt[1],mt)}var Mt,Lt=et.g.p,Gt=tt.g.c,Pt=1;for(Mt=0;Mt<Lt;Mt+=1)tt.g._hasOpacity&&tt.g._collapsable&&(Pt=tt.g.o[Mt*2+1]),at.addColorStop(Gt[Mt*4]/100,"rgba("+Gt[Mt*4+1]+","+Gt[Mt*4+2]+","+Gt[Mt*4+3]+","+Pt+")");nt.grd=at}nt.coOp=tt.o.v*rt.opacity},CVShapeElement.prototype.renderStroke=function(et,tt,rt){var nt=tt.style,at=tt.d;at&&(at._mdf||this._isFirstFrame)&&(nt.da=at.dashArray,nt.do=at.dashoffset[0]),(tt.c._mdf||this._isFirstFrame)&&(nt.co="rgb("+bmFloor(tt.c.v[0])+","+bmFloor(tt.c.v[1])+","+bmFloor(tt.c.v[2])+")"),(tt.o._mdf||rt._opMdf||this._isFirstFrame)&&(nt.coOp=tt.o.v*rt.opacity),(tt.w._mdf||this._isFirstFrame)&&(nt.wi=tt.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(et,tt,rt){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et.l?et.l.length:0);var tt=!1;et.fc?(tt=!0,this.values.fill=this.buildColor(et.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=tt;var rt=!1;et.sc&&(rt=!0,this.values.stroke=this.buildColor(et.sc),this.values.sWidth=et.sw);var nt=this.globalData.fontManager.getFontByName(et.f),at,lt,dt=et.l,ot=this.mHelper;this.stroke=rt,this.values.fValue=et.finalSize+"px "+this.globalData.fontManager.getFontByName(et.f).fFamily,lt=et.finalText.length;var mt,xt,Et,At,Tt,Ft,Mt,Lt,Gt,Pt,$t=this.data.singleShape,It=et.tr*.001*et.finalSize,Ot=0,Vt=0,Ut=!0,Wt=0;for(at=0;at<lt;at+=1){mt=this.globalData.fontManager.getCharData(et.finalText[at],nt.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily),xt=mt&&mt.data||{},ot.reset(),$t&&dt[at].n&&(Ot=-It,Vt+=et.yOffset,Vt+=Ut?1:0,Ut=!1),Tt=xt.shapes?xt.shapes[0].it:[],Mt=Tt.length,ot.scale(et.finalSize/100,et.finalSize/100),$t&&this.applyTextPropertiesToMatrix(et,ot,dt[at].line,Ot,Vt),Gt=createSizedArray(Mt-1);var nr=0;for(Ft=0;Ft<Mt;Ft+=1)if(Tt[Ft].ty==="sh"){for(At=Tt[Ft].ks.k.i.length,Lt=Tt[Ft].ks.k,Pt=[],Et=1;Et<At;Et+=1)Et===1&&Pt.push(ot.applyToX(Lt.v[0][0],Lt.v[0][1],0),ot.applyToY(Lt.v[0][0],Lt.v[0][1],0)),Pt.push(ot.applyToX(Lt.o[Et-1][0],Lt.o[Et-1][1],0),ot.applyToY(Lt.o[Et-1][0],Lt.o[Et-1][1],0),ot.applyToX(Lt.i[Et][0],Lt.i[Et][1],0),ot.applyToY(Lt.i[Et][0],Lt.i[Et][1],0),ot.applyToX(Lt.v[Et][0],Lt.v[Et][1],0),ot.applyToY(Lt.v[Et][0],Lt.v[Et][1],0));Pt.push(ot.applyToX(Lt.o[Et-1][0],Lt.o[Et-1][1],0),ot.applyToY(Lt.o[Et-1][0],Lt.o[Et-1][1],0),ot.applyToX(Lt.i[0][0],Lt.i[0][1],0),ot.applyToY(Lt.i[0][0],Lt.i[0][1],0),ot.applyToX(Lt.v[0][0],Lt.v[0][1],0),ot.applyToY(Lt.v[0][0],Lt.v[0][1],0)),Gt[nr]=Pt,nr+=1}$t&&(Ot+=dt[at].l,Ot+=It),this.textSpans[Wt]?this.textSpans[Wt].elem=Gt:this.textSpans[Wt]={elem:Gt},Wt+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var et=this.canvasContext;et.font=this.values.fValue,et.lineCap="butt",et.lineJoin="miter",et.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var tt,rt,nt,at,lt,dt,ot=this.textAnimator.renderedLetters,mt=this.textProperty.currentData.l;rt=mt.length;var xt,Et=null,At=null,Tt=null,Ft,Mt;for(tt=0;tt<rt;tt+=1)if(!mt[tt].n){if(xt=ot[tt],xt&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(xt.p),this.globalData.renderer.ctxOpacity(xt.o)),this.fill){for(xt&&xt.fc?Et!==xt.fc&&(Et=xt.fc,et.fillStyle=xt.fc):Et!==this.values.fill&&(Et=this.values.fill,et.fillStyle=this.values.fill),Ft=this.textSpans[tt].elem,at=Ft.length,this.globalData.canvasContext.beginPath(),nt=0;nt<at;nt+=1)for(Mt=Ft[nt],dt=Mt.length,this.globalData.canvasContext.moveTo(Mt[0],Mt[1]),lt=2;lt<dt;lt+=6)this.globalData.canvasContext.bezierCurveTo(Mt[lt],Mt[lt+1],Mt[lt+2],Mt[lt+3],Mt[lt+4],Mt[lt+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(xt&&xt.sw?Tt!==xt.sw&&(Tt=xt.sw,et.lineWidth=xt.sw):Tt!==this.values.sWidth&&(Tt=this.values.sWidth,et.lineWidth=this.values.sWidth),xt&&xt.sc?At!==xt.sc&&(At=xt.sc,et.strokeStyle=xt.sc):At!==this.values.stroke&&(At=this.values.stroke,et.strokeStyle=this.values.stroke),Ft=this.textSpans[tt].elem,at=Ft.length,this.globalData.canvasContext.beginPath(),nt=0;nt<at;nt+=1)for(Mt=Ft[nt],dt=Mt.length,this.globalData.canvasContext.moveTo(Mt[0],Mt[1]),lt=2;lt<dt;lt+=6)this.globalData.canvasContext.bezierCurveTo(Mt[lt],Mt[lt+1],Mt[lt+2],Mt[lt+3],Mt[lt+4],Mt[lt+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}xt&&this.globalData.renderer.restore()}};function CVImageElement(et,tt,rt){this.assetData=tt.getAssetData(et.refId),this.img=tt.imageLoader.getAsset(this.assetData),this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var et=createTag("canvas");et.width=this.assetData.w,et.height=this.assetData.h;var tt=et.getContext("2d"),rt=this.img.width,nt=this.img.height,at=rt/nt,lt=this.assetData.w/this.assetData.h,dt,ot,mt=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;at>lt&&mt==="xMidYMid slice"||at<lt&&mt!=="xMidYMid slice"?(ot=nt,dt=ot*lt):(dt=rt,ot=dt/lt),tt.drawImage(this.img,(rt-dt)/2,(nt-ot)/2,dt,ot,0,0,this.assetData.w,this.assetData.h),this.img=et}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(et,tt,rt){this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var et=this.canvasContext;et.fillStyle=this.data.sc,et.fillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(et,tt){this.animationItem=et,this.renderConfig={clearCanvas:tt&&tt.clearCanvas!==void 0?tt.clearCanvas:!0,context:tt&&tt.context||null,progressiveLoad:tt&&tt.progressiveLoad||!1,preserveAspectRatio:tt&&tt.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:tt&&tt.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:tt&&tt.contentVisibility||"visible",className:tt&&tt.className||"",id:tt&&tt.id||""},this.renderConfig.dpr=tt&&tt.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=tt&&tt.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(et){return new CVShapeElement(et,this.globalData,this)},CanvasRendererBase.prototype.createText=function(et){return new CVTextElement(et,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(et){return new CVImageElement(et,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(et){return new CVSolidElement(et,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(et){if(!(et[0]===1&&et[1]===0&&et[4]===0&&et[5]===1&&et[12]===0&&et[13]===0)){if(!this.renderConfig.clearCanvas){this.canvasContext.transform(et[0],et[1],et[4],et[5],et[12],et[13]);return}this.transformMat.cloneFromProps(et);var tt=this.contextData.getTransform();this.transformMat.multiply(tt),tt.cloneFromProps(this.transformMat.props);var rt=tt.props;this.canvasContext.setTransform(rt[0],rt[1],rt[4],rt[5],rt[12],rt[13])}},CanvasRendererBase.prototype.ctxOpacity=function(et){var tt=this.contextData.getOpacity();if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=et<0?0:et,this.globalData.currentGlobalAlpha=tt;return}tt*=et<0?0:et,this.contextData.setOpacity(tt),this.globalData.currentGlobalAlpha!==tt&&(this.canvasContext.globalAlpha=tt,this.globalData.currentGlobalAlpha=tt)},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(et){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return}et&&this.canvasContext.save(),this.contextData.push()},CanvasRendererBase.prototype.restore=function(et){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}et&&(this.canvasContext.restore(),this.globalData.blendMode="source-over");var tt=this.contextData.pop(),rt=tt.transform,nt=tt.opacity;this.canvasContext.setTransform(rt[0],rt[1],rt[4],rt[5],rt[12],rt[13]),this.globalData.currentGlobalAlpha!==nt&&(this.canvasContext.globalAlpha=nt,this.globalData.currentGlobalAlpha=nt)},CanvasRendererBase.prototype.configAnimation=function(et){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var tt=this.animationItem.container.style;tt.width="100%",tt.height="100%";var rt="0px 0px 0px";tt.transformOrigin=rt,tt.mozTransformOrigin=rt,tt.webkitTransformOrigin=rt,tt["-webkit-transform"]=rt,tt.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=et,this.layers=et.layers,this.transformCanvas={w:et.w,h:et.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(et,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(et.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(et,tt){this.reset();var rt,nt;et?(rt=et,nt=tt,this.canvasContext.canvas.width=rt,this.canvasContext.canvas.height=nt):(this.animationItem.wrapper&&this.animationItem.container?(rt=this.animationItem.wrapper.offsetWidth,nt=this.animationItem.wrapper.offsetHeight):(rt=this.canvasContext.canvas.width,nt=this.canvasContext.canvas.height),this.canvasContext.canvas.width=rt*this.renderConfig.dpr,this.canvasContext.canvas.height=nt*this.renderConfig.dpr);var at,lt;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var dt=this.renderConfig.preserveAspectRatio.split(" "),ot=dt[1]||"meet",mt=dt[0]||"xMidYMid",xt=mt.substr(0,4),Et=mt.substr(4);at=rt/nt,lt=this.transformCanvas.w/this.transformCanvas.h,lt>at&&ot==="meet"||lt<at&&ot==="slice"?(this.transformCanvas.sx=rt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=rt/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=nt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=nt/(this.transformCanvas.h/this.renderConfig.dpr)),xt==="xMid"&&(lt<at&&ot==="meet"||lt>at&&ot==="slice")?this.transformCanvas.tx=(rt-this.transformCanvas.w*(nt/this.transformCanvas.h))/2*this.renderConfig.dpr:xt==="xMax"&&(lt<at&&ot==="meet"||lt>at&&ot==="slice")?this.transformCanvas.tx=(rt-this.transformCanvas.w*(nt/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,Et==="YMid"&&(lt>at&&ot==="meet"||lt<at&&ot==="slice")?this.transformCanvas.ty=(nt-this.transformCanvas.h*(rt/this.transformCanvas.w))/2*this.renderConfig.dpr:Et==="YMax"&&(lt>at&&ot==="meet"||lt<at&&ot==="slice")?this.transformCanvas.ty=(nt-this.transformCanvas.h*(rt/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=rt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=nt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var et,tt=this.layers?this.layers.length:0;for(et=tt-1;et>=0;et-=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(et,tt){if(!(this.renderedFrame===et&&this.renderConfig.clearCanvas===!0&&!tt||this.destroyed||et===-1)){this.renderedFrame=et,this.globalData.frameNum=et-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||tt,this.globalData.projectInterface.currentFrame=et;var rt,nt=this.layers.length;for(this.completeLayers||this.checkLayers(et),rt=0;rt<nt;rt+=1)(this.completeLayers||this.elements[rt])&&this.elements[rt].prepareFrame(et-this.layers[rt].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),rt=nt-1;rt>=0;rt-=1)(this.completeLayers||this.elements[rt])&&this.elements[rt].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(et){var tt=this.elements;if(!(tt[et]||this.layers[et].ty===99)){var rt=this.createItem(this.layers[et],this,this.globalData);tt[et]=rt,rt.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();et.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CVCompElement(et,tt,rt){this.completeLayers=!1,this.layers=et.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(et,tt,rt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,tt.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var et=this.canvasContext;et.beginPath(),et.moveTo(0,0),et.lineTo(this.data.w,0),et.lineTo(this.data.w,this.data.h),et.lineTo(0,this.data.h),et.lineTo(0,0),et.clip();var tt,rt=this.layers.length;for(tt=rt-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].renderFrame()},CVCompElement.prototype.destroy=function(){var et,tt=this.layers.length;for(et=tt-1;et>=0;et-=1)this.elements[et]&&this.elements[et].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(et){return new CVCompElement(et,this.globalData,this)};function CanvasRenderer(et,tt){this.animationItem=et,this.renderConfig={clearCanvas:tt&&tt.clearCanvas!==void 0?tt.clearCanvas:!0,context:tt&&tt.context||null,progressiveLoad:tt&&tt.progressiveLoad||!1,preserveAspectRatio:tt&&tt.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:tt&&tt.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:tt&&tt.contentVisibility||"visible",className:tt&&tt.className||"",id:tt&&tt.id||"",runExpressions:!tt||tt.runExpressions===void 0||tt.runExpressions},this.renderConfig.dpr=tt&&tt.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=tt&&tt.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(et){return new CVCompElement(et,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var tt=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var rt=this.finalTransform.mat.toCSS();tt.transform=rt,tt.webkitTransform=rt}this.finalTransform._opMdf&&(tt.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(et,tt,rt){this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var et;this.data.hasMask?(et=createNS("rect"),et.setAttribute("width",this.data.sw),et.setAttribute("height",this.data.sh),et.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(et=createTag("div"),et.style.width=this.data.sw+"px",et.style.height=this.data.sh+"px",et.style.backgroundColor=this.data.sc),this.layerElement.appendChild(et)};function HShapeElement(et,tt,rt){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(et,tt,rt),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var et;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),et=this.svgElement;else{et=createNS("svg");var tt=this.comp.data?this.comp.data:this.globalData.compSize;et.setAttribute("width",tt.w),et.setAttribute("height",tt.h),et.appendChild(this.shapesContainer),this.layerElement.appendChild(et)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=et},HShapeElement.prototype.getTransformedPoint=function(et,tt){var rt,nt=et.length;for(rt=0;rt<nt;rt+=1)tt=et[rt].mProps.v.applyToPointArray(tt[0],tt[1],0);return tt},HShapeElement.prototype.calculateShapeBoundingBox=function(et,tt){var rt=et.sh.v,nt=et.transformers,at,lt=rt._length,dt,ot,mt,xt;if(!(lt<=1)){for(at=0;at<lt-1;at+=1)dt=this.getTransformedPoint(nt,rt.v[at]),ot=this.getTransformedPoint(nt,rt.o[at]),mt=this.getTransformedPoint(nt,rt.i[at+1]),xt=this.getTransformedPoint(nt,rt.v[at+1]),this.checkBounds(dt,ot,mt,xt,tt);rt.c&&(dt=this.getTransformedPoint(nt,rt.v[at]),ot=this.getTransformedPoint(nt,rt.o[at]),mt=this.getTransformedPoint(nt,rt.i[0]),xt=this.getTransformedPoint(nt,rt.v[0]),this.checkBounds(dt,ot,mt,xt,tt))}},HShapeElement.prototype.checkBounds=function(et,tt,rt,nt,at){this.getBoundsOfCurve(et,tt,rt,nt);var lt=this.shapeBoundingBox;at.x=bmMin(lt.left,at.x),at.xMax=bmMax(lt.right,at.xMax),at.y=bmMin(lt.top,at.y),at.yMax=bmMax(lt.bottom,at.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(et,tt,rt,nt){for(var at=[[et[0],nt[0]],[et[1],nt[1]]],lt,dt,ot,mt,xt,Et,At,Tt=0;Tt<2;++Tt)dt=6*et[Tt]-12*tt[Tt]+6*rt[Tt],lt=-3*et[Tt]+9*tt[Tt]-9*rt[Tt]+3*nt[Tt],ot=3*tt[Tt]-3*et[Tt],dt|=0,lt|=0,ot|=0,lt===0&&dt===0||(lt===0?(mt=-ot/dt,mt>0&&mt<1&&at[Tt].push(this.calculateF(mt,et,tt,rt,nt,Tt))):(xt=dt*dt-4*ot*lt,xt>=0&&(Et=(-dt+bmSqrt(xt))/(2*lt),Et>0&&Et<1&&at[Tt].push(this.calculateF(Et,et,tt,rt,nt,Tt)),At=(-dt-bmSqrt(xt))/(2*lt),At>0&&At<1&&at[Tt].push(this.calculateF(At,et,tt,rt,nt,Tt)))));this.shapeBoundingBox.left=bmMin.apply(null,at[0]),this.shapeBoundingBox.top=bmMin.apply(null,at[1]),this.shapeBoundingBox.right=bmMax.apply(null,at[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,at[1])},HShapeElement.prototype.calculateF=function(et,tt,rt,nt,at,lt){return bmPow(1-et,3)*tt[lt]+3*bmPow(1-et,2)*et*rt[lt]+3*(1-et)*bmPow(et,2)*nt[lt]+bmPow(et,3)*at[lt]},HShapeElement.prototype.calculateBoundingBox=function(et,tt){var rt,nt=et.length;for(rt=0;rt<nt;rt+=1)et[rt]&&et[rt].sh?this.calculateShapeBoundingBox(et[rt],tt):et[rt]&&et[rt].it?this.calculateBoundingBox(et[rt].it,tt):et[rt]&&et[rt].style&&et[rt].w&&this.expandStrokeBoundingBox(et[rt].w,tt)},HShapeElement.prototype.expandStrokeBoundingBox=function(et,tt){var rt=0;if(et.keyframes){for(var nt=0;nt<et.keyframes.length;nt+=1){var at=et.keyframes[nt].s;at>rt&&(rt=at)}rt*=et.mult}else rt=et.v*et.mult;tt.x-=rt,tt.xMax+=rt,tt.y-=rt,tt.yMax+=rt},HShapeElement.prototype.currentBoxContains=function(et){return this.currentBBox.x<=et.x&&this.currentBBox.y<=et.y&&this.currentBBox.width+this.currentBBox.x>=et.x+et.width&&this.currentBBox.height+this.currentBBox.y>=et.y+et.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var et=this.tempBoundingBox,tt=999999;if(et.x=tt,et.xMax=-tt,et.y=tt,et.yMax=-tt,this.calculateBoundingBox(this.itemsData,et),et.width=et.xMax<et.x?0:et.xMax-et.x,et.height=et.yMax<et.y?0:et.yMax-et.y,this.currentBoxContains(et))return;var rt=!1;if(this.currentBBox.w!==et.width&&(this.currentBBox.w=et.width,this.shapeCont.setAttribute("width",et.width),rt=!0),this.currentBBox.h!==et.height&&(this.currentBBox.h=et.height,this.shapeCont.setAttribute("height",et.height),rt=!0),rt||this.currentBBox.x!==et.x||this.currentBBox.y!==et.y){this.currentBBox.w=et.width,this.currentBBox.h=et.height,this.currentBBox.x=et.x,this.currentBBox.y=et.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var nt=this.shapeCont.style,at="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";nt.transform=at,nt.webkitTransform=at}}};function HTextElement(et,tt,rt){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var et=createNS("g");this.maskedElement.appendChild(et),this.innerElem=et}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et.l?et.l.length:0);var tt=this.innerElem.style,rt=et.fc?this.buildColor(et.fc):"rgba(0,0,0,0)";tt.fill=rt,tt.color=rt,et.sc&&(tt.stroke=this.buildColor(et.sc),tt.strokeWidth=et.sw+"px");var nt=this.globalData.fontManager.getFontByName(et.f);if(!this.globalData.fontManager.chars)if(tt.fontSize=et.finalSize+"px",tt.lineHeight=et.finalSize+"px",nt.fClass)this.innerElem.className=nt.fClass;else{tt.fontFamily=nt.fFamily;var at=et.fWeight,lt=et.fStyle;tt.fontStyle=lt,tt.fontWeight=at}var dt,ot,mt=et.l;ot=mt.length;var xt,Et,At,Tt=this.mHelper,Ft,Mt="",Lt=0;for(dt=0;dt<ot;dt+=1){if(this.globalData.fontManager.chars?(this.textPaths[Lt]?xt=this.textPaths[Lt]:(xt=createNS("path"),xt.setAttribute("stroke-linecap",lineCapEnum[1]),xt.setAttribute("stroke-linejoin",lineJoinEnum[2]),xt.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Lt]?(Et=this.textSpans[Lt],At=Et.children[0]):(Et=createTag("div"),Et.style.lineHeight=0,At=createNS("svg"),At.appendChild(xt),styleDiv(Et)))):this.isMasked?xt=this.textPaths[Lt]?this.textPaths[Lt]:createNS("text"):this.textSpans[Lt]?(Et=this.textSpans[Lt],xt=this.textPaths[Lt]):(Et=createTag("span"),styleDiv(Et),xt=createTag("span"),styleDiv(xt),Et.appendChild(xt)),this.globalData.fontManager.chars){var Gt=this.globalData.fontManager.getCharData(et.finalText[dt],nt.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily),Pt;if(Gt?Pt=Gt.data:Pt=null,Tt.reset(),Pt&&Pt.shapes&&Pt.shapes.length&&(Ft=Pt.shapes[0].it,Tt.scale(et.finalSize/100,et.finalSize/100),Mt=this.createPathShape(Tt,Ft),xt.setAttribute("d",Mt)),this.isMasked)this.innerElem.appendChild(xt);else{if(this.innerElem.appendChild(Et),Pt&&Pt.shapes){document.body.appendChild(At);var $t=At.getBBox();At.setAttribute("width",$t.width+2),At.setAttribute("height",$t.height+2),At.setAttribute("viewBox",$t.x-1+" "+($t.y-1)+" "+($t.width+2)+" "+($t.height+2));var It=At.style,Ot="translate("+($t.x-1)+"px,"+($t.y-1)+"px)";It.transform=Ot,It.webkitTransform=Ot,mt[dt].yOffset=$t.y-1}else At.setAttribute("width",1),At.setAttribute("height",1);Et.appendChild(At)}}else if(xt.textContent=mt[dt].val,xt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(xt);else{this.innerElem.appendChild(Et);var Vt=xt.style,Ut="translate3d(0,"+-et.finalSize/1.2+"px,0)";Vt.transform=Ut,Vt.webkitTransform=Ut}this.isMasked?this.textSpans[Lt]=xt:this.textSpans[Lt]=Et,this.textSpans[Lt].style.display="block",this.textPaths[Lt]=xt,Lt+=1}for(;Lt<this.textSpans.length;)this.textSpans[Lt].style.display="none",Lt+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var et;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),et=this.svgElement.style;var tt="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";et.transform=tt,et.webkitTransform=tt}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var rt,nt,at=0,lt=this.textAnimator.renderedLetters,dt=this.textProperty.currentData.l;nt=dt.length;var ot,mt,xt;for(rt=0;rt<nt;rt+=1)dt[rt].n?at+=1:(mt=this.textSpans[rt],xt=this.textPaths[rt],ot=lt[at],at+=1,ot._mdf.m&&(this.isMasked?mt.setAttribute("transform",ot.m):(mt.style.webkitTransform=ot.m,mt.style.transform=ot.m)),mt.style.opacity=ot.o,ot.sw&&ot._mdf.sw&&xt.setAttribute("stroke-width",ot.sw),ot.sc&&ot._mdf.sc&&xt.setAttribute("stroke",ot.sc),ot.fc&&ot._mdf.fc&&(xt.setAttribute("fill",ot.fc),xt.style.color=ot.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var Et=this.innerElem.getBBox();this.currentBBox.w!==Et.width&&(this.currentBBox.w=Et.width,this.svgElement.setAttribute("width",Et.width)),this.currentBBox.h!==Et.height&&(this.currentBBox.h=Et.height,this.svgElement.setAttribute("height",Et.height));var At=1;if(this.currentBBox.w!==Et.width+At*2||this.currentBBox.h!==Et.height+At*2||this.currentBBox.x!==Et.x-At||this.currentBBox.y!==Et.y-At){this.currentBBox.w=Et.width+At*2,this.currentBBox.h=Et.height+At*2,this.currentBBox.x=Et.x-At,this.currentBBox.y=Et.y-At,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),et=this.svgElement.style;var Tt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";et.transform=Tt,et.webkitTransform=Tt}}}};function HCameraElement(et,tt,rt){this.initFrame(),this.initBaseData(et,tt,rt),this.initHierarchy();var nt=PropertyFactory.getProp;if(this.pe=nt(this,et.pe,0,0,this),et.ks.p.s?(this.px=nt(this,et.ks.p.x,1,0,this),this.py=nt(this,et.ks.p.y,1,0,this),this.pz=nt(this,et.ks.p.z,1,0,this)):this.p=nt(this,et.ks.p,1,0,this),et.ks.a&&(this.a=nt(this,et.ks.a,1,0,this)),et.ks.or.k.length&&et.ks.or.k[0].to){var at,lt=et.ks.or.k.length;for(at=0;at<lt;at+=1)et.ks.or.k[at].to=null,et.ks.or.k[at].ti=null}this.or=nt(this,et.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=nt(this,et.ks.rx,0,degToRads,this),this.ry=nt(this,et.ks.ry,0,degToRads,this),this.rz=nt(this,et.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var et,tt=this.comp.threeDElements.length,rt,nt,at;for(et=0;et<tt;et+=1)if(rt=this.comp.threeDElements[et],rt.type==="3d"){nt=rt.perspectiveElem.style,at=rt.container.style;var lt=this.pe.v+"px",dt="0px 0px 0px",ot="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";nt.perspective=lt,nt.webkitPerspective=lt,at.transformOrigin=dt,at.mozTransformOrigin=dt,at.webkitTransformOrigin=dt,nt.transform=ot,nt.webkitTransform=ot}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var et=this._isFirstFrame,tt,rt;if(this.hierarchy)for(rt=this.hierarchy.length,tt=0;tt<rt;tt+=1)et=this.hierarchy[tt].finalTransform.mProp._mdf||et;if(et||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(rt=this.hierarchy.length-1,tt=rt;tt>=0;tt-=1){var nt=this.hierarchy[tt].finalTransform.mProp;this.mat.translate(-nt.p.v[0],-nt.p.v[1],nt.p.v[2]),this.mat.rotateX(-nt.or.v[0]).rotateY(-nt.or.v[1]).rotateZ(nt.or.v[2]),this.mat.rotateX(-nt.rx.v).rotateY(-nt.ry.v).rotateZ(nt.rz.v),this.mat.scale(1/nt.s.v[0],1/nt.s.v[1],1/nt.s.v[2]),this.mat.translate(nt.a.v[0],nt.a.v[1],nt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var at;this.p?at=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:at=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var lt=Math.sqrt(Math.pow(at[0],2)+Math.pow(at[1],2)+Math.pow(at[2],2)),dt=[at[0]/lt,at[1]/lt,at[2]/lt],ot=Math.sqrt(dt[2]*dt[2]+dt[0]*dt[0]),mt=Math.atan2(dt[1],ot),xt=Math.atan2(dt[0],-dt[2]);this.mat.rotateY(xt).rotateX(-mt)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var Et=!this._prevMat.equals(this.mat);if((Et||this.pe._mdf)&&this.comp.threeDElements){rt=this.comp.threeDElements.length;var At,Tt,Ft;for(tt=0;tt<rt;tt+=1)if(At=this.comp.threeDElements[tt],At.type==="3d"){if(Et){var Mt=this.mat.toCSS();Ft=At.container.style,Ft.transform=Mt,Ft.webkitTransform=Mt}this.pe._mdf&&(Tt=At.perspectiveElem.style,Tt.perspective=this.pe.v+"px",Tt.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(et){this.prepareProperties(et,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(et,tt,rt){this.assetData=tt.getAssetData(et.refId),this.initElement(et,tt,rt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var et=this.globalData.getAssetsPath(this.assetData),tt=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",et),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(tt),tt.crossOrigin="anonymous",tt.src=et,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(et,tt){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:tt&&tt.className||"",imagePreserveAspectRatio:tt&&tt.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(tt&&tt.hideOnTransparent===!1),filterSize:{width:tt&&tt.filterSize&&tt.filterSize.width||"400%",height:tt&&tt.filterSize&&tt.filterSize.height||"400%",x:tt&&tt.filterSize&&tt.filterSize.x||"-100%",y:tt&&tt.filterSize&&tt.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();et.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(et,tt){var rt=et.getBaseElement();if(rt){var nt=this.layers[tt];if(!nt.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(rt,tt);else{for(var at=0,lt,dt,ot;at<tt;)this.elements[at]&&this.elements[at]!==!0&&this.elements[at].getBaseElement&&(dt=this.elements[at],ot=this.layers[at].ddd?this.getThreeDContainerByPos(at):dt.getBaseElement(),lt=ot||lt),at+=1;lt?(!nt.ddd||!this.supports3d)&&this.layerElement.insertBefore(rt,lt):(!nt.ddd||!this.supports3d)&&this.layerElement.appendChild(rt)}else this.addTo3dContainer(rt,tt)}},HybridRendererBase.prototype.createShape=function(et){return this.supports3d?new HShapeElement(et,this.globalData,this):new SVGShapeElement(et,this.globalData,this)},HybridRendererBase.prototype.createText=function(et){return this.supports3d?new HTextElement(et,this.globalData,this):new SVGTextLottieElement(et,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(et){return this.camera=new HCameraElement(et,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(et){return this.supports3d?new HImageElement(et,this.globalData,this):new IImageElement(et,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(et){return this.supports3d?new HSolidElement(et,this.globalData,this):new ISolidElement(et,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(et){for(var tt=0,rt=this.threeDElements.length;tt<rt;){if(this.threeDElements[tt].startPos<=et&&this.threeDElements[tt].endPos>=et)return this.threeDElements[tt].perspectiveElem;tt+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(et,tt){var rt=createTag("div"),nt,at;styleDiv(rt);var lt=createTag("div");if(styleDiv(lt),tt==="3d"){nt=rt.style,nt.width=this.globalData.compSize.w+"px",nt.height=this.globalData.compSize.h+"px";var dt="50% 50%";nt.webkitTransformOrigin=dt,nt.mozTransformOrigin=dt,nt.transformOrigin=dt,at=lt.style;var ot="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";at.transform=ot,at.webkitTransform=ot}rt.appendChild(lt);var mt={container:lt,perspectiveElem:rt,startPos:et,endPos:et,type:tt};return this.threeDElements.push(mt),mt},HybridRendererBase.prototype.build3dContainers=function(){var et,tt=this.layers.length,rt,nt="";for(et=0;et<tt;et+=1)this.layers[et].ddd&&this.layers[et].ty!==3?(nt!=="3d"&&(nt="3d",rt=this.createThreeDContainer(et,"3d")),rt.endPos=Math.max(rt.endPos,et)):(nt!=="2d"&&(nt="2d",rt=this.createThreeDContainer(et,"2d")),rt.endPos=Math.max(rt.endPos,et));for(tt=this.threeDElements.length,et=tt-1;et>=0;et-=1)this.resizerElem.appendChild(this.threeDElements[et].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(et,tt){for(var rt=0,nt=this.threeDElements.length;rt<nt;){if(tt<=this.threeDElements[rt].endPos){for(var at=this.threeDElements[rt].startPos,lt;at<tt;)this.elements[at]&&this.elements[at].getBaseElement&&(lt=this.elements[at].getBaseElement()),at+=1;lt?this.threeDElements[rt].container.insertBefore(et,lt):this.threeDElements[rt].container.appendChild(et);break}rt+=1}},HybridRendererBase.prototype.configAnimation=function(et){var tt=createTag("div"),rt=this.animationItem.wrapper,nt=tt.style;nt.width=et.w+"px",nt.height=et.h+"px",this.resizerElem=tt,styleDiv(tt),nt.transformStyle="flat",nt.mozTransformStyle="flat",nt.webkitTransformStyle="flat",this.renderConfig.className&&tt.setAttribute("class",this.renderConfig.className),rt.appendChild(tt),nt.overflow="hidden";var at=createNS("svg");at.setAttribute("width","1"),at.setAttribute("height","1"),styleDiv(at),this.resizerElem.appendChild(at);var lt=createNS("defs");at.appendChild(lt),this.data=et,this.setupGlobalData(et,at),this.globalData.defs=lt,this.layers=et.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var et,tt=this.layers?this.layers.length:0;for(et=0;et<tt;et+=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var et=this.animationItem.wrapper.offsetWidth,tt=this.animationItem.wrapper.offsetHeight,rt=et/tt,nt=this.globalData.compSize.w/this.globalData.compSize.h,at,lt,dt,ot;nt>rt?(at=et/this.globalData.compSize.w,lt=et/this.globalData.compSize.w,dt=0,ot=(tt-this.globalData.compSize.h*(et/this.globalData.compSize.w))/2):(at=tt/this.globalData.compSize.h,lt=tt/this.globalData.compSize.h,dt=(et-this.globalData.compSize.w*(tt/this.globalData.compSize.h))/2,ot=0);var mt=this.resizerElem.style;mt.webkitTransform="matrix3d("+at+",0,0,0,0,"+lt+",0,0,0,0,1,0,"+dt+","+ot+",0,1)",mt.transform=mt.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var et=this.globalData.compSize.w,tt=this.globalData.compSize.h,rt,nt=this.threeDElements.length;for(rt=0;rt<nt;rt+=1){var at=this.threeDElements[rt].perspectiveElem.style;at.webkitPerspective=Math.sqrt(Math.pow(et,2)+Math.pow(tt,2))+"px",at.perspective=at.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(et){var tt,rt=et.length,nt=createTag("div");for(tt=0;tt<rt;tt+=1)if(et[tt].xt){var at=this.createComp(et[tt],nt,this.globalData.comp,null);at.initExpressions(),this.globalData.projectInterface.registerComposition(at)}};function HCompElement(et,tt,rt){this.layers=et.layers,this.supports3d=!et.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(et,tt,rt),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,tt.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(et,tt){for(var rt=0,nt;rt<tt;)this.elements[rt]&&this.elements[rt].getBaseElement&&(nt=this.elements[rt].getBaseElement()),rt+=1;nt?this.layerElement.insertBefore(et,nt):this.layerElement.appendChild(et)},HCompElement.prototype.createComp=function(et){return this.supports3d?new HCompElement(et,this.globalData,this):new SVGCompElement(et,this.globalData,this)};function HybridRenderer(et,tt){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:tt&&tt.className||"",imagePreserveAspectRatio:tt&&tt.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(tt&&tt.hideOnTransparent===!1),filterSize:{width:tt&&tt.filterSize&&tt.filterSize.width||"400%",height:tt&&tt.filterSize&&tt.filterSize.height||"400%",x:tt&&tt.filterSize&&tt.filterSize.x||"-100%",y:tt&&tt.filterSize&&tt.filterSize.y||"-100%"},runExpressions:!tt||tt.runExpressions===void 0||tt.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(et){return this.supports3d?new HCompElement(et,this.globalData,this):new SVGCompElement(et,this.globalData,this)};var CompExpressionInterface=function(){return function(et){function tt(rt){for(var nt=0,at=et.layers.length;nt<at;){if(et.layers[nt].nm===rt||et.layers[nt].ind===rt)return et.elements[nt].layerInterface;nt+=1}return null}return Object.defineProperty(tt,"_name",{value:et.data.nm}),tt.layer=tt,tt.pixelAspect=1,tt.height=et.data.h||et.globalData.compSize.h,tt.width=et.data.w||et.globalData.compSize.w,tt.pixelAspect=1,tt.frameDuration=1/et.globalData.frameRate,tt.displayStartTime=0,tt.numLayers=et.layers.length,tt}}();function _typeof$2(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(rt){return typeof rt}:_typeof$2=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$2(et)}function seedRandom(et,tt){var rt=this,nt=256,at=6,lt=52,dt="random",ot=tt.pow(nt,at),mt=tt.pow(2,lt),xt=mt*2,Et=nt-1,At;function Tt(It,Ot,Vt){var Ut=[];Ot=Ot===!0?{entropy:!0}:Ot||{};var Wt=Gt(Lt(Ot.entropy?[It,$t(et)]:It===null?Pt():It,3),Ut),nr=new Ft(Ut),er=function(){for(var ur=nr.g(at),vr=ot,Lr=0;ur<mt;)ur=(ur+Lr)*nt,vr*=nt,Lr=nr.g(1);for(;ur>=xt;)ur/=2,vr/=2,Lr>>>=1;return(ur+Lr)/vr};return er.int32=function(){return nr.g(4)|0},er.quick=function(){return nr.g(4)/4294967296},er.double=er,Gt($t(nr.S),et),(Ot.pass||Vt||function(Kt,ur,vr,Lr){return Lr&&(Lr.S&&Mt(Lr,nr),Kt.state=function(){return Mt(nr,{})}),vr?(tt[dt]=Kt,ur):Kt})(er,Wt,"global"in Ot?Ot.global:this==tt,Ot.state)}tt["seed"+dt]=Tt;function Ft(It){var Ot,Vt=It.length,Ut=this,Wt=0,nr=Ut.i=Ut.j=0,er=Ut.S=[];for(Vt||(It=[Vt++]);Wt<nt;)er[Wt]=Wt++;for(Wt=0;Wt<nt;Wt++)er[Wt]=er[nr=Et&nr+It[Wt%Vt]+(Ot=er[Wt])],er[nr]=Ot;Ut.g=function(Kt){for(var ur,vr=0,Lr=Ut.i,Er=Ut.j,Cr=Ut.S;Kt--;)ur=Cr[Lr=Et&Lr+1],vr=vr*nt+Cr[Et&(Cr[Lr]=Cr[Er=Et&Er+ur])+(Cr[Er]=ur)];return Ut.i=Lr,Ut.j=Er,vr}}function Mt(It,Ot){return Ot.i=It.i,Ot.j=It.j,Ot.S=It.S.slice(),Ot}function Lt(It,Ot){var Vt=[],Ut=_typeof$2(It),Wt;if(Ot&&Ut=="object")for(Wt in It)try{Vt.push(Lt(It[Wt],Ot-1))}catch{}return Vt.length?Vt:Ut=="string"?It:It+"\0"}function Gt(It,Ot){for(var Vt=It+"",Ut,Wt=0;Wt<Vt.length;)Ot[Et&Wt]=Et&(Ut^=Ot[Et&Wt]*19)+Vt.charCodeAt(Wt++);return $t(Ot)}function Pt(){try{var It=new Uint8Array(nt);return(rt.crypto||rt.msCrypto).getRandomValues(It),$t(It)}catch{var Ot=rt.navigator,Vt=Ot&&Ot.plugins;return[+new Date,rt,Vt,rt.screen,$t(et)]}}function $t(It){return String.fromCharCode.apply(0,It)}Gt(tt.random(),et)}function initialize$2(et){seedRandom([],et)}var propTypes={SHAPE:"shape"};function _typeof$1(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(rt){return typeof rt}:_typeof$1=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$1(et)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(et){return et.constructor===Array||et.constructor===Float32Array}function isNumerable(et,tt){return et==="number"||et==="boolean"||et==="string"||tt instanceof Number}function $bm_neg(et){var tt=_typeof$1(et);if(tt==="number"||tt==="boolean"||et instanceof Number)return-et;if($bm_isInstanceOfArray(et)){var rt,nt=et.length,at=[];for(rt=0;rt<nt;rt+=1)at[rt]=-et[rt];return at}return et.propType?et.v:-et}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(et,tt){var rt=_typeof$1(et),nt=_typeof$1(tt);if(rt==="string"||nt==="string"||isNumerable(rt,et)&&isNumerable(nt,tt))return et+tt;if($bm_isInstanceOfArray(et)&&isNumerable(nt,tt))return et=et.slice(0),et[0]+=tt,et;if(isNumerable(rt,et)&&$bm_isInstanceOfArray(tt))return tt=tt.slice(0),tt[0]=et+tt[0],tt;if($bm_isInstanceOfArray(et)&&$bm_isInstanceOfArray(tt)){for(var at=0,lt=et.length,dt=tt.length,ot=[];at<lt||at<dt;)(typeof et[at]=="number"||et[at]instanceof Number)&&(typeof tt[at]=="number"||tt[at]instanceof Number)?ot[at]=et[at]+tt[at]:ot[at]=tt[at]===void 0?et[at]:et[at]||tt[at],at+=1;return ot}return 0}var add=sum;function sub(et,tt){var rt=_typeof$1(et),nt=_typeof$1(tt);if(isNumerable(rt,et)&&isNumerable(nt,tt))return rt==="string"&&(et=parseInt(et,10)),nt==="string"&&(tt=parseInt(tt,10)),et-tt;if($bm_isInstanceOfArray(et)&&isNumerable(nt,tt))return et=et.slice(0),et[0]-=tt,et;if(isNumerable(rt,et)&&$bm_isInstanceOfArray(tt))return tt=tt.slice(0),tt[0]=et-tt[0],tt;if($bm_isInstanceOfArray(et)&&$bm_isInstanceOfArray(tt)){for(var at=0,lt=et.length,dt=tt.length,ot=[];at<lt||at<dt;)(typeof et[at]=="number"||et[at]instanceof Number)&&(typeof tt[at]=="number"||tt[at]instanceof Number)?ot[at]=et[at]-tt[at]:ot[at]=tt[at]===void 0?et[at]:et[at]||tt[at],at+=1;return ot}return 0}function mul(et,tt){var rt=_typeof$1(et),nt=_typeof$1(tt),at;if(isNumerable(rt,et)&&isNumerable(nt,tt))return et*tt;var lt,dt;if($bm_isInstanceOfArray(et)&&isNumerable(nt,tt)){for(dt=et.length,at=createTypedArray("float32",dt),lt=0;lt<dt;lt+=1)at[lt]=et[lt]*tt;return at}if(isNumerable(rt,et)&&$bm_isInstanceOfArray(tt)){for(dt=tt.length,at=createTypedArray("float32",dt),lt=0;lt<dt;lt+=1)at[lt]=et*tt[lt];return at}return 0}function div(et,tt){var rt=_typeof$1(et),nt=_typeof$1(tt),at;if(isNumerable(rt,et)&&isNumerable(nt,tt))return et/tt;var lt,dt;if($bm_isInstanceOfArray(et)&&isNumerable(nt,tt)){for(dt=et.length,at=createTypedArray("float32",dt),lt=0;lt<dt;lt+=1)at[lt]=et[lt]/tt;return at}if(isNumerable(rt,et)&&$bm_isInstanceOfArray(tt)){for(dt=tt.length,at=createTypedArray("float32",dt),lt=0;lt<dt;lt+=1)at[lt]=et/tt[lt];return at}return 0}function mod(et,tt){return typeof et=="string"&&(et=parseInt(et,10)),typeof tt=="string"&&(tt=parseInt(tt,10)),et%tt}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(et,tt,rt){if(tt>rt){var nt=rt;rt=tt,tt=nt}return Math.min(Math.max(et,tt),rt)}function radiansToDegrees(et){return et/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(et){return et*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(et,tt){if(typeof et=="number"||et instanceof Number)return tt=tt||0,Math.abs(et-tt);tt||(tt=helperLengthArray);var rt,nt=Math.min(et.length,tt.length),at=0;for(rt=0;rt<nt;rt+=1)at+=Math.pow(tt[rt]-et[rt],2);return Math.sqrt(at)}function normalize(et){return div(et,length(et))}function rgbToHsl(et){var tt=et[0],rt=et[1],nt=et[2],at=Math.max(tt,rt,nt),lt=Math.min(tt,rt,nt),dt,ot,mt=(at+lt)/2;if(at===lt)dt=0,ot=0;else{var xt=at-lt;switch(ot=mt>.5?xt/(2-at-lt):xt/(at+lt),at){case tt:dt=(rt-nt)/xt+(rt<nt?6:0);break;case rt:dt=(nt-tt)/xt+2;break;case nt:dt=(tt-rt)/xt+4;break}dt/=6}return[dt,ot,mt,et[3]]}function hue2rgb(et,tt,rt){return rt<0&&(rt+=1),rt>1&&(rt-=1),rt<1/6?et+(tt-et)*6*rt:rt<1/2?tt:rt<2/3?et+(tt-et)*(2/3-rt)*6:et}function hslToRgb(et){var tt=et[0],rt=et[1],nt=et[2],at,lt,dt;if(rt===0)at=nt,dt=nt,lt=nt;else{var ot=nt<.5?nt*(1+rt):nt+rt-nt*rt,mt=2*nt-ot;at=hue2rgb(mt,ot,tt+1/3),lt=hue2rgb(mt,ot,tt),dt=hue2rgb(mt,ot,tt-1/3)}return[at,lt,dt,et[3]]}function linear(et,tt,rt,nt,at){if((nt===void 0||at===void 0)&&(nt=tt,at=rt,tt=0,rt=1),rt<tt){var lt=rt;rt=tt,tt=lt}if(et<=tt)return nt;if(et>=rt)return at;var dt=rt===tt?0:(et-tt)/(rt-tt);if(!nt.length)return nt+(at-nt)*dt;var ot,mt=nt.length,xt=createTypedArray("float32",mt);for(ot=0;ot<mt;ot+=1)xt[ot]=nt[ot]+(at[ot]-nt[ot])*dt;return xt}function random(et,tt){if(tt===void 0&&(et===void 0?(et=0,tt=1):(tt=et,et=void 0)),tt.length){var rt,nt=tt.length;et||(et=createTypedArray("float32",nt));var at=createTypedArray("float32",nt),lt=BMMath.random();for(rt=0;rt<nt;rt+=1)at[rt]=et[rt]+lt*(tt[rt]-et[rt]);return at}et===void 0&&(et=0);var dt=BMMath.random();return et+dt*(tt-et)}function createPath(et,tt,rt,nt){var at,lt=et.length,dt=shapePool.newElement();dt.setPathData(!!nt,lt);var ot=[0,0],mt,xt;for(at=0;at<lt;at+=1)mt=tt&&tt[at]?tt[at]:ot,xt=rt&&rt[at]?rt[at]:ot,dt.setTripleAt(et[at][0],et[at][1],xt[0]+et[at][0],xt[1]+et[at][1],mt[0]+et[at][0],mt[1]+et[at][1],at,!0);return dt}function initiateExpression(elem,data,property){function noOp(et){return et}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function et(tt,rt){var nt,at,lt=this.pv.length?this.pv.length:1,dt=createTypedArray("float32",lt);tt=5;var ot=Math.floor(time*tt);for(nt=0,at=0;nt<ot;){for(at=0;at<lt;at+=1)dt[at]+=-rt+rt*2*BMMath.random();nt+=1}var mt=time*tt,xt=mt-Math.floor(mt),Et=createTypedArray("float32",lt);if(lt>1){for(at=0;at<lt;at+=1)Et[at]=this.pv[at]+dt[at]+(-rt+rt*2*BMMath.random())*xt;return Et}return this.pv+dt[0]+(-rt+rt*2*BMMath.random())*xt}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(et,tt){return loopIn(et,tt,!0)}function loopOutDuration(et,tt){return loopOut(et,tt,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(et,tt){var rt=[tt[0]-et[0],tt[1]-et[1],tt[2]-et[2]],nt=Math.atan2(rt[0],Math.sqrt(rt[1]*rt[1]+rt[2]*rt[2]))/degToRads,at=-Math.atan2(rt[1],rt[2])/degToRads;return[at,nt,0]}function easeOut(et,tt,rt,nt,at){return applyEase(easeOutBez,et,tt,rt,nt,at)}function easeIn(et,tt,rt,nt,at){return applyEase(easeInBez,et,tt,rt,nt,at)}function ease(et,tt,rt,nt,at){return applyEase(easeInOutBez,et,tt,rt,nt,at)}function applyEase(et,tt,rt,nt,at,lt){at===void 0?(at=rt,lt=nt):tt=(tt-rt)/(nt-rt),tt>1?tt=1:tt<0&&(tt=0);var dt=et(tt);if($bm_isInstanceOfArray(at)){var ot,mt=at.length,xt=createTypedArray("float32",mt);for(ot=0;ot<mt;ot+=1)xt[ot]=(lt[ot]-at[ot])*dt+at[ot];return xt}return(lt-at)*dt+at}function nearestKey(et){var tt,rt=data.k.length,nt,at;if(!data.k.length||typeof data.k[0]=="number")nt=0,at=0;else if(nt=-1,et*=elem.comp.globalData.frameRate,et<data.k[0].t)nt=1,at=data.k[0].t;else{for(tt=0;tt<rt-1;tt+=1)if(et===data.k[tt].t){nt=tt+1,at=data.k[tt].t;break}else if(et>data.k[tt].t&&et<data.k[tt+1].t){et-data.k[tt].t>data.k[tt+1].t-et?(nt=tt+2,at=data.k[tt+1].t):(nt=tt+1,at=data.k[tt].t);break}nt===-1&&(nt=tt+1,at=data.k[tt].t)}var lt={};return lt.index=nt,lt.time=at/elem.comp.globalData.frameRate,lt}function key(et){var tt,rt,nt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+et);et-=1,tt={time:data.k[et].t/elem.comp.globalData.frameRate,value:[]};var at=Object.prototype.hasOwnProperty.call(data.k[et],"s")?data.k[et].s:data.k[et-1].e;for(nt=at.length,rt=0;rt<nt;rt+=1)tt[rt]=at[rt],tt.value[rt]=at[rt];return tt}function framesToTime(et,tt){return tt||(tt=elem.comp.globalData.frameRate),et/tt}function timeToFrames(et,tt){return!et&&et!==0&&(et=time),tt||(tt=elem.comp.globalData.frameRate),et*tt}function seedRandom(et){BMMath.seedrandom(randSeed+et)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(et,tt){return typeof value=="string"?tt===void 0?value.substring(et):value.substring(et,tt):""}function substr(et,tt){return typeof value=="string"?tt===void 0?value.substr(et):value.substr(et,tt):""}function posterizeTime(et){time=et===0?0:Math.floor(time*et)/et,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(et){return value=et,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var et={};et.initExpressions=tt,et.resetFrame=ExpressionManager.resetFrame;function tt(rt){var nt=0,at=[];function lt(){nt+=1}function dt(){nt-=1,nt===0&&mt()}function ot(xt){at.indexOf(xt)===-1&&at.push(xt)}function mt(){var xt,Et=at.length;for(xt=0;xt<Et;xt+=1)at[xt].release();at.length=0}rt.renderer.compInterface=CompExpressionInterface(rt.renderer),rt.renderer.globalData.projectInterface.registerComposition(rt.renderer),rt.renderer.globalData.pushExpression=lt,rt.renderer.globalData.popExpression=dt,rt.renderer.globalData.registerExpressionProperty=ot}return et}(),MaskManagerInterface=function(){function et(rt,nt){this._mask=rt,this._data=nt}Object.defineProperty(et.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(et.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var tt=function(nt){var at=createSizedArray(nt.viewData.length),lt,dt=nt.viewData.length;for(lt=0;lt<dt;lt+=1)at[lt]=new et(nt.viewData[lt],nt.masksProperties[lt]);var ot=function(xt){for(lt=0;lt<dt;){if(nt.masksProperties[lt].nm===xt)return at[lt];lt+=1}return null};return ot};return tt}(),ExpressionPropertyInterface=function(){var et={pv:0,v:0,mult:1},tt={pv:[0,0,0],v:[0,0,0],mult:1};function rt(dt,ot,mt){Object.defineProperty(dt,"velocity",{get:function(){return ot.getVelocityAtTime(ot.comp.currentFrame)}}),dt.numKeys=ot.keyframes?ot.keyframes.length:0,dt.key=function(xt){if(!dt.numKeys)return 0;var Et="";"s"in ot.keyframes[xt-1]?Et=ot.keyframes[xt-1].s:"e"in ot.keyframes[xt-2]?Et=ot.keyframes[xt-2].e:Et=ot.keyframes[xt-2].s;var At=mt==="unidimensional"?new Number(Et):Object.assign({},Et);return At.time=ot.keyframes[xt-1].t/ot.elem.comp.globalData.frameRate,At.value=mt==="unidimensional"?Et[0]:Et,At},dt.valueAtTime=ot.getValueAtTime,dt.speedAtTime=ot.getSpeedAtTime,dt.velocityAtTime=ot.getVelocityAtTime,dt.propertyGroup=ot.propertyGroup}function nt(dt){(!dt||!("pv"in dt))&&(dt=et);var ot=1/dt.mult,mt=dt.pv*ot,xt=new Number(mt);return xt.value=mt,rt(xt,dt,"unidimensional"),function(){return dt.k&&dt.getValue(),mt=dt.v*ot,xt.value!==mt&&(xt=new Number(mt),xt.value=mt,rt(xt,dt,"unidimensional")),xt}}function at(dt){(!dt||!("pv"in dt))&&(dt=tt);var ot=1/dt.mult,mt=dt.data&&dt.data.l||dt.pv.length,xt=createTypedArray("float32",mt),Et=createTypedArray("float32",mt);return xt.value=Et,rt(xt,dt,"multidimensional"),function(){dt.k&&dt.getValue();for(var At=0;At<mt;At+=1)Et[At]=dt.v[At]*ot,xt[At]=Et[At];return xt}}function lt(){return et}return function(dt){return dt?dt.propType==="unidimensional"?nt(dt):at(dt):lt}}(),TransformExpressionInterface=function(){return function(et){function tt(dt){switch(dt){case"scale":case"Scale":case"ADBE Scale":case 6:return tt.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return tt.rotation;case"ADBE Rotate X":return tt.xRotation;case"ADBE Rotate Y":return tt.yRotation;case"position":case"Position":case"ADBE Position":case 2:return tt.position;case"ADBE Position_0":return tt.xPosition;case"ADBE Position_1":return tt.yPosition;case"ADBE Position_2":return tt.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return tt.anchorPoint;case"opacity":case"Opacity":case 11:return tt.opacity;default:return null}}Object.defineProperty(tt,"rotation",{get:ExpressionPropertyInterface(et.r||et.rz)}),Object.defineProperty(tt,"zRotation",{get:ExpressionPropertyInterface(et.rz||et.r)}),Object.defineProperty(tt,"xRotation",{get:ExpressionPropertyInterface(et.rx)}),Object.defineProperty(tt,"yRotation",{get:ExpressionPropertyInterface(et.ry)}),Object.defineProperty(tt,"scale",{get:ExpressionPropertyInterface(et.s)});var rt,nt,at,lt;return et.p?lt=ExpressionPropertyInterface(et.p):(rt=ExpressionPropertyInterface(et.px),nt=ExpressionPropertyInterface(et.py),et.pz&&(at=ExpressionPropertyInterface(et.pz))),Object.defineProperty(tt,"position",{get:function(){return et.p?lt():[rt(),nt(),at?at():0]}}),Object.defineProperty(tt,"xPosition",{get:ExpressionPropertyInterface(et.px)}),Object.defineProperty(tt,"yPosition",{get:ExpressionPropertyInterface(et.py)}),Object.defineProperty(tt,"zPosition",{get:ExpressionPropertyInterface(et.pz)}),Object.defineProperty(tt,"anchorPoint",{get:ExpressionPropertyInterface(et.a)}),Object.defineProperty(tt,"opacity",{get:ExpressionPropertyInterface(et.o)}),Object.defineProperty(tt,"skew",{get:ExpressionPropertyInterface(et.sk)}),Object.defineProperty(tt,"skewAxis",{get:ExpressionPropertyInterface(et.sa)}),Object.defineProperty(tt,"orientation",{get:ExpressionPropertyInterface(et.or)}),tt}}(),LayerExpressionInterface=function(){function et(xt){var Et=new Matrix;if(xt!==void 0){var At=this._elem.finalTransform.mProp.getValueAtTime(xt);At.clone(Et)}else{var Tt=this._elem.finalTransform.mProp;Tt.applyToMatrix(Et)}return Et}function tt(xt,Et){var At=this.getMatrix(Et);return At.props[12]=0,At.props[13]=0,At.props[14]=0,this.applyPoint(At,xt)}function rt(xt,Et){var At=this.getMatrix(Et);return this.applyPoint(At,xt)}function nt(xt,Et){var At=this.getMatrix(Et);return At.props[12]=0,At.props[13]=0,At.props[14]=0,this.invertPoint(At,xt)}function at(xt,Et){var At=this.getMatrix(Et);return this.invertPoint(At,xt)}function lt(xt,Et){if(this._elem.hierarchy&&this._elem.hierarchy.length){var At,Tt=this._elem.hierarchy.length;for(At=0;At<Tt;At+=1)this._elem.hierarchy[At].finalTransform.mProp.applyToMatrix(xt)}return xt.applyToPointArray(Et[0],Et[1],Et[2]||0)}function dt(xt,Et){if(this._elem.hierarchy&&this._elem.hierarchy.length){var At,Tt=this._elem.hierarchy.length;for(At=0;At<Tt;At+=1)this._elem.hierarchy[At].finalTransform.mProp.applyToMatrix(xt)}return xt.inversePoint(Et)}function ot(xt){var Et=new Matrix;if(Et.reset(),this._elem.finalTransform.mProp.applyToMatrix(Et),this._elem.hierarchy&&this._elem.hierarchy.length){var At,Tt=this._elem.hierarchy.length;for(At=0;At<Tt;At+=1)this._elem.hierarchy[At].finalTransform.mProp.applyToMatrix(Et);return Et.inversePoint(xt)}return Et.inversePoint(xt)}function mt(){return[1,1,1,1]}return function(xt){var Et;function At(Lt){Ft.mask=new MaskManagerInterface(Lt,xt)}function Tt(Lt){Ft.effect=Lt}function Ft(Lt){switch(Lt){case"ADBE Root Vectors Group":case"Contents":case 2:return Ft.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return Et;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return Ft.effect;case"ADBE Text Properties":return Ft.textInterface;default:return null}}Ft.getMatrix=et,Ft.invertPoint=dt,Ft.applyPoint=lt,Ft.toWorld=rt,Ft.toWorldVec=tt,Ft.fromWorld=at,Ft.fromWorldVec=nt,Ft.toComp=rt,Ft.fromComp=ot,Ft.sampleImage=mt,Ft.sourceRectAtTime=xt.sourceRectAtTime.bind(xt),Ft._elem=xt,Et=TransformExpressionInterface(xt.finalTransform.mProp);var Mt=getDescriptor(Et,"anchorPoint");return Object.defineProperties(Ft,{hasParent:{get:function(){return xt.hierarchy.length}},parent:{get:function(){return xt.hierarchy[0].layerInterface}},rotation:getDescriptor(Et,"rotation"),scale:getDescriptor(Et,"scale"),position:getDescriptor(Et,"position"),opacity:getDescriptor(Et,"opacity"),anchorPoint:Mt,anchor_point:Mt,transform:{get:function(){return Et}},active:{get:function(){return xt.isInRange}}}),Ft.startTime=xt.data.st,Ft.index=xt.data.ind,Ft.source=xt.data.refId,Ft.height=xt.data.ty===0?xt.data.h:100,Ft.width=xt.data.ty===0?xt.data.w:100,Ft.inPoint=xt.data.ip/xt.comp.globalData.frameRate,Ft.outPoint=xt.data.op/xt.comp.globalData.frameRate,Ft._name=xt.data.nm,Ft.registerMaskInterface=At,Ft.registerEffectsInterface=Tt,Ft}}(),propertyGroupFactory=function(){return function(et,tt){return function(rt){return rt=rt===void 0?1:rt,rt<=0?et:tt(rt-1)}}}(),PropertyInterface=function(){return function(et,tt){var rt={_name:et};function nt(at){return at=at===void 0?1:at,at<=0?rt:tt(at-1)}return nt}}(),EffectsExpressionInterface=function(){var et={createEffectsInterface:tt};function tt(at,lt){if(at.effectsManager){var dt=[],ot=at.data.ef,mt,xt=at.effectsManager.effectElements.length;for(mt=0;mt<xt;mt+=1)dt.push(rt(ot[mt],at.effectsManager.effectElements[mt],lt,at));var Et=at.data.ef||[],At=function(Ft){for(mt=0,xt=Et.length;mt<xt;){if(Ft===Et[mt].nm||Ft===Et[mt].mn||Ft===Et[mt].ix)return dt[mt];mt+=1}return null};return Object.defineProperty(At,"numProperties",{get:function(){return Et.length}}),At}return null}function rt(at,lt,dt,ot){function mt(Ft){for(var Mt=at.ef,Lt=0,Gt=Mt.length;Lt<Gt;){if(Ft===Mt[Lt].nm||Ft===Mt[Lt].mn||Ft===Mt[Lt].ix)return Mt[Lt].ty===5?Et[Lt]:Et[Lt]();Lt+=1}throw new Error}var xt=propertyGroupFactory(mt,dt),Et=[],At,Tt=at.ef.length;for(At=0;At<Tt;At+=1)at.ef[At].ty===5?Et.push(rt(at.ef[At],lt.effectElements[At],lt.effectElements[At].propertyGroup,ot)):Et.push(nt(lt.effectElements[At],at.ef[At].ty,ot,xt));return at.mn==="ADBE Color Control"&&Object.defineProperty(mt,"color",{get:function(){return Et[0]()}}),Object.defineProperties(mt,{numProperties:{get:function(){return at.np}},_name:{value:at.nm},propertyGroup:{value:xt}}),mt.enabled=at.en!==0,mt.active=mt.enabled,mt}function nt(at,lt,dt,ot){var mt=ExpressionPropertyInterface(at.p);function xt(){return lt===10?dt.comp.compInterface(at.p.v):mt()}return at.p.setGroupProperty&&at.p.setGroupProperty(PropertyInterface("",ot)),xt}return et}(),ShapePathInterface=function(){return function(tt,rt,nt){var at=rt.sh;function lt(ot){return ot==="Shape"||ot==="shape"||ot==="Path"||ot==="path"||ot==="ADBE Vector Shape"||ot===2?lt.path:null}var dt=propertyGroupFactory(lt,nt);return at.setGroupProperty(PropertyInterface("Path",dt)),Object.defineProperties(lt,{path:{get:function(){return at.k&&at.getValue(),at}},shape:{get:function(){return at.k&&at.getValue(),at}},_name:{value:tt.nm},ix:{value:tt.ix},propertyIndex:{value:tt.ix},mn:{value:tt.mn},propertyGroup:{value:nt}}),lt}}(),ShapeExpressionInterface=function(){function et(Mt,Lt,Gt){var Pt=[],$t,It=Mt?Mt.length:0;for($t=0;$t<It;$t+=1)Mt[$t].ty==="gr"?Pt.push(rt(Mt[$t],Lt[$t],Gt)):Mt[$t].ty==="fl"?Pt.push(nt(Mt[$t],Lt[$t],Gt)):Mt[$t].ty==="st"?Pt.push(dt(Mt[$t],Lt[$t],Gt)):Mt[$t].ty==="tm"?Pt.push(ot(Mt[$t],Lt[$t],Gt)):Mt[$t].ty==="tr"||(Mt[$t].ty==="el"?Pt.push(xt(Mt[$t],Lt[$t],Gt)):Mt[$t].ty==="sr"?Pt.push(Et(Mt[$t],Lt[$t],Gt)):Mt[$t].ty==="sh"?Pt.push(ShapePathInterface(Mt[$t],Lt[$t],Gt)):Mt[$t].ty==="rc"?Pt.push(At(Mt[$t],Lt[$t],Gt)):Mt[$t].ty==="rd"?Pt.push(Tt(Mt[$t],Lt[$t],Gt)):Mt[$t].ty==="rp"?Pt.push(Ft(Mt[$t],Lt[$t],Gt)):Mt[$t].ty==="gf"?Pt.push(at(Mt[$t],Lt[$t],Gt)):Pt.push(lt(Mt[$t],Lt[$t])));return Pt}function tt(Mt,Lt,Gt){var Pt,$t=function(Vt){for(var Ut=0,Wt=Pt.length;Ut<Wt;){if(Pt[Ut]._name===Vt||Pt[Ut].mn===Vt||Pt[Ut].propertyIndex===Vt||Pt[Ut].ix===Vt||Pt[Ut].ind===Vt)return Pt[Ut];Ut+=1}return typeof Vt=="number"?Pt[Vt-1]:null};$t.propertyGroup=propertyGroupFactory($t,Gt),Pt=et(Mt.it,Lt.it,$t.propertyGroup),$t.numProperties=Pt.length;var It=mt(Mt.it[Mt.it.length-1],Lt.it[Lt.it.length-1],$t.propertyGroup);return $t.transform=It,$t.propertyIndex=Mt.cix,$t._name=Mt.nm,$t}function rt(Mt,Lt,Gt){var Pt=function(Vt){switch(Vt){case"ADBE Vectors Group":case"Contents":case 2:return Pt.content;default:return Pt.transform}};Pt.propertyGroup=propertyGroupFactory(Pt,Gt);var $t=tt(Mt,Lt,Pt.propertyGroup),It=mt(Mt.it[Mt.it.length-1],Lt.it[Lt.it.length-1],Pt.propertyGroup);return Pt.content=$t,Pt.transform=It,Object.defineProperty(Pt,"_name",{get:function(){return Mt.nm}}),Pt.numProperties=Mt.np,Pt.propertyIndex=Mt.ix,Pt.nm=Mt.nm,Pt.mn=Mt.mn,Pt}function nt(Mt,Lt,Gt){function Pt($t){return $t==="Color"||$t==="color"?Pt.color:$t==="Opacity"||$t==="opacity"?Pt.opacity:null}return Object.defineProperties(Pt,{color:{get:ExpressionPropertyInterface(Lt.c)},opacity:{get:ExpressionPropertyInterface(Lt.o)},_name:{value:Mt.nm},mn:{value:Mt.mn}}),Lt.c.setGroupProperty(PropertyInterface("Color",Gt)),Lt.o.setGroupProperty(PropertyInterface("Opacity",Gt)),Pt}function at(Mt,Lt,Gt){function Pt($t){return $t==="Start Point"||$t==="start point"?Pt.startPoint:$t==="End Point"||$t==="end point"?Pt.endPoint:$t==="Opacity"||$t==="opacity"?Pt.opacity:null}return Object.defineProperties(Pt,{startPoint:{get:ExpressionPropertyInterface(Lt.s)},endPoint:{get:ExpressionPropertyInterface(Lt.e)},opacity:{get:ExpressionPropertyInterface(Lt.o)},type:{get:function(){return"a"}},_name:{value:Mt.nm},mn:{value:Mt.mn}}),Lt.s.setGroupProperty(PropertyInterface("Start Point",Gt)),Lt.e.setGroupProperty(PropertyInterface("End Point",Gt)),Lt.o.setGroupProperty(PropertyInterface("Opacity",Gt)),Pt}function lt(){function Mt(){return null}return Mt}function dt(Mt,Lt,Gt){var Pt=propertyGroupFactory(Wt,Gt),$t=propertyGroupFactory(Ut,Pt);function It(nr){Object.defineProperty(Ut,Mt.d[nr].nm,{get:ExpressionPropertyInterface(Lt.d.dataProps[nr].p)})}var Ot,Vt=Mt.d?Mt.d.length:0,Ut={};for(Ot=0;Ot<Vt;Ot+=1)It(Ot),Lt.d.dataProps[Ot].p.setGroupProperty($t);function Wt(nr){return nr==="Color"||nr==="color"?Wt.color:nr==="Opacity"||nr==="opacity"?Wt.opacity:nr==="Stroke Width"||nr==="stroke width"?Wt.strokeWidth:null}return Object.defineProperties(Wt,{color:{get:ExpressionPropertyInterface(Lt.c)},opacity:{get:ExpressionPropertyInterface(Lt.o)},strokeWidth:{get:ExpressionPropertyInterface(Lt.w)},dash:{get:function(){return Ut}},_name:{value:Mt.nm},mn:{value:Mt.mn}}),Lt.c.setGroupProperty(PropertyInterface("Color",Pt)),Lt.o.setGroupProperty(PropertyInterface("Opacity",Pt)),Lt.w.setGroupProperty(PropertyInterface("Stroke Width",Pt)),Wt}function ot(Mt,Lt,Gt){function Pt(It){return It===Mt.e.ix||It==="End"||It==="end"?Pt.end:It===Mt.s.ix?Pt.start:It===Mt.o.ix?Pt.offset:null}var $t=propertyGroupFactory(Pt,Gt);return Pt.propertyIndex=Mt.ix,Lt.s.setGroupProperty(PropertyInterface("Start",$t)),Lt.e.setGroupProperty(PropertyInterface("End",$t)),Lt.o.setGroupProperty(PropertyInterface("Offset",$t)),Pt.propertyIndex=Mt.ix,Pt.propertyGroup=Gt,Object.defineProperties(Pt,{start:{get:ExpressionPropertyInterface(Lt.s)},end:{get:ExpressionPropertyInterface(Lt.e)},offset:{get:ExpressionPropertyInterface(Lt.o)},_name:{value:Mt.nm}}),Pt.mn=Mt.mn,Pt}function mt(Mt,Lt,Gt){function Pt(It){return Mt.a.ix===It||It==="Anchor Point"?Pt.anchorPoint:Mt.o.ix===It||It==="Opacity"?Pt.opacity:Mt.p.ix===It||It==="Position"?Pt.position:Mt.r.ix===It||It==="Rotation"||It==="ADBE Vector Rotation"?Pt.rotation:Mt.s.ix===It||It==="Scale"?Pt.scale:Mt.sk&&Mt.sk.ix===It||It==="Skew"?Pt.skew:Mt.sa&&Mt.sa.ix===It||It==="Skew Axis"?Pt.skewAxis:null}var $t=propertyGroupFactory(Pt,Gt);return Lt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",$t)),Lt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",$t)),Lt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",$t)),Lt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",$t)),Lt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",$t)),Lt.transform.mProps.sk&&(Lt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",$t)),Lt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",$t))),Lt.transform.op.setGroupProperty(PropertyInterface("Opacity",$t)),Object.defineProperties(Pt,{opacity:{get:ExpressionPropertyInterface(Lt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Lt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Lt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Lt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Lt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Lt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Lt.transform.mProps.sa)},_name:{value:Mt.nm}}),Pt.ty="tr",Pt.mn=Mt.mn,Pt.propertyGroup=Gt,Pt}function xt(Mt,Lt,Gt){function Pt(Ot){return Mt.p.ix===Ot?Pt.position:Mt.s.ix===Ot?Pt.size:null}var $t=propertyGroupFactory(Pt,Gt);Pt.propertyIndex=Mt.ix;var It=Lt.sh.ty==="tm"?Lt.sh.prop:Lt.sh;return It.s.setGroupProperty(PropertyInterface("Size",$t)),It.p.setGroupProperty(PropertyInterface("Position",$t)),Object.defineProperties(Pt,{size:{get:ExpressionPropertyInterface(It.s)},position:{get:ExpressionPropertyInterface(It.p)},_name:{value:Mt.nm}}),Pt.mn=Mt.mn,Pt}function Et(Mt,Lt,Gt){function Pt(Ot){return Mt.p.ix===Ot?Pt.position:Mt.r.ix===Ot?Pt.rotation:Mt.pt.ix===Ot?Pt.points:Mt.or.ix===Ot||Ot==="ADBE Vector Star Outer Radius"?Pt.outerRadius:Mt.os.ix===Ot?Pt.outerRoundness:Mt.ir&&(Mt.ir.ix===Ot||Ot==="ADBE Vector Star Inner Radius")?Pt.innerRadius:Mt.is&&Mt.is.ix===Ot?Pt.innerRoundness:null}var $t=propertyGroupFactory(Pt,Gt),It=Lt.sh.ty==="tm"?Lt.sh.prop:Lt.sh;return Pt.propertyIndex=Mt.ix,It.or.setGroupProperty(PropertyInterface("Outer Radius",$t)),It.os.setGroupProperty(PropertyInterface("Outer Roundness",$t)),It.pt.setGroupProperty(PropertyInterface("Points",$t)),It.p.setGroupProperty(PropertyInterface("Position",$t)),It.r.setGroupProperty(PropertyInterface("Rotation",$t)),Mt.ir&&(It.ir.setGroupProperty(PropertyInterface("Inner Radius",$t)),It.is.setGroupProperty(PropertyInterface("Inner Roundness",$t))),Object.defineProperties(Pt,{position:{get:ExpressionPropertyInterface(It.p)},rotation:{get:ExpressionPropertyInterface(It.r)},points:{get:ExpressionPropertyInterface(It.pt)},outerRadius:{get:ExpressionPropertyInterface(It.or)},outerRoundness:{get:ExpressionPropertyInterface(It.os)},innerRadius:{get:ExpressionPropertyInterface(It.ir)},innerRoundness:{get:ExpressionPropertyInterface(It.is)},_name:{value:Mt.nm}}),Pt.mn=Mt.mn,Pt}function At(Mt,Lt,Gt){function Pt(Ot){return Mt.p.ix===Ot?Pt.position:Mt.r.ix===Ot?Pt.roundness:Mt.s.ix===Ot||Ot==="Size"||Ot==="ADBE Vector Rect Size"?Pt.size:null}var $t=propertyGroupFactory(Pt,Gt),It=Lt.sh.ty==="tm"?Lt.sh.prop:Lt.sh;return Pt.propertyIndex=Mt.ix,It.p.setGroupProperty(PropertyInterface("Position",$t)),It.s.setGroupProperty(PropertyInterface("Size",$t)),It.r.setGroupProperty(PropertyInterface("Rotation",$t)),Object.defineProperties(Pt,{position:{get:ExpressionPropertyInterface(It.p)},roundness:{get:ExpressionPropertyInterface(It.r)},size:{get:ExpressionPropertyInterface(It.s)},_name:{value:Mt.nm}}),Pt.mn=Mt.mn,Pt}function Tt(Mt,Lt,Gt){function Pt(Ot){return Mt.r.ix===Ot||Ot==="Round Corners 1"?Pt.radius:null}var $t=propertyGroupFactory(Pt,Gt),It=Lt;return Pt.propertyIndex=Mt.ix,It.rd.setGroupProperty(PropertyInterface("Radius",$t)),Object.defineProperties(Pt,{radius:{get:ExpressionPropertyInterface(It.rd)},_name:{value:Mt.nm}}),Pt.mn=Mt.mn,Pt}function Ft(Mt,Lt,Gt){function Pt(Ot){return Mt.c.ix===Ot||Ot==="Copies"?Pt.copies:Mt.o.ix===Ot||Ot==="Offset"?Pt.offset:null}var $t=propertyGroupFactory(Pt,Gt),It=Lt;return Pt.propertyIndex=Mt.ix,It.c.setGroupProperty(PropertyInterface("Copies",$t)),It.o.setGroupProperty(PropertyInterface("Offset",$t)),Object.defineProperties(Pt,{copies:{get:ExpressionPropertyInterface(It.c)},offset:{get:ExpressionPropertyInterface(It.o)},_name:{value:Mt.nm}}),Pt.mn=Mt.mn,Pt}return function(Mt,Lt,Gt){var Pt;function $t(Ot){if(typeof Ot=="number")return Ot=Ot===void 0?1:Ot,Ot===0?Gt:Pt[Ot-1];for(var Vt=0,Ut=Pt.length;Vt<Ut;){if(Pt[Vt]._name===Ot)return Pt[Vt];Vt+=1}return null}function It(){return Gt}return $t.propertyGroup=propertyGroupFactory($t,It),Pt=et(Mt,Lt,$t.propertyGroup),$t.numProperties=Pt.length,$t._name="Contents",$t}}(),TextExpressionInterface=function(){return function(et){var tt;function rt(nt){switch(nt){case"ADBE Text Document":return rt.sourceText;default:return null}}return Object.defineProperty(rt,"sourceText",{get:function(){et.textProperty.getValue();var at=et.textProperty.currentData.t;return(!tt||at!==tt.value)&&(tt=new String(at),tt.value=at||new String(at),Object.defineProperty(tt,"style",{get:function(){return{fillColor:et.textProperty.currentData.fc}}})),tt}}),rt}}();function _typeof(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(rt){return typeof rt}:_typeof=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof(et)}var FootageInterface=function(){var et=function(nt){var at="",lt=nt.getFootageData();function dt(){return at="",lt=nt.getFootageData(),ot}function ot(mt){if(lt[mt])return at=mt,lt=lt[mt],_typeof(lt)==="object"?ot:lt;var xt=mt.indexOf(at);if(xt!==-1){var Et=parseInt(mt.substr(xt+at.length),10);return lt=lt[Et],_typeof(lt)==="object"?ot:lt}return""}return dt},tt=function(nt){function at(lt){return lt==="Outline"?at.outlineInterface():null}return at._name="Outline",at.outlineInterface=et(nt),at};return function(rt){function nt(at){return at==="Data"?nt.dataInterface:null}return nt._name="Data",nt.dataInterface=tt(rt),nt}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(et){return interfaces[et]||null}var expressionHelpers=function(){function et(dt,ot,mt){ot.x&&(mt.k=!0,mt.x=!0,mt.initiateExpression=ExpressionManager.initiateExpression,mt.effectsSequence.push(mt.initiateExpression(dt,ot,mt).bind(mt)))}function tt(dt){return dt*=this.elem.globalData.frameRate,dt-=this.offsetTime,dt!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<dt?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(dt,this._cachingAtTime),this._cachingAtTime.lastFrame=dt),this._cachingAtTime.value}function rt(dt){var ot=-.01,mt=this.getValueAtTime(dt),xt=this.getValueAtTime(dt+ot),Et=0;if(mt.length){var At;for(At=0;At<mt.length;At+=1)Et+=Math.pow(xt[At]-mt[At],2);Et=Math.sqrt(Et)*100}else Et=0;return Et}function nt(dt){if(this.vel!==void 0)return this.vel;var ot=-.001,mt=this.getValueAtTime(dt),xt=this.getValueAtTime(dt+ot),Et;if(mt.length){Et=createTypedArray("float32",mt.length);var At;for(At=0;At<mt.length;At+=1)Et[At]=(xt[At]-mt[At])/ot}else Et=(xt-mt)/ot;return Et}function at(){return this.pv}function lt(dt){this.propertyGroup=dt}return{searchExpressions:et,getSpeedAtTime:rt,getVelocityAtTime:nt,getValueAtTime:tt,getStaticValueAtTime:at,setGroupProperty:lt}}();function addPropertyDecorator(){function et(Tt,Ft,Mt){if(!this.k||!this.keyframes)return this.pv;Tt=Tt?Tt.toLowerCase():"";var Lt=this.comp.renderedFrame,Gt=this.keyframes,Pt=Gt[Gt.length-1].t;if(Lt<=Pt)return this.pv;var $t,It;Mt?(Ft?$t=Math.abs(Pt-this.elem.comp.globalData.frameRate*Ft):$t=Math.max(0,Pt-this.elem.data.ip),It=Pt-$t):((!Ft||Ft>Gt.length-1)&&(Ft=Gt.length-1),It=Gt[Gt.length-1-Ft].t,$t=Pt-It);var Ot,Vt,Ut;if(Tt==="pingpong"){var Wt=Math.floor((Lt-It)/$t);if(Wt%2!==0)return this.getValueAtTime(($t-(Lt-It)%$t+It)/this.comp.globalData.frameRate,0)}else if(Tt==="offset"){var nr=this.getValueAtTime(It/this.comp.globalData.frameRate,0),er=this.getValueAtTime(Pt/this.comp.globalData.frameRate,0),Kt=this.getValueAtTime(((Lt-It)%$t+It)/this.comp.globalData.frameRate,0),ur=Math.floor((Lt-It)/$t);if(this.pv.length){for(Ut=new Array(nr.length),Vt=Ut.length,Ot=0;Ot<Vt;Ot+=1)Ut[Ot]=(er[Ot]-nr[Ot])*ur+Kt[Ot];return Ut}return(er-nr)*ur+Kt}else if(Tt==="continue"){var vr=this.getValueAtTime(Pt/this.comp.globalData.frameRate,0),Lr=this.getValueAtTime((Pt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ut=new Array(vr.length),Vt=Ut.length,Ot=0;Ot<Vt;Ot+=1)Ut[Ot]=vr[Ot]+(vr[Ot]-Lr[Ot])*((Lt-Pt)/this.comp.globalData.frameRate)/5e-4;return Ut}return vr+(vr-Lr)*((Lt-Pt)/.001)}return this.getValueAtTime(((Lt-It)%$t+It)/this.comp.globalData.frameRate,0)}function tt(Tt,Ft,Mt){if(!this.k)return this.pv;Tt=Tt?Tt.toLowerCase():"";var Lt=this.comp.renderedFrame,Gt=this.keyframes,Pt=Gt[0].t;if(Lt>=Pt)return this.pv;var $t,It;Mt?(Ft?$t=Math.abs(this.elem.comp.globalData.frameRate*Ft):$t=Math.max(0,this.elem.data.op-Pt),It=Pt+$t):((!Ft||Ft>Gt.length-1)&&(Ft=Gt.length-1),It=Gt[Ft].t,$t=It-Pt);var Ot,Vt,Ut;if(Tt==="pingpong"){var Wt=Math.floor((Pt-Lt)/$t);if(Wt%2===0)return this.getValueAtTime(((Pt-Lt)%$t+Pt)/this.comp.globalData.frameRate,0)}else if(Tt==="offset"){var nr=this.getValueAtTime(Pt/this.comp.globalData.frameRate,0),er=this.getValueAtTime(It/this.comp.globalData.frameRate,0),Kt=this.getValueAtTime(($t-(Pt-Lt)%$t+Pt)/this.comp.globalData.frameRate,0),ur=Math.floor((Pt-Lt)/$t)+1;if(this.pv.length){for(Ut=new Array(nr.length),Vt=Ut.length,Ot=0;Ot<Vt;Ot+=1)Ut[Ot]=Kt[Ot]-(er[Ot]-nr[Ot])*ur;return Ut}return Kt-(er-nr)*ur}else if(Tt==="continue"){var vr=this.getValueAtTime(Pt/this.comp.globalData.frameRate,0),Lr=this.getValueAtTime((Pt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ut=new Array(vr.length),Vt=Ut.length,Ot=0;Ot<Vt;Ot+=1)Ut[Ot]=vr[Ot]+(vr[Ot]-Lr[Ot])*(Pt-Lt)/.001;return Ut}return vr+(vr-Lr)*(Pt-Lt)/.001}return this.getValueAtTime(($t-((Pt-Lt)%$t+Pt))/this.comp.globalData.frameRate,0)}function rt(Tt,Ft){if(!this.k)return this.pv;if(Tt=(Tt||.4)*.5,Ft=Math.floor(Ft||5),Ft<=1)return this.pv;var Mt=this.comp.renderedFrame/this.comp.globalData.frameRate,Lt=Mt-Tt,Gt=Mt+Tt,Pt=Ft>1?(Gt-Lt)/(Ft-1):1,$t=0,It=0,Ot;this.pv.length?Ot=createTypedArray("float32",this.pv.length):Ot=0;for(var Vt;$t<Ft;){if(Vt=this.getValueAtTime(Lt+$t*Pt),this.pv.length)for(It=0;It<this.pv.length;It+=1)Ot[It]+=Vt[It];else Ot+=Vt;$t+=1}if(this.pv.length)for(It=0;It<this.pv.length;It+=1)Ot[It]/=Ft;else Ot/=Ft;return Ot}function nt(Tt){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var Ft=this._transformCachingAtTime.v;if(Ft.cloneFromProps(this.pre.props),this.appliedTransformations<1){var Mt=this.a.getValueAtTime(Tt);Ft.translate(-Mt[0]*this.a.mult,-Mt[1]*this.a.mult,Mt[2]*this.a.mult)}if(this.appliedTransformations<2){var Lt=this.s.getValueAtTime(Tt);Ft.scale(Lt[0]*this.s.mult,Lt[1]*this.s.mult,Lt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Gt=this.sk.getValueAtTime(Tt),Pt=this.sa.getValueAtTime(Tt);Ft.skewFromAxis(-Gt*this.sk.mult,Pt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var $t=this.r.getValueAtTime(Tt);Ft.rotate(-$t*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var It=this.rz.getValueAtTime(Tt),Ot=this.ry.getValueAtTime(Tt),Vt=this.rx.getValueAtTime(Tt),Ut=this.or.getValueAtTime(Tt);Ft.rotateZ(-It*this.rz.mult).rotateY(Ot*this.ry.mult).rotateX(Vt*this.rx.mult).rotateZ(-Ut[2]*this.or.mult).rotateY(Ut[1]*this.or.mult).rotateX(Ut[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Wt=this.px.getValueAtTime(Tt),nr=this.py.getValueAtTime(Tt);if(this.data.p.z){var er=this.pz.getValueAtTime(Tt);Ft.translate(Wt*this.px.mult,nr*this.py.mult,-er*this.pz.mult)}else Ft.translate(Wt*this.px.mult,nr*this.py.mult,0)}else{var Kt=this.p.getValueAtTime(Tt);Ft.translate(Kt[0]*this.p.mult,Kt[1]*this.p.mult,-Kt[2]*this.p.mult)}return Ft}function at(){return this.v.clone(new Matrix)}var lt=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Tt,Ft,Mt){var Lt=lt(Tt,Ft,Mt);return Lt.dynamicProperties.length?Lt.getValueAtTime=nt.bind(Lt):Lt.getValueAtTime=at.bind(Lt),Lt.setGroupProperty=expressionHelpers.setGroupProperty,Lt};var dt=PropertyFactory.getProp;PropertyFactory.getProp=function(Tt,Ft,Mt,Lt,Gt){var Pt=dt(Tt,Ft,Mt,Lt,Gt);Pt.kf?Pt.getValueAtTime=expressionHelpers.getValueAtTime.bind(Pt):Pt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Pt),Pt.setGroupProperty=expressionHelpers.setGroupProperty,Pt.loopOut=et,Pt.loopIn=tt,Pt.smooth=rt,Pt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Pt),Pt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Pt),Pt.numKeys=Ft.a===1?Ft.k.length:0,Pt.propertyIndex=Ft.ix;var $t=0;return Mt!==0&&($t=createTypedArray("float32",Ft.a===1?Ft.k[0].s.length:Ft.k.length)),Pt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:$t},expressionHelpers.searchExpressions(Tt,Ft,Pt),Pt.k&&Gt.addDynamicProperty(Pt),Pt};function ot(Tt){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Tt*=this.elem.globalData.frameRate,Tt-=this.offsetTime,Tt!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Tt?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Tt,this.interpolateShape(Tt,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var mt=ShapePropertyFactory.getConstructorFunction(),xt=ShapePropertyFactory.getKeyframedConstructorFunction();function Et(){}Et.prototype={vertices:function(Ft,Mt){this.k&&this.getValue();var Lt=this.v;Mt!==void 0&&(Lt=this.getValueAtTime(Mt,0));var Gt,Pt=Lt._length,$t=Lt[Ft],It=Lt.v,Ot=createSizedArray(Pt);for(Gt=0;Gt<Pt;Gt+=1)Ft==="i"||Ft==="o"?Ot[Gt]=[$t[Gt][0]-It[Gt][0],$t[Gt][1]-It[Gt][1]]:Ot[Gt]=[$t[Gt][0],$t[Gt][1]];return Ot},points:function(Ft){return this.vertices("v",Ft)},inTangents:function(Ft){return this.vertices("i",Ft)},outTangents:function(Ft){return this.vertices("o",Ft)},isClosed:function(){return this.v.c},pointOnPath:function(Ft,Mt){var Lt=this.v;Mt!==void 0&&(Lt=this.getValueAtTime(Mt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Lt));for(var Gt=this._segmentsLength,Pt=Gt.lengths,$t=Gt.totalLength*Ft,It=0,Ot=Pt.length,Vt=0,Ut;It<Ot;){if(Vt+Pt[It].addedLength>$t){var Wt=It,nr=Lt.c&&It===Ot-1?0:It+1,er=($t-Vt)/Pt[It].addedLength;Ut=bez.getPointInSegment(Lt.v[Wt],Lt.v[nr],Lt.o[Wt],Lt.i[nr],er,Pt[It]);break}else Vt+=Pt[It].addedLength;It+=1}return Ut||(Ut=Lt.c?[Lt.v[0][0],Lt.v[0][1]]:[Lt.v[Lt._length-1][0],Lt.v[Lt._length-1][1]]),Ut},vectorOnPath:function(Ft,Mt,Lt){Ft==1?Ft=this.v.c:Ft==0&&(Ft=.999);var Gt=this.pointOnPath(Ft,Mt),Pt=this.pointOnPath(Ft+.001,Mt),$t=Pt[0]-Gt[0],It=Pt[1]-Gt[1],Ot=Math.sqrt(Math.pow($t,2)+Math.pow(It,2));if(Ot===0)return[0,0];var Vt=Lt==="tangent"?[$t/Ot,It/Ot]:[-It/Ot,$t/Ot];return Vt},tangentOnPath:function(Ft,Mt){return this.vectorOnPath(Ft,Mt,"tangent")},normalOnPath:function(Ft,Mt){return this.vectorOnPath(Ft,Mt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([Et],mt),extendPrototype([Et],xt),xt.prototype.getValueAtTime=ot,xt.prototype.initiateExpression=ExpressionManager.initiateExpression;var At=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Tt,Ft,Mt,Lt,Gt){var Pt=At(Tt,Ft,Mt,Lt,Gt);return Pt.propertyIndex=Ft.ix,Pt.lock=!1,Mt===3?expressionHelpers.searchExpressions(Tt,Ft.pt,Pt):Mt===4&&expressionHelpers.searchExpressions(Tt,Ft.ks,Pt),Pt.k&&Tt.addDynamicProperty(Pt),Pt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function et(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(tt,rt){var nt=this.calculateExpression(rt);if(tt.t!==nt){var at={};return this.copyData(at,tt),at.t=nt.toString(),at.__complete=!1,at}return tt},TextProperty.prototype.searchProperty=function(){var tt=this.searchKeyframes(),rt=this.searchExpressions();return this.kf=tt||rt,this.kf},TextProperty.prototype.searchExpressions=et}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function et(tt,rt){var nt=createNS("feMerge");nt.setAttribute("result",tt);var at,lt;for(lt=0;lt<rt.length;lt+=1)at=createNS("feMergeNode"),at.setAttribute("in",rt[lt]),nt.appendChild(at),nt.appendChild(at);return nt}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(et,tt,rt,nt,at){this.filterManager=tt;var lt=createNS("feColorMatrix");lt.setAttribute("type","matrix"),lt.setAttribute("color-interpolation-filters","linearRGB"),lt.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=lt,lt.setAttribute("result",nt+"_tint_1"),et.appendChild(lt),lt=createNS("feColorMatrix"),lt.setAttribute("type","matrix"),lt.setAttribute("color-interpolation-filters","sRGB"),lt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),lt.setAttribute("result",nt+"_tint_2"),et.appendChild(lt),this.matrixFilter=lt;var dt=this.createMergeNode(nt,[at,nt+"_tint_1",nt+"_tint_2"]);et.appendChild(dt)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var tt=this.filterManager.effectElements[0].p.v,rt=this.filterManager.effectElements[1].p.v,nt=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+nt+" 0"),this.matrixFilter.setAttribute("values",rt[0]-tt[0]+" 0 0 0 "+tt[0]+" "+(rt[1]-tt[1])+" 0 0 0 "+tt[1]+" "+(rt[2]-tt[2])+" 0 0 0 "+tt[2]+" 0 0 0 1 0")}};function SVGFillFilter(et,tt,rt,nt){this.filterManager=tt;var at=createNS("feColorMatrix");at.setAttribute("type","matrix"),at.setAttribute("color-interpolation-filters","sRGB"),at.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),at.setAttribute("result",nt),et.appendChild(at),this.matrixFilter=at}SVGFillFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var tt=this.filterManager.effectElements[2].p.v,rt=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+tt[0]+" 0 0 0 0 "+tt[1]+" 0 0 0 0 "+tt[2]+" 0 0 0 "+rt+" 0")}};function SVGStrokeEffect(et,tt,rt){this.initialized=!1,this.filterManager=tt,this.elem=rt,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var et=this.elem.layerElement.children||this.elem.layerElement.childNodes,tt,rt,nt,at;for(this.filterManager.effectElements[1].p.v===1?(at=this.elem.maskManager.masksProperties.length,nt=0):(nt=this.filterManager.effectElements[0].p.v-1,at=nt+1),rt=createNS("g"),rt.setAttribute("fill","none"),rt.setAttribute("stroke-linecap","round"),rt.setAttribute("stroke-dashoffset",1),nt;nt<at;nt+=1)tt=createNS("path"),rt.appendChild(tt),this.paths.push({p:tt,m:nt});if(this.filterManager.effectElements[10].p.v===3){var lt=createNS("mask"),dt=createElementID();lt.setAttribute("id",dt),lt.setAttribute("mask-type","alpha"),lt.appendChild(rt),this.elem.globalData.defs.appendChild(lt);var ot=createNS("g");for(ot.setAttribute("mask","url("+getLocationHref()+"#"+dt+")");et[0];)ot.appendChild(et[0]);this.elem.layerElement.appendChild(ot),this.masker=lt,rt.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(et=this.elem.layerElement.children||this.elem.layerElement.childNodes;et.length;)this.elem.layerElement.removeChild(et[0]);this.elem.layerElement.appendChild(rt),this.elem.layerElement.removeAttribute("mask"),rt.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=rt},SVGStrokeEffect.prototype.renderFrame=function(et){this.initialized||this.initialize();var tt,rt=this.paths.length,nt,at;for(tt=0;tt<rt;tt+=1)if(this.paths[tt].m!==-1&&(nt=this.elem.maskManager.viewData[this.paths[tt].m],at=this.paths[tt].p,(et||this.filterManager._mdf||nt.prop._mdf)&&at.setAttribute("d",nt.lastPath),et||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||nt.prop._mdf)){var lt;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var dt=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ot=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,mt=at.getTotalLength();lt="0 0 0 "+mt*dt+" ";var xt=mt*(ot-dt),Et=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,At=Math.floor(xt/Et),Tt;for(Tt=0;Tt<At;Tt+=1)lt+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";lt+="0 "+mt*10+" 0 0"}else lt="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;at.setAttribute("stroke-dasharray",lt)}if((et||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(et||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(et||this.filterManager.effectElements[3].p._mdf)){var Ft=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(Ft[0]*255)+","+bmFloor(Ft[1]*255)+","+bmFloor(Ft[2]*255)+")")}};function SVGTritoneFilter(et,tt,rt,nt){this.filterManager=tt;var at=createNS("feColorMatrix");at.setAttribute("type","matrix"),at.setAttribute("color-interpolation-filters","linearRGB"),at.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),et.appendChild(at);var lt=createNS("feComponentTransfer");lt.setAttribute("color-interpolation-filters","sRGB"),lt.setAttribute("result",nt),this.matrixFilter=lt;var dt=createNS("feFuncR");dt.setAttribute("type","table"),lt.appendChild(dt),this.feFuncR=dt;var ot=createNS("feFuncG");ot.setAttribute("type","table"),lt.appendChild(ot),this.feFuncG=ot;var mt=createNS("feFuncB");mt.setAttribute("type","table"),lt.appendChild(mt),this.feFuncB=mt,et.appendChild(lt)}SVGTritoneFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var tt=this.filterManager.effectElements[0].p.v,rt=this.filterManager.effectElements[1].p.v,nt=this.filterManager.effectElements[2].p.v,at=nt[0]+" "+rt[0]+" "+tt[0],lt=nt[1]+" "+rt[1]+" "+tt[1],dt=nt[2]+" "+rt[2]+" "+tt[2];this.feFuncR.setAttribute("tableValues",at),this.feFuncG.setAttribute("tableValues",lt),this.feFuncB.setAttribute("tableValues",dt)}};function SVGProLevelsFilter(et,tt,rt,nt){this.filterManager=tt;var at=this.filterManager.effectElements,lt=createNS("feComponentTransfer");(at[10].p.k||at[10].p.v!==0||at[11].p.k||at[11].p.v!==1||at[12].p.k||at[12].p.v!==1||at[13].p.k||at[13].p.v!==0||at[14].p.k||at[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",lt)),(at[17].p.k||at[17].p.v!==0||at[18].p.k||at[18].p.v!==1||at[19].p.k||at[19].p.v!==1||at[20].p.k||at[20].p.v!==0||at[21].p.k||at[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",lt)),(at[24].p.k||at[24].p.v!==0||at[25].p.k||at[25].p.v!==1||at[26].p.k||at[26].p.v!==1||at[27].p.k||at[27].p.v!==0||at[28].p.k||at[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",lt)),(at[31].p.k||at[31].p.v!==0||at[32].p.k||at[32].p.v!==1||at[33].p.k||at[33].p.v!==1||at[34].p.k||at[34].p.v!==0||at[35].p.k||at[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",lt)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(lt.setAttribute("color-interpolation-filters","sRGB"),et.appendChild(lt)),(at[3].p.k||at[3].p.v!==0||at[4].p.k||at[4].p.v!==1||at[5].p.k||at[5].p.v!==1||at[6].p.k||at[6].p.v!==0||at[7].p.k||at[7].p.v!==1)&&(lt=createNS("feComponentTransfer"),lt.setAttribute("color-interpolation-filters","sRGB"),lt.setAttribute("result",nt),et.appendChild(lt),this.feFuncRComposed=this.createFeFunc("feFuncR",lt),this.feFuncGComposed=this.createFeFunc("feFuncG",lt),this.feFuncBComposed=this.createFeFunc("feFuncB",lt))}SVGProLevelsFilter.prototype.createFeFunc=function(et,tt){var rt=createNS(et);return rt.setAttribute("type","table"),tt.appendChild(rt),rt},SVGProLevelsFilter.prototype.getTableValue=function(et,tt,rt,nt,at){for(var lt=0,dt=256,ot,mt=Math.min(et,tt),xt=Math.max(et,tt),Et=Array.call(null,{length:dt}),At,Tt=0,Ft=at-nt,Mt=tt-et;lt<=256;)ot=lt/256,ot<=mt?At=Mt<0?at:nt:ot>=xt?At=Mt<0?nt:at:At=nt+Ft*Math.pow((ot-et)/Mt,1/rt),Et[Tt]=At,Tt+=1,lt+=256/(dt-1);return Et.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var tt,rt=this.filterManager.effectElements;this.feFuncRComposed&&(et||rt[3].p._mdf||rt[4].p._mdf||rt[5].p._mdf||rt[6].p._mdf||rt[7].p._mdf)&&(tt=this.getTableValue(rt[3].p.v,rt[4].p.v,rt[5].p.v,rt[6].p.v,rt[7].p.v),this.feFuncRComposed.setAttribute("tableValues",tt),this.feFuncGComposed.setAttribute("tableValues",tt),this.feFuncBComposed.setAttribute("tableValues",tt)),this.feFuncR&&(et||rt[10].p._mdf||rt[11].p._mdf||rt[12].p._mdf||rt[13].p._mdf||rt[14].p._mdf)&&(tt=this.getTableValue(rt[10].p.v,rt[11].p.v,rt[12].p.v,rt[13].p.v,rt[14].p.v),this.feFuncR.setAttribute("tableValues",tt)),this.feFuncG&&(et||rt[17].p._mdf||rt[18].p._mdf||rt[19].p._mdf||rt[20].p._mdf||rt[21].p._mdf)&&(tt=this.getTableValue(rt[17].p.v,rt[18].p.v,rt[19].p.v,rt[20].p.v,rt[21].p.v),this.feFuncG.setAttribute("tableValues",tt)),this.feFuncB&&(et||rt[24].p._mdf||rt[25].p._mdf||rt[26].p._mdf||rt[27].p._mdf||rt[28].p._mdf)&&(tt=this.getTableValue(rt[24].p.v,rt[25].p.v,rt[26].p.v,rt[27].p.v,rt[28].p.v),this.feFuncB.setAttribute("tableValues",tt)),this.feFuncA&&(et||rt[31].p._mdf||rt[32].p._mdf||rt[33].p._mdf||rt[34].p._mdf||rt[35].p._mdf)&&(tt=this.getTableValue(rt[31].p.v,rt[32].p.v,rt[33].p.v,rt[34].p.v,rt[35].p.v),this.feFuncA.setAttribute("tableValues",tt))}};function SVGDropShadowEffect(et,tt,rt,nt,at){var lt=tt.container.globalData.renderConfig.filterSize,dt=tt.data.fs||lt;et.setAttribute("x",dt.x||lt.x),et.setAttribute("y",dt.y||lt.y),et.setAttribute("width",dt.width||lt.width),et.setAttribute("height",dt.height||lt.height),this.filterManager=tt;var ot=createNS("feGaussianBlur");ot.setAttribute("in","SourceAlpha"),ot.setAttribute("result",nt+"_drop_shadow_1"),ot.setAttribute("stdDeviation","0"),this.feGaussianBlur=ot,et.appendChild(ot);var mt=createNS("feOffset");mt.setAttribute("dx","25"),mt.setAttribute("dy","0"),mt.setAttribute("in",nt+"_drop_shadow_1"),mt.setAttribute("result",nt+"_drop_shadow_2"),this.feOffset=mt,et.appendChild(mt);var xt=createNS("feFlood");xt.setAttribute("flood-color","#00ff00"),xt.setAttribute("flood-opacity","1"),xt.setAttribute("result",nt+"_drop_shadow_3"),this.feFlood=xt,et.appendChild(xt);var Et=createNS("feComposite");Et.setAttribute("in",nt+"_drop_shadow_3"),Et.setAttribute("in2",nt+"_drop_shadow_2"),Et.setAttribute("operator","in"),Et.setAttribute("result",nt+"_drop_shadow_4"),et.appendChild(Et);var At=this.createMergeNode(nt,[nt+"_drop_shadow_4",at]);et.appendChild(At)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){if((et||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),et||this.filterManager.effectElements[0].p._mdf){var tt=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(tt[0]*255),Math.round(tt[1]*255),Math.round(tt[2]*255)))}if((et||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),et||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var rt=this.filterManager.effectElements[3].p.v,nt=(this.filterManager.effectElements[2].p.v-90)*degToRads,at=rt*Math.cos(nt),lt=rt*Math.sin(nt);this.feOffset.setAttribute("dx",at),this.feOffset.setAttribute("dy",lt)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(et,tt,rt){this.initialized=!1,this.filterManager=tt,this.filterElem=et,this.elem=rt,rt.matteElement=createNS("g"),rt.matteElement.appendChild(rt.layerElement),rt.matteElement.appendChild(rt.transformedElement),rt.baseElement=rt.matteElement}SVGMatte3Effect.prototype.findSymbol=function(et){for(var tt=0,rt=_svgMatteSymbols.length;tt<rt;){if(_svgMatteSymbols[tt]===et)return _svgMatteSymbols[tt];tt+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(et,tt){var rt=et.layerElement.parentNode;if(rt){for(var nt=rt.children,at=0,lt=nt.length;at<lt&&nt[at]!==et.layerElement;)at+=1;var dt;at<=lt-2&&(dt=nt[at+1]);var ot=createNS("use");ot.setAttribute("href","#"+tt),dt?rt.insertBefore(ot,dt):rt.appendChild(ot)}},SVGMatte3Effect.prototype.setElementAsMask=function(et,tt){if(!this.findSymbol(tt)){var rt=createElementID(),nt=createNS("mask");nt.setAttribute("id",tt.layerId),nt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(tt);var at=et.globalData.defs;at.appendChild(nt);var lt=createNS("symbol");lt.setAttribute("id",rt),this.replaceInParent(tt,rt),lt.appendChild(tt.layerElement),at.appendChild(lt);var dt=createNS("use");dt.setAttribute("href","#"+rt),nt.appendChild(dt),tt.data.hd=!1,tt.show()}et.setMatte(tt.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var et=this.filterManager.effectElements[0].p.v,tt=this.elem.comp.elements,rt=0,nt=tt.length;rt<nt;)tt[rt]&&tt[rt].data.ind===et&&this.setElementAsMask(this.elem,tt[rt]),rt+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(et,tt,rt,nt){et.setAttribute("x","-100%"),et.setAttribute("y","-100%"),et.setAttribute("width","300%"),et.setAttribute("height","300%"),this.filterManager=tt;var at=createNS("feGaussianBlur");at.setAttribute("result",nt),et.appendChild(at),this.feGaussianBlur=at}SVGGaussianBlurEffect.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var tt=.3,rt=this.filterManager.effectElements[0].p.v*tt,nt=this.filterManager.effectElements[1].p.v,at=nt==3?0:rt,lt=nt==2?0:rt;this.feGaussianBlur.setAttribute("stdDeviation",at+" "+lt);var dt=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",dt)}};function TransformEffect(){}TransformEffect.prototype.init=function(et){this.effectsManager=et,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(et){if(this._opMdf=!1,this._mdf=!1,et||this.effectsManager._mdf){var tt=this.effectsManager.effectElements,rt=tt[0].p.v,nt=tt[1].p.v,at=tt[3].p.v,lt=tt[4].p.v,dt=tt[5].p.v,ot=tt[6].p.v,mt=tt[7].p.v;this.matrix.reset(),this.matrix.translate(-rt[0],-rt[1],rt[2]),this.matrix.scale(lt*.01,at*.01,1),this.matrix.rotate(-mt*degToRads),this.matrix.skewFromAxis(-dt*degToRads,(ot+90)*degToRads),this.matrix.translate(nt[0],nt[1],0),this._mdf=!0,this.opacity!==tt[8].p.v&&(this.opacity=tt[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(et,tt){this.init(tt)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(et){this.init(et)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _iterableToArrayLimit$2(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt,at,lt,dt,ot=[],mt=!0,xt=!1;try{if(lt=(rt=rt.call(et)).next,tt===0){if(Object(rt)!==rt)return;mt=!1}else for(;!(mt=(nt=lt.call(rt)).done)&&(ot.push(nt.value),ot.length!==tt);mt=!0);}catch(Et){xt=!0,at=Et}finally{try{if(!mt&&rt.return!=null&&(dt=rt.return(),Object(dt)!==dt))return}finally{if(xt)throw at}}return ot}}function ownKeys$a(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread2(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$a(Object(rt),!0).forEach(function(nt){_defineProperty$a(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$a(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$a(et,tt,rt){return tt=_toPropertyKey(tt),tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _objectWithoutPropertiesLoose(et,tt){if(et==null)return{};var rt={},nt=Object.keys(et),at,lt;for(lt=0;lt<nt.length;lt++)at=nt[lt],!(tt.indexOf(at)>=0)&&(rt[at]=et[at]);return rt}function _objectWithoutProperties(et,tt){if(et==null)return{};var rt=_objectWithoutPropertiesLoose(et,tt),nt,at;if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(et);for(at=0;at<lt.length;at++)nt=lt[at],!(tt.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,nt)&&(rt[nt]=et[nt])}return rt}function _slicedToArray$2(et,tt){return _arrayWithHoles$2(et)||_iterableToArrayLimit$2(et,tt)||_unsupportedIterableToArray$3(et,tt)||_nonIterableRest$2()}function _arrayWithHoles$2(et){if(Array.isArray(et))return et}function _unsupportedIterableToArray$3(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$3(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$3(et,tt)}}function _arrayLikeToArray$3(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(et,tt){if(typeof et!="object"||et===null)return et;var rt=et[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(et,tt||"default");if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(et)}function _toPropertyKey(et){var tt=_toPrimitive(et,"string");return typeof tt=="symbol"?tt:String(tt)}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function et(tt,rt){var nt=tt.animationData,at=tt.loop,lt=tt.autoplay,dt=tt.initialSegment,ot=tt.onComplete,mt=tt.onLoopComplete,xt=tt.onEnterFrame,Et=tt.onSegmentStart,At=tt.onConfigReady,Tt=tt.onDataReady,Ft=tt.onDataFailed,Mt=tt.onLoadedImages,Lt=tt.onDOMLoaded,Gt=tt.onDestroy;tt.lottieRef,tt.renderer,tt.name,tt.assetsPath,tt.rendererSettings;var Pt=_objectWithoutProperties(tt,_excluded$1),$t=reactExports.useState(!1),It=_slicedToArray$2($t,2),Ot=It[0],Vt=It[1],Ut=reactExports.useRef(),Wt=reactExports.useRef(null),nr=function(){var sr;(sr=Ut.current)===null||sr===void 0||sr.play()},er=function(){var sr;(sr=Ut.current)===null||sr===void 0||sr.stop()},Kt=function(){var sr;(sr=Ut.current)===null||sr===void 0||sr.pause()},ur=function(sr){var dr;(dr=Ut.current)===null||dr===void 0||dr.setSpeed(sr)},vr=function(sr,dr){var Rr;(Rr=Ut.current)===null||Rr===void 0||Rr.goToAndPlay(sr,dr)},Lr=function(sr,dr){var Rr;(Rr=Ut.current)===null||Rr===void 0||Rr.goToAndStop(sr,dr)},Er=function(sr){var dr;(dr=Ut.current)===null||dr===void 0||dr.setDirection(sr)},Cr=function(sr,dr){var Rr;(Rr=Ut.current)===null||Rr===void 0||Rr.playSegments(sr,dr)},hr=function(sr){var dr;(dr=Ut.current)===null||dr===void 0||dr.setSubframe(sr)},Tr=function(sr){var dr;return(dr=Ut.current)===null||dr===void 0?void 0:dr.getDuration(sr)},Xt=function(){var sr;(sr=Ut.current)===null||sr===void 0||sr.destroy(),Ut.current=void 0},Qt=function(){var sr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},dr;if(Wt.current){(dr=Ut.current)===null||dr===void 0||dr.destroy();var Rr=_objectSpread2(_objectSpread2(_objectSpread2({},tt),sr),{},{container:Wt.current});return Ut.current=lottie.loadAnimation(Rr),Vt(!!Ut.current),function(){var jr;(jr=Ut.current)===null||jr===void 0||jr.destroy(),Ut.current=void 0}}};reactExports.useEffect(function(){var cr=Qt();return function(){return cr==null?void 0:cr()}},[nt,at]),reactExports.useEffect(function(){Ut.current&&(Ut.current.autoplay=!!lt)},[lt]),reactExports.useEffect(function(){if(Ut.current){if(!dt){Ut.current.resetSegments(!0);return}!Array.isArray(dt)||!dt.length||((Ut.current.currentRawFrame<dt[0]||Ut.current.currentRawFrame>dt[1])&&(Ut.current.currentRawFrame=dt[0]),Ut.current.setSegment(dt[0],dt[1]))}},[dt]),reactExports.useEffect(function(){var cr=[{name:"complete",handler:ot},{name:"loopComplete",handler:mt},{name:"enterFrame",handler:xt},{name:"segmentStart",handler:Et},{name:"config_ready",handler:At},{name:"data_ready",handler:Tt},{name:"data_failed",handler:Ft},{name:"loaded_images",handler:Mt},{name:"DOMLoaded",handler:Lt},{name:"destroy",handler:Gt}],sr=cr.filter(function(Rr){return Rr.handler!=null});if(sr.length){var dr=sr.map(function(Rr){var jr;return(jr=Ut.current)===null||jr===void 0||jr.addEventListener(Rr.name,Rr.handler),function(){var Sr;(Sr=Ut.current)===null||Sr===void 0||Sr.removeEventListener(Rr.name,Rr.handler)}});return function(){dr.forEach(function(Rr){return Rr()})}}},[ot,mt,xt,Et,At,Tt,Ft,Mt,Lt,Gt]);var lr=React.createElement("div",_objectSpread2({style:rt,ref:Wt},Pt));return{View:lr,play:nr,stop:er,pause:Kt,setSpeed:ur,goToAndStop:Lr,goToAndPlay:vr,setDirection:Er,playSegments:Cr,setSubframe:hr,getDuration:Tr,destroy:Xt,animationContainerRef:Wt,animationLoaded:Ot,animationItem:Ut.current}};function getContainerVisibility(et){var tt=et.getBoundingClientRect(),rt=tt.top,nt=tt.height,at=window.innerHeight-rt,lt=window.innerHeight+nt;return at/lt}function getContainerCursorPosition(et,tt,rt){var nt=et.getBoundingClientRect(),at=nt.top,lt=nt.left,dt=nt.width,ot=nt.height,mt=(tt-lt)/dt,xt=(rt-at)/ot;return{x:mt,y:xt}}var useInitInteractivity=function et(tt){var rt=tt.wrapperRef,nt=tt.animationItem,at=tt.mode,lt=tt.actions;reactExports.useEffect(function(){var dt=rt.current;if(!(!dt||!nt||!lt.length)){nt.stop();var ot=function(){var Et=null,At=function(){var Ft=getContainerVisibility(dt),Mt=lt.find(function(Gt){var Pt=Gt.visibility;return Pt&&Ft>=Pt[0]&&Ft<=Pt[1]});if(Mt){if(Mt.type==="seek"&&Mt.visibility&&Mt.frames.length===2){var Lt=Mt.frames[0]+Math.ceil((Ft-Mt.visibility[0])/(Mt.visibility[1]-Mt.visibility[0])*Mt.frames[1]);//! goToAndStop must be relative to the start of the current segment
nt.goToAndStop(Lt-nt.firstFrame-1,!0)}Mt.type==="loop"&&(Et===null||Et!==Mt.frames||nt.isPaused)&&(nt.playSegments(Mt.frames,!0),Et=Mt.frames),Mt.type==="play"&&nt.isPaused&&(nt.resetSegments(!0),nt.play()),Mt.type==="stop"&&nt.goToAndStop(Mt.frames[0]-nt.firstFrame-1,!0)}};return document.addEventListener("scroll",At),function(){document.removeEventListener("scroll",At)}},mt=function(){var Et=function(Mt,Lt){var Gt=Mt,Pt=Lt;if(Gt!==-1&&Pt!==-1){var $t=getContainerCursorPosition(dt,Gt,Pt);Gt=$t.x,Pt=$t.y}var It=lt.find(function(Ut){var Wt=Ut.position;return Wt&&Array.isArray(Wt.x)&&Array.isArray(Wt.y)?Gt>=Wt.x[0]&&Gt<=Wt.x[1]&&Pt>=Wt.y[0]&&Pt<=Wt.y[1]:Wt&&!Number.isNaN(Wt.x)&&!Number.isNaN(Wt.y)?Gt===Wt.x&&Pt===Wt.y:!1});if(It){if(It.type==="seek"&&It.position&&Array.isArray(It.position.x)&&Array.isArray(It.position.y)&&It.frames.length===2){var Ot=(Gt-It.position.x[0])/(It.position.x[1]-It.position.x[0]),Vt=(Pt-It.position.y[0])/(It.position.y[1]-It.position.y[0]);nt.playSegments(It.frames,!0),nt.goToAndStop(Math.ceil((Ot+Vt)/2*(It.frames[1]-It.frames[0])),!0)}It.type==="loop"&&nt.playSegments(It.frames,!0),It.type==="play"&&(nt.isPaused&&nt.resetSegments(!1),nt.playSegments(It.frames)),It.type==="stop"&&nt.goToAndStop(It.frames[0],!0)}},At=function(Mt){Et(Mt.clientX,Mt.clientY)},Tt=function(){Et(-1,-1)};return dt.addEventListener("mousemove",At),dt.addEventListener("mouseout",Tt),function(){dt.removeEventListener("mousemove",At),dt.removeEventListener("mouseout",Tt)}};switch(at){case"scroll":return ot();case"cursor":return mt()}}},[at,nt])},useLottieInteractivity=function et(tt){var rt=tt.actions,nt=tt.mode,at=tt.lottieObj,lt=at.animationItem,dt=at.View,ot=at.animationContainerRef;return useInitInteractivity({actions:rt,animationItem:lt,mode:nt,wrapperRef:ot}),dt},_excluded=["style","interactivity"],Lottie=function et(tt){var rt,nt,at,lt=tt.style,dt=tt.interactivity,ot=_objectWithoutProperties(tt,_excluded),mt=useLottie(ot,lt),xt=mt.View,Et=mt.play,At=mt.stop,Tt=mt.pause,Ft=mt.setSpeed,Mt=mt.goToAndStop,Lt=mt.goToAndPlay,Gt=mt.setDirection,Pt=mt.playSegments,$t=mt.setSubframe,It=mt.getDuration,Ot=mt.destroy,Vt=mt.animationContainerRef,Ut=mt.animationLoaded,Wt=mt.animationItem;return reactExports.useEffect(function(){tt.lottieRef&&(tt.lottieRef.current={play:Et,stop:At,pause:Tt,setSpeed:Ft,goToAndPlay:Lt,goToAndStop:Mt,setDirection:Gt,playSegments:Pt,setSubframe:$t,getDuration:It,destroy:Ot,animationContainerRef:Vt,animationLoaded:Ut,animationItem:Wt})},[(rt=tt.lottieRef)===null||rt===void 0?void 0:rt.current]),useLottieInteractivity({lottieObj:{View:xt,play:Et,stop:At,pause:Tt,setSpeed:Ft,goToAndStop:Mt,goToAndPlay:Lt,setDirection:Gt,playSegments:Pt,setSubframe:$t,getDuration:It,destroy:Ot,animationContainerRef:Vt,animationLoaded:Ut,animationItem:Wt},actions:(nt=dt==null?void 0:dt.actions)!==null&&nt!==void 0?nt:[],mode:(at=dt==null?void 0:dt.mode)!==null&&at!==void 0?at:"scroll"})};const nm="Comp 1",ddd=0,h=800,w$1=800,meta={g:"@lottiefiles/toolkit-js 0.26.1"},layers=[{ty:4,nm:"Ojo Der",sr:1,st:0,op:600,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[1073.21,417.508,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[1073.21,417.508,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 3",ix:2,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Trazado 1",ix:1,d:1,ks:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[{c:!0,i:[[0,-26.039],[20.831,0],[0,26.057],[-20.831,0]],o:[[0,26.057],[-20.831,0],[0,-26.039],[20.831,0]],v:[[37.737,0],[0,47.171],[-37.737,0],[0,-47.171]]}],t:4},{o:{x:.333,y:0},i:{x:.667,y:1},s:[{c:!0,i:[[1.199,-7.26],[20.673,-1.202],[1.217,9.462],[-20.831,0]],o:[[-1.564,9.469],[-20.796,1.209],[-.84,-6.531],[20.831,0]],v:[[33.987,17.5],[-1.5,11.421],[-35.237,18.75],[-1.25,.079]]}],t:15},{o:{x:.167,y:0},i:{x:.833,y:1},s:[{c:!0,i:[[0,-26.039],[20.831,0],[0,26.057],[-20.831,0]],o:[[0,26.057],[-20.831,0],[0,-26.039],[20.831,0]],v:[[37.737,0],[0,47.171],[-37.737,0],[0,-47.171]]}],t:25},{o:{x:.333,y:0},i:{x:.667,y:1},s:[{c:!0,i:[[0,-26.039],[20.831,0],[0,26.057],[-20.831,0]],o:[[0,26.057],[-20.831,0],[0,-26.039],[20.831,0]],v:[[37.737,0],[0,47.171],[-37.737,0],[0,-47.171]]}],t:32},{o:{x:.333,y:0},i:{x:.667,y:1},s:[{c:!0,i:[[1.199,-7.26],[20.673,-1.202],[1.217,9.462],[-20.831,0]],o:[[-1.564,9.469],[-20.796,1.209],[-.84,-6.531],[20.831,0]],v:[[33.987,17.5],[-1.5,11.421],[-35.237,18.75],[-1.25,.079]]}],t:43},{o:{x:.167,y:0},i:{x:.833,y:1},s:[{c:!0,i:[[0,-26.039],[20.831,0],[0,26.057],[-20.831,0]],o:[[0,26.057],[-20.831,0],[0,-26.039],[20.831,0]],v:[[37.737,0],[0,47.171],[-37.737,0],[0,-47.171]]}],t:53},{o:{x:.333,y:0},i:{x:.667,y:1},s:[{c:!0,i:[[0,-26.039],[20.831,0],[0,26.057],[-20.831,0]],o:[[0,26.057],[-20.831,0],[0,-26.039],[20.831,0]],v:[[37.737,0],[0,47.171],[-37.737,0],[0,-47.171]]}],t:126},{o:{x:.333,y:0},i:{x:.667,y:1},s:[{c:!0,i:[[1.199,-7.26],[20.673,-1.202],[1.217,9.462],[-20.831,0]],o:[[-1.564,9.469],[-20.796,1.209],[-.84,-6.531],[20.831,0]],v:[[33.987,17.5],[-1.5,11.421],[-35.237,18.75],[-1.25,.079]]}],t:137},{s:[{c:!0,i:[[0,-26.039],[20.831,0],[0,26.057],[-20.831,0]],o:[[0,26.057],[-20.831,0],[0,-26.039],[20.831,0]],v:[[37.737,0],[0,47.171],[-37.737,0],[0,-47.171]]}],t:147}],ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Relleno 1",c:{a:0,k:[.4,.2706,0],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[1073.261,417.389],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:1,parent:2},{ty:4,nm:"Ojo Iz",sr:1,st:0,op:600,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[873.324,398.639,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:1,k:[{o:{x:.916,y:0},i:{x:.245,y:1},s:[313.324,258.639,0],t:36,ti:[-11.75,18.167,0],to:[12,7.083,0]},{o:{x:.333,y:.333},i:{x:.667,y:.667},s:[355.324,248.639,0],t:67,ti:[0,0,0],to:[0,0,0]},{o:{x:.81,y:0},i:{x:0,y:1},s:[355.324,248.639,0],t:126,ti:[35.25,2,0],to:[0,0,0]},{o:{x:.167,y:0},i:{x:.667,y:1},s:[313.324,308.639,0],t:151,ti:[.114,.177,0],to:[0,0,0]},{o:{x:.841,y:0},i:{x:.03,y:1},s:[313.324,308.639,0],t:193,ti:[-2.5,8.833,0],to:[-4.656,-7.271,0]},{s:[313.324,258.639,0],t:223}],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 3",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Trazado 1",ix:1,d:1,ks:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[{c:!0,i:[[0,-26.039],[20.831,0],[0,26.057],[-20.831,0]],o:[[0,26.057],[-20.831,0],[0,-26.039],[20.831,0]],v:[[37.737,0],[0,47.171],[-37.737,0],[0,-47.171]]}],t:4},{o:{x:.333,y:0},i:{x:.667,y:1},s:[{c:!0,i:[[1.199,-7.26],[20.673,-1.202],[1.217,9.462],[-20.831,0]],o:[[-1.564,9.469],[-20.796,1.209],[-.84,-6.531],[20.831,0]],v:[[33.987,17.5],[-1.5,11.421],[-35.237,18.75],[-1.25,.079]]}],t:15},{o:{x:.333,y:0},i:{x:.667,y:1},s:[{c:!0,i:[[0,-26.039],[20.831,0],[0,26.057],[-20.831,0]],o:[[0,26.057],[-20.831,0],[0,-26.039],[20.831,0]],v:[[37.737,0],[0,47.171],[-37.737,0],[0,-47.171]]}],t:25},{o:{x:.333,y:0},i:{x:.667,y:1},s:[{c:!0,i:[[0,-26.039],[20.831,0],[0,26.057],[-20.831,0]],o:[[0,26.057],[-20.831,0],[0,-26.039],[20.831,0]],v:[[37.737,0],[0,47.171],[-37.737,0],[0,-47.171]]}],t:32},{o:{x:.333,y:0},i:{x:.667,y:1},s:[{c:!0,i:[[1.199,-7.26],[20.673,-1.202],[1.217,9.462],[-20.831,0]],o:[[-1.564,9.469],[-20.796,1.209],[-.84,-6.531],[20.831,0]],v:[[33.987,17.5],[-1.5,11.421],[-35.237,18.75],[-1.25,.079]]}],t:43},{o:{x:.333,y:0},i:{x:.667,y:1},s:[{c:!0,i:[[0,-26.039],[20.831,0],[0,26.057],[-20.831,0]],o:[[0,26.057],[-20.831,0],[0,-26.039],[20.831,0]],v:[[37.737,0],[0,47.171],[-37.737,0],[0,-47.171]]}],t:53},{o:{x:.333,y:0},i:{x:.667,y:1},s:[{c:!0,i:[[0,-26.039],[20.831,0],[0,26.057],[-20.831,0]],o:[[0,26.057],[-20.831,0],[0,-26.039],[20.831,0]],v:[[37.737,0],[0,47.171],[-37.737,0],[0,-47.171]]}],t:126},{o:{x:.333,y:0},i:{x:.667,y:1},s:[{c:!0,i:[[1.199,-7.26],[20.673,-1.202],[1.217,9.462],[-20.831,0]],o:[[-1.564,9.469],[-20.796,1.209],[-.84,-6.531],[20.831,0]],v:[[33.987,17.5],[-1.5,11.421],[-35.237,18.75],[-1.25,.079]]}],t:137},{s:[{c:!0,i:[[0,-26.039],[20.831,0],[0,26.057],[-20.831,0]],o:[[0,26.057],[-20.831,0],[0,-26.039],[20.831,0]],v:[[37.737,0],[0,47.171],[-37.737,0],[0,-47.171]]}],t:147}],ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Relleno 1",c:{a:0,k:[.4,.2706,0],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[873.324,398.639],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:2},{ty:4,nm:"Ceja DER",sr:1,st:0,op:600,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[1080.67,376.923,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:1,k:[{o:{x:1,y:0},i:{x:.191,y:1},s:[1080.67,376.923,0],t:38,ti:[0,0,0],to:[0,0,0]},{o:{x:.333,y:.333},i:{x:.667,y:.667},s:[1080.67,308.923,0],t:68,ti:[0,0,0],to:[0,0,0]},{o:{x:.758,y:0},i:{x:.053,y:1},s:[1080.67,308.923,0],t:126,ti:[0,0,0],to:[0,0,0]},{s:[1080.67,376.923,0],t:149}],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 4",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Trazado 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[-71.426,-36.569]],o:[[0,0],[0,0]],v:[[-67.728,9.855],[67.727,18.284]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Trazo 1",lc:2,lj:1,ml:10,o:{a:0,k:100,ix:4},w:{a:0,k:30.19,ix:5},c:{a:0,k:[.4,.2706,0],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[1080.67,368.022],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:3,parent:1},{ty:4,nm:"Ceja IZ",sr:1,st:0,op:600,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[878.731,299.793,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:1,k:[{o:{x:1,y:0},i:{x:.191,y:1},s:[878.731,299.793,0],t:38,ti:[0,-11,0],to:[0,11,0]},{o:{x:.333,y:.333},i:{x:.667,y:.667},s:[878.731,365.793,0],t:68,ti:[0,0,0],to:[0,0,0]},{o:{x:.758,y:0},i:{x:.053,y:1},s:[878.731,365.793,0],t:126,ti:[0,11,0],to:[0,-11,0]},{s:[878.731,299.793,0],t:149}],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 5",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Trazado 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[-73.262,-32.733]],o:[[0,0],[0,0]],v:[[-67.855,15.128],[67.856,16.367]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Trazo 1",lc:2,lj:1,ml:10,o:{a:0,k:100,ix:4},w:{a:0,k:30.19,ix:5},c:{a:0,k:[.4,.2706,0],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[878.731,290.864],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:4,parent:2},{ty:4,nm:"Boca",sr:1,st:0,op:600,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[973.292,574.426,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[973.292,574.426,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 6",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Trazado 1",ix:1,d:1,ks:{a:1,k:[{o:{x:.923,y:0},i:{x:0,y:1},s:[{c:!1,i:[[0,0],[-60.609,-51.027]],o:[[0,0],[0,0]],v:[[-65.652,-9.825],[65.652,25.513]]}],t:38},{o:{x:.977,y:0},i:{x:0,y:1},s:[{c:!1,i:[[0,0],[-48.444,-84.232]],o:[[0,0],[0,0]],v:[[-65.652,-9.825],[32.152,27.513]]}],t:68},{o:{x:.977,y:0},i:{x:.07,y:1},s:[{c:!1,i:[[0,0],[-48.444,-84.232]],o:[[0,0],[0,0]],v:[[-65.652,-9.825],[32.152,27.513]]}],t:126},{s:[{c:!1,i:[[0,0],[-60.609,-51.027]],o:[[0,0],[0,0]],v:[[-65.652,-9.825],[65.652,25.513]]}],t:150}],ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Trazo 1",lc:2,lj:1,ml:10,o:{a:0,k:100,ix:4},w:{a:0,k:30.19,ix:5},c:{a:0,k:[.4,.2706,0],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[973.292,567.718],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:5,parent:2},{ty:4,nm:"Cara",sr:1,st:0,op:600,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[960,502.416,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[400,362.416,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 7",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Trazado 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,-166.722],[-166.722,0],[0,166.74],[166.74,0]],o:[[0,166.74],[166.74,0],[0,-166.722],[-166.722,0]],v:[[-301.896,-.001],[-.001,301.895],[301.896,-.001],[-.001,-301.895]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Relleno 1",c:{a:0,k:[1,.8,.302],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[960,502.416],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:6}],v$1="5.9.2",fr=60,op=240,ip=0,assets=[],thinkingAnimation={nm,ddd,h,w:w$1,meta,layers,v:v$1,fr,op,ip,assets},Search=()=>{const{navigate:et}=useOutletContext(),{open:tt,Drawer:rt,toggleDrawer:nt}=useDrawer(),[at,lt]=reactExports.useState([]),[dt,ot]=reactExports.useState(void 0),[mt,xt]=Recoil_index_22(filterState),Et="ontouchstart"in window,At=()=>{at.length>5&&lt([]),tt&&nt(),Tt()};reactExports.useEffect(()=>{dt!==void 0?Tt():console.log("위치 찾는 중...")},[dt]),reactExports.useEffect(()=>{dt===void 0&&getCurrentLocation$1({setPosition:ot})},[navigator]);const{mutate:Tt,isLoading:Ft}=useMutation("get",()=>getPost({position:dt,range:mt.searchRange,category:mt.preferCategory}),{onMutate(){lt([])},onSuccess:Mt=>{console.log(Mt),Mt!==void 0&&Mt.forEach((Lt,Gt)=>{setTimeout(()=>{wooyeonPositioning({setWooyeons:lt,post_id:Lt.post_id,distance:70*Math.random(),image:Lt.image[0].img_url})},100*Gt+50*Math.random())})}});return jsxs(Fragment,{children:[jsx(Global,{styles:{".use_drawer > .MuiPaper-root":{paddingBottom:"6rem"}}}),jsxs(Box$1,{sx:searchPageStyle,children:[jsx("div",{className:"radar_circle",children:jsx("div",{children:jsx("div",{})})}),dt===void 0&&Ft?at.length===0?jsxs(Box$1,{className:"loadingWooyeon",children:[jsx(Lottie,{className:"lottie",animationData:thinkingAnimation,loop:!0}),jsxs(Typography$1,{variant:"body1",sx:{marginBottom:"40px"},children:["근처에 확인할 수 있는 ",jsx("br",{}),"우연이 존재하지 않아요."]})]}):"찾는 중":jsxs(Fragment,{children:[jsx(Typography$1,{variant:"h5",sx:{marginBottom:"40px"},children:"🍀"}),jsx(Box$1,{className:"wooyeonArea",children:at.map((Mt,Lt)=>jsx(WooyeonItem$1,{post_id:Mt.post_id,image:Mt.image,pos:Mt.pos,onClick:()=>et(`detail/${Mt.post_id}`)},Mt.image+Lt.toString()))})]})]}),jsx(SearchItem,{open:tt,searchItems:At,navigate:et,isLoading:Ft===!0||dt===void 0}),!Et&&jsx(Box$1,{onClick:nt,sx:forUntouchableStyle}),jsx(rt,{open:tt,toggleDrawer:nt,drawerBleeding:65,children:jsxs(Box$1,{children:[jsx(Typography$1,{variant:"h6",children:"카테고리 선택"}),jsx(Categories,{filter:mt,setFilter:xt}),jsx(Typography$1,{variant:"h6",children:"범위 설정"}),jsx(RangeBar,{})]})})]})},handleHeaderStyle={height:"100%",paddingBottom:2,"& .drawerHeader":{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",paddingBottom:1,px:1},"& .calendarHeader":{display:"flex",alignItems:"center",width:"100%",gap:"7px"},"& .calendarHeader .MuiTypography-root":{width:"calc(100% / 7 - 6px)",color:"#444",textAlign:"center"},"& .calendarHeader span:nth-of-type(1)":{color:"#FF4141"},"& .calendarHeader .MuiTypography-root:nth-last-of-type(1)":{color:"#679BFF"}},week$1=["S","M","T","W","T","F","S"],CalendarHeader=et=>jsxs(Box$1,{sx:handleHeaderStyle,children:[jsxs(Box$1,{className:"drawerHeader",children:[jsx(Typography$1,{variant:"h6",children:"Calendar"}),jsx(Typography$1,{variant:"body2",children:et})]}),jsx(Box$1,{className:"calendarHeader",children:week$1.map((tt,rt)=>jsx(Typography$1,{variant:"caption",children:tt},tt+rt))})]}),calendarStyle={width:"100%",display:"flex",flexWrap:"wrap",rowGap:"5px",paddingBottom:5,"& .calendarItem":{width:"calc((100% / 7) - 8px)",margin:"4px",aspectRatio:"1",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#EEF1EE",borderRadius:"50%"},"& .weekendItem":{backgroundColor:"#d8dbd8"},"& .todayItem":{backgroundColor:"#ED6729",color:"#fff"},"& .disableItem":{opacity:.3},"& .calendarItem:hover":{opacity:.8},"& .disableItem:hover":{opacity:.3}},useIntersectionObserver=({root:et,rootMargin:tt="0px",threshold:rt=0,onIntersect:nt})=>{const[at,lt]=reactExports.useState(null);return reactExports.useEffect(()=>{if(!at)return;const dt=new IntersectionObserver(nt,{root:et,rootMargin:tt,threshold:rt});return dt.observe(at),()=>dt.unobserve(at)},[nt,et,tt,at,rt]),{setTarget:lt}};function get200Dates(et){const rt=et,nt=[],at=new Date(rt.getTime()-864e5*100),lt=new Date(rt.getTime()+864e5*14);let dt=at;for(;dt<=lt;)nt.push(dt),dt=new Date(dt.getTime()+864e5);return nt}function Calendar({setDisplayDate:et,setSearchDate:tt}){const rt=new Date;rt.setHours(0,0,0,0);const nt=reactExports.useRef(null),at=get200Dates(rt);reactExports.useEffect(()=>{var mt,xt;nt.current&&((xt=(mt=nt.current)==null?void 0:mt.querySelector(".todayItem"))==null||xt.scrollIntoView({block:"center"}))},[]);const lt=([{isIntersecting:mt}])=>{et(`${rt.getFullYear()}.${(rt.getMonth()+1).toString().padStart(2,"0")}`)},dt=mt=>{const xt=mt.currentTarget.innerText;tt(Et=>({...Et,date:parseInt(xt)}))},{setTarget:ot}=useIntersectionObserver({onIntersect:lt});return jsxs(Box$1,{sx:calendarStyle,ref:nt,children:[jsx(Box$1,{sx:{width:`calc((100% / 7) * ${at[0].getDay()})`}}),at.map(mt=>{let xt="calendarItem";return mt.getTime()===rt.getTime()?xt+=" todayItem":(mt.getDay()%6===0&&(xt+=" weekendItem"),mt.getDate()===1&&(xt+=" monthItem"),mt.getTime()>rt.getTime()&&(xt+=" disableItem")),jsx("div",{className:xt,ref:mt.getTime()===rt.getTime()?ot:null,onClick:dt,children:mt.getDate()},mt.toString())})]})}const scriptRel="modulepreload",assetsURL=function(et){return"/"+et},seen={},__vitePreload=function et(tt,rt,nt){if(!rt||rt.length===0)return tt();const at=document.getElementsByTagName("link");return Promise.all(rt.map(lt=>{if(lt=assetsURL(lt),lt in seen)return;seen[lt]=!0;const dt=lt.endsWith(".css"),ot=dt?'[rel="stylesheet"]':"";if(!!nt)for(let Et=at.length-1;Et>=0;Et--){const At=at[Et];if(At.href===lt&&(!dt||At.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${lt}"]${ot}`))return;const xt=document.createElement("link");if(xt.rel=dt?"stylesheet":scriptRel,dt||(xt.as="script",xt.crossOrigin=""),xt.href=lt,document.head.appendChild(xt),dt)return new Promise((Et,At)=>{xt.addEventListener("load",Et),xt.addEventListener("error",()=>At(new Error(`Unable to preload CSS for ${lt}`)))})})).then(()=>tt())},MountedMapsContext=reactExports.createContext(null);function cloneTransform(et){const tt=et.clone();return tt.pixelsToGLUnits=et.pixelsToGLUnits,tt}function transformToViewState(et){return{longitude:et.center.lng,latitude:et.center.lat,zoom:et.zoom,pitch:et.pitch,bearing:et.bearing,padding:et.padding}}function applyViewStateToTransform(et,tt){const rt=tt.viewState||tt;let nt=!1;if("longitude"in rt&&"latitude"in rt){const at=et.center;et.center=new at.constructor(rt.longitude,rt.latitude),nt=nt||at!==et.center}if("zoom"in rt){const at=et.zoom;et.zoom=rt.zoom,nt=nt||at!==et.zoom}if("bearing"in rt){const at=et.bearing;et.bearing=rt.bearing,nt=nt||at!==et.bearing}if("pitch"in rt){const at=et.pitch;et.pitch=rt.pitch,nt=nt||at!==et.pitch}return rt.padding&&!et.isPaddingEqual(rt.padding)&&(nt=!0,et.padding=rt.padding),nt}const refProps=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function normalizeStyle(et){if(!et)return null;if(typeof et=="string"||("toJS"in et&&(et=et.toJS()),!et.layers))return et;const tt={};for(const nt of et.layers)tt[nt.id]=nt;const rt=et.layers.map(nt=>{const at=tt[nt.ref];let lt=null;if("interactive"in nt&&(lt={...nt},delete lt.interactive),at){lt=lt||{...nt},delete lt.ref;for(const dt of refProps)dt in at&&(lt[dt]=at[dt])}return lt||nt});return{...et,layers:rt}}function arePointsEqual(et,tt){const rt=Array.isArray(et)?et[0]:et?et.x:0,nt=Array.isArray(et)?et[1]:et?et.y:0,at=Array.isArray(tt)?tt[0]:tt?tt.x:0,lt=Array.isArray(tt)?tt[1]:tt?tt.y:0;return rt===at&&nt===lt}function deepEqual(et,tt){if(et===tt)return!0;if(!et||!tt)return!1;if(Array.isArray(et)){if(!Array.isArray(tt)||et.length!==tt.length)return!1;for(let rt=0;rt<et.length;rt++)if(!deepEqual(et[rt],tt[rt]))return!1;return!0}else if(Array.isArray(tt))return!1;if(typeof et=="object"&&typeof tt=="object"){const rt=Object.keys(et),nt=Object.keys(tt);if(rt.length!==nt.length)return!1;for(const at of rt)if(!tt.hasOwnProperty(at)||!deepEqual(et[at],tt[at]))return!1;return!0}return!1}const pointerEvents={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},cameraEvents={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},otherEvents={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},settingNames=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],handlerNames=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class Mapbox{constructor(tt,rt,nt){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=at=>{const lt=this.props[otherEvents[at.type]];lt&&lt(at)},this._onPointerEvent=at=>{(at.type==="mousemove"||at.type==="mouseout")&&this._updateHover(at);const lt=this.props[pointerEvents[at.type]];lt&&(this.props.interactiveLayerIds&&at.type!=="mouseover"&&at.type!=="mouseout"&&(at.features=this._hoveredFeatures||this._queryRenderedFeatures(at.point)),lt(at),delete at.features)},this._onCameraEvent=at=>{if(!this._internalUpdate){const lt=this.props[cameraEvents[at.type]];lt&&lt(at)}at.type in this._deferredEvents&&(this._deferredEvents[at.type]=!1)},this._MapClass=tt,this.props=rt,this._initialize(nt)}get map(){return this._map}get transform(){return this._renderTransform}setProps(tt){const rt=this.props;this.props=tt;const nt=this._updateSettings(tt,rt);nt&&this._createShadowTransform(this._map);const at=this._updateSize(tt),lt=this._updateViewState(tt,!0);this._updateStyle(tt,rt),this._updateStyleComponents(tt,rt),this._updateHandlers(tt,rt),(nt||at||lt&&!this._map.isMoving())&&this.redraw()}static reuse(tt,rt){const nt=Mapbox.savedMaps.pop();if(!nt)return null;const at=nt.map,lt=at.getContainer();for(rt.className=lt.className;lt.childNodes.length>0;)rt.appendChild(lt.childNodes[0]);at._container=rt;const dt=at._resizeObserver;dt&&(dt.disconnect(),dt.observe(rt)),nt.setProps({...tt,styleDiffing:!1}),at.resize();const{initialViewState:ot}=tt;return ot&&(ot.bounds?at.fitBounds(ot.bounds,{...ot.fitBoundsOptions,duration:0}):nt._updateViewState(ot,!1)),at.isStyleLoaded()?at.fire("load"):at.once("styledata",()=>at.fire("load")),at._update(),nt}_initialize(tt){const{props:rt}=this,nt={...rt,...rt.initialViewState,accessToken:rt.mapboxAccessToken||getAccessTokenFromEnv()||null,container:tt,style:normalizeStyle(rt.mapStyle)},at=nt.initialViewState||nt.viewState||nt;if(Object.assign(nt,{center:[at.longitude||0,at.latitude||0],zoom:at.zoom||0,pitch:at.pitch||0,bearing:at.bearing||0}),rt.gl){const xt=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=xt,rt.gl)}const lt=new this._MapClass(nt);at.padding&&lt.setPadding(at.padding),rt.cursor&&(lt.getCanvas().style.cursor=rt.cursor),this._createShadowTransform(lt);const dt=lt._render;lt._render=xt=>{this._inRender=!0,dt.call(lt,xt),this._inRender=!1};const ot=lt._renderTaskQueue.run;lt._renderTaskQueue.run=xt=>{ot.call(lt._renderTaskQueue,xt),this._onBeforeRepaint()},lt.on("render",()=>this._onAfterRepaint());const mt=lt.fire;lt.fire=this._fireEvent.bind(this,mt),lt.on("resize",()=>{this._renderTransform.resize(lt.transform.width,lt.transform.height)}),lt.on("styledata",()=>this._updateStyleComponents(this.props,{})),lt.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const xt in pointerEvents)lt.on(xt,this._onPointerEvent);for(const xt in cameraEvents)lt.on(xt,this._onCameraEvent);for(const xt in otherEvents)lt.on(xt,this._onEvent);this._map=lt}recycle(){const rt=this.map.getContainer().querySelector("[mapboxgl-children]");rt==null||rt.remove(),Mapbox.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const tt=this._map;!this._inRender&&tt.style&&(tt._frame&&(tt._frame.cancel(),tt._frame=null),tt._render())}_createShadowTransform(tt){const rt=cloneTransform(tt.transform);tt.painter.transform=rt,this._renderTransform=rt}_updateSize(tt){const{viewState:rt}=tt;if(rt){const nt=this._map;if(rt.width!==nt.transform.width||rt.height!==nt.transform.height)return nt.resize(),!0}return!1}_updateViewState(tt,rt){if(this._internalUpdate)return!1;const nt=this._map,at=this._renderTransform,{zoom:lt,pitch:dt,bearing:ot}=at,mt=nt.isMoving();mt&&(at.cameraElevationReference="sea");const xt=applyViewStateToTransform(at,{...transformToViewState(nt.transform),...tt});if(mt&&(at.cameraElevationReference="ground"),xt&&rt){const Et=this._deferredEvents;Et.move=!0,Et.zoom||(Et.zoom=lt!==at.zoom),Et.rotate||(Et.rotate=ot!==at.bearing),Et.pitch||(Et.pitch=dt!==at.pitch)}return mt||applyViewStateToTransform(nt.transform,tt),xt}_updateSettings(tt,rt){const nt=this._map;let at=!1;for(const lt of settingNames)lt in tt&&!deepEqual(tt[lt],rt[lt])&&(at=!0,nt[`set${lt[0].toUpperCase()}${lt.slice(1)}`](tt[lt]));return at}_updateStyle(tt,rt){if(tt.cursor!==rt.cursor&&(this._map.getCanvas().style.cursor=tt.cursor),tt.mapStyle!==rt.mapStyle){const nt={diff:tt.styleDiffing};return"localIdeographFontFamily"in tt&&(nt.localIdeographFontFamily=tt.localIdeographFontFamily),this._map.setStyle(normalizeStyle(tt.mapStyle),nt),!0}return!1}_updateStyleComponents(tt,rt){const nt=this._map;let at=!1;return nt.style.loaded()&&("light"in tt&&!deepEqual(tt.light,rt.light)&&(at=!0,nt.setLight(tt.light)),"fog"in tt&&!deepEqual(tt.fog,rt.fog)&&(at=!0,nt.setFog(tt.fog)),"terrain"in tt&&!deepEqual(tt.terrain,rt.terrain)&&(!tt.terrain||nt.getSource(tt.terrain.source))&&(at=!0,nt.setTerrain(tt.terrain))),at}_updateHandlers(tt,rt){const nt=this._map;let at=!1;for(const lt of handlerNames){const dt=tt[lt];deepEqual(dt,rt[lt])||(at=!0,dt?nt[lt].enable(dt):nt[lt].disable())}return at}_queryRenderedFeatures(tt){const rt=this._map,{interactiveLayerIds:nt=[]}=this.props;try{return rt.queryRenderedFeatures(tt,{layers:nt.filter(rt.getLayer.bind(rt))})}catch{return[]}}_updateHover(tt){var rt;const{props:nt}=this;if(nt.interactiveLayerIds&&(nt.onMouseMove||nt.onMouseEnter||nt.onMouseLeave)){const lt=tt.type,dt=((rt=this._hoveredFeatures)===null||rt===void 0?void 0:rt.length)>0,ot=this._queryRenderedFeatures(tt.point),mt=ot.length>0;!mt&&dt&&(tt.type="mouseleave",this._onPointerEvent(tt)),this._hoveredFeatures=ot,mt&&!dt&&(tt.type="mouseenter",this._onPointerEvent(tt)),tt.type=lt}else this._hoveredFeatures=null}_fireEvent(tt,rt,nt){const at=this._map,lt=at.transform,dt=typeof rt=="string"?rt:rt.type;return dt==="move"&&this._updateViewState(this.props,!1),dt in cameraEvents&&(typeof rt=="object"&&(rt.viewState=transformToViewState(lt)),this._map.isMoving())?(at.transform=this._renderTransform,tt.call(at,rt,nt),at.transform=lt,at):(tt.call(at,rt,nt),at)}_onBeforeRepaint(){const tt=this._map;this._internalUpdate=!0;for(const nt in this._deferredEvents)this._deferredEvents[nt]&&tt.fire(nt);this._internalUpdate=!1;const rt=this._map.transform;this._map.transform=this._renderTransform,this._onAfterRepaint=()=>{this._map.transform=rt}}}Mapbox.savedMaps=[];function getAccessTokenFromEnv(){let et=null;if(typeof location<"u"){const tt=/access_token=([^&\/]*)/.exec(location.search);et=tt&&tt[1]}try{et=et||{}.MapboxAccessToken}catch{}try{et=et||{}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return et}const skipMethods=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function createRef(et,tt){if(!et)return null;const rt=et.map,nt={getMap:()=>rt,getCenter:()=>et.transform.center,getZoom:()=>et.transform.zoom,getBearing:()=>et.transform.bearing,getPitch:()=>et.transform.pitch,getPadding:()=>et.transform.padding,getBounds:()=>et.transform.getBounds(),project:at=>et.transform.locationPoint(tt.LngLat.convert(at)),unproject:at=>et.transform.pointLocation(tt.Point.convert(at)),queryTerrainElevation:(at,lt)=>{const dt=rt.transform;rt.transform=et.transform;const ot=rt.queryTerrainElevation(at,lt);return rt.transform=dt,ot}};for(const at of getMethodNames(rt))!(at in nt)&&!skipMethods.includes(at)&&(nt[at]=rt[at].bind(rt));return nt}function getMethodNames(et){const tt=new Set;let rt=et;for(;rt;){for(const nt of Object.getOwnPropertyNames(rt))nt[0]!=="_"&&typeof et[nt]=="function"&&nt!=="fire"&&nt!=="setEventedParent"&&tt.add(nt);rt=Object.getPrototypeOf(rt)}return Array.from(tt)}const useIsomorphicLayoutEffect=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect,globalSettings=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function setGlobals(et,tt){for(const rt of globalSettings)rt in tt&&(et[rt]=tt[rt]);tt.RTLTextPlugin&&et.getRTLTextPluginStatus&&et.getRTLTextPluginStatus()==="unavailable"&&et.setRTLTextPlugin(tt.RTLTextPlugin,rt=>{rt&&console.error(rt)},!1)}const MapContext=reactExports.createContext(null),defaultProps$2={minZoom:0,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,mapStyle:{version:8,sources:{},layers:[]},styleDiffing:!0,projection:"mercator",renderWorldCopies:!0,onError:et=>console.error(et.error),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"},Map$1=reactExports.forwardRef((et,tt)=>{const rt=reactExports.useContext(MountedMapsContext),[nt,at]=reactExports.useState(null),lt=reactExports.useRef(),{current:dt}=reactExports.useRef({mapLib:null,map:null});reactExports.useEffect(()=>{const xt=et.mapLib;let Et=!0,At;return Promise.resolve(xt||__vitePreload(()=>Promise.resolve().then(()=>mapboxGl),void 0)).then(Tt=>{if(Et){if(Tt.Map||(Tt=Tt.default),!Tt||!Tt.Map)throw new Error("Invalid mapLib");if(setGlobals(Tt,et),!Tt.supported||Tt.supported(et))et.reuseMaps&&(At=Mapbox.reuse(et,lt.current)),At||(At=new Mapbox(Tt.Map,et,lt.current)),dt.map=createRef(At,Tt),dt.mapLib=Tt,at(At),rt==null||rt.onMapMount(dt.map,et.id);else throw new Error("Map is not supported by this browser")}}).catch(Tt=>{et.onError({type:"error",target:null,originalEvent:null,error:Tt})}),()=>{Et=!1,At&&(rt==null||rt.onMapUnmount(et.id),et.reuseMaps?At.recycle():At.destroy())}},[]),useIsomorphicLayoutEffect(()=>{nt&&nt.setProps(et)}),reactExports.useImperativeHandle(tt,()=>dt.map,[nt]);const ot=reactExports.useMemo(()=>({position:"relative",width:"100%",height:"100%",...et.style}),[et.style]),mt={height:"100%"};return reactExports.createElement("div",{id:et.id,ref:lt,style:ot},nt&&reactExports.createElement(MapContext.Provider,{value:dt},reactExports.createElement("div",{"mapboxgl-children":"",style:mt},et.children)))});Map$1.displayName="Map";Map$1.defaultProps=defaultProps$2;const unitlessNumber=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function applyReactStyle(et,tt){if(!et||!tt)return;const rt=et.style;for(const nt in tt){const at=tt[nt];Number.isFinite(at)&&!unitlessNumber.test(nt)?rt[nt]=`${at}px`:rt[nt]=at}}const defaultProps$1={draggable:!1,popup:null,rotation:0,rotationAlignment:"auto",pitchAlignment:"auto"};function Marker(et){const{map:tt,mapLib:rt}=reactExports.useContext(MapContext),nt=reactExports.useRef({props:et});nt.current.props=et;const at=reactExports.useMemo(()=>{let lt=!1;reactExports.Children.forEach(et.children,mt=>{mt&&(lt=!0)});const dt={...et,element:lt?document.createElement("div"):null},ot=new rt.Marker(dt).setLngLat([et.longitude,et.latitude]);return ot.getElement().addEventListener("click",mt=>{var xt,Et;(Et=(xt=nt.current.props).onClick)===null||Et===void 0||Et.call(xt,{type:"click",target:ot,originalEvent:mt})}),ot.on("dragstart",mt=>{var xt,Et;const At=mt;At.lngLat=at.getLngLat(),(Et=(xt=nt.current.props).onDragStart)===null||Et===void 0||Et.call(xt,At)}),ot.on("drag",mt=>{var xt,Et;const At=mt;At.lngLat=at.getLngLat(),(Et=(xt=nt.current.props).onDrag)===null||Et===void 0||Et.call(xt,At)}),ot.on("dragend",mt=>{var xt,Et;const At=mt;At.lngLat=at.getLngLat(),(Et=(xt=nt.current.props).onDragEnd)===null||Et===void 0||Et.call(xt,At)}),ot},[]);return reactExports.useEffect(()=>(at.addTo(tt.getMap()),()=>{at.remove()}),[]),reactExports.useEffect(()=>{applyReactStyle(at.getElement(),et.style)},[et.style]),(at.getLngLat().lng!==et.longitude||at.getLngLat().lat!==et.latitude)&&at.setLngLat([et.longitude,et.latitude]),et.offset&&!arePointsEqual(at.getOffset(),et.offset)&&at.setOffset(et.offset),at.isDraggable()!==et.draggable&&at.setDraggable(et.draggable),at.getRotation()!==et.rotation&&at.setRotation(et.rotation),at.getRotationAlignment()!==et.rotationAlignment&&at.setRotationAlignment(et.rotationAlignment),at.getPitchAlignment()!==et.pitchAlignment&&at.setPitchAlignment(et.pitchAlignment),at.getPopup()!==et.popup&&at.setPopup(et.popup),reactDomExports.createPortal(et.children,at.getElement())}Marker.defaultProps=defaultProps$1;const Marker$1=reactExports.memo(Marker);function getClassList(et){return new Set(et?et.trim().split(/\s+/):[])}function Popup(et){const{map:tt,mapLib:rt}=reactExports.useContext(MapContext),nt=reactExports.useMemo(()=>document.createElement("div"),[]),at=reactExports.useRef({props:et});at.current.props=et;const lt=reactExports.useMemo(()=>{const dt={...et},ot=new rt.Popup(dt).setLngLat([et.longitude,et.latitude]);return ot.once("open",mt=>{var xt,Et;(Et=(xt=at.current.props).onOpen)===null||Et===void 0||Et.call(xt,mt)}),ot},[]);if(reactExports.useEffect(()=>{const dt=ot=>{var mt,xt;(xt=(mt=at.current.props).onClose)===null||xt===void 0||xt.call(mt,ot)};return lt.on("close",dt),lt.setDOMContent(nt).addTo(tt.getMap()),()=>{lt.off("close",dt),lt.isOpen()&&lt.remove()}},[]),reactExports.useEffect(()=>{applyReactStyle(lt.getElement(),et.style)},[et.style]),lt.isOpen()&&((lt.getLngLat().lng!==et.longitude||lt.getLngLat().lat!==et.latitude)&&lt.setLngLat([et.longitude,et.latitude]),et.offset&&!deepEqual(lt.options.offset,et.offset)&&lt.setOffset(et.offset),(lt.options.anchor!==et.anchor||lt.options.maxWidth!==et.maxWidth)&&(lt.options.anchor=et.anchor,lt.setMaxWidth(et.maxWidth)),lt.options.className!==et.className)){const dt=getClassList(lt.options.className),ot=getClassList(et.className);for(const mt of dt)ot.has(mt)||lt.removeClassName(mt);for(const mt of ot)dt.has(mt)||lt.addClassName(mt);lt.options.className=et.className}return reactDomExports.createPortal(et.children,nt)}reactExports.memo(Popup);function useControl(et,tt,rt,nt){const at=reactExports.useContext(MapContext),lt=reactExports.useMemo(()=>et(at),[]);return reactExports.useEffect(()=>{const dt=nt||rt||tt,ot=typeof tt=="function"&&typeof rt=="function"?tt:null,mt=typeof rt=="function"?rt:typeof tt=="function"?tt:null,{map:xt}=at;return xt.hasControl(lt)||(xt.addControl(lt,dt==null?void 0:dt.position),ot&&ot(at)),()=>{mt&&mt(at),xt.hasControl(lt)&&xt.removeControl(lt)}},[]),lt}function AttributionControl(et){const tt=useControl(({mapLib:rt})=>new rt.AttributionControl(et),{position:et.position});return reactExports.useEffect(()=>{applyReactStyle(tt._container,et.style)},[et.style]),null}reactExports.memo(AttributionControl);function FullscreenControl(et){const tt=useControl(({mapLib:rt})=>new rt.FullscreenControl({container:et.containerId&&document.getElementById(et.containerId)}),{position:et.position});return reactExports.useEffect(()=>{applyReactStyle(tt._controlContainer,et.style)},[et.style]),null}reactExports.memo(FullscreenControl);const GeolocateControl=reactExports.forwardRef((et,tt)=>{const rt=reactExports.useRef({props:et}),nt=useControl(({mapLib:at})=>{const lt=new at.GeolocateControl(et),dt=lt._setupUI;return lt._setupUI=ot=>{lt._container.hasChildNodes()||dt(ot)},lt.on("geolocate",ot=>{var mt,xt;(xt=(mt=rt.current.props).onGeolocate)===null||xt===void 0||xt.call(mt,ot)}),lt.on("error",ot=>{var mt,xt;(xt=(mt=rt.current.props).onError)===null||xt===void 0||xt.call(mt,ot)}),lt.on("outofmaxbounds",ot=>{var mt,xt;(xt=(mt=rt.current.props).onOutOfMaxBounds)===null||xt===void 0||xt.call(mt,ot)}),lt.on("trackuserlocationstart",ot=>{var mt,xt;(xt=(mt=rt.current.props).onTrackUserLocationStart)===null||xt===void 0||xt.call(mt,ot)}),lt.on("trackuserlocationend",ot=>{var mt,xt;(xt=(mt=rt.current.props).onTrackUserLocationEnd)===null||xt===void 0||xt.call(mt,ot)}),lt},{position:et.position});return rt.current.props=et,reactExports.useImperativeHandle(tt,()=>({trigger:()=>nt.trigger()}),[]),reactExports.useEffect(()=>{applyReactStyle(nt._container,et.style)},[et.style]),null});GeolocateControl.displayName="GeolocateControl";reactExports.memo(GeolocateControl);function NavigationControl(et){const tt=useControl(({mapLib:rt})=>new rt.NavigationControl(et),{position:et.position});return reactExports.useEffect(()=>{applyReactStyle(tt._container,et.style)},[et.style]),null}reactExports.memo(NavigationControl);const defaultProps={unit:"metric",maxWidth:100};function ScaleControl(et){const tt=useControl(({mapLib:rt})=>new rt.ScaleControl(et),{position:et.position});return(tt.options.unit!==et.unit||tt.options.maxWidth!==et.maxWidth)&&(tt.options.maxWidth=et.maxWidth,tt.setUnit(et.unit)),reactExports.useEffect(()=>{applyReactStyle(tt._container,et.style)},[et.style]),null}ScaleControl.defaultProps=defaultProps;reactExports.memo(ScaleControl);var mapboxGl$1={exports:{}};(function(et,tt){(function(rt,nt){et.exports=nt()})(commonjsGlobal,function(){var rt,nt,at;function lt(ot,mt){if(!rt)rt=mt;else if(!nt)nt=mt;else{var xt="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+rt+")(sharedChunk); ("+nt+")(sharedChunk); self.onerror = null;",Et={};rt(Et),at=mt(Et),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(at.workerUrl=window.URL.createObjectURL(new Blob([xt],{type:"text/javascript"})))}}lt(["exports"],function(ot){var mt=typeof self<"u"?self:{},xt="2.15.0";let Et;const At={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(Et==null){const st=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Et={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):st}catch{Et=st}}return Et},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!At.API_URL)return null;try{const st=new URL(At.API_URL);return st.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":st.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Tt={supported:!1,testSupport:function(st){!Lt&&Mt&&(Gt?Pt(st):Ft=st)}};let Ft,Mt,Lt=!1,Gt=!1;function Pt(st){const it=st.createTexture();st.bindTexture(st.TEXTURE_2D,it);try{if(st.texImage2D(st.TEXTURE_2D,0,st.RGBA,st.RGBA,st.UNSIGNED_BYTE,Mt),st.isContextLost())return;Tt.supported=!0}catch{}st.deleteTexture(it),Lt=!0}mt.document&&(Mt=mt.document.createElement("img"),Mt.onload=function(){Ft&&Pt(Ft),Ft=null,Gt=!0},Mt.onerror=function(){Lt=!0,Ft=null},Mt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const $t="01";function It(st){return st&&st.__esModule&&Object.prototype.hasOwnProperty.call(st,"default")?st.default:st}var Ot=Vt;function Vt(st,it,ct,ht){this.cx=3*st,this.bx=3*(ct-st)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*it,this.by=3*(ht-it)-this.cy,this.ay=1-this.cy-this.by,this.p1x=st,this.p1y=it,this.p2x=ct,this.p2y=ht}Vt.prototype={sampleCurveX:function(st){return((this.ax*st+this.bx)*st+this.cx)*st},sampleCurveY:function(st){return((this.ay*st+this.by)*st+this.cy)*st},sampleCurveDerivativeX:function(st){return(3*this.ax*st+2*this.bx)*st+this.cx},solveCurveX:function(st,it){if(it===void 0&&(it=1e-6),st<0)return 0;if(st>1)return 1;for(var ct=st,ht=0;ht<8;ht++){var pt=this.sampleCurveX(ct)-st;if(Math.abs(pt)<it)return ct;var yt=this.sampleCurveDerivativeX(ct);if(Math.abs(yt)<1e-6)break;ct-=pt/yt}var bt=0,St=1;for(ct=st,ht=0;ht<20&&(pt=this.sampleCurveX(ct),!(Math.abs(pt-st)<it));ht++)st>pt?bt=ct:St=ct,ct=.5*(St-bt)+bt;return ct},solve:function(st,it){return this.sampleCurveY(this.solveCurveX(st,it))}};var Ut=It(Ot),Wt=nr;function nr(st,it){this.x=st,this.y=it}nr.prototype={clone:function(){return new nr(this.x,this.y)},add:function(st){return this.clone()._add(st)},sub:function(st){return this.clone()._sub(st)},multByPoint:function(st){return this.clone()._multByPoint(st)},divByPoint:function(st){return this.clone()._divByPoint(st)},mult:function(st){return this.clone()._mult(st)},div:function(st){return this.clone()._div(st)},rotate:function(st){return this.clone()._rotate(st)},rotateAround:function(st,it){return this.clone()._rotateAround(st,it)},matMult:function(st){return this.clone()._matMult(st)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(st){return this.x===st.x&&this.y===st.y},dist:function(st){return Math.sqrt(this.distSqr(st))},distSqr:function(st){var it=st.x-this.x,ct=st.y-this.y;return it*it+ct*ct},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(st){return Math.atan2(this.y-st.y,this.x-st.x)},angleWith:function(st){return this.angleWithSep(st.x,st.y)},angleWithSep:function(st,it){return Math.atan2(this.x*it-this.y*st,this.x*st+this.y*it)},_matMult:function(st){var it=st[2]*this.x+st[3]*this.y;return this.x=st[0]*this.x+st[1]*this.y,this.y=it,this},_add:function(st){return this.x+=st.x,this.y+=st.y,this},_sub:function(st){return this.x-=st.x,this.y-=st.y,this},_mult:function(st){return this.x*=st,this.y*=st,this},_div:function(st){return this.x/=st,this.y/=st,this},_multByPoint:function(st){return this.x*=st.x,this.y*=st.y,this},_divByPoint:function(st){return this.x/=st.x,this.y/=st.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var st=this.y;return this.y=this.x,this.x=-st,this},_rotate:function(st){var it=Math.cos(st),ct=Math.sin(st),ht=ct*this.x+it*this.y;return this.x=it*this.x-ct*this.y,this.y=ht,this},_rotateAround:function(st,it){var ct=Math.cos(st),ht=Math.sin(st),pt=it.y+ht*(this.x-it.x)+ct*(this.y-it.y);return this.x=it.x+ct*(this.x-it.x)-ht*(this.y-it.y),this.y=pt,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},nr.convert=function(st){return st instanceof nr?st:Array.isArray(st)?new nr(st[0],st[1]):st};var er=It(Wt);const Kt=Math.PI/180,ur=180/Math.PI;function vr(st){return st*Kt}function Lr(st){return st*ur}const Er=[[0,0],[1,0],[1,1],[0,1]];function Cr(st){if(st<=0)return 0;if(st>=1)return 1;const it=st*st,ct=it*st;return 4*(st<.5?ct:3*(st-it)+ct-.75)}function hr(st,it,ct,ht){const pt=new Ut(st,it,ct,ht);return function(yt){return pt.solve(yt)}}const Tr=hr(.25,.1,.25,1);function Xt(st,it,ct){return Math.min(ct,Math.max(it,st))}function Qt(st,it,ct){return(ct=Xt((ct-st)/(it-st),0,1))*ct*(3-2*ct)}function lr(st,it,ct){const ht=ct-it,pt=((st-it)%ht+ht)%ht+it;return pt===it?ct:pt}function cr(st,it,ct){if(!st.length)return ct(null,[]);let ht=st.length;const pt=new Array(st.length);let yt=null;st.forEach((bt,St)=>{it(bt,(Rt,kt)=>{Rt&&(yt=Rt),pt[St]=kt,--ht==0&&ct(yt,pt)})})}function sr(st){const it=[];for(const ct in st)it.push(st[ct]);return it}function dr(st,...it){for(const ct of it)for(const ht in ct)st[ht]=ct[ht];return st}let Rr=1;function jr(){return Rr++}function Sr(){return function st(it){return it?(it^Math.random()*(16>>it/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,st)}()}function dn(st){return st<=1?1:Math.pow(2,Math.ceil(Math.log(st)/Math.LN2))}function Qr(st){return!!st&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(st)}function gn(st,it){st.forEach(ct=>{it[ct]&&(it[ct]=it[ct].bind(it))})}function ln(st,it){return st.indexOf(it,st.length-it.length)!==-1}function Kr(st,it,ct){const ht={};for(const pt in st)ht[pt]=it.call(ct||this,st[pt],pt,st);return ht}function cn(st,it,ct){const ht={};for(const pt in st)it.call(ct||this,st[pt],pt,st)&&(ht[pt]=st[pt]);return ht}function En(st){return Array.isArray(st)?st.map(En):typeof st=="object"&&st?Kr(st,En):st}const yn={};function Rn(st){yn[st]||(typeof console<"u"&&console.warn(st),yn[st]=!0)}function Zn(st,it,ct){return(ct.y-st.y)*(it.x-st.x)>(it.y-st.y)*(ct.x-st.x)}function jn(st){let it=0;for(let ct,ht,pt=0,yt=st.length,bt=yt-1;pt<yt;bt=pt++)ct=st[pt],ht=st[bt],it+=(ht.x-ct.x)*(ct.y+ht.y);return it}function so(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Eo(st){const it={};if(st.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(ct,ht,pt,yt)=>{const bt=pt||yt;return it[ht]=!bt||bt.toLowerCase(),""}),it["max-age"]){const ct=parseInt(it["max-age"],10);isNaN(ct)?delete it["max-age"]:it["max-age"]=ct}return it}let _i=null;function po(st){if(_i==null){const it=st.navigator?st.navigator.userAgent:null;_i=!!st.safari||!(!it||!(/\b(iPad|iPhone|iPod)\b/.test(it)||it.match("Safari")&&!it.match("Chrome")))}return _i}function Mo(st){try{const it=mt[st];return it.setItem("_mapbox_test_",1),it.removeItem("_mapbox_test_"),!0}catch{return!1}}function yo(st,it){return[st[4*it],st[4*it+1],st[4*it+2],st[4*it+3]]}const mn="mapbox-tiles";let Bn=500,no=50,eo,to;function Yn(){try{return mt.caches}catch{}}function Hr(){Yn()&&!eo&&(eo=mt.caches.open(mn))}function tn(st){const it=st.indexOf("?");if(it<0)return st;const ct=function(pt){const yt=pt.indexOf("?");return yt>0?pt.slice(yt+1).split("&"):[]}(st),ht=ct.filter(pt=>{const yt=pt.split("=");return yt[0]==="language"||yt[0]==="worldview"});return ht.length?`${st.slice(0,it)}?${ht.join("&")}`:st.slice(0,it)}let fn=1/0;const Vn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Vn);class Kn extends Error{constructor(it,ct,ht){ct===401&&Zr(ht)&&(it+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(it),this.status=ct,this.url=ht}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const qr=so()?()=>self.worker&&self.worker.referrer:()=>(mt.location.protocol==="blob:"?mt.parent:mt).location.href,Ur=function(st,it){if(!(/^file:/.test(ct=st.url)||/^file:/.test(qr())&&!/^\w+:/.test(ct))){if(mt.fetch&&mt.Request&&mt.AbortController&&mt.Request.prototype.hasOwnProperty("signal"))return function(ht,pt){const yt=new mt.AbortController,bt=new mt.Request(ht.url,{method:ht.method||"GET",body:ht.body,credentials:ht.credentials,headers:ht.headers,referrer:qr(),referrerPolicy:ht.referrerPolicy,signal:yt.signal});let St=!1,Rt=!1;const kt=(Bt=bt.url).indexOf("sku=")>0&&Zr(Bt);var Bt;ht.type==="json"&&bt.headers.set("Accept","application/json");const jt=(Yt,Jt,or)=>{if(Rt)return;if(Yt&&Yt.message!=="SecurityError"&&Rn(Yt.toString()),Jt&&or)return Ht(Jt);const gr=Date.now();mt.fetch(bt).then(Mr=>{if(Mr.ok){const Fr=kt?Mr.clone():null;return Ht(Mr,Fr,gr)}return pt(new Kn(Mr.statusText,Mr.status,ht.url))}).catch(Mr=>{Mr.name!=="AbortError"&&pt(new Error(`${Mr.message} ${ht.url}`))})},Ht=(Yt,Jt,or)=>{(ht.type==="arrayBuffer"?Yt.arrayBuffer():ht.type==="json"?Yt.json():Yt.text()).then(gr=>{Rt||(Jt&&or&&function(Mr,Fr,kr){if(Hr(),!eo)return;const Or={status:Fr.status,statusText:Fr.statusText,headers:new mt.Headers};Fr.headers.forEach((sn,nn)=>Or.headers.set(nn,sn));const Nr=Eo(Fr.headers.get("Cache-Control")||"");if(Nr["no-store"])return;Nr["max-age"]&&Or.headers.set("Expires",new Date(kr+1e3*Nr["max-age"]).toUTCString());const zr=Or.headers.get("Expires");zr&&(new Date(zr).getTime()-kr<42e4||function(sn,nn){if(to===void 0)try{new Response(new ReadableStream),to=!0}catch{to=!1}to?nn(sn.body):sn.blob().then(nn)}(Fr,sn=>{const nn=new mt.Response(sn,Or);Hr(),eo&&eo.then(xn=>xn.put(tn(Mr.url),nn)).catch(xn=>Rn(xn.message))}))}(bt,Jt,or),St=!0,pt(null,gr,Yt.headers.get("Cache-Control"),Yt.headers.get("Expires")))}).catch(gr=>{Rt||pt(new Error(gr.message))})};return kt?function(Yt,Jt){if(Hr(),!eo)return Jt(null);const or=tn(Yt.url);eo.then(gr=>{gr.match(or).then(Mr=>{const Fr=function(kr){if(!kr)return!1;const Or=new Date(kr.headers.get("Expires")||0),Nr=Eo(kr.headers.get("Cache-Control")||"");return Or>Date.now()&&!Nr["no-cache"]}(Mr);gr.delete(or),Fr&&gr.put(or,Mr.clone()),Jt(null,Mr,Fr)}).catch(Jt)}).catch(Jt)}(bt,jt):jt(null,null),{cancel:()=>{Rt=!0,St||yt.abort()}}}(st,it);if(so()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",st,it,void 0,!0)}var ct;return function(ht,pt){const yt=new mt.XMLHttpRequest;yt.open(ht.method||"GET",ht.url,!0),ht.type==="arrayBuffer"&&(yt.responseType="arraybuffer");for(const bt in ht.headers)yt.setRequestHeader(bt,ht.headers[bt]);return ht.type==="json"&&(yt.responseType="text",yt.setRequestHeader("Accept","application/json")),yt.withCredentials=ht.credentials==="include",yt.onerror=()=>{pt(new Error(yt.statusText))},yt.onload=()=>{if((yt.status>=200&&yt.status<300||yt.status===0)&&yt.response!==null){let bt=yt.response;if(ht.type==="json")try{bt=JSON.parse(yt.response)}catch(St){return pt(St)}pt(null,bt,yt.getResponseHeader("Cache-Control"),yt.getResponseHeader("Expires"))}else pt(new Kn(yt.statusText,yt.status,ht.url))},yt.send(ht.body),{cancel:()=>yt.abort()}}(st,it)},pn=function(st,it){return Ur(dr(st,{type:"arrayBuffer"}),it)};function bn(st){const it=mt.document.createElement("a");return it.href=st,it.protocol===mt.document.location.protocol&&it.host===mt.document.location.host}const mr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let tr,ar;tr=[],ar=0;const yr=function(st,it){if(Tt.supported&&(st.headers||(st.headers={}),st.headers.accept="image/webp,*/*"),ar>=At.MAX_PARALLEL_IMAGE_REQUESTS){const yt={requestParameters:st,callback:it,cancelled:!1,cancel(){this.cancelled=!0}};return tr.push(yt),yt}ar++;let ct=!1;const ht=()=>{if(!ct)for(ct=!0,ar--;tr.length&&ar<At.MAX_PARALLEL_IMAGE_REQUESTS;){const yt=tr.shift(),{requestParameters:bt,callback:St,cancelled:Rt}=yt;Rt||(yt.cancel=yr(bt,St).cancel)}},pt=pn(st,(yt,bt,St,Rt)=>{ht(),yt?it(yt):bt&&(mt.createImageBitmap?function(kt,Bt){const jt=new mt.Blob([new Uint8Array(kt)],{type:"image/png"});mt.createImageBitmap(jt).then(Ht=>{Bt(null,Ht)}).catch(Ht=>{Bt(new Error(`Could not load image because of ${Ht.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(bt,(kt,Bt)=>it(kt,Bt,St,Rt)):function(kt,Bt){const jt=new mt.Image,Ht=mt.URL;jt.onload=()=>{Bt(null,jt),Ht.revokeObjectURL(jt.src),jt.onload=null,mt.requestAnimationFrame(()=>{jt.src=mr})},jt.onerror=()=>Bt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Yt=new mt.Blob([new Uint8Array(kt)],{type:"image/png"});jt.src=kt.byteLength?Ht.createObjectURL(Yt):mr}(bt,(kt,Bt)=>it(kt,Bt,St,Rt)))});return{cancel:()=>{pt.cancel(),ht()}}},Ar="NO_ACCESS_TOKEN";function Dr(st){return st.indexOf("mapbox:")===0}function Zr(st){return At.API_URL_REGEX.test(st)}function Xr(st){return At.API_CDN_URL_REGEX.test(st)}function Br(st){return At.API_STYLE_REGEX.test(st)&&!en(st)}function en(st){return At.API_SPRITE_REGEX.test(st)}const Pn=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Fn(st){const it=st.match(Pn);if(!it)throw new Error("Unable to parse URL object");return{protocol:it[1],authority:it[2],path:it[3]||"/",params:it[4]?it[4].split("&"):[]}}function Mn(st){const it=st.params.length?`?${st.params.join("&")}`:"";return`${st.protocol}://${st.authority}${st.path}${it}`}const ho="mapbox.eventData";function mo(st){if(!st)return null;const it=st.split(".");if(!it||it.length!==3)return null;try{return JSON.parse(decodeURIComponent(mt.atob(it[1]).split("").map(ct=>"%"+("00"+ct.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class ro{constructor(it){this.type=it,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(it){const ct=mo(At.ACCESS_TOKEN);let ht="";return ht=ct&&ct.u?mt.btoa(encodeURIComponent(ct.u).replace(/%([0-9A-F]{2})/g,(pt,yt)=>String.fromCharCode(+("0x"+yt)))):At.ACCESS_TOKEN||"",it?`${ho}.${it}:${ht}`:`${ho}:${ht}`}fetchEventData(){const it=Mo("localStorage"),ct=this.getStorageKey(),ht=this.getStorageKey("uuid");if(it)try{const pt=mt.localStorage.getItem(ct);pt&&(this.eventData=JSON.parse(pt));const yt=mt.localStorage.getItem(ht);yt&&(this.anonId=yt)}catch{Rn("Unable to read from LocalStorage")}}saveEventData(){const it=Mo("localStorage"),ct=this.getStorageKey(),ht=this.getStorageKey("uuid");if(it)try{mt.localStorage.setItem(ht,this.anonId),Object.keys(this.eventData).length>=1&&mt.localStorage.setItem(ct,JSON.stringify(this.eventData))}catch{Rn("Unable to write to LocalStorage")}}processRequests(it){}postEvent(it,ct,ht,pt){if(!At.EVENTS_URL)return;const yt=Fn(At.EVENTS_URL);yt.params.push(`access_token=${pt||At.ACCESS_TOKEN||""}`);const bt={event:this.type,created:new Date(it).toISOString()},St=ct?dr(bt,ct):bt,Rt={url:Mn(yt),headers:{"Content-Type":"text/plain"},body:JSON.stringify([St])};this.pendingRequest=function(kt,Bt){return Ur(dr(kt,{method:"POST"}),Bt)}(Rt,kt=>{this.pendingRequest=null,ht(kt),this.saveEventData(),this.processRequests(pt)})}queueRequest(it,ct){this.queue.push(it),this.processRequests(ct)}}const co=new class extends ro{constructor(st){super("appUserTurnstile"),this._customAccessToken=st}postTurnstileEvent(st,it){At.EVENTS_URL&&At.ACCESS_TOKEN&&Array.isArray(st)&&st.some(ct=>Dr(ct)||Zr(ct))&&this.queueRequest(Date.now(),it)}processRequests(st){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const it=mo(At.ACCESS_TOKEN),ct=it?it.u:At.ACCESS_TOKEN;let ht=ct!==this.eventData.tokenU;Qr(this.anonId)||(this.anonId=Sr(),ht=!0);const pt=this.queue.shift();if(this.eventData.lastSuccess){const yt=new Date(this.eventData.lastSuccess),bt=new Date(pt),St=(pt-this.eventData.lastSuccess)/864e5;ht=ht||St>=1||St<-1||yt.getDate()!==bt.getDate()}else ht=!0;ht?this.postEvent(pt,{sdkIdentifier:"mapbox-gl-js",sdkVersion:xt,skuId:$t,"enabled.telemetry":!1,userId:this.anonId},yt=>{yt||(this.eventData.lastSuccess=pt,this.eventData.tokenU=ct)},st):this.processRequests()}},vo=co.postTurnstileEvent.bind(co),jo=new class extends ro{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(st,it,ct,ht){this.skuToken=it,this.errorCb=ht,At.EVENTS_URL&&(ct||At.ACCESS_TOKEN?this.queueRequest({id:st,timestamp:Date.now()},ct):this.errorCb(new Error(Ar)))}processRequests(st){if(this.pendingRequest||this.queue.length===0)return;const{id:it,timestamp:ct}=this.queue.shift();it&&this.success[it]||(this.anonId||this.fetchEventData(),Qr(this.anonId)||(this.anonId=Sr()),this.postEvent(ct,{sdkIdentifier:"mapbox-gl-js",sdkVersion:xt,skuId:$t,skuToken:this.skuToken,userId:this.anonId},ht=>{ht?this.errorCb(ht):it&&(this.success[it]=!0)},st))}},Io=jo.postMapLoadEvent.bind(jo),is=new class extends ro{constructor(){super("gljs.performance")}postPerformanceEvent(st,it){At.EVENTS_URL&&(st||At.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:it},st)}processRequests(st){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:it,performanceData:ct}=this.queue.shift(),ht=function(pt){const yt=mt.performance.getEntriesByType("resource"),bt=mt.performance.getEntriesByType("mark"),St=function(Ht){const Yt={};if(Ht){for(const Jt in Ht)if(Jt!=="other")for(const or of Ht[Jt]){const gr=`${Jt}ResolveRangeMin`,Mr=`${Jt}ResolveRangeMax`,Fr=`${Jt}RequestCount`,kr=`${Jt}RequestCachedCount`;Yt[gr]=Math.min(Yt[gr]||1/0,or.startTime),Yt[Mr]=Math.max(Yt[Mr]||-1/0,or.responseEnd);const Or=Nr=>{Yt[Nr]===void 0&&(Yt[Nr]=0),++Yt[Nr]};or.transferSize!==void 0&&or.transferSize===0&&Or(kr),Or(Fr)}}return Yt}(function(Ht,Yt){const Jt={};if(Ht)for(const or of Ht){const gr=Yt(or);Jt[gr]===void 0&&(Jt[gr]=[]),Jt[gr].push(or)}return Jt}(yt,xy)),Rt=mt.devicePixelRatio,kt=mt.navigator.connection||mt.navigator.mozConnection||mt.navigator.webkitConnection,Bt={counters:[],metadata:[],attributes:[]},jt=(Ht,Yt,Jt)=>{Jt!=null&&Ht.push({name:Yt,value:Jt.toString()})};for(const Ht in St)jt(Bt.counters,Ht,St[Ht]);if(pt.interactionRange[0]!==1/0&&pt.interactionRange[1]!==-1/0&&(jt(Bt.counters,"interactionRangeMin",pt.interactionRange[0]),jt(Bt.counters,"interactionRangeMax",pt.interactionRange[1])),bt)for(const Ht of Object.keys(Ts)){const Yt=Ts[Ht],Jt=bt.find(or=>or.name===Yt);Jt&&jt(Bt.counters,Yt,Jt.startTime)}return jt(Bt.counters,"visibilityHidden",pt.visibilityHidden),jt(Bt.attributes,"style",function(Ht){if(Ht)for(const Yt of Ht){const Jt=Yt.name.split("?")[0];if(Br(Jt)){const or=Jt.split("/").slice(-2);if(or.length===2)return`mapbox://styles/${or[0]}/${or[1]}`}}}(yt)),jt(Bt.attributes,"terrainEnabled",pt.terrainEnabled?"true":"false"),jt(Bt.attributes,"fogEnabled",pt.fogEnabled?"true":"false"),jt(Bt.attributes,"projection",pt.projection),jt(Bt.attributes,"zoom",pt.zoom),jt(Bt.metadata,"devicePixelRatio",Rt),jt(Bt.metadata,"connectionEffectiveType",kt?kt.effectiveType:void 0),jt(Bt.metadata,"navigatorUserAgent",mt.navigator.userAgent),jt(Bt.metadata,"screenWidth",mt.screen.width),jt(Bt.metadata,"screenHeight",mt.screen.height),jt(Bt.metadata,"windowWidth",mt.innerWidth),jt(Bt.metadata,"windowHeight",mt.innerHeight),jt(Bt.metadata,"mapWidth",pt.width/Rt),jt(Bt.metadata,"mapHeight",pt.height/Rt),jt(Bt.metadata,"webglRenderer",pt.renderer),jt(Bt.metadata,"webglVendor",pt.vendor),jt(Bt.metadata,"sdkVersion",xt),jt(Bt.metadata,"sdkIdentifier","mapbox-gl-js"),Bt}(ct);for(const pt of ht.metadata);for(const pt of ht.counters);for(const pt of ht.attributes);this.postEvent(it,ht,()=>{},st)}},Co=is.postPerformanceEvent.bind(is),Uo=new class extends ro{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(st,it,ct,ht){if(!At.API_URL||!At.SESSION_PATH)return;const pt=Fn(At.API_URL+At.SESSION_PATH);pt.params.push(`sku=${it||""}`),pt.params.push(`access_token=${ht||At.ACCESS_TOKEN||""}`);const yt={url:Mn(pt),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(bt,St){return Ur(dr(bt,{method:"GET"}),St)}(yt,bt=>{this.pendingRequest=null,ct(bt),this.saveEventData(),this.processRequests(ht)})}getSessionAPI(st,it,ct,ht){this.skuToken=it,this.errorCb=ht,At.SESSION_PATH&&At.API_URL&&(ct||At.ACCESS_TOKEN?this.queueRequest({id:st,timestamp:Date.now()},ct):this.errorCb(new Error(Ar)))}processRequests(st){if(this.pendingRequest||this.queue.length===0)return;const{id:it,timestamp:ct}=this.queue.shift();it&&this.success[it]||this.getSession(ct,this.skuToken,ht=>{ht?this.errorCb(ht):it&&(this.success[it]=!0)},st)}},os=Uo.getSessionAPI.bind(Uo),gs=new Set,Ts={create:"create",load:"load",fullLoad:"fullLoad"},W1={mark(st){mt.performance.mark(st)},measure(st,it,ct){mt.performance.measure(st,it,ct)}};function xy(st){const it=st.name.split("?")[0];return Xr(it)&&it.includes("mapbox-gl.js")?"javascript":Xr(it)&&it.includes("mapbox-gl.css")?"css":function(ct){return At.API_FONTS_REGEX.test(ct)}(it)?"fontRange":en(it)?"sprite":Br(it)?"style":function(ct){return At.API_TILEJSON_REGEX.test(ct)}(it)?"tilejson":"other"}const Bo=mt.performance;function Gm(st){const it=st?st.url.toString():void 0;return Bo.getEntriesByName(it)}let np,Wm,Hp,El;const Dl={now:()=>Hp!==void 0?Hp:mt.performance.now(),setNow(st){Hp=st},restoreNow(){Hp=void 0},frame(st){const it=mt.requestAnimationFrame(st);return{cancel:()=>mt.cancelAnimationFrame(it)}},getImageData(st,it=0){const{width:ct,height:ht}=st;El||(El=mt.document.createElement("canvas"));const pt=El.getContext("2d",{willReadFrequently:!0});if(!pt)throw new Error("failed to create canvas 2d context");return(ct>El.width||ht>El.height)&&(El.width=ct,El.height=ht),pt.clearRect(-it,-it,ct+2*it,ht+2*it),pt.drawImage(st,0,0,ct,ht),pt.getImageData(-it,-it,ct+2*it,ht+2*it)},resolveURL:st=>(np||(np=mt.document.createElement("a")),np.href=st,np.href),get devicePixelRatio(){return mt.devicePixelRatio},get prefersReducedMotion(){return!!mt.matchMedia&&(Wm==null&&(Wm=mt.matchMedia("(prefers-reduced-motion: reduce)")),Wm.matches)}};function Hm(st,it,ct){ct[st]&&ct[st].indexOf(it)!==-1||(ct[st]=ct[st]||[],ct[st].push(it))}function qm(st,it,ct){if(ct&&ct[st]){const ht=ct[st].indexOf(it);ht!==-1&&ct[st].splice(ht,1)}}class fu{constructor(it,ct={}){dr(this,ct),this.type=it}}class Ol extends fu{constructor(it,ct={}){super("error",dr({error:it},ct))}}class ap{on(it,ct){return this._listeners=this._listeners||{},Hm(it,ct,this._listeners),this}off(it,ct){return qm(it,ct,this._listeners),qm(it,ct,this._oneTimeListeners),this}once(it,ct){return ct?(this._oneTimeListeners=this._oneTimeListeners||{},Hm(it,ct,this._oneTimeListeners),this):new Promise(ht=>this.once(it,ht))}fire(it,ct){typeof it=="string"&&(it=new fu(it,ct||{}));const ht=it.type;if(this.listens(ht)){it.target=this;const pt=this._listeners&&this._listeners[ht]?this._listeners[ht].slice():[];for(const St of pt)St.call(this,it);const yt=this._oneTimeListeners&&this._oneTimeListeners[ht]?this._oneTimeListeners[ht].slice():[];for(const St of yt)qm(ht,St,this._oneTimeListeners),St.call(this,it);const bt=this._eventedParent;bt&&(dr(it,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),bt.fire(it))}else it instanceof Ol&&console.error(it.error);return this}listens(it){return!!(this._listeners&&this._listeners[it]&&this._listeners[it].length>0||this._oneTimeListeners&&this._oneTimeListeners[it]&&this._oneTimeListeners[it].length>0||this._eventedParent&&this._eventedParent.listens(it))}setEventedParent(it,ct){return this._eventedParent=it,this._eventedParentData=ct,this}}var _n=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Fl(st,...it){for(const ct of it)for(const ht in ct)st[ht]=ct[ht];return st}function ls(st){return st instanceof Number||st instanceof String||st instanceof Boolean?st.valueOf():st}function vs(st){if(Array.isArray(st))return st.map(vs);if(st instanceof Object&&!(st instanceof Number||st instanceof String||st instanceof Boolean)){const it={};for(const ct in st)it[ct]=vs(st[ct]);return it}return ls(st)}class by extends Error{constructor(it,ct){super(ct),this.message=ct,this.key=it}}var Cl=by;class Zm{constructor(it,ct=[]){this.parent=it,this.bindings={};for(const[ht,pt]of ct)this.bindings[ht]=pt}concat(it){return new Zm(this,it)}get(it){if(this.bindings[it])return this.bindings[it];if(this.parent)return this.parent.get(it);throw new Error(`${it} not found in scope.`)}has(it){return!!this.bindings[it]||!!this.parent&&this.parent.has(it)}}var wy=Zm;const ku={kind:"null"},Hn={kind:"number"},$o={kind:"string"},Ro={kind:"boolean"},Ns={kind:"color"},Qs={kind:"object"},Po={kind:"value"},js={kind:"collator"},sp={kind:"formatted"},pu={kind:"resolvedImage"};function Us(st,it){return{kind:"array",itemType:st,N:it}}function ba(st){if(st.kind==="array"){const it=ba(st.itemType);return typeof st.N=="number"?`array<${it}, ${st.N}>`:st.itemType.kind==="value"?"array":`array<${it}>`}return st.kind}const Sy=[ku,Hn,$o,Ro,Ns,sp,Qs,Us(Po),pu];function zl(st,it){if(it.kind==="error")return null;if(st.kind==="array"){if(it.kind==="array"&&(it.N===0&&it.itemType.kind==="value"||!zl(st.itemType,it.itemType))&&(typeof st.N!="number"||st.N===it.N))return null}else{if(st.kind===it.kind)return null;if(st.kind==="value"){for(const ct of Sy)if(!zl(ct,it))return null}}return`Expected ${ba(st)} but found ${ba(it)} instead.`}function lp(st,it){return it.some(ct=>ct.kind===st.kind)}function cp(st,it){return it.some(ct=>ct==="null"?st===null:ct==="array"?Array.isArray(st):ct==="object"?st&&!Array.isArray(st)&&typeof st=="object":ct===typeof st)}var Km,Ey={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function up(st){return(st=Math.round(st))<0?0:st>255?255:st}function hp(st){return up(st[st.length-1]==="%"?parseFloat(st)/100*255:parseInt(st))}function qp(st){return(it=st[st.length-1]==="%"?parseFloat(st)/100:parseFloat(st))<0?0:it>1?1:it;var it}function $u(st,it,ct){return ct<0?ct+=1:ct>1&&(ct-=1),6*ct<1?st+(it-st)*ct*6:2*ct<1?it:3*ct<2?st+(it-st)*(2/3-ct)*6:st}try{Km={}.parseCSSColor=function(st){var it,ct=st.replace(/ /g,"").toLowerCase();if(ct in Ey)return Ey[ct].slice();if(ct[0]==="#")return ct.length===4?(it=parseInt(ct.substr(1),16))>=0&&it<=4095?[(3840&it)>>4|(3840&it)>>8,240&it|(240&it)>>4,15&it|(15&it)<<4,1]:null:ct.length===7&&(it=parseInt(ct.substr(1),16))>=0&&it<=16777215?[(16711680&it)>>16,(65280&it)>>8,255&it,1]:null;var ht=ct.indexOf("("),pt=ct.indexOf(")");if(ht!==-1&&pt+1===ct.length){var yt=ct.substr(0,ht),bt=ct.substr(ht+1,pt-(ht+1)).split(","),St=1;switch(yt){case"rgba":if(bt.length!==4)return null;St=qp(bt.pop());case"rgb":return bt.length!==3?null:[hp(bt[0]),hp(bt[1]),hp(bt[2]),St];case"hsla":if(bt.length!==4)return null;St=qp(bt.pop());case"hsl":if(bt.length!==3)return null;var Rt=(parseFloat(bt[0])%360+360)%360/360,kt=qp(bt[1]),Bt=qp(bt[2]),jt=Bt<=.5?Bt*(kt+1):Bt+kt-Bt*kt,Ht=2*Bt-jt;return[up(255*$u(Ht,jt,Rt+1/3)),up(255*$u(Ht,jt,Rt)),up(255*$u(Ht,jt,Rt-1/3)),St];default:return null}}return null}}catch{}class $s{constructor(it,ct,ht,pt=1){this.r=it,this.g=ct,this.b=ht,this.a=pt}static parse(it){if(!it)return;if(it instanceof $s)return it;if(typeof it!="string")return;const ct=Km(it);return ct?new $s(ct[0]/255*ct[3],ct[1]/255*ct[3],ct[2]/255*ct[3],ct[3]):void 0}toString(){const[it,ct,ht,pt]=this.toArray();return`rgba(${Math.round(it)},${Math.round(ct)},${Math.round(ht)},${pt})`}toArray(){const{r:it,g:ct,b:ht,a:pt}=this;return pt===0?[0,0,0,0]:[255*it/pt,255*ct/pt,255*ht/pt,pt]}toArray01(){const{r:it,g:ct,b:ht,a:pt}=this;return pt===0?[0,0,0,0]:[it/pt,ct/pt,ht/pt,pt]}toArray01PremultipliedAlpha(){const{r:it,g:ct,b:ht,a:pt}=this;return[it,ct,ht,pt]}}$s.black=new $s(0,0,0,1),$s.white=new $s(1,1,1,1),$s.transparent=new $s(0,0,0,0),$s.red=new $s(1,0,0,1),$s.blue=new $s(0,0,1,1);var as=$s;class Xm{constructor(it,ct,ht){this.sensitivity=it?ct?"variant":"case":ct?"accent":"base",this.locale=ht,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(it,ct){return this.collator.compare(it,ct)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ym{constructor(it,ct,ht,pt,yt){this.text=it.normalize?it.normalize():it,this.image=ct,this.scale=ht,this.fontStack=pt,this.textColor=yt}}class Is{constructor(it){this.sections=it}static fromString(it){return new Is([new Ym(it,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(it=>it.text.length!==0||it.image&&it.image.name.length!==0)}static factory(it){return it instanceof Is?it:Is.fromString(it)}toString(){return this.sections.length===0?"":this.sections.map(it=>it.text).join("")}serialize(){const it=["format"];for(const ct of this.sections){if(ct.image){it.push(["image",ct.image.name]);continue}it.push(ct.text);const ht={};ct.fontStack&&(ht["text-font"]=["literal",ct.fontStack.split(",")]),ct.scale&&(ht["font-scale"]=ct.scale),ct.textColor&&(ht["text-color"]=["rgba"].concat(ct.textColor.toArray())),it.push(ht)}return it}}class Gs{constructor(it){this.name=it.name,this.available=it.available}toString(){return this.name}static fromString(it){return it?new Gs({name:it,available:!1}):null}serialize(){return["image",this.name]}}function Cy(st,it,ct,ht){return typeof st=="number"&&st>=0&&st<=255&&typeof it=="number"&&it>=0&&it<=255&&typeof ct=="number"&&ct>=0&&ct<=255?ht===void 0||typeof ht=="number"&&ht>=0&&ht<=1?null:`Invalid rgba value [${[st,it,ct,ht].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof ht=="number"?[st,it,ct,ht]:[st,it,ct]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function dp(st){if(st===null||typeof st=="string"||typeof st=="boolean"||typeof st=="number"||st instanceof as||st instanceof Xm||st instanceof Is||st instanceof Gs)return!0;if(Array.isArray(st)){for(const it of st)if(!dp(it))return!1;return!0}if(typeof st=="object"){for(const it in st)if(!dp(st[it]))return!1;return!0}return!1}function rs(st){if(st===null)return ku;if(typeof st=="string")return $o;if(typeof st=="boolean")return Ro;if(typeof st=="number")return Hn;if(st instanceof as)return Ns;if(st instanceof Xm)return js;if(st instanceof Is)return sp;if(st instanceof Gs)return pu;if(Array.isArray(st)){const it=st.length;let ct;for(const ht of st){const pt=rs(ht);if(ct){if(ct===pt)continue;ct=Po;break}ct=pt}return Us(ct||Po,it)}return Qs}function fp(st){const it=typeof st;return st===null?"":it==="string"||it==="number"||it==="boolean"?String(st):st instanceof as||st instanceof Is||st instanceof Gs?st.toString():JSON.stringify(st)}class Qm{constructor(it,ct){this.type=it,this.value=ct}static parse(it,ct){if(it.length!==2)return ct.error(`'literal' expression requires exactly one argument, but found ${it.length-1} instead.`);if(!dp(it[1]))return ct.error("invalid value");const ht=it[1];let pt=rs(ht);const yt=ct.expectedType;return pt.kind!=="array"||pt.N!==0||!yt||yt.kind!=="array"||typeof yt.N=="number"&&yt.N!==0||(pt=yt),new Qm(pt,ht)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof as?["rgba"].concat(this.value.toArray()):this.value instanceof Is?this.value.serialize():this.value}}var mu=Qm,Ss=class{constructor(st){this.name="ExpressionEvaluationError",this.message=st}toJSON(){return this.message}};const Jm={string:$o,number:Hn,boolean:Ro,object:Qs};class _g{constructor(it,ct){this.type=it,this.args=ct}static parse(it,ct){if(it.length<2)return ct.error("Expected at least one argument.");let ht,pt=1;const yt=it[0];if(yt==="array"){let St,Rt;if(it.length>2){const kt=it[1];if(typeof kt!="string"||!(kt in Jm)||kt==="object")return ct.error('The item type argument of "array" must be one of string, number, boolean',1);St=Jm[kt],pt++}else St=Po;if(it.length>3){if(it[2]!==null&&(typeof it[2]!="number"||it[2]<0||it[2]!==Math.floor(it[2])))return ct.error('The length argument to "array" must be a positive integer literal',2);Rt=it[2],pt++}ht=Us(St,Rt)}else ht=Jm[yt];const bt=[];for(;pt<it.length;pt++){const St=ct.parse(it[pt],pt,Po);if(!St)return null;bt.push(St)}return new _g(ht,bt)}evaluate(it){for(let ct=0;ct<this.args.length;ct++){const ht=this.args[ct].evaluate(it);if(!zl(this.type,rs(ht)))return ht;if(ct===this.args.length-1)throw new Ss(`Expected value to be of type ${ba(this.type)}, but found ${ba(rs(ht))} instead.`)}return null}eachChild(it){this.args.forEach(it)}outputDefined(){return this.args.every(it=>it.outputDefined())}serialize(){const it=this.type,ct=[it.kind];if(it.kind==="array"){const ht=it.itemType;if(ht.kind==="string"||ht.kind==="number"||ht.kind==="boolean"){ct.push(ht.kind);const pt=it.N;(typeof pt=="number"||this.args.length>1)&&ct.push(pt)}}return ct.concat(this.args.map(ht=>ht.serialize()))}}var Bl=_g;class ru{constructor(it){this.type=sp,this.sections=it}static parse(it,ct){if(it.length<2)return ct.error("Expected at least one argument.");const ht=it[1];if(!Array.isArray(ht)&&typeof ht=="object")return ct.error("First argument must be an image or text section.");const pt=[];let yt=!1;for(let bt=1;bt<=it.length-1;++bt){const St=it[bt];if(yt&&typeof St=="object"&&!Array.isArray(St)){yt=!1;let Rt=null;if(St["font-scale"]&&(Rt=ct.parse(St["font-scale"],1,Hn),!Rt))return null;let kt=null;if(St["text-font"]&&(kt=ct.parse(St["text-font"],1,Us($o)),!kt))return null;let Bt=null;if(St["text-color"]&&(Bt=ct.parse(St["text-color"],1,Ns),!Bt))return null;const jt=pt[pt.length-1];jt.scale=Rt,jt.font=kt,jt.textColor=Bt}else{const Rt=ct.parse(it[bt],1,Po);if(!Rt)return null;const kt=Rt.type.kind;if(kt!=="string"&&kt!=="value"&&kt!=="null"&&kt!=="resolvedImage")return ct.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");yt=!0,pt.push({content:Rt,scale:null,font:null,textColor:null})}}return new ru(pt)}evaluate(it){return new Is(this.sections.map(ct=>{const ht=ct.content.evaluate(it);return rs(ht)===pu?new Ym("",ht,null,null,null):new Ym(fp(ht),null,ct.scale?ct.scale.evaluate(it):null,ct.font?ct.font.evaluate(it).join(","):null,ct.textColor?ct.textColor.evaluate(it):null)}))}eachChild(it){for(const ct of this.sections)it(ct.content),ct.scale&&it(ct.scale),ct.font&&it(ct.font),ct.textColor&&it(ct.textColor)}outputDefined(){return!1}serialize(){const it=["format"];for(const ct of this.sections){it.push(ct.content.serialize());const ht={};ct.scale&&(ht["font-scale"]=ct.scale.serialize()),ct.font&&(ht["text-font"]=ct.font.serialize()),ct.textColor&&(ht["text-color"]=ct.textColor.serialize()),it.push(ht)}return it}}class Zp{constructor(it){this.type=pu,this.input=it}static parse(it,ct){if(it.length!==2)return ct.error("Expected two arguments.");const ht=ct.parse(it[1],1,$o);return ht?new Zp(ht):ct.error("No image name provided.")}evaluate(it){const ct=this.input.evaluate(it),ht=Gs.fromString(ct);return ht&&it.availableImages&&(ht.available=it.availableImages.indexOf(ct)>-1),ht}eachChild(it){it(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const H1={"to-boolean":Ro,"to-color":Ns,"to-number":Hn,"to-string":$o};class e0{constructor(it,ct){this.type=it,this.args=ct}static parse(it,ct){if(it.length<2)return ct.error("Expected at least one argument.");const ht=it[0];if((ht==="to-boolean"||ht==="to-string")&&it.length!==2)return ct.error("Expected one argument.");const pt=H1[ht],yt=[];for(let bt=1;bt<it.length;bt++){const St=ct.parse(it[bt],bt,Po);if(!St)return null;yt.push(St)}return new e0(pt,yt)}evaluate(it){if(this.type.kind==="boolean")return!!this.args[0].evaluate(it);if(this.type.kind==="color"){let ct,ht;for(const pt of this.args){if(ct=pt.evaluate(it),ht=null,ct instanceof as)return ct;if(typeof ct=="string"){const yt=it.parseColor(ct);if(yt)return yt}else if(Array.isArray(ct)&&(ht=ct.length<3||ct.length>4?`Invalid rbga value ${JSON.stringify(ct)}: expected an array containing either three or four numeric values.`:Cy(ct[0],ct[1],ct[2],ct[3]),!ht))return new as(ct[0]/255,ct[1]/255,ct[2]/255,ct[3])}throw new Ss(ht||`Could not parse color from value '${typeof ct=="string"?ct:String(JSON.stringify(ct))}'`)}if(this.type.kind==="number"){let ct=null;for(const ht of this.args){if(ct=ht.evaluate(it),ct===null)return 0;const pt=Number(ct);if(!isNaN(pt))return pt}throw new Ss(`Could not convert ${JSON.stringify(ct)} to number.`)}return this.type.kind==="formatted"?Is.fromString(fp(this.args[0].evaluate(it))):this.type.kind==="resolvedImage"?Gs.fromString(fp(this.args[0].evaluate(it))):fp(this.args[0].evaluate(it))}eachChild(it){this.args.forEach(it)}outputDefined(){return this.args.every(it=>it.outputDefined())}serialize(){if(this.type.kind==="formatted")return new ru([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Zp(this.args[0]).serialize();const it=[`to-${this.type.kind}`];return this.eachChild(ct=>{it.push(ct.serialize())}),it}}var Iu=e0;const Tl=["Unknown","Point","LineString","Polygon"];var t0=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Tl[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const st=this.featureDistanceData.center,it=this.featureDistanceData.scale,{x:ct,y:ht}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(ct*it-st[0])+this.featureDistanceData.bearing[1]*(ht*it-st[1])}return 0}parseColor(st){let it=this._parseColorCache[st];return it||(it=this._parseColorCache[st]=as.parse(st)),it}};class gu{constructor(it,ct,ht,pt){this.name=it,this.type=ct,this._evaluate=ht,this.args=pt}evaluate(it){return this._evaluate(it,this.args)}eachChild(it){this.args.forEach(it)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(it=>it.serialize()))}static parse(it,ct){const ht=it[0],pt=gu.definitions[ht];if(!pt)return ct.error(`Unknown expression "${ht}". If you wanted a literal array, use ["literal", [...]].`,0);const yt=Array.isArray(pt)?pt[0]:pt.type,bt=Array.isArray(pt)?[[pt[1],pt[2]]]:pt.overloads,St=bt.filter(([kt])=>!Array.isArray(kt)||kt.length===it.length-1);let Rt=null;for(const[kt,Bt]of St){Rt=new s0(ct.registry,ct.path,null,ct.scope);const jt=[];let Ht=!1;for(let Yt=1;Yt<it.length;Yt++){const Jt=it[Yt],or=Array.isArray(kt)?kt[Yt-1]:kt.type,gr=Rt.parse(Jt,1+jt.length,or);if(!gr){Ht=!0;break}jt.push(gr)}if(!Ht)if(Array.isArray(kt)&&kt.length!==jt.length)Rt.error(`Expected ${kt.length} arguments, but found ${jt.length} instead.`);else{for(let Yt=0;Yt<jt.length;Yt++){const Jt=Array.isArray(kt)?kt[Yt]:kt.type,or=jt[Yt];Rt.concat(Yt+1).checkSubtype(Jt,or.type)}if(Rt.errors.length===0)return new gu(ht,yt,Bt,jt)}}if(St.length===1)ct.errors.push(...Rt.errors);else{const kt=(St.length?St:bt).map(([jt])=>{return Ht=jt,Array.isArray(Ht)?`(${Ht.map(ba).join(", ")})`:`(${ba(Ht.type)}...)`;var Ht}).join(" | "),Bt=[];for(let jt=1;jt<it.length;jt++){const Ht=ct.parse(it[jt],1+Bt.length);if(!Ht)return null;Bt.push(ba(Ht.type))}ct.error(`Expected arguments of type ${kt}, but found (${Bt.join(", ")}) instead.`)}return null}static register(it,ct){gu.definitions=ct;for(const ht in ct)it[ht]=gu}}var Nl=gu;class pp{constructor(it,ct,ht){this.type=js,this.locale=ht,this.caseSensitive=it,this.diacriticSensitive=ct}static parse(it,ct){if(it.length!==2)return ct.error("Expected one argument.");const ht=it[1];if(typeof ht!="object"||Array.isArray(ht))return ct.error("Collator options argument must be an object.");const pt=ct.parse(ht["case-sensitive"]!==void 0&&ht["case-sensitive"],1,Ro);if(!pt)return null;const yt=ct.parse(ht["diacritic-sensitive"]!==void 0&&ht["diacritic-sensitive"],1,Ro);if(!yt)return null;let bt=null;return ht.locale&&(bt=ct.parse(ht.locale,1,$o),!bt)?null:new pp(pt,yt,bt)}evaluate(it){return new Xm(this.caseSensitive.evaluate(it),this.diacriticSensitive.evaluate(it),this.locale?this.locale.evaluate(it):null)}eachChild(it){it(this.caseSensitive),it(this.diacriticSensitive),this.locale&&it(this.locale)}outputDefined(){return!1}serialize(){const it={};return it["case-sensitive"]=this.caseSensitive.serialize(),it["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(it.locale=this.locale.serialize()),["collator",it]}}const Vl=8192;function Kp(st,it){st[0]=Math.min(st[0],it[0]),st[1]=Math.min(st[1],it[1]),st[2]=Math.max(st[2],it[0]),st[3]=Math.max(st[3],it[1])}function Lu(st,it){return!(st[0]<=it[0]||st[2]>=it[2]||st[1]<=it[1]||st[3]>=it[3])}function mp(st,it){const ct=(180+st[0])/360,ht=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+st[1]*Math.PI/360)))/360,pt=Math.pow(2,it.z);return[Math.round(ct*pt*Vl),Math.round(ht*pt*Vl)]}function Ty(st,it,ct){const ht=st[0]-it[0],pt=st[1]-it[1],yt=st[0]-ct[0],bt=st[1]-ct[1];return ht*bt-yt*pt==0&&ht*yt<=0&&pt*bt<=0}function Xp(st,it){let ct=!1;for(let bt=0,St=it.length;bt<St;bt++){const Rt=it[bt];for(let kt=0,Bt=Rt.length;kt<Bt-1;kt++){if(Ty(st,Rt[kt],Rt[kt+1]))return!1;(pt=Rt[kt])[1]>(ht=st)[1]!=(yt=Rt[kt+1])[1]>ht[1]&&ht[0]<(yt[0]-pt[0])*(ht[1]-pt[1])/(yt[1]-pt[1])+pt[0]&&(ct=!ct)}}var ht,pt,yt;return ct}function r0(st,it){for(let ct=0;ct<it.length;ct++)if(Xp(st,it[ct]))return!0;return!1}function n0(st,it,ct,ht){const pt=ht[0]-ct[0],yt=ht[1]-ct[1],bt=(st[0]-ct[0])*yt-pt*(st[1]-ct[1]),St=(it[0]-ct[0])*yt-pt*(it[1]-ct[1]);return bt>0&&St<0||bt<0&&St>0}function Du(st,it,ct){for(const kt of ct)for(let Bt=0;Bt<kt.length-1;++Bt)if((St=[(bt=kt[Bt+1])[0]-(yt=kt[Bt])[0],bt[1]-yt[1]])[0]*(Rt=[(pt=it)[0]-(ht=st)[0],pt[1]-ht[1]])[1]-St[1]*Rt[0]!=0&&n0(ht,pt,yt,bt)&&n0(yt,bt,ht,pt))return!0;var ht,pt,yt,bt,St,Rt;return!1}function No(st,it){for(let ct=0;ct<st.length;++ct)if(!Xp(st[ct],it))return!1;for(let ct=0;ct<st.length-1;++ct)if(Du(st[ct],st[ct+1],it))return!1;return!0}function q1(st,it){for(let ct=0;ct<it.length;ct++)if(No(st,it[ct]))return!0;return!1}function i0(st,it,ct){const ht=[];for(let pt=0;pt<st.length;pt++){const yt=[];for(let bt=0;bt<st[pt].length;bt++){const St=mp(st[pt][bt],ct);Kp(it,St),yt.push(St)}ht.push(yt)}return ht}function Ry(st,it,ct){const ht=[];for(let pt=0;pt<st.length;pt++){const yt=i0(st[pt],it,ct);ht.push(yt)}return ht}function o0(st,it,ct,ht){if(st[0]<ct[0]||st[0]>ct[2]){const pt=.5*ht;let yt=st[0]-ct[0]>pt?-ht:ct[0]-st[0]>pt?ht:0;yt===0&&(yt=st[0]-ct[2]>pt?-ht:ct[2]-st[0]>pt?ht:0),st[0]+=yt}Kp(it,st)}function Py(st,it,ct,ht){const pt=Math.pow(2,ht.z)*Vl,yt=[ht.x*Vl,ht.y*Vl],bt=[];if(!st)return bt;for(const St of st)for(const Rt of St){const kt=[Rt.x+yt[0],Rt.y+yt[1]];o0(kt,it,ct,pt),bt.push(kt)}return bt}function a0(st,it,ct,ht){const pt=Math.pow(2,ht.z)*Vl,yt=[ht.x*Vl,ht.y*Vl],bt=[];if(!st)return bt;for(const Rt of st){const kt=[];for(const Bt of Rt){const jt=[Bt.x+yt[0],Bt.y+yt[1]];Kp(it,jt),kt.push(jt)}bt.push(kt)}if(it[2]-it[0]<=pt/2){(St=it)[0]=St[1]=1/0,St[2]=St[3]=-1/0;for(const Rt of bt)for(const kt of Rt)o0(kt,it,ct,pt)}var St;return bt}class Ou{constructor(it,ct){this.type=Ro,this.geojson=it,this.geometries=ct}static parse(it,ct){if(it.length!==2)return ct.error(`'within' expression requires exactly one argument, but found ${it.length-1} instead.`);if(dp(it[1])){const ht=it[1];if(ht.type==="FeatureCollection")for(let pt=0;pt<ht.features.length;++pt){const yt=ht.features[pt].geometry.type;if(yt==="Polygon"||yt==="MultiPolygon")return new Ou(ht,ht.features[pt].geometry)}else if(ht.type==="Feature"){const pt=ht.geometry.type;if(pt==="Polygon"||pt==="MultiPolygon")return new Ou(ht,ht.geometry)}else if(ht.type==="Polygon"||ht.type==="MultiPolygon")return new Ou(ht,ht)}return ct.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(it){if(it.geometry()!=null&&it.canonicalID()!=null){if(it.geometryType()==="Point")return function(ct,ht){const pt=[1/0,1/0,-1/0,-1/0],yt=[1/0,1/0,-1/0,-1/0],bt=ct.canonicalID();if(!bt)return!1;if(ht.type==="Polygon"){const St=i0(ht.coordinates,yt,bt),Rt=Py(ct.geometry(),pt,yt,bt);if(!Lu(pt,yt))return!1;for(const kt of Rt)if(!Xp(kt,St))return!1}if(ht.type==="MultiPolygon"){const St=Ry(ht.coordinates,yt,bt),Rt=Py(ct.geometry(),pt,yt,bt);if(!Lu(pt,yt))return!1;for(const kt of Rt)if(!r0(kt,St))return!1}return!0}(it,this.geometries);if(it.geometryType()==="LineString")return function(ct,ht){const pt=[1/0,1/0,-1/0,-1/0],yt=[1/0,1/0,-1/0,-1/0],bt=ct.canonicalID();if(!bt)return!1;if(ht.type==="Polygon"){const St=i0(ht.coordinates,yt,bt),Rt=a0(ct.geometry(),pt,yt,bt);if(!Lu(pt,yt))return!1;for(const kt of Rt)if(!No(kt,St))return!1}if(ht.type==="MultiPolygon"){const St=Ry(ht.coordinates,yt,bt),Rt=a0(ct.geometry(),pt,yt,bt);if(!Lu(pt,yt))return!1;for(const kt of Rt)if(!q1(kt,St))return!1}return!0}(it,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Yp=Ou;function Fu(st){if(st instanceof Nl&&(st.name==="get"&&st.args.length===1||st.name==="feature-state"||st.name==="has"&&st.args.length===1||st.name==="properties"||st.name==="geometry-type"||st.name==="id"||/^filter-/.test(st.name))||st instanceof Yp)return!1;let it=!0;return st.eachChild(ct=>{it&&!Fu(ct)&&(it=!1)}),it}function Ul(st){if(st instanceof Nl&&st.name==="feature-state")return!1;let it=!0;return st.eachChild(ct=>{it&&!Ul(ct)&&(it=!1)}),it}function yu(st,it){if(st instanceof Nl&&it.indexOf(st.name)>=0)return!1;let ct=!0;return st.eachChild(ht=>{ct&&!yu(ht,it)&&(ct=!1)}),ct}class Qp{constructor(it,ct){this.type=ct.type,this.name=it,this.boundExpression=ct}static parse(it,ct){if(it.length!==2||typeof it[1]!="string")return ct.error("'var' expression requires exactly one string literal argument.");const ht=it[1];return ct.scope.has(ht)?new Qp(ht,ct.scope.get(ht)):ct.error(`Unknown variable "${ht}". Make sure "${ht}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(it){return this.boundExpression.evaluate(it)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Ay=Qp;class gp{constructor(it,ct=[],ht,pt=new wy,yt=[]){this.registry=it,this.path=ct,this.key=ct.map(bt=>`[${bt}]`).join(""),this.scope=pt,this.errors=yt,this.expectedType=ht}parse(it,ct,ht,pt,yt={}){return ct?this.concat(ct,ht,pt)._parse(it,yt):this._parse(it,yt)}_parse(it,ct){function ht(pt,yt,bt){return bt==="assert"?new Bl(yt,[pt]):bt==="coerce"?new Iu(yt,[pt]):pt}if(it!==null&&typeof it!="string"&&typeof it!="boolean"&&typeof it!="number"||(it=["literal",it]),Array.isArray(it)){if(it.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const pt=it[0];if(typeof pt!="string")return this.error(`Expression name must be a string, but found ${typeof pt} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const yt=this.registry[pt];if(yt){let bt=yt.parse(it,this);if(!bt)return null;if(this.expectedType){const St=this.expectedType,Rt=bt.type;if(St.kind!=="string"&&St.kind!=="number"&&St.kind!=="boolean"&&St.kind!=="object"&&St.kind!=="array"||Rt.kind!=="value")if(St.kind!=="color"&&St.kind!=="formatted"&&St.kind!=="resolvedImage"||Rt.kind!=="value"&&Rt.kind!=="string"){if(this.checkSubtype(St,Rt))return null}else bt=ht(bt,St,ct.typeAnnotation||"coerce");else bt=ht(bt,St,ct.typeAnnotation||"assert")}if(!(bt instanceof mu)&&bt.type.kind!=="resolvedImage"&&l0(bt)){const St=new t0;try{bt=new mu(bt.type,bt.evaluate(St))}catch(Rt){return this.error(Rt.message),null}}return bt}return this.error(`Unknown expression "${pt}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(it===void 0?"'undefined' value invalid. Use null instead.":typeof it=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof it} instead.`)}concat(it,ct,ht){const pt=typeof it=="number"?this.path.concat(it):this.path,yt=ht?this.scope.concat(ht):this.scope;return new gp(this.registry,pt,ct||null,yt,this.errors)}error(it,...ct){const ht=`${this.key}${ct.map(pt=>`[${pt}]`).join("")}`;this.errors.push(new Cl(ht,it))}checkSubtype(it,ct){const ht=zl(it,ct);return ht&&this.error(ht),ht}}var s0=gp;function l0(st){if(st instanceof Ay)return l0(st.boundExpression);if(st instanceof Nl&&st.name==="error"||st instanceof pp||st instanceof Yp)return!1;const it=st instanceof Iu||st instanceof Bl;let ct=!0;return st.eachChild(ht=>{ct=it?ct&&l0(ht):ct&&ht instanceof mu}),!!ct&&Fu(st)&&yu(st,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Jp(st,it){const ct=st.length-1;let ht,pt,yt=0,bt=ct,St=0;for(;yt<=bt;)if(St=Math.floor((yt+bt)/2),ht=st[St],pt=st[St+1],ht<=it){if(St===ct||it<pt)return St;yt=St+1}else{if(!(ht>it))throw new Ss("Input is not a number.");bt=St-1}return 0}class em{constructor(it,ct,ht){this.type=it,this.input=ct,this.labels=[],this.outputs=[];for(const[pt,yt]of ht)this.labels.push(pt),this.outputs.push(yt)}static parse(it,ct){if(it.length-1<4)return ct.error(`Expected at least 4 arguments, but found only ${it.length-1}.`);if((it.length-1)%2!=0)return ct.error("Expected an even number of arguments.");const ht=ct.parse(it[1],1,Hn);if(!ht)return null;const pt=[];let yt=null;ct.expectedType&&ct.expectedType.kind!=="value"&&(yt=ct.expectedType);for(let bt=1;bt<it.length;bt+=2){const St=bt===1?-1/0:it[bt],Rt=it[bt+1],kt=bt,Bt=bt+1;if(typeof St!="number")return ct.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',kt);if(pt.length&&pt[pt.length-1][0]>=St)return ct.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',kt);const jt=ct.parse(Rt,Bt,yt);if(!jt)return null;yt=yt||jt.type,pt.push([St,jt])}return new em(yt,ht,pt)}evaluate(it){const ct=this.labels,ht=this.outputs;if(ct.length===1)return ht[0].evaluate(it);const pt=this.input.evaluate(it);if(pt<=ct[0])return ht[0].evaluate(it);const yt=ct.length;return pt>=ct[yt-1]?ht[yt-1].evaluate(it):ht[Jp(ct,pt)].evaluate(it)}eachChild(it){it(this.input);for(const ct of this.outputs)it(ct)}outputDefined(){return this.outputs.every(it=>it.outputDefined())}serialize(){const it=["step",this.input.serialize()];for(let ct=0;ct<this.labels.length;ct++)ct>0&&it.push(this.labels[ct]),it.push(this.outputs[ct].serialize());return it}}var c0=em;function Lo(st,it,ct){return st*(1-ct)+it*ct}var yp=Object.freeze({__proto__:null,array:function(st,it,ct){return st.map((ht,pt)=>Lo(ht,it[pt],ct))},color:function(st,it,ct){return new as(Lo(st.r,it.r,ct),Lo(st.g,it.g,ct),Lo(st.b,it.b,ct),Lo(st.a,it.a,ct))},number:Lo});const My=.95047,u0=1.08883,ky=4/29,vu=6/29,h0=3*vu*vu,Z1=vu*vu*vu,K1=Math.PI/180,X1=180/Math.PI;function d0(st){return st>Z1?Math.pow(st,1/3):st/h0+ky}function f0(st){return st>vu?st*st*st:h0*(st-ky)}function p0(st){return 255*(st<=.0031308?12.92*st:1.055*Math.pow(st,1/2.4)-.055)}function tm(st){return(st/=255)<=.04045?st/12.92:Math.pow((st+.055)/1.055,2.4)}function $y(st){const it=tm(st.r),ct=tm(st.g),ht=tm(st.b),pt=d0((.4124564*it+.3575761*ct+.1804375*ht)/My),yt=d0((.2126729*it+.7151522*ct+.072175*ht)/1);return{l:116*yt-16,a:500*(pt-yt),b:200*(yt-d0((.0193339*it+.119192*ct+.9503041*ht)/u0)),alpha:st.a}}function Iy(st){let it=(st.l+16)/116,ct=isNaN(st.a)?it:it+st.a/500,ht=isNaN(st.b)?it:it-st.b/200;return it=1*f0(it),ct=My*f0(ct),ht=u0*f0(ht),new as(p0(3.2404542*ct-1.5371385*it-.4985314*ht),p0(-.969266*ct+1.8760108*it+.041556*ht),p0(.0556434*ct-.2040259*it+1.0572252*ht),st.alpha)}function Y1(st,it,ct){const ht=it-st;return st+ct*(ht>180||ht<-180?ht-360*Math.round(ht/360):ht)}const vp={forward:$y,reverse:Iy,interpolate:function(st,it,ct){return{l:Lo(st.l,it.l,ct),a:Lo(st.a,it.a,ct),b:Lo(st.b,it.b,ct),alpha:Lo(st.alpha,it.alpha,ct)}}},zu={forward:function(st){const{l:it,a:ct,b:ht}=$y(st),pt=Math.atan2(ht,ct)*X1;return{h:pt<0?pt+360:pt,c:Math.sqrt(ct*ct+ht*ht),l:it,alpha:st.a}},reverse:function(st){const it=st.h*K1,ct=st.c;return Iy({l:st.l,a:Math.cos(it)*ct,b:Math.sin(it)*ct,alpha:st.alpha})},interpolate:function(st,it,ct){return{h:Y1(st.h,it.h,ct),c:Lo(st.c,it.c,ct),l:Lo(st.l,it.l,ct),alpha:Lo(st.alpha,it.alpha,ct)}}};var m0=Object.freeze({__proto__:null,hcl:zu,lab:vp});class _p{constructor(it,ct,ht,pt,yt){this.type=it,this.operator=ct,this.interpolation=ht,this.input=pt,this.labels=[],this.outputs=[];for(const[bt,St]of yt)this.labels.push(bt),this.outputs.push(St)}static interpolationFactor(it,ct,ht,pt){let yt=0;if(it.name==="exponential")yt=g0(ct,it.base,ht,pt);else if(it.name==="linear")yt=g0(ct,1,ht,pt);else if(it.name==="cubic-bezier"){const bt=it.controlPoints;yt=new Ut(bt[0],bt[1],bt[2],bt[3]).solve(g0(ct,1,ht,pt))}return yt}static parse(it,ct){let[ht,pt,yt,...bt]=it;if(!Array.isArray(pt)||pt.length===0)return ct.error("Expected an interpolation type expression.",1);if(pt[0]==="linear")pt={name:"linear"};else if(pt[0]==="exponential"){const kt=pt[1];if(typeof kt!="number")return ct.error("Exponential interpolation requires a numeric base.",1,1);pt={name:"exponential",base:kt}}else{if(pt[0]!=="cubic-bezier")return ct.error(`Unknown interpolation type ${String(pt[0])}`,1,0);{const kt=pt.slice(1);if(kt.length!==4||kt.some(Bt=>typeof Bt!="number"||Bt<0||Bt>1))return ct.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);pt={name:"cubic-bezier",controlPoints:kt}}}if(it.length-1<4)return ct.error(`Expected at least 4 arguments, but found only ${it.length-1}.`);if((it.length-1)%2!=0)return ct.error("Expected an even number of arguments.");if(yt=ct.parse(yt,2,Hn),!yt)return null;const St=[];let Rt=null;ht==="interpolate-hcl"||ht==="interpolate-lab"?Rt=Ns:ct.expectedType&&ct.expectedType.kind!=="value"&&(Rt=ct.expectedType);for(let kt=0;kt<bt.length;kt+=2){const Bt=bt[kt],jt=bt[kt+1],Ht=kt+3,Yt=kt+4;if(typeof Bt!="number")return ct.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ht);if(St.length&&St[St.length-1][0]>=Bt)return ct.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ht);const Jt=ct.parse(jt,Yt,Rt);if(!Jt)return null;Rt=Rt||Jt.type,St.push([Bt,Jt])}return Rt.kind==="number"||Rt.kind==="color"||Rt.kind==="array"&&Rt.itemType.kind==="number"&&typeof Rt.N=="number"?new _p(Rt,ht,pt,yt,St):ct.error(`Type ${ba(Rt)} is not interpolatable.`)}evaluate(it){const ct=this.labels,ht=this.outputs;if(ct.length===1)return ht[0].evaluate(it);const pt=this.input.evaluate(it);if(pt<=ct[0])return ht[0].evaluate(it);const yt=ct.length;if(pt>=ct[yt-1])return ht[yt-1].evaluate(it);const bt=Jp(ct,pt),St=_p.interpolationFactor(this.interpolation,pt,ct[bt],ct[bt+1]),Rt=ht[bt].evaluate(it),kt=ht[bt+1].evaluate(it);return this.operator==="interpolate"?yp[this.type.kind.toLowerCase()](Rt,kt,St):this.operator==="interpolate-hcl"?zu.reverse(zu.interpolate(zu.forward(Rt),zu.forward(kt),St)):vp.reverse(vp.interpolate(vp.forward(Rt),vp.forward(kt),St))}eachChild(it){it(this.input);for(const ct of this.outputs)it(ct)}outputDefined(){return this.outputs.every(it=>it.outputDefined())}serialize(){let it;it=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const ct=[this.operator,it,this.input.serialize()];for(let ht=0;ht<this.labels.length;ht++)ct.push(this.labels[ht],this.outputs[ht].serialize());return ct}}function g0(st,it,ct,ht){const pt=ht-ct,yt=st-ct;return pt===0?0:it===1?yt/pt:(Math.pow(it,yt)-1)/(Math.pow(it,pt)-1)}var Rl=_p;class rm{constructor(it,ct){this.type=it,this.args=ct}static parse(it,ct){if(it.length<2)return ct.error("Expectected at least one argument.");let ht=null;const pt=ct.expectedType;pt&&pt.kind!=="value"&&(ht=pt);const yt=[];for(const St of it.slice(1)){const Rt=ct.parse(St,1+yt.length,ht,void 0,{typeAnnotation:"omit"});if(!Rt)return null;ht=ht||Rt.type,yt.push(Rt)}const bt=pt&&yt.some(St=>zl(pt,St.type));return new rm(bt?Po:ht,yt)}evaluate(it){let ct,ht=null,pt=0;for(const yt of this.args){if(pt++,ht=yt.evaluate(it),ht&&ht instanceof Gs&&!ht.available&&(ct||(ct=ht),ht=null,pt===this.args.length))return ct;if(ht!==null)break}return ht}eachChild(it){this.args.forEach(it)}outputDefined(){return this.args.every(it=>it.outputDefined())}serialize(){const it=["coalesce"];return this.eachChild(ct=>{it.push(ct.serialize())}),it}}var y0=rm;class im{constructor(it,ct){this.type=ct.type,this.bindings=[].concat(it),this.result=ct}evaluate(it){return this.result.evaluate(it)}eachChild(it){for(const ct of this.bindings)it(ct[1]);it(this.result)}static parse(it,ct){if(it.length<4)return ct.error(`Expected at least 3 arguments, but found ${it.length-1} instead.`);const ht=[];for(let yt=1;yt<it.length-1;yt+=2){const bt=it[yt];if(typeof bt!="string")return ct.error(`Expected string, but found ${typeof bt} instead.`,yt);if(/[^a-zA-Z0-9_]/.test(bt))return ct.error("Variable names must contain only alphanumeric characters or '_'.",yt);const St=ct.parse(it[yt+1],yt+1);if(!St)return null;ht.push([bt,St])}const pt=ct.parse(it[it.length-1],it.length-1,ct.expectedType,ht);return pt?new im(ht,pt):null}outputDefined(){return this.result.outputDefined()}serialize(){const it=["let"];for(const[ct,ht]of this.bindings)it.push(ct,ht.serialize());return it.push(this.result.serialize()),it}}var Ly=im;class v0{constructor(it,ct,ht){this.type=it,this.index=ct,this.input=ht}static parse(it,ct){if(it.length!==3)return ct.error(`Expected 2 arguments, but found ${it.length-1} instead.`);const ht=ct.parse(it[1],1,Hn),pt=ct.parse(it[2],2,Us(ct.expectedType||Po));return ht&&pt?new v0(pt.type.itemType,ht,pt):null}evaluate(it){const ct=this.index.evaluate(it),ht=this.input.evaluate(it);if(ct<0)throw new Ss(`Array index out of bounds: ${ct} < 0.`);if(ct>=ht.length)throw new Ss(`Array index out of bounds: ${ct} > ${ht.length-1}.`);if(ct!==Math.floor(ct))throw new Ss(`Array index must be an integer, but found ${ct} instead.`);return ht[ct]}eachChild(it){it(this.index),it(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Q1=v0;class _0{constructor(it,ct){this.type=Ro,this.needle=it,this.haystack=ct}static parse(it,ct){if(it.length!==3)return ct.error(`Expected 2 arguments, but found ${it.length-1} instead.`);const ht=ct.parse(it[1],1,Po),pt=ct.parse(it[2],2,Po);return ht&&pt?lp(ht.type,[Ro,$o,Hn,ku,Po])?new _0(ht,pt):ct.error(`Expected first argument to be of type boolean, string, number or null, but found ${ba(ht.type)} instead`):null}evaluate(it){const ct=this.needle.evaluate(it),ht=this.haystack.evaluate(it);if(ht==null)return!1;if(!cp(ct,["boolean","string","number","null"]))throw new Ss(`Expected first argument to be of type boolean, string, number or null, but found ${ba(rs(ct))} instead.`);if(!cp(ht,["string","array"]))throw new Ss(`Expected second argument to be of type array or string, but found ${ba(rs(ht))} instead.`);return ht.indexOf(ct)>=0}eachChild(it){it(this.needle),it(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var om=_0;class xp{constructor(it,ct,ht){this.type=Hn,this.needle=it,this.haystack=ct,this.fromIndex=ht}static parse(it,ct){if(it.length<=2||it.length>=5)return ct.error(`Expected 3 or 4 arguments, but found ${it.length-1} instead.`);const ht=ct.parse(it[1],1,Po),pt=ct.parse(it[2],2,Po);if(!ht||!pt)return null;if(!lp(ht.type,[Ro,$o,Hn,ku,Po]))return ct.error(`Expected first argument to be of type boolean, string, number or null, but found ${ba(ht.type)} instead`);if(it.length===4){const yt=ct.parse(it[3],3,Hn);return yt?new xp(ht,pt,yt):null}return new xp(ht,pt)}evaluate(it){const ct=this.needle.evaluate(it),ht=this.haystack.evaluate(it);if(!cp(ct,["boolean","string","number","null"]))throw new Ss(`Expected first argument to be of type boolean, string, number or null, but found ${ba(rs(ct))} instead.`);if(!cp(ht,["string","array"]))throw new Ss(`Expected second argument to be of type array or string, but found ${ba(rs(ht))} instead.`);if(this.fromIndex){const pt=this.fromIndex.evaluate(it);return ht.indexOf(ct,pt)}return ht.indexOf(ct)}eachChild(it){it(this.needle),it(this.haystack),this.fromIndex&&it(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const it=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),it]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Dy=xp;class x0{constructor(it,ct,ht,pt,yt,bt){this.inputType=it,this.type=ct,this.input=ht,this.cases=pt,this.outputs=yt,this.otherwise=bt}static parse(it,ct){if(it.length<5)return ct.error(`Expected at least 4 arguments, but found only ${it.length-1}.`);if(it.length%2!=1)return ct.error("Expected an even number of arguments.");let ht,pt;ct.expectedType&&ct.expectedType.kind!=="value"&&(pt=ct.expectedType);const yt={},bt=[];for(let kt=2;kt<it.length-1;kt+=2){let Bt=it[kt];const jt=it[kt+1];Array.isArray(Bt)||(Bt=[Bt]);const Ht=ct.concat(kt);if(Bt.length===0)return Ht.error("Expected at least one branch label.");for(const Jt of Bt){if(typeof Jt!="number"&&typeof Jt!="string")return Ht.error("Branch labels must be numbers or strings.");if(typeof Jt=="number"&&Math.abs(Jt)>Number.MAX_SAFE_INTEGER)return Ht.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Jt=="number"&&Math.floor(Jt)!==Jt)return Ht.error("Numeric branch labels must be integer values.");if(ht){if(Ht.checkSubtype(ht,rs(Jt)))return null}else ht=rs(Jt);if(yt[String(Jt)]!==void 0)return Ht.error("Branch labels must be unique.");yt[String(Jt)]=bt.length}const Yt=ct.parse(jt,kt,pt);if(!Yt)return null;pt=pt||Yt.type,bt.push(Yt)}const St=ct.parse(it[1],1,Po);if(!St)return null;const Rt=ct.parse(it[it.length-1],it.length-1,pt);return Rt?St.type.kind!=="value"&&ct.concat(1).checkSubtype(ht,St.type)?null:new x0(ht,pt,St,yt,bt,Rt):null}evaluate(it){const ct=this.input.evaluate(it);return(rs(ct)===this.inputType&&this.outputs[this.cases[ct]]||this.otherwise).evaluate(it)}eachChild(it){it(this.input),this.outputs.forEach(it),it(this.otherwise)}outputDefined(){return this.outputs.every(it=>it.outputDefined())&&this.otherwise.outputDefined()}serialize(){const it=["match",this.input.serialize()],ct=Object.keys(this.cases).sort(),ht=[],pt={};for(const bt of ct){const St=pt[this.cases[bt]];St===void 0?(pt[this.cases[bt]]=ht.length,ht.push([this.cases[bt],[bt]])):ht[St][1].push(bt)}const yt=bt=>this.inputType.kind==="number"?Number(bt):bt;for(const[bt,St]of ht)it.push(St.length===1?yt(St[0]):St.map(yt)),it.push(this.outputs[bt].serialize());return it.push(this.otherwise.serialize()),it}}var J1=x0;class b0{constructor(it,ct,ht){this.type=it,this.branches=ct,this.otherwise=ht}static parse(it,ct){if(it.length<4)return ct.error(`Expected at least 3 arguments, but found only ${it.length-1}.`);if(it.length%2!=0)return ct.error("Expected an odd number of arguments.");let ht;ct.expectedType&&ct.expectedType.kind!=="value"&&(ht=ct.expectedType);const pt=[];for(let bt=1;bt<it.length-1;bt+=2){const St=ct.parse(it[bt],bt,Ro);if(!St)return null;const Rt=ct.parse(it[bt+1],bt+1,ht);if(!Rt)return null;pt.push([St,Rt]),ht=ht||Rt.type}const yt=ct.parse(it[it.length-1],it.length-1,ht);return yt?new b0(ht,pt,yt):null}evaluate(it){for(const[ct,ht]of this.branches)if(ct.evaluate(it))return ht.evaluate(it);return this.otherwise.evaluate(it)}eachChild(it){for(const[ct,ht]of this.branches)it(ct),it(ht);it(this.otherwise)}outputDefined(){return this.branches.every(([it,ct])=>ct.outputDefined())&&this.otherwise.outputDefined()}serialize(){const it=["case"];return this.eachChild(ct=>{it.push(ct.serialize())}),it}}var Oy=b0;class bp{constructor(it,ct,ht,pt){this.type=it,this.input=ct,this.beginIndex=ht,this.endIndex=pt}static parse(it,ct){if(it.length<=2||it.length>=5)return ct.error(`Expected 3 or 4 arguments, but found ${it.length-1} instead.`);const ht=ct.parse(it[1],1,Po),pt=ct.parse(it[2],2,Hn);if(!ht||!pt)return null;if(!lp(ht.type,[Us(Po),$o,Po]))return ct.error(`Expected first argument to be of type array or string, but found ${ba(ht.type)} instead`);if(it.length===4){const yt=ct.parse(it[3],3,Hn);return yt?new bp(ht.type,ht,pt,yt):null}return new bp(ht.type,ht,pt)}evaluate(it){const ct=this.input.evaluate(it),ht=this.beginIndex.evaluate(it);if(!cp(ct,["string","array"]))throw new Ss(`Expected first argument to be of type array or string, but found ${ba(rs(ct))} instead.`);if(this.endIndex){const pt=this.endIndex.evaluate(it);return ct.slice(ht,pt)}return ct.slice(ht)}eachChild(it){it(this.input),it(this.beginIndex),this.endIndex&&it(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const it=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),it]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Fy=bp;function am(st,it){return st==="=="||st==="!="?it.kind==="boolean"||it.kind==="string"||it.kind==="number"||it.kind==="null"||it.kind==="value":it.kind==="string"||it.kind==="number"||it.kind==="value"}function zy(st,it,ct,ht){return ht.compare(it,ct)===0}function Bu(st,it,ct){const ht=st!=="=="&&st!=="!=";return class Jw{constructor(yt,bt,St){this.type=Ro,this.lhs=yt,this.rhs=bt,this.collator=St,this.hasUntypedArgument=yt.type.kind==="value"||bt.type.kind==="value"}static parse(yt,bt){if(yt.length!==3&&yt.length!==4)return bt.error("Expected two or three arguments.");const St=yt[0];let Rt=bt.parse(yt[1],1,Po);if(!Rt)return null;if(!am(St,Rt.type))return bt.concat(1).error(`"${St}" comparisons are not supported for type '${ba(Rt.type)}'.`);let kt=bt.parse(yt[2],2,Po);if(!kt)return null;if(!am(St,kt.type))return bt.concat(2).error(`"${St}" comparisons are not supported for type '${ba(kt.type)}'.`);if(Rt.type.kind!==kt.type.kind&&Rt.type.kind!=="value"&&kt.type.kind!=="value")return bt.error(`Cannot compare types '${ba(Rt.type)}' and '${ba(kt.type)}'.`);ht&&(Rt.type.kind==="value"&&kt.type.kind!=="value"?Rt=new Bl(kt.type,[Rt]):Rt.type.kind!=="value"&&kt.type.kind==="value"&&(kt=new Bl(Rt.type,[kt])));let Bt=null;if(yt.length===4){if(Rt.type.kind!=="string"&&kt.type.kind!=="string"&&Rt.type.kind!=="value"&&kt.type.kind!=="value")return bt.error("Cannot use collator to compare non-string types.");if(Bt=bt.parse(yt[3],3,js),!Bt)return null}return new Jw(Rt,kt,Bt)}evaluate(yt){const bt=this.lhs.evaluate(yt),St=this.rhs.evaluate(yt);if(ht&&this.hasUntypedArgument){const Rt=rs(bt),kt=rs(St);if(Rt.kind!==kt.kind||Rt.kind!=="string"&&Rt.kind!=="number")throw new Ss(`Expected arguments for "${st}" to be (string, string) or (number, number), but found (${Rt.kind}, ${kt.kind}) instead.`)}if(this.collator&&!ht&&this.hasUntypedArgument){const Rt=rs(bt),kt=rs(St);if(Rt.kind!=="string"||kt.kind!=="string")return it(yt,bt,St)}return this.collator?ct(yt,bt,St,this.collator.evaluate(yt)):it(yt,bt,St)}eachChild(yt){yt(this.lhs),yt(this.rhs),this.collator&&yt(this.collator)}outputDefined(){return!0}serialize(){const yt=[st];return this.eachChild(bt=>{yt.push(bt.serialize())}),yt}}}const ev=Bu("==",function(st,it,ct){return it===ct},zy),tv=Bu("!=",function(st,it,ct){return it!==ct},function(st,it,ct,ht){return!zy(0,it,ct,ht)}),rv=Bu("<",function(st,it,ct){return it<ct},function(st,it,ct,ht){return ht.compare(it,ct)<0}),nv=Bu(">",function(st,it,ct){return it>ct},function(st,it,ct,ht){return ht.compare(it,ct)>0}),iv=Bu("<=",function(st,it,ct){return it<=ct},function(st,it,ct,ht){return ht.compare(it,ct)<=0}),By=Bu(">=",function(st,it,ct){return it>=ct},function(st,it,ct,ht){return ht.compare(it,ct)>=0});class sm{constructor(it,ct,ht,pt,yt,bt){this.type=$o,this.number=it,this.locale=ct,this.currency=ht,this.unit=pt,this.minFractionDigits=yt,this.maxFractionDigits=bt}static parse(it,ct){if(it.length!==3)return ct.error("Expected two arguments.");const ht=ct.parse(it[1],1,Hn);if(!ht)return null;const pt=it[2];if(typeof pt!="object"||Array.isArray(pt))return ct.error("NumberFormat options argument must be an object.");let yt=null;if(pt.locale&&(yt=ct.parse(pt.locale,1,$o),!yt))return null;let bt=null;if(pt.currency&&(bt=ct.parse(pt.currency,1,$o),!bt))return null;let St=null;if(pt.unit&&(St=ct.parse(pt.unit,1,$o),!St))return null;let Rt=null;if(pt["min-fraction-digits"]&&(Rt=ct.parse(pt["min-fraction-digits"],1,Hn),!Rt))return null;let kt=null;return pt["max-fraction-digits"]&&(kt=ct.parse(pt["max-fraction-digits"],1,Hn),!kt)?null:new sm(ht,yt,bt,St,Rt,kt)}evaluate(it){return new Intl.NumberFormat(this.locale?this.locale.evaluate(it):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(it):void 0,unit:this.unit?this.unit.evaluate(it):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(it):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(it):void 0}).format(this.number.evaluate(it))}eachChild(it){it(this.number),this.locale&&it(this.locale),this.currency&&it(this.currency),this.unit&&it(this.unit),this.minFractionDigits&&it(this.minFractionDigits),this.maxFractionDigits&&it(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const it={};return this.locale&&(it.locale=this.locale.serialize()),this.currency&&(it.currency=this.currency.serialize()),this.unit&&(it.unit=this.unit.serialize()),this.minFractionDigits&&(it["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(it["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),it]}}class Nu{constructor(it){this.type=Hn,this.input=it}static parse(it,ct){if(it.length!==2)return ct.error(`Expected 1 argument, but found ${it.length-1} instead.`);const ht=ct.parse(it[1],1);return ht?ht.type.kind!=="array"&&ht.type.kind!=="string"&&ht.type.kind!=="value"?ct.error(`Expected argument of type string or array, but found ${ba(ht.type)} instead.`):new Nu(ht):null}evaluate(it){const ct=this.input.evaluate(it);if(typeof ct=="string"||Array.isArray(ct))return ct.length;throw new Ss(`Expected value to be of type string or array, but found ${ba(rs(ct))} instead.`)}eachChild(it){it(this.input)}outputDefined(){return!1}serialize(){const it=["length"];return this.eachChild(ct=>{it.push(ct.serialize())}),it}}const Ny={"==":ev,"!=":tv,">":nv,"<":rv,">=":By,"<=":iv,array:Bl,at:Q1,boolean:Bl,case:Oy,coalesce:y0,collator:pp,format:ru,image:Zp,in:om,"index-of":Dy,interpolate:Rl,"interpolate-hcl":Rl,"interpolate-lab":Rl,length:Nu,let:Ly,literal:mu,match:J1,number:Bl,"number-format":sm,object:Bl,slice:Fy,step:c0,string:Bl,"to-boolean":Iu,"to-color":Iu,"to-number":Iu,"to-string":Iu,var:Ay,within:Yp};function jy(st,[it,ct,ht,pt]){it=it.evaluate(st),ct=ct.evaluate(st),ht=ht.evaluate(st);const yt=pt?pt.evaluate(st):1,bt=Cy(it,ct,ht,yt);if(bt)throw new Ss(bt);return new as(it/255*yt,ct/255*yt,ht/255*yt,yt)}function Gl(st,it){return st in it}function lm(st,it){const ct=it[st];return ct===void 0?null:ct}function Ws(st){return{type:st}}Nl.register(Ny,{error:[{kind:"error"},[$o],(st,[it])=>{throw new Ss(it.evaluate(st))}],typeof:[$o,[Po],(st,[it])=>ba(rs(it.evaluate(st)))],"to-rgba":[Us(Hn,4),[Ns],(st,[it])=>it.evaluate(st).toArray()],rgb:[Ns,[Hn,Hn,Hn],jy],rgba:[Ns,[Hn,Hn,Hn,Hn],jy],has:{type:Ro,overloads:[[[$o],(st,[it])=>Gl(it.evaluate(st),st.properties())],[[$o,Qs],(st,[it,ct])=>Gl(it.evaluate(st),ct.evaluate(st))]]},get:{type:Po,overloads:[[[$o],(st,[it])=>lm(it.evaluate(st),st.properties())],[[$o,Qs],(st,[it,ct])=>lm(it.evaluate(st),ct.evaluate(st))]]},"feature-state":[Po,[$o],(st,[it])=>lm(it.evaluate(st),st.featureState||{})],properties:[Qs,[],st=>st.properties()],"geometry-type":[$o,[],st=>st.geometryType()],id:[Po,[],st=>st.id()],zoom:[Hn,[],st=>st.globals.zoom],pitch:[Hn,[],st=>st.globals.pitch||0],"distance-from-center":[Hn,[],st=>st.distanceFromCenter()],"heatmap-density":[Hn,[],st=>st.globals.heatmapDensity||0],"line-progress":[Hn,[],st=>st.globals.lineProgress||0],"sky-radial-progress":[Hn,[],st=>st.globals.skyRadialProgress||0],accumulated:[Po,[],st=>st.globals.accumulated===void 0?null:st.globals.accumulated],"+":[Hn,Ws(Hn),(st,it)=>{let ct=0;for(const ht of it)ct+=ht.evaluate(st);return ct}],"*":[Hn,Ws(Hn),(st,it)=>{let ct=1;for(const ht of it)ct*=ht.evaluate(st);return ct}],"-":{type:Hn,overloads:[[[Hn,Hn],(st,[it,ct])=>it.evaluate(st)-ct.evaluate(st)],[[Hn],(st,[it])=>-it.evaluate(st)]]},"/":[Hn,[Hn,Hn],(st,[it,ct])=>it.evaluate(st)/ct.evaluate(st)],"%":[Hn,[Hn,Hn],(st,[it,ct])=>it.evaluate(st)%ct.evaluate(st)],ln2:[Hn,[],()=>Math.LN2],pi:[Hn,[],()=>Math.PI],e:[Hn,[],()=>Math.E],"^":[Hn,[Hn,Hn],(st,[it,ct])=>Math.pow(it.evaluate(st),ct.evaluate(st))],sqrt:[Hn,[Hn],(st,[it])=>Math.sqrt(it.evaluate(st))],log10:[Hn,[Hn],(st,[it])=>Math.log(it.evaluate(st))/Math.LN10],ln:[Hn,[Hn],(st,[it])=>Math.log(it.evaluate(st))],log2:[Hn,[Hn],(st,[it])=>Math.log(it.evaluate(st))/Math.LN2],sin:[Hn,[Hn],(st,[it])=>Math.sin(it.evaluate(st))],cos:[Hn,[Hn],(st,[it])=>Math.cos(it.evaluate(st))],tan:[Hn,[Hn],(st,[it])=>Math.tan(it.evaluate(st))],asin:[Hn,[Hn],(st,[it])=>Math.asin(it.evaluate(st))],acos:[Hn,[Hn],(st,[it])=>Math.acos(it.evaluate(st))],atan:[Hn,[Hn],(st,[it])=>Math.atan(it.evaluate(st))],min:[Hn,Ws(Hn),(st,it)=>Math.min(...it.map(ct=>ct.evaluate(st)))],max:[Hn,Ws(Hn),(st,it)=>Math.max(...it.map(ct=>ct.evaluate(st)))],abs:[Hn,[Hn],(st,[it])=>Math.abs(it.evaluate(st))],round:[Hn,[Hn],(st,[it])=>{const ct=it.evaluate(st);return ct<0?-Math.round(-ct):Math.round(ct)}],floor:[Hn,[Hn],(st,[it])=>Math.floor(it.evaluate(st))],ceil:[Hn,[Hn],(st,[it])=>Math.ceil(it.evaluate(st))],"filter-==":[Ro,[$o,Po],(st,[it,ct])=>st.properties()[it.value]===ct.value],"filter-id-==":[Ro,[Po],(st,[it])=>st.id()===it.value],"filter-type-==":[Ro,[$o],(st,[it])=>st.geometryType()===it.value],"filter-<":[Ro,[$o,Po],(st,[it,ct])=>{const ht=st.properties()[it.value],pt=ct.value;return typeof ht==typeof pt&&ht<pt}],"filter-id-<":[Ro,[Po],(st,[it])=>{const ct=st.id(),ht=it.value;return typeof ct==typeof ht&&ct<ht}],"filter->":[Ro,[$o,Po],(st,[it,ct])=>{const ht=st.properties()[it.value],pt=ct.value;return typeof ht==typeof pt&&ht>pt}],"filter-id->":[Ro,[Po],(st,[it])=>{const ct=st.id(),ht=it.value;return typeof ct==typeof ht&&ct>ht}],"filter-<=":[Ro,[$o,Po],(st,[it,ct])=>{const ht=st.properties()[it.value],pt=ct.value;return typeof ht==typeof pt&&ht<=pt}],"filter-id-<=":[Ro,[Po],(st,[it])=>{const ct=st.id(),ht=it.value;return typeof ct==typeof ht&&ct<=ht}],"filter->=":[Ro,[$o,Po],(st,[it,ct])=>{const ht=st.properties()[it.value],pt=ct.value;return typeof ht==typeof pt&&ht>=pt}],"filter-id->=":[Ro,[Po],(st,[it])=>{const ct=st.id(),ht=it.value;return typeof ct==typeof ht&&ct>=ht}],"filter-has":[Ro,[Po],(st,[it])=>it.value in st.properties()],"filter-has-id":[Ro,[],st=>st.id()!==null&&st.id()!==void 0],"filter-type-in":[Ro,[Us($o)],(st,[it])=>it.value.indexOf(st.geometryType())>=0],"filter-id-in":[Ro,[Us(Po)],(st,[it])=>it.value.indexOf(st.id())>=0],"filter-in-small":[Ro,[$o,Us(Po)],(st,[it,ct])=>ct.value.indexOf(st.properties()[it.value])>=0],"filter-in-large":[Ro,[$o,Us(Po)],(st,[it,ct])=>function(ht,pt,yt,bt){for(;yt<=bt;){const St=yt+bt>>1;if(pt[St]===ht)return!0;pt[St]>ht?bt=St-1:yt=St+1}return!1}(st.properties()[it.value],ct.value,0,ct.value.length-1)],all:{type:Ro,overloads:[[[Ro,Ro],(st,[it,ct])=>it.evaluate(st)&&ct.evaluate(st)],[Ws(Ro),(st,it)=>{for(const ct of it)if(!ct.evaluate(st))return!1;return!0}]]},any:{type:Ro,overloads:[[[Ro,Ro],(st,[it,ct])=>it.evaluate(st)||ct.evaluate(st)],[Ws(Ro),(st,it)=>{for(const ct of it)if(ct.evaluate(st))return!0;return!1}]]},"!":[Ro,[Ro],(st,[it])=>!it.evaluate(st)],"is-supported-script":[Ro,[$o],(st,[it])=>{const ct=st.globals&&st.globals.isSupportedScript;return!ct||ct(it.evaluate(st))}],upcase:[$o,[$o],(st,[it])=>it.evaluate(st).toUpperCase()],downcase:[$o,[$o],(st,[it])=>it.evaluate(st).toLowerCase()],concat:[$o,Ws(Po),(st,it)=>it.map(ct=>fp(ct.evaluate(st))).join("")],"resolved-locale":[$o,[js],(st,[it])=>it.evaluate(st).resolvedLocale()]});var wp=Ny;function Vy(st){return{result:"success",value:st}}function _u(st){return{result:"error",value:st}}function ju(st){return st["property-type"]==="data-driven"}function cm(st){return!!st.expression&&st.expression.parameters.indexOf("zoom")>-1}function um(st){return!!st.expression&&st.expression.interpolated}function Do(st){return st instanceof Number?"number":st instanceof String?"string":st instanceof Boolean?"boolean":Array.isArray(st)?"array":st===null?"null":typeof st}function Sp(st){return typeof st=="object"&&st!==null&&!Array.isArray(st)}function Uy(st){return st}function hm(st,it){const ct=it.type==="color",ht=st.stops&&typeof st.stops[0][0]=="object",pt=ht||!(ht||st.property!==void 0),yt=st.type||(um(it)?"exponential":"interval");if(ct&&((st=Fl({},st)).stops&&(st.stops=st.stops.map(kt=>[kt[0],as.parse(kt[1])])),st.default=as.parse(st.default?st.default:it.default)),st.colorSpace&&st.colorSpace!=="rgb"&&!m0[st.colorSpace])throw new Error(`Unknown color space: ${st.colorSpace}`);let bt,St,Rt;if(yt==="exponential")bt=Wl;else if(yt==="interval")bt=dm;else if(yt==="categorical"){bt=Gy,St=Object.create(null);for(const kt of st.stops)St[kt[0]]=kt[1];Rt=typeof st.stops[0][0]}else{if(yt!=="identity")throw new Error(`Unknown function type "${yt}"`);bt=Wy}if(ht){const kt={},Bt=[];for(let Yt=0;Yt<st.stops.length;Yt++){const Jt=st.stops[Yt],or=Jt[0].zoom;kt[or]===void 0&&(kt[or]={zoom:or,type:st.type,property:st.property,default:st.default,stops:[]},Bt.push(or)),kt[or].stops.push([Jt[0].value,Jt[1]])}const jt=[];for(const Yt of Bt)jt.push([kt[Yt].zoom,hm(kt[Yt],it)]);const Ht={name:"linear"};return{kind:"composite",interpolationType:Ht,interpolationFactor:Rl.interpolationFactor.bind(void 0,Ht),zoomStops:jt.map(Yt=>Yt[0]),evaluate:({zoom:Yt},Jt)=>Wl({stops:jt,base:st.base},it,Yt).evaluate(Yt,Jt)}}if(pt){const kt=yt==="exponential"?{name:"exponential",base:st.base!==void 0?st.base:1}:null;return{kind:"camera",interpolationType:kt,interpolationFactor:Rl.interpolationFactor.bind(void 0,kt),zoomStops:st.stops.map(Bt=>Bt[0]),evaluate:({zoom:Bt})=>bt(st,it,Bt,St,Rt)}}return{kind:"source",evaluate(kt,Bt){const jt=Bt&&Bt.properties?Bt.properties[st.property]:void 0;return jt===void 0?Vu(st.default,it.default):bt(st,it,jt,St,Rt)}}}function Vu(st,it,ct){return st!==void 0?st:it!==void 0?it:ct!==void 0?ct:void 0}function Gy(st,it,ct,ht,pt){return Vu(typeof ct===pt?ht[ct]:void 0,st.default,it.default)}function dm(st,it,ct){if(Do(ct)!=="number")return Vu(st.default,it.default);const ht=st.stops.length;if(ht===1||ct<=st.stops[0][0])return st.stops[0][1];if(ct>=st.stops[ht-1][0])return st.stops[ht-1][1];const pt=Jp(st.stops.map(yt=>yt[0]),ct);return st.stops[pt][1]}function Wl(st,it,ct){const ht=st.base!==void 0?st.base:1;if(Do(ct)!=="number")return Vu(st.default,it.default);const pt=st.stops.length;if(pt===1||ct<=st.stops[0][0])return st.stops[0][1];if(ct>=st.stops[pt-1][0])return st.stops[pt-1][1];const yt=Jp(st.stops.map(Bt=>Bt[0]),ct),bt=function(Bt,jt,Ht,Yt){const Jt=Yt-Ht,or=Bt-Ht;return Jt===0?0:jt===1?or/Jt:(Math.pow(jt,or)-1)/(Math.pow(jt,Jt)-1)}(ct,ht,st.stops[yt][0],st.stops[yt+1][0]),St=st.stops[yt][1],Rt=st.stops[yt+1][1];let kt=yp[it.type]||Uy;if(st.colorSpace&&st.colorSpace!=="rgb"){const Bt=m0[st.colorSpace];kt=(jt,Ht)=>Bt.reverse(Bt.interpolate(Bt.forward(jt),Bt.forward(Ht),bt))}return typeof St.evaluate=="function"?{evaluate(...Bt){const jt=St.evaluate.apply(void 0,Bt),Ht=Rt.evaluate.apply(void 0,Bt);if(jt!==void 0&&Ht!==void 0)return kt(jt,Ht,bt)}}:kt(St,Rt,bt)}function Wy(st,it,ct){return it.type==="color"?ct=as.parse(ct):it.type==="formatted"?ct=Is.fromString(ct.toString()):it.type==="resolvedImage"?ct=Gs.fromString(ct.toString()):Do(ct)===it.type||it.type==="enum"&&it.values[ct]||(ct=void 0),Vu(ct,st.default,it.default)}class fm{constructor(it,ct){this.expression=it,this._warningHistory={},this._evaluator=new t0,this._defaultValue=ct?function(ht){return ht.type==="color"&&(Sp(ht.default)||Array.isArray(ht.default))?new as(0,0,0,0):ht.type==="color"?as.parse(ht.default)||null:ht.default===void 0?null:ht.default}(ct):null,this._enumValues=ct&&ct.type==="enum"?ct.values:null}evaluateWithoutErrorHandling(it,ct,ht,pt,yt,bt,St,Rt){return this._evaluator.globals=it,this._evaluator.feature=ct,this._evaluator.featureState=ht,this._evaluator.canonical=pt||null,this._evaluator.availableImages=yt||null,this._evaluator.formattedSection=bt,this._evaluator.featureTileCoord=St||null,this._evaluator.featureDistanceData=Rt||null,this.expression.evaluate(this._evaluator)}evaluate(it,ct,ht,pt,yt,bt,St,Rt){this._evaluator.globals=it,this._evaluator.feature=ct||null,this._evaluator.featureState=ht||null,this._evaluator.canonical=pt||null,this._evaluator.availableImages=yt||null,this._evaluator.formattedSection=bt||null,this._evaluator.featureTileCoord=St||null,this._evaluator.featureDistanceData=Rt||null;try{const kt=this.expression.evaluate(this._evaluator);if(kt==null||typeof kt=="number"&&kt!=kt)return this._defaultValue;if(this._enumValues&&!(kt in this._enumValues))throw new Ss(`Expected value to be one of ${Object.keys(this._enumValues).map(Bt=>JSON.stringify(Bt)).join(", ")}, but found ${JSON.stringify(kt)} instead.`);return kt}catch(kt){return this._warningHistory[kt.message]||(this._warningHistory[kt.message]=!0,typeof console<"u"&&console.warn(kt.message)),this._defaultValue}}}function Uu(st){return Array.isArray(st)&&st.length>0&&typeof st[0]=="string"&&st[0]in wp}function Gu(st,it){const ct=new s0(wp,[],it?function(pt){const yt={color:Ns,string:$o,number:Hn,enum:$o,boolean:Ro,formatted:sp,resolvedImage:pu};return pt.type==="array"?Us(yt[pt.value]||Po,pt.length):yt[pt.type]}(it):void 0),ht=ct.parse(st,void 0,void 0,void 0,it&&it.type==="string"?{typeAnnotation:"coerce"}:void 0);return ht?Vy(new fm(ht,it)):_u(ct.errors)}class w0{constructor(it,ct){this.kind=it,this._styleExpression=ct,this.isStateDependent=it!=="constant"&&!Ul(ct.expression)}evaluateWithoutErrorHandling(it,ct,ht,pt,yt,bt){return this._styleExpression.evaluateWithoutErrorHandling(it,ct,ht,pt,yt,bt)}evaluate(it,ct,ht,pt,yt,bt){return this._styleExpression.evaluate(it,ct,ht,pt,yt,bt)}}class Ep{constructor(it,ct,ht,pt){this.kind=it,this.zoomStops=ht,this._styleExpression=ct,this.isStateDependent=it!=="camera"&&!Ul(ct.expression),this.interpolationType=pt}evaluateWithoutErrorHandling(it,ct,ht,pt,yt,bt){return this._styleExpression.evaluateWithoutErrorHandling(it,ct,ht,pt,yt,bt)}evaluate(it,ct,ht,pt,yt,bt){return this._styleExpression.evaluate(it,ct,ht,pt,yt,bt)}interpolationFactor(it,ct,ht){return this.interpolationType?Rl.interpolationFactor(this.interpolationType,it,ct,ht):0}}function Cp(st,it){if((st=Gu(st,it)).result==="error")return st;const ct=st.value.expression,ht=Fu(ct);if(!ht&&!ju(it))return _u([new Cl("","data expressions not supported")]);const pt=yu(ct,["zoom","pitch","distance-from-center"]);if(!pt&&!cm(it))return _u([new Cl("","zoom expressions not supported")]);const yt=mm(ct);return yt||pt?yt instanceof Cl?_u([yt]):yt instanceof Rl&&!um(it)?_u([new Cl("",'"interpolate" expressions cannot be used with this property')]):Vy(yt?new Ep(ht?"camera":"composite",st.value,yt.labels,yt instanceof Rl?yt.interpolation:void 0):new w0(ht?"constant":"source",st.value)):_u([new Cl("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class pm{constructor(it,ct){this._parameters=it,this._specification=ct,Fl(this,hm(this._parameters,this._specification))}static deserialize(it){return new pm(it._parameters,it._specification)}static serialize(it){return{_parameters:it._parameters,_specification:it._specification}}}function mm(st){let it=null;if(st instanceof Ly)it=mm(st.result);else if(st instanceof y0){for(const ct of st.args)if(it=mm(ct),it)break}else(st instanceof c0||st instanceof Rl)&&st.input instanceof Nl&&st.input.name==="zoom"&&(it=st);return it instanceof Cl||st.eachChild(ct=>{const ht=mm(ct);ht instanceof Cl?it=ht:!it&&ht?it=new Cl("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):it&&ht&&it!==ht&&(it=new Cl("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),it}class qn{constructor(it,ct,ht,pt){this.message=(it?`${it}: `:"")+ht,pt&&(this.identifier=pt),ct!=null&&ct.__line__&&(this.line=ct.__line__)}}function Js(st){const it=st.key,ct=st.value,ht=st.valueSpec||{},pt=st.objectElementValidators||{},yt=st.style,bt=st.styleSpec;let St=[];const Rt=Do(ct);if(Rt!=="object")return[new qn(it,ct,`object expected, ${Rt} found`)];for(const kt in ct){const Bt=kt.split(".")[0];let jt;pt[Bt]?jt=pt[Bt]:ht[Bt]?jt=Rs:pt["*"]?jt=pt["*"]:ht["*"]&&(jt=Rs),jt?St=St.concat(jt({key:(it&&`${it}.`)+kt,value:ct[kt],valueSpec:ht[Bt]||ht["*"],style:yt,styleSpec:bt,object:ct,objectKey:kt},ct)):St.push(new qn(it,ct[kt],`unknown property "${kt}"`))}for(const kt in ht)pt[kt]||ht[kt].required&&ht[kt].default===void 0&&ct[kt]===void 0&&St.push(new qn(it,ct,`missing required property "${kt}"`));return St}function Hy(st){const it=st.value,ct=st.valueSpec,ht=st.style,pt=st.styleSpec,yt=st.key,bt=st.arrayElementValidator||Rs;if(Do(it)!=="array")return[new qn(yt,it,`array expected, ${Do(it)} found`)];if(ct.length&&it.length!==ct.length)return[new qn(yt,it,`array length ${ct.length} expected, length ${it.length} found`)];if(ct["min-length"]&&it.length<ct["min-length"])return[new qn(yt,it,`array length at least ${ct["min-length"]} expected, length ${it.length} found`)];let St={type:ct.value,values:ct.values,minimum:ct.minimum,maximum:ct.maximum,function:void 0};pt.$version<7&&(St.function=ct.function),Do(ct.value)==="object"&&(St=ct.value);let Rt=[];for(let kt=0;kt<it.length;kt++)Rt=Rt.concat(bt({array:it,arrayIndex:kt,value:it[kt],valueSpec:St,style:ht,styleSpec:pt,key:`${yt}[${kt}]`}));return Rt}function Tp(st){const it=st.key,ct=st.value,ht=st.valueSpec;let pt=Do(ct);if(pt==="number"&&ct!=ct&&(pt="NaN"),pt!=="number")return[new qn(it,ct,`number expected, ${pt} found`)];if("minimum"in ht){let yt=ht.minimum;if(Do(ht.minimum)==="array"&&(yt=ht.minimum[st.arrayIndex]),ct<yt)return[new qn(it,ct,`${ct} is less than the minimum value ${yt}`)]}if("maximum"in ht){let yt=ht.maximum;if(Do(ht.maximum)==="array"&&(yt=ht.maximum[st.arrayIndex]),ct>yt)return[new qn(it,ct,`${ct} is greater than the maximum value ${yt}`)]}return[]}function Rp(st){const it=st.valueSpec,ct=ls(st.value.type);let ht,pt,yt,bt={};const St=ct!=="categorical"&&st.value.property===void 0,Rt=!St,kt=Do(st.value.stops)==="array"&&Do(st.value.stops[0])==="array"&&Do(st.value.stops[0][0])==="object",Bt=Js({key:st.key,value:st.value,valueSpec:st.styleSpec.function,style:st.style,styleSpec:st.styleSpec,objectElementValidators:{stops:function(Yt){if(ct==="identity")return[new qn(Yt.key,Yt.value,'identity function may not have a "stops" property')];let Jt=[];const or=Yt.value;return Jt=Jt.concat(Hy({key:Yt.key,value:or,valueSpec:Yt.valueSpec,style:Yt.style,styleSpec:Yt.styleSpec,arrayElementValidator:jt})),Do(or)==="array"&&or.length===0&&Jt.push(new qn(Yt.key,or,"array must have at least one stop")),Jt},default:function(Yt){return Rs({key:Yt.key,value:Yt.value,valueSpec:it,style:Yt.style,styleSpec:Yt.styleSpec})}}});return ct==="identity"&&St&&Bt.push(new qn(st.key,st.value,'missing required property "property"')),ct==="identity"||st.value.stops||Bt.push(new qn(st.key,st.value,'missing required property "stops"')),ct==="exponential"&&st.valueSpec.expression&&!um(st.valueSpec)&&Bt.push(new qn(st.key,st.value,"exponential functions not supported")),st.styleSpec.$version>=8&&(Rt&&!ju(st.valueSpec)?Bt.push(new qn(st.key,st.value,"property functions not supported")):St&&!cm(st.valueSpec)&&Bt.push(new qn(st.key,st.value,"zoom functions not supported"))),ct!=="categorical"&&!kt||st.value.property!==void 0||Bt.push(new qn(st.key,st.value,'"property" property is required')),Bt;function jt(Yt){let Jt=[];const or=Yt.value,gr=Yt.key;if(Do(or)!=="array")return[new qn(gr,or,`array expected, ${Do(or)} found`)];if(or.length!==2)return[new qn(gr,or,`array length 2 expected, length ${or.length} found`)];if(kt){if(Do(or[0])!=="object")return[new qn(gr,or,`object expected, ${Do(or[0])} found`)];if(or[0].zoom===void 0)return[new qn(gr,or,"object stop key must have zoom")];if(or[0].value===void 0)return[new qn(gr,or,"object stop key must have value")];const Mr=ls(or[0].zoom);if(typeof Mr!="number")return[new qn(gr,or[0].zoom,"stop zoom values must be numbers")];if(yt&&yt>Mr)return[new qn(gr,or[0].zoom,"stop zoom values must appear in ascending order")];Mr!==yt&&(yt=Mr,pt=void 0,bt={}),Jt=Jt.concat(Js({key:`${gr}[0]`,value:or[0],valueSpec:{zoom:{}},style:Yt.style,styleSpec:Yt.styleSpec,objectElementValidators:{zoom:Tp,value:Ht}}))}else Jt=Jt.concat(Ht({key:`${gr}[0]`,value:or[0],valueSpec:{},style:Yt.style,styleSpec:Yt.styleSpec},or));return Uu(vs(or[1]))?Jt.concat([new qn(`${gr}[1]`,or[1],"expressions are not allowed in function stops.")]):Jt.concat(Rs({key:`${gr}[1]`,value:or[1],valueSpec:it,style:Yt.style,styleSpec:Yt.styleSpec}))}function Ht(Yt,Jt){const or=Do(Yt.value),gr=ls(Yt.value),Mr=Yt.value!==null?Yt.value:Jt;if(ht){if(or!==ht)return[new qn(Yt.key,Mr,`${or} stop domain type must match previous stop domain type ${ht}`)]}else ht=or;if(or!=="number"&&or!=="string"&&or!=="boolean"&&typeof gr!="number"&&typeof gr!="string"&&typeof gr!="boolean")return[new qn(Yt.key,Mr,"stop domain value must be a number, string, or boolean")];if(or!=="number"&&ct!=="categorical"){let Fr=`number expected, ${or} found`;return ju(it)&&ct===void 0&&(Fr+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new qn(Yt.key,Mr,Fr)]}return ct!=="categorical"||or!=="number"||typeof gr=="number"&&isFinite(gr)&&Math.floor(gr)===gr?ct!=="categorical"&&or==="number"&&typeof gr=="number"&&typeof pt=="number"&&pt!==void 0&&gr<pt?[new qn(Yt.key,Mr,"stop domain values must appear in ascending order")]:(pt=gr,ct==="categorical"&&gr in bt?[new qn(Yt.key,Mr,"stop domain values must be unique")]:(bt[gr]=!0,[])):[new qn(Yt.key,Mr,`integer expected, found ${String(gr)}`)]}}function _s(st){const it=(st.expressionContext==="property"?Cp:Gu)(vs(st.value),st.valueSpec);if(it.result==="error")return it.value.map(ht=>new qn(`${st.key}${ht.key}`,st.value,ht.message));const ct=it.value.expression||it.value._styleExpression.expression;if(st.expressionContext==="property"&&st.propertyKey==="text-font"&&!ct.outputDefined())return[new qn(st.key,st.value,`Invalid data expression for "${st.propertyKey}". Output values must be contained as literals within the expression.`)];if(st.expressionContext==="property"&&st.propertyType==="layout"&&!Ul(ct))return[new qn(st.key,st.value,'"feature-state" data expressions are not supported with layout properties.')];if(st.expressionContext==="filter")return Pp(ct,st);if(st.expressionContext&&st.expressionContext.indexOf("cluster")===0){if(!yu(ct,["zoom","feature-state"]))return[new qn(st.key,st.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(st.expressionContext==="cluster-initial"&&!Fu(ct))return[new qn(st.key,st.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Pp(st,it){const ct=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(it.valueSpec&&it.valueSpec.expression)for(const pt of it.valueSpec.expression.parameters)ct.delete(pt);if(ct.size===0)return[];const ht=[];return st instanceof Nl&&ct.has(st.name)?[new qn(it.key,it.value,`["${st.name}"] expression is not supported in a filter for a ${it.object.type} layer with id: ${it.object.id}`)]:(st.eachChild(pt=>{ht.push(...Pp(pt,it))}),ht)}function gm(st){const it=st.key,ct=st.value,ht=st.valueSpec,pt=[];return Array.isArray(ht.values)?ht.values.indexOf(ls(ct))===-1&&pt.push(new qn(it,ct,`expected one of [${ht.values.join(", ")}], ${JSON.stringify(ct)} found`)):Object.keys(ht.values).indexOf(ls(ct))===-1&&pt.push(new qn(it,ct,`expected one of [${Object.keys(ht.values).join(", ")}], ${JSON.stringify(ct)} found`)),pt}function S0(st){if(st===!0||st===!1)return!0;if(!Array.isArray(st)||st.length===0)return!1;switch(st[0]){case"has":return st.length>=2&&st[1]!=="$id"&&st[1]!=="$type";case"in":return st.length>=3&&(typeof st[1]!="string"||Array.isArray(st[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return st.length!==3||Array.isArray(st[1])||Array.isArray(st[2]);case"any":case"all":for(const it of st.slice(1))if(!S0(it)&&typeof it!="boolean")return!1;return!0;default:return!0}}function ym(st,it="fill"){if(st==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};S0(st)||(st=Hu(st));const ct=st;let ht=!0;try{ht=function(kt){if(!Wu(kt))return kt;let Bt=vs(kt);return vm(Bt),Bt=qy(Bt),Bt}(ct)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(ct,null,2)}
        `)}const pt=_n[`filter_${it}`],yt=Gu(ht,pt);let bt=null;if(yt.result==="error")throw new Error(yt.value.map(kt=>`${kt.key}: ${kt.message}`).join(", "));bt=(kt,Bt,jt)=>yt.value.evaluate(kt,Bt,{},jt);let St=null,Rt=null;if(ht!==ct){const kt=Gu(ct,pt);if(kt.result==="error")throw new Error(kt.value.map(Bt=>`${Bt.key}: ${Bt.message}`).join(", "));St=(Bt,jt,Ht,Yt,Jt)=>kt.value.evaluate(Bt,jt,{},Ht,void 0,void 0,Yt,Jt),Rt=!Fu(kt.value.expression)}return{filter:bt,dynamicFilter:St||void 0,needGeometry:Zy(ht),needFeature:!!Rt}}function qy(st){if(!Array.isArray(st))return st;const it=function(ct){if(E0.has(ct[0])){for(let ht=1;ht<ct.length;ht++)if(Wu(ct[ht]))return!0}return ct}(st);return it===!0?it:it.map(ct=>qy(ct))}function vm(st){let it=!1;const ct=[];if(st[0]==="case"){for(let ht=1;ht<st.length-1;ht+=2)it=it||Wu(st[ht]),ct.push(st[ht+1]);ct.push(st[st.length-1])}else if(st[0]==="match"){it=it||Wu(st[1]);for(let ht=2;ht<st.length-1;ht+=2)ct.push(st[ht+1]);ct.push(st[st.length-1])}else if(st[0]==="step"){it=it||Wu(st[1]);for(let ht=1;ht<st.length-1;ht+=2)ct.push(st[ht+1])}it&&(st.length=0,st.push("any",...ct));for(let ht=1;ht<st.length;ht++)vm(st[ht])}function Wu(st){if(!Array.isArray(st))return!1;if((it=st[0])==="pitch"||it==="distance-from-center")return!0;var it;for(let ct=1;ct<st.length;ct++)if(Wu(st[ct]))return!0;return!1}const E0=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function ov(st,it){return st<it?-1:st>it?1:0}function Zy(st){if(!Array.isArray(st))return!1;if(st[0]==="within")return!0;for(let it=1;it<st.length;it++)if(Zy(st[it]))return!0;return!1}function Hu(st){if(!st)return!0;const it=st[0];return st.length<=1?it!=="any":it==="=="?C0(st[1],st[2],"=="):it==="!="?_m(C0(st[1],st[2],"==")):it==="<"||it===">"||it==="<="||it===">="?C0(st[1],st[2],it):it==="any"?(ct=st.slice(1),["any"].concat(ct.map(Hu))):it==="all"?["all"].concat(st.slice(1).map(Hu)):it==="none"?["all"].concat(st.slice(1).map(Hu).map(_m)):it==="in"?T0(st[1],st.slice(2)):it==="!in"?_m(T0(st[1],st.slice(2))):it==="has"?R0(st[1]):it==="!has"?_m(R0(st[1])):it!=="within"||st;var ct}function C0(st,it,ct){switch(st){case"$type":return[`filter-type-${ct}`,it];case"$id":return[`filter-id-${ct}`,it];default:return[`filter-${ct}`,st,it]}}function T0(st,it){if(it.length===0)return!1;switch(st){case"$type":return["filter-type-in",["literal",it]];case"$id":return["filter-id-in",["literal",it]];default:return it.length>200&&!it.some(ct=>typeof ct!=typeof it[0])?["filter-in-large",st,["literal",it.sort(ov)]]:["filter-in-small",st,["literal",it]]}}function R0(st){switch(st){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",st]}}function _m(st){return["!",st]}function Ap(st){return S0(vs(st.value))?_s(Fl({},st,{expressionContext:"filter",valueSpec:st.styleSpec[`filter_${st.layerType||"fill"}`]})):Mp(st)}function Mp(st){const it=st.value,ct=st.key;if(Do(it)!=="array")return[new qn(ct,it,`array expected, ${Do(it)} found`)];const ht=st.styleSpec;let pt,yt=[];if(it.length<1)return[new qn(ct,it,"filter array must have at least 1 element")];switch(yt=yt.concat(gm({key:`${ct}[0]`,value:it[0],valueSpec:ht.filter_operator,style:st.style,styleSpec:st.styleSpec})),ls(it[0])){case"<":case"<=":case">":case">=":it.length>=2&&ls(it[1])==="$type"&&yt.push(new qn(ct,it,`"$type" cannot be use with operator "${it[0]}"`));case"==":case"!=":it.length!==3&&yt.push(new qn(ct,it,`filter array for operator "${it[0]}" must have 3 elements`));case"in":case"!in":it.length>=2&&(pt=Do(it[1]),pt!=="string"&&yt.push(new qn(`${ct}[1]`,it[1],`string expected, ${pt} found`)));for(let bt=2;bt<it.length;bt++)pt=Do(it[bt]),ls(it[1])==="$type"?yt=yt.concat(gm({key:`${ct}[${bt}]`,value:it[bt],valueSpec:ht.geometry_type,style:st.style,styleSpec:st.styleSpec})):pt!=="string"&&pt!=="number"&&pt!=="boolean"&&yt.push(new qn(`${ct}[${bt}]`,it[bt],`string, number, or boolean expected, ${pt} found`));break;case"any":case"all":case"none":for(let bt=1;bt<it.length;bt++)yt=yt.concat(Mp({key:`${ct}[${bt}]`,value:it[bt],style:st.style,styleSpec:st.styleSpec}));break;case"has":case"!has":pt=Do(it[1]),it.length!==2?yt.push(new qn(ct,it,`filter array for "${it[0]}" operator must have 2 elements`)):pt!=="string"&&yt.push(new qn(`${ct}[1]`,it[1],`string expected, ${pt} found`));break;case"within":pt=Do(it[1]),it.length!==2?yt.push(new qn(ct,it,`filter array for "${it[0]}" operator must have 2 elements`)):pt!=="object"&&yt.push(new qn(`${ct}[1]`,it[1],`object expected, ${pt} found`))}return yt}function P0(st,it){const ct=st.key,ht=st.style,pt=st.styleSpec,yt=st.value,bt=st.objectKey,St=pt[`${it}_${st.layerType}`];if(!St)return[];const Rt=bt.match(/^(.*)-transition$/);if(it==="paint"&&Rt&&St[Rt[1]]&&St[Rt[1]].transition)return Rs({key:ct,value:yt,valueSpec:pt.transition,style:ht,styleSpec:pt});const kt=st.valueSpec||St[bt];if(!kt)return[new qn(ct,yt,`unknown property "${bt}"`)];let Bt;if(Do(yt)==="string"&&ju(kt)&&!kt.tokens&&(Bt=/^{([^}]+)}$/.exec(yt))){const Ht=`\`{ "type": "identity", "property": ${Bt?JSON.stringify(Bt[1]):'"_"'} }\``;return[new qn(ct,yt,`"${bt}" does not support interpolation syntax
Use an identity property function instead: ${Ht}.`)]}const jt=[];return st.layerType==="symbol"&&(bt==="text-field"&&ht&&!ht.glyphs&&jt.push(new qn(ct,yt,'use of "text-field" requires a style "glyphs" property')),bt==="text-font"&&Sp(vs(yt))&&ls(yt.type)==="identity"&&jt.push(new qn(ct,yt,'"text-font" does not support identity functions'))),jt.concat(Rs({key:st.key,value:yt,valueSpec:kt,style:ht,styleSpec:pt,expressionContext:"property",propertyType:it,propertyKey:bt}))}function Ky(st){return P0(st,"paint")}function A0(st){return P0(st,"layout")}function Xy(st){let it=[];const ct=st.value,ht=st.key,pt=st.style,yt=st.styleSpec;ct.type||ct.ref||it.push(new qn(ht,ct,'either "type" or "ref" is required'));let bt=ls(ct.type);const St=ls(ct.ref);if(ct.id){const Rt=ls(ct.id);for(let kt=0;kt<st.arrayIndex;kt++){const Bt=pt.layers[kt];ls(Bt.id)===Rt&&it.push(new qn(ht,ct.id,`duplicate layer id "${ct.id}", previously used at line ${Bt.id.__line__}`))}}if("ref"in ct){let Rt;["type","source","source-layer","filter","layout"].forEach(kt=>{kt in ct&&it.push(new qn(ht,ct[kt],`"${kt}" is prohibited for ref layers`))}),pt.layers.forEach(kt=>{ls(kt.id)===St&&(Rt=kt)}),Rt?Rt.ref?it.push(new qn(ht,ct.ref,"ref cannot reference another ref layer")):bt=ls(Rt.type):typeof St=="string"&&it.push(new qn(ht,ct.ref,`ref layer "${St}" not found`))}else if(bt!=="background"&&bt!=="sky")if(ct.source){const Rt=pt.sources&&pt.sources[ct.source],kt=Rt&&ls(Rt.type);Rt?kt==="vector"&&bt==="raster"?it.push(new qn(ht,ct.source,`layer "${ct.id}" requires a raster source`)):kt==="raster"&&bt!=="raster"?it.push(new qn(ht,ct.source,`layer "${ct.id}" requires a vector source`)):kt!=="vector"||ct["source-layer"]?kt==="raster-dem"&&bt!=="hillshade"?it.push(new qn(ht,ct.source,"raster-dem source can only be used with layer type 'hillshade'.")):bt!=="line"||!ct.paint||!ct.paint["line-gradient"]&&!ct.paint["line-trim-offset"]||kt==="geojson"&&Rt.lineMetrics||it.push(new qn(ht,ct,`layer "${ct.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):it.push(new qn(ht,ct,`layer "${ct.id}" must specify a "source-layer"`)):it.push(new qn(ht,ct.source,`source "${ct.source}" not found`))}else it.push(new qn(ht,ct,'missing required property "source"'));return it=it.concat(Js({key:ht,value:ct,valueSpec:yt.layer,style:st.style,styleSpec:st.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Rs({key:`${ht}.type`,value:ct.type,valueSpec:yt.layer.type,style:st.style,styleSpec:st.styleSpec,object:ct,objectKey:"type"}),filter:Rt=>Ap(Fl({layerType:bt},Rt)),layout:Rt=>Js({layer:ct,key:Rt.key,value:Rt.value,valueSpec:{},style:Rt.style,styleSpec:Rt.styleSpec,objectElementValidators:{"*":kt=>A0(Fl({layerType:bt},kt))}}),paint:Rt=>Js({layer:ct,key:Rt.key,value:Rt.value,valueSpec:{},style:Rt.style,styleSpec:Rt.styleSpec,objectElementValidators:{"*":kt=>Ky(Fl({layerType:bt},kt))}})}})),it}function nu(st){const it=st.value,ct=st.key,ht=Do(it);return ht!=="string"?[new qn(ct,it,`string expected, ${ht} found`)]:[]}const Yy={promoteId:function({key:st,value:it}){if(Do(it)==="string")return nu({key:st,value:it});{const ct=[];for(const ht in it)ct.push(...nu({key:`${st}.${ht}`,value:it[ht]}));return ct}}};function Qy(st){const it=st.value,ct=st.key,ht=st.styleSpec,pt=st.style;if(!it.type)return[new qn(ct,it,'"type" is required')];const yt=ls(it.type);let bt;switch(yt){case"vector":case"raster":case"raster-dem":return bt=Js({key:ct,value:it,valueSpec:ht[`source_${yt.replace("-","_")}`],style:st.style,styleSpec:ht,objectElementValidators:Yy}),bt;case"geojson":if(bt=Js({key:ct,value:it,valueSpec:ht.source_geojson,style:pt,styleSpec:ht,objectElementValidators:Yy}),it.cluster)for(const St in it.clusterProperties){const[Rt,kt]=it.clusterProperties[St],Bt=typeof Rt=="string"?[Rt,["accumulated"],["get",St]]:Rt;bt.push(..._s({key:`${ct}.${St}.map`,value:kt,expressionContext:"cluster-map"})),bt.push(..._s({key:`${ct}.${St}.reduce`,value:Bt,expressionContext:"cluster-reduce"}))}return bt;case"video":return Js({key:ct,value:it,valueSpec:ht.source_video,style:pt,styleSpec:ht});case"image":return Js({key:ct,value:it,valueSpec:ht.source_image,style:pt,styleSpec:ht});case"canvas":return[new qn(ct,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return gm({key:`${ct}.type`,value:it.type,valueSpec:{values:av(ht)},style:pt,styleSpec:ht})}}function av(st){return st.source.reduce((it,ct)=>{const ht=st[ct];return ht.type.type==="enum"&&(it=it.concat(Object.keys(ht.type.values))),it},[])}function Jy(st){const it=st.value,ct=st.styleSpec,ht=ct.light,pt=st.style;let yt=[];const bt=Do(it);if(it===void 0)return yt;if(bt!=="object")return yt=yt.concat([new qn("light",it,`object expected, ${bt} found`)]),yt;for(const St in it){const Rt=St.match(/^(.*)-transition$/);yt=yt.concat(Rt&&ht[Rt[1]]&&ht[Rt[1]].transition?Rs({key:St,value:it[St],valueSpec:ct.transition,style:pt,styleSpec:ct}):ht[St]?Rs({key:St,value:it[St],valueSpec:ht[St],style:pt,styleSpec:ct}):[new qn(St,it[St],`unknown property "${St}"`)])}return yt}function M0(st){const it=st.value,ct=st.key,ht=st.style,pt=st.styleSpec,yt=pt.terrain;let bt=[];const St=Do(it);if(it===void 0)return bt;if(St!=="object")return bt=bt.concat([new qn("terrain",it,`object expected, ${St} found`)]),bt;for(const Rt in it){const kt=Rt.match(/^(.*)-transition$/);bt=bt.concat(kt&&yt[kt[1]]&&yt[kt[1]].transition?Rs({key:Rt,value:it[Rt],valueSpec:pt.transition,style:ht,styleSpec:pt}):yt[Rt]?Rs({key:Rt,value:it[Rt],valueSpec:yt[Rt],style:ht,styleSpec:pt}):[new qn(Rt,it[Rt],`unknown property "${Rt}"`)])}if(it.source){const Rt=ht.sources&&ht.sources[it.source],kt=Rt&&ls(Rt.type);Rt?kt!=="raster-dem"&&bt.push(new qn(ct,it.source,`terrain cannot be used with a source of type ${String(kt)}, it only be used with a "raster-dem" source type`)):bt.push(new qn(ct,it.source,`source "${it.source}" not found`))}else bt.push(new qn(ct,it,'terrain is missing required property "source"'));return bt}function e1(st){const it=st.value,ct=st.style,ht=st.styleSpec,pt=ht.fog;let yt=[];const bt=Do(it);if(it===void 0)return yt;if(bt!=="object")return yt=yt.concat([new qn("fog",it,`object expected, ${bt} found`)]),yt;for(const St in it){const Rt=St.match(/^(.*)-transition$/);yt=yt.concat(Rt&&pt[Rt[1]]&&pt[Rt[1]].transition?Rs({key:St,value:it[St],valueSpec:ht.transition,style:ct,styleSpec:ht}):pt[St]?Rs({key:St,value:it[St],valueSpec:pt[St],style:ct,styleSpec:ht}):[new qn(St,it[St],`unknown property "${St}"`)])}return yt}const t1={"*":()=>[],array:Hy,boolean:function(st){const it=st.value,ct=st.key,ht=Do(it);return ht!=="boolean"?[new qn(ct,it,`boolean expected, ${ht} found`)]:[]},number:Tp,color:function(st){const it=st.key,ct=st.value,ht=Do(ct);return ht!=="string"?[new qn(it,ct,`color expected, ${ht} found`)]:Km(ct)===null?[new qn(it,ct,`color expected, "${ct}" found`)]:[]},enum:gm,filter:Ap,function:Rp,layer:Xy,object:Js,source:Qy,light:Jy,terrain:M0,fog:e1,string:nu,formatted:function(st){return nu(st).length===0?[]:_s(st)},resolvedImage:function(st){return nu(st).length===0?[]:_s(st)},projection:function(st){const it=st.value,ct=st.styleSpec,ht=ct.projection,pt=st.style;let yt=[];const bt=Do(it);if(bt==="object")for(const St in it)yt=yt.concat(Rs({key:St,value:it[St],valueSpec:ht[St],style:pt,styleSpec:ct}));else bt!=="string"&&(yt=yt.concat([new qn("projection",it,`object or string expected, ${bt} found`)]));return yt}};function Rs(st){const it=st.value,ct=st.valueSpec,ht=st.styleSpec;return ct.expression&&Sp(ls(it))?Rp(st):ct.expression&&Uu(vs(it))?_s(st):ct.type&&t1[ct.type]?t1[ct.type](st):Js(Fl({},st,{valueSpec:ct.type?ht[ct.type]:ct}))}function sv(st){const it=st.value,ct=st.key,ht=nu(st);return ht.length||(it.indexOf("{fontstack}")===-1&&ht.push(new qn(ct,it,'"glyphs" url must include a "{fontstack}" token')),it.indexOf("{range}")===-1&&ht.push(new qn(ct,it,'"glyphs" url must include a "{range}" token'))),ht}function r1(st,it=_n){return Hs(Rs({key:"",value:st,valueSpec:it.$root,styleSpec:it,style:st,objectElementValidators:{glyphs:sv,"*":()=>[]}}))}const lv=st=>Hs(Ky(st)),cv=st=>Hs(A0(st));function Hs(st){return st.slice().sort((it,ct)=>it.line&&ct.line?it.line-ct.line:0)}function n1(st,it){let ct=!1;if(it&&it.length)for(const ht of it)st.fire(new Ol(new Error(ht.message))),ct=!0;return ct}var uv=Pl,yl=3;function Pl(st,it,ct){var ht=this.cells=[];if(st instanceof ArrayBuffer){this.arrayBuffer=st;var pt=new Int32Array(this.arrayBuffer);st=pt[0],this.d=(it=pt[1])+2*(ct=pt[2]);for(var yt=0;yt<this.d*this.d;yt++){var bt=pt[yl+yt],St=pt[yl+yt+1];ht.push(bt===St?null:pt.subarray(bt,St))}var Rt=pt[yl+ht.length+1];this.keys=pt.subarray(pt[yl+ht.length],Rt),this.bboxes=pt.subarray(Rt),this.insert=this._insertReadonly}else{this.d=it+2*ct;for(var kt=0;kt<this.d*this.d;kt++)ht.push([]);this.keys=[],this.bboxes=[]}this.n=it,this.extent=st,this.padding=ct,this.scale=it/st,this.uid=0;var Bt=ct/it*st;this.min=-Bt,this.max=st+Bt}Pl.prototype.insert=function(st,it,ct,ht,pt){this._forEachCell(it,ct,ht,pt,this._insertCell,this.uid++),this.keys.push(st),this.bboxes.push(it),this.bboxes.push(ct),this.bboxes.push(ht),this.bboxes.push(pt)},Pl.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Pl.prototype._insertCell=function(st,it,ct,ht,pt,yt){this.cells[pt].push(yt)},Pl.prototype.query=function(st,it,ct,ht,pt){var yt=this.min,bt=this.max;if(st<=yt&&it<=yt&&bt<=ct&&bt<=ht&&!pt)return Array.prototype.slice.call(this.keys);var St=[];return this._forEachCell(st,it,ct,ht,this._queryCell,St,{},pt),St},Pl.prototype._queryCell=function(st,it,ct,ht,pt,yt,bt,St){var Rt=this.cells[pt];if(Rt!==null)for(var kt=this.keys,Bt=this.bboxes,jt=0;jt<Rt.length;jt++){var Ht=Rt[jt];if(bt[Ht]===void 0){var Yt=4*Ht;(St?St(Bt[Yt+0],Bt[Yt+1],Bt[Yt+2],Bt[Yt+3]):st<=Bt[Yt+2]&&it<=Bt[Yt+3]&&ct>=Bt[Yt+0]&&ht>=Bt[Yt+1])?(bt[Ht]=!0,yt.push(kt[Ht])):bt[Ht]=!1}}},Pl.prototype._forEachCell=function(st,it,ct,ht,pt,yt,bt,St){for(var Rt=this._convertToCellCoord(st),kt=this._convertToCellCoord(it),Bt=this._convertToCellCoord(ct),jt=this._convertToCellCoord(ht),Ht=Rt;Ht<=Bt;Ht++)for(var Yt=kt;Yt<=jt;Yt++){var Jt=this.d*Yt+Ht;if((!St||St(this._convertFromCellCoord(Ht),this._convertFromCellCoord(Yt),this._convertFromCellCoord(Ht+1),this._convertFromCellCoord(Yt+1)))&&pt.call(this,st,it,ct,ht,Jt,yt,bt,St))return}},Pl.prototype._convertFromCellCoord=function(st){return(st-this.padding)/this.scale},Pl.prototype._convertToCellCoord=function(st){return Math.max(0,Math.min(this.d-1,Math.floor(st*this.scale)+this.padding))},Pl.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var st=this.cells,it=yl+this.cells.length+1+1,ct=0,ht=0;ht<this.cells.length;ht++)ct+=this.cells[ht].length;var pt=new Int32Array(it+ct+this.keys.length+this.bboxes.length);pt[0]=this.extent,pt[1]=this.n,pt[2]=this.padding;for(var yt=it,bt=0;bt<st.length;bt++){var St=st[bt];pt[yl+bt]=yt,pt.set(St,yt),yt+=St.length}return pt[yl+st.length]=yt,pt.set(this.keys,yt),pt[yl+st.length+1]=yt+=this.keys.length,pt.set(this.bboxes,yt),yt+=this.bboxes.length,pt.buffer};var xu=It(uv);const xm={};function Xn(st,it,ct={}){Object.defineProperty(st,"_classRegistryKey",{value:it,writeable:!1}),xm[it]={klass:st,omit:ct.omit||[]}}Xn(Object,"Object"),xu.serialize=function(st,it){const ct=st.toArrayBuffer();return it&&it.push(ct),{buffer:ct}},xu.deserialize=function(st){return new xu(st.buffer)},Object.defineProperty(xu,"name",{value:"Grid"}),Xn(xu,"Grid"),Xn(as,"Color"),Xn(Error,"Error"),Xn(Kn,"AJAXError"),Xn(Gs,"ResolvedImage"),Xn(pm,"StylePropertyFunction"),Xn(fm,"StyleExpression",{omit:["_evaluator"]}),Xn(Ep,"ZoomDependentExpression"),Xn(w0,"ZoomConstantExpression"),Xn(Nl,"CompoundExpression",{omit:["_evaluate"]});for(const st in wp)xm[wp[st]._classRegistryKey]||Xn(wp[st],`Expression${st}`);function k0(st){return st&&typeof ArrayBuffer<"u"&&(st instanceof ArrayBuffer||st.constructor&&st.constructor.name==="ArrayBuffer")}function $0(st){return mt.ImageBitmap&&st instanceof mt.ImageBitmap}function qu(st,it){if(st==null||typeof st=="boolean"||typeof st=="number"||typeof st=="string"||st instanceof Boolean||st instanceof Number||st instanceof String||st instanceof Date||st instanceof RegExp)return st;if(k0(st)||$0(st))return it&&it.push(st),st;if(ArrayBuffer.isView(st)){const ct=st;return it&&it.push(ct.buffer),ct}if(st instanceof mt.ImageData)return it&&it.push(st.data.buffer),st;if(Array.isArray(st)){const ct=[];for(const ht of st)ct.push(qu(ht,it));return ct}if(typeof st=="object"){const ct=st.constructor,ht=ct._classRegistryKey;if(!ht)throw new Error(`can't serialize object of unregistered class ${ht}`);const pt=ct.serialize?ct.serialize(st,it):{};if(!ct.serialize){for(const yt in st)st.hasOwnProperty(yt)&&(xm[ht].omit.indexOf(yt)>=0||(pt[yt]=qu(st[yt],it)));st instanceof Error&&(pt.message=st.message)}if(pt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ht!=="Object"&&(pt.$name=ht),pt}throw new Error("can't serialize object of type "+typeof st)}function bu(st){if(st==null||typeof st=="boolean"||typeof st=="number"||typeof st=="string"||st instanceof Boolean||st instanceof Number||st instanceof String||st instanceof Date||st instanceof RegExp||k0(st)||$0(st)||ArrayBuffer.isView(st)||st instanceof mt.ImageData)return st;if(Array.isArray(st))return st.map(bu);if(typeof st=="object"){const it=st.$name||"Object",{klass:ct}=xm[it];if(!ct)throw new Error(`can't deserialize unregistered class ${it}`);if(ct.deserialize)return ct.deserialize(st);const ht=Object.create(ct.prototype);for(const pt of Object.keys(st))pt!=="$name"&&(ht[pt]=bu(st[pt]));return ht}throw new Error("can't deserialize object of type "+typeof st)}const Wn={"Latin-1 Supplement":st=>st>=128&&st<=255,Arabic:st=>st>=1536&&st<=1791,"Arabic Supplement":st=>st>=1872&&st<=1919,"Arabic Extended-A":st=>st>=2208&&st<=2303,"Hangul Jamo":st=>st>=4352&&st<=4607,"Unified Canadian Aboriginal Syllabics":st=>st>=5120&&st<=5759,Khmer:st=>st>=6016&&st<=6143,"Unified Canadian Aboriginal Syllabics Extended":st=>st>=6320&&st<=6399,"General Punctuation":st=>st>=8192&&st<=8303,"Letterlike Symbols":st=>st>=8448&&st<=8527,"Number Forms":st=>st>=8528&&st<=8591,"Miscellaneous Technical":st=>st>=8960&&st<=9215,"Control Pictures":st=>st>=9216&&st<=9279,"Optical Character Recognition":st=>st>=9280&&st<=9311,"Enclosed Alphanumerics":st=>st>=9312&&st<=9471,"Geometric Shapes":st=>st>=9632&&st<=9727,"Miscellaneous Symbols":st=>st>=9728&&st<=9983,"Miscellaneous Symbols and Arrows":st=>st>=11008&&st<=11263,"CJK Radicals Supplement":st=>st>=11904&&st<=12031,"Kangxi Radicals":st=>st>=12032&&st<=12255,"Ideographic Description Characters":st=>st>=12272&&st<=12287,"CJK Symbols and Punctuation":st=>st>=12288&&st<=12351,Hiragana:st=>st>=12352&&st<=12447,Katakana:st=>st>=12448&&st<=12543,Bopomofo:st=>st>=12544&&st<=12591,"Hangul Compatibility Jamo":st=>st>=12592&&st<=12687,Kanbun:st=>st>=12688&&st<=12703,"Bopomofo Extended":st=>st>=12704&&st<=12735,"CJK Strokes":st=>st>=12736&&st<=12783,"Katakana Phonetic Extensions":st=>st>=12784&&st<=12799,"Enclosed CJK Letters and Months":st=>st>=12800&&st<=13055,"CJK Compatibility":st=>st>=13056&&st<=13311,"CJK Unified Ideographs Extension A":st=>st>=13312&&st<=19903,"Yijing Hexagram Symbols":st=>st>=19904&&st<=19967,"CJK Unified Ideographs":st=>st>=19968&&st<=40959,"Yi Syllables":st=>st>=40960&&st<=42127,"Yi Radicals":st=>st>=42128&&st<=42191,"Hangul Jamo Extended-A":st=>st>=43360&&st<=43391,"Hangul Syllables":st=>st>=44032&&st<=55215,"Hangul Jamo Extended-B":st=>st>=55216&&st<=55295,"Private Use Area":st=>st>=57344&&st<=63743,"CJK Compatibility Ideographs":st=>st>=63744&&st<=64255,"Arabic Presentation Forms-A":st=>st>=64336&&st<=65023,"Vertical Forms":st=>st>=65040&&st<=65055,"CJK Compatibility Forms":st=>st>=65072&&st<=65103,"Small Form Variants":st=>st>=65104&&st<=65135,"Arabic Presentation Forms-B":st=>st>=65136&&st<=65279,"Halfwidth and Fullwidth Forms":st=>st>=65280&&st<=65519};function I0(st){for(const it of st)if(L0(it.charCodeAt(0)))return!0;return!1}function hv(st){for(const it of st)if(!i1(it.charCodeAt(0)))return!1;return!0}function i1(st){return!(Wn.Arabic(st)||Wn["Arabic Supplement"](st)||Wn["Arabic Extended-A"](st)||Wn["Arabic Presentation Forms-A"](st)||Wn["Arabic Presentation Forms-B"](st))}function L0(st){return!(st!==746&&st!==747&&(st<4352||!(Wn["Bopomofo Extended"](st)||Wn.Bopomofo(st)||Wn["CJK Compatibility Forms"](st)&&!(st>=65097&&st<=65103)||Wn["CJK Compatibility Ideographs"](st)||Wn["CJK Compatibility"](st)||Wn["CJK Radicals Supplement"](st)||Wn["CJK Strokes"](st)||!(!Wn["CJK Symbols and Punctuation"](st)||st>=12296&&st<=12305||st>=12308&&st<=12319||st===12336)||Wn["CJK Unified Ideographs Extension A"](st)||Wn["CJK Unified Ideographs"](st)||Wn["Enclosed CJK Letters and Months"](st)||Wn["Hangul Compatibility Jamo"](st)||Wn["Hangul Jamo Extended-A"](st)||Wn["Hangul Jamo Extended-B"](st)||Wn["Hangul Jamo"](st)||Wn["Hangul Syllables"](st)||Wn.Hiragana(st)||Wn["Ideographic Description Characters"](st)||Wn.Kanbun(st)||Wn["Kangxi Radicals"](st)||Wn["Katakana Phonetic Extensions"](st)||Wn.Katakana(st)&&st!==12540||!(!Wn["Halfwidth and Fullwidth Forms"](st)||st===65288||st===65289||st===65293||st>=65306&&st<=65310||st===65339||st===65341||st===65343||st>=65371&&st<=65503||st===65507||st>=65512&&st<=65519)||!(!Wn["Small Form Variants"](st)||st>=65112&&st<=65118||st>=65123&&st<=65126)||Wn["Unified Canadian Aboriginal Syllabics"](st)||Wn["Unified Canadian Aboriginal Syllabics Extended"](st)||Wn["Vertical Forms"](st)||Wn["Yijing Hexagram Symbols"](st)||Wn["Yi Syllables"](st)||Wn["Yi Radicals"](st))))}function o1(st){return!(L0(st)||function(it){return!!(Wn["Latin-1 Supplement"](it)&&(it===167||it===169||it===174||it===177||it===188||it===189||it===190||it===215||it===247)||Wn["General Punctuation"](it)&&(it===8214||it===8224||it===8225||it===8240||it===8241||it===8251||it===8252||it===8258||it===8263||it===8264||it===8265||it===8273)||Wn["Letterlike Symbols"](it)||Wn["Number Forms"](it)||Wn["Miscellaneous Technical"](it)&&(it>=8960&&it<=8967||it>=8972&&it<=8991||it>=8996&&it<=9e3||it===9003||it>=9085&&it<=9114||it>=9150&&it<=9165||it===9167||it>=9169&&it<=9179||it>=9186&&it<=9215)||Wn["Control Pictures"](it)&&it!==9251||Wn["Optical Character Recognition"](it)||Wn["Enclosed Alphanumerics"](it)||Wn["Geometric Shapes"](it)||Wn["Miscellaneous Symbols"](it)&&!(it>=9754&&it<=9759)||Wn["Miscellaneous Symbols and Arrows"](it)&&(it>=11026&&it<=11055||it>=11088&&it<=11097||it>=11192&&it<=11243)||Wn["CJK Symbols and Punctuation"](it)||Wn.Katakana(it)||Wn["Private Use Area"](it)||Wn["CJK Compatibility Forms"](it)||Wn["Small Form Variants"](it)||Wn["Halfwidth and Fullwidth Forms"](it)||it===8734||it===8756||it===8757||it>=9984&&it<=10087||it>=10102&&it<=10131||it===65532||it===65533)}(st))}function a1(st){return st>=1424&&st<=2303||Wn["Arabic Presentation Forms-A"](st)||Wn["Arabic Presentation Forms-B"](st)}function dv(st,it){return!(!it&&a1(st)||st>=2304&&st<=3583||st>=3840&&st<=4255||Wn.Khmer(st))}function fv(st){for(const it of st)if(a1(it.charCodeAt(0)))return!0;return!1}const D0="deferred",O0="loading",F0="loaded";let Zu=null,gt="unavailable",ut=null;const ft=function(st){st&&typeof st=="string"&&st.indexOf("NetworkError")>-1&&(gt="error"),Zu&&Zu(st)};function vt(){wt.fire(new fu("pluginStateChange",{pluginStatus:gt,pluginURL:ut}))}const wt=new ap,Ct=function(){return gt},Dt=function(){if(gt!==D0||!ut)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");gt=O0,vt(),ut&&pn({url:ut},st=>{st?ft(st):(gt=F0,vt())})},zt={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>gt===F0||zt.applyArabicShaping!=null,isLoading:()=>gt===O0,setState(st){gt=st.pluginStatus,ut=st.pluginURL},isParsed:()=>zt.applyArabicShaping!=null&&zt.processBidirectionalText!=null&&zt.processStyledBidirectionalText!=null,getPluginURL:()=>ut};class Nt{constructor(it,ct){this.zoom=it,ct?(this.now=ct.now,this.fadeDuration=ct.fadeDuration,this.transition=ct.transition,this.pitch=ct.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(it){return function(ct,ht){for(const pt of ct)if(!dv(pt.charCodeAt(0),ht))return!1;return!0}(it,zt.isLoaded())}}class Zt{constructor(it,ct){this.property=it,this.value=ct,this.expression=function(ht,pt){if(Sp(ht))return new pm(ht,pt);if(Uu(ht)){const yt=Cp(ht,pt);if(yt.result==="error")throw new Error(yt.value.map(bt=>`${bt.key}: ${bt.message}`).join(", "));return yt.value}{let yt=ht;return typeof ht=="string"&&pt.type==="color"&&(yt=as.parse(ht)),{kind:"constant",evaluate:()=>yt}}}(ct===void 0?it.specification.default:ct,it.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(it,ct,ht){return this.property.possiblyEvaluate(this,it,ct,ht)}}class qt{constructor(it){this.property=it,this.value=new Zt(it,void 0)}transitioned(it,ct){return new pr(this.property,this.value,ct,dr({},it.transition,this.transition),it.now)}untransitioned(){return new pr(this.property,this.value,null,{},0)}}class rr{constructor(it){this._properties=it,this._values=Object.create(it.defaultTransitionablePropertyValues)}getValue(it){return En(this._values[it].value.value)}setValue(it,ct){this._values.hasOwnProperty(it)||(this._values[it]=new qt(this._values[it].property)),this._values[it].value=new Zt(this._values[it].property,ct===null?void 0:En(ct))}getTransition(it){return En(this._values[it].transition)}setTransition(it,ct){this._values.hasOwnProperty(it)||(this._values[it]=new qt(this._values[it].property)),this._values[it].transition=En(ct)||void 0}serialize(){const it={};for(const ct of Object.keys(this._values)){const ht=this.getValue(ct);ht!==void 0&&(it[ct]=ht);const pt=this.getTransition(ct);pt!==void 0&&(it[`${ct}-transition`]=pt)}return it}transitioned(it,ct){const ht=new xr(this._properties);for(const pt of Object.keys(this._values))ht._values[pt]=this._values[pt].transitioned(it,ct._values[pt]);return ht}untransitioned(){const it=new xr(this._properties);for(const ct of Object.keys(this._values))it._values[ct]=this._values[ct].untransitioned();return it}}class pr{constructor(it,ct,ht,pt,yt){const bt=pt.delay||0,St=pt.duration||0;yt=yt||0,this.property=it,this.value=ct,this.begin=yt+bt,this.end=this.begin+St,it.specification.transition&&(pt.delay||pt.duration)&&(this.prior=ht)}possiblyEvaluate(it,ct,ht){const pt=it.now||0,yt=this.value.possiblyEvaluate(it,ct,ht),bt=this.prior;if(bt){if(pt>this.end)return this.prior=null,yt;if(this.value.isDataDriven())return this.prior=null,yt;if(pt<this.begin)return bt.possiblyEvaluate(it,ct,ht);{const St=(pt-this.begin)/(this.end-this.begin);return this.property.interpolate(bt.possiblyEvaluate(it,ct,ht),yt,Cr(St))}}return yt}}class xr{constructor(it){this._properties=it,this._values=Object.create(it.defaultTransitioningPropertyValues)}possiblyEvaluate(it,ct,ht){const pt=new Pr(this._properties);for(const yt of Object.keys(this._values))pt._values[yt]=this._values[yt].possiblyEvaluate(it,ct,ht);return pt}hasTransition(){for(const it of Object.keys(this._values))if(this._values[it].prior)return!0;return!1}}class wr{constructor(it){this._properties=it,this._values=Object.create(it.defaultPropertyValues)}getValue(it){return En(this._values[it].value)}setValue(it,ct){this._values[it]=new Zt(this._values[it].property,ct===null?void 0:En(ct))}serialize(){const it={};for(const ct of Object.keys(this._values)){const ht=this.getValue(ct);ht!==void 0&&(it[ct]=ht)}return it}possiblyEvaluate(it,ct,ht){const pt=new Pr(this._properties);for(const yt of Object.keys(this._values))pt._values[yt]=this._values[yt].possiblyEvaluate(it,ct,ht);return pt}}class br{constructor(it,ct,ht){this.property=it,this.value=ct,this.parameters=ht}isConstant(){return this.value.kind==="constant"}constantOr(it){return this.value.kind==="constant"?this.value.value:it}evaluate(it,ct,ht,pt){return this.property.evaluate(this.value,this.parameters,it,ct,ht,pt)}}class Pr{constructor(it){this._properties=it,this._values=Object.create(it.defaultPossiblyEvaluatedValues)}get(it){return this._values[it]}}class ir{constructor(it){this.specification=it}possiblyEvaluate(it,ct){return it.expression.evaluate(ct)}interpolate(it,ct,ht){const pt=yp[this.specification.type];return pt?pt(it,ct,ht):it}}class _r{constructor(it,ct){this.specification=it,this.overrides=ct}possiblyEvaluate(it,ct,ht,pt){return new br(this,it.expression.kind==="constant"||it.expression.kind==="camera"?{kind:"constant",value:it.expression.evaluate(ct,null,{},ht,pt)}:it.expression,ct)}interpolate(it,ct,ht){if(it.value.kind!=="constant"||ct.value.kind!=="constant")return it;if(it.value.value===void 0||ct.value.value===void 0)return new br(this,{kind:"constant",value:void 0},it.parameters);const pt=yp[this.specification.type];return pt?new br(this,{kind:"constant",value:pt(it.value.value,ct.value.value,ht)},it.parameters):it}evaluate(it,ct,ht,pt,yt,bt){return it.kind==="constant"?it.value:it.evaluate(ct,ht,pt,yt,bt)}}class $r{constructor(it){this.specification=it}possiblyEvaluate(it,ct,ht,pt){return!!it.expression.evaluate(ct,null,{},ht,pt)}interpolate(){return!1}}class Ir{constructor(it){this.properties=it,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const ct=new Nt(0,{});for(const ht in it){const pt=it[ht];pt.specification.overridable&&this.overridableProperties.push(ht);const yt=this.defaultPropertyValues[ht]=new Zt(pt,void 0),bt=this.defaultTransitionablePropertyValues[ht]=new qt(pt);this.defaultTransitioningPropertyValues[ht]=bt.untransitioned(),this.defaultPossiblyEvaluatedValues[ht]=yt.possiblyEvaluate(ct)}}}function Vr(st,it){return 256*(st=Xt(Math.floor(st),0,255))+Xt(Math.floor(it),0,255)}Xn(_r,"DataDrivenProperty"),Xn(ir,"DataConstantProperty"),Xn($r,"ColorRampProperty");const Wr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Gr{constructor(it,ct){this._structArray=it,this._pos1=ct*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Jr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(it,ct){return it._trim(),ct&&(it.isTransferred=!0,ct.push(it.arrayBuffer)),{length:it.length,arrayBuffer:it.arrayBuffer}}static deserialize(it){const ct=Object.create(this.prototype);return ct.arrayBuffer=it.arrayBuffer,ct.length=it.length,ct.capacity=it.arrayBuffer.byteLength/ct.bytesPerElement,ct._refreshViews(),ct}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(it){this.reserve(it),this.length=it}reserve(it){if(it>this.capacity){this.capacity=Math.max(it,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const ct=this.uint8;this._refreshViews(),ct&&this.uint8.set(ct)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Yr(st,it=1){let ct=0,ht=0;return{members:st.map(pt=>{const yt=Wr[pt.type].BYTES_PER_ELEMENT,bt=ct=an(ct,Math.max(it,yt)),St=pt.components||1;return ht=Math.max(ht,yt),ct+=yt*St,{name:pt.name,type:pt.type,components:St,offset:bt}}),size:an(ct,Math.max(ht,it)),alignment:it}}function an(st,it){return Math.ceil(st/it)*it}class In extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(it,ct){const ht=this.length;return this.resize(ht+1),this.emplace(ht,it,ct)}emplace(it,ct,ht){const pt=2*it;return this.int16[pt+0]=ct,this.int16[pt+1]=ht,it}}In.prototype.bytesPerElement=4,Xn(In,"StructArrayLayout2i4");class rn extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(it,ct,ht){const pt=this.length;return this.resize(pt+1),this.emplace(pt,it,ct,ht)}emplace(it,ct,ht,pt){const yt=3*it;return this.int16[yt+0]=ct,this.int16[yt+1]=ht,this.int16[yt+2]=pt,it}}rn.prototype.bytesPerElement=6,Xn(rn,"StructArrayLayout3i6");class Sn extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt){const yt=this.length;return this.resize(yt+1),this.emplace(yt,it,ct,ht,pt)}emplace(it,ct,ht,pt,yt){const bt=4*it;return this.int16[bt+0]=ct,this.int16[bt+1]=ht,this.int16[bt+2]=pt,this.int16[bt+3]=yt,it}}Sn.prototype.bytesPerElement=8,Xn(Sn,"StructArrayLayout4i8");class un extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt,yt,bt,St){const Rt=this.length;return this.resize(Rt+1),this.emplace(Rt,it,ct,ht,pt,yt,bt,St)}emplace(it,ct,ht,pt,yt,bt,St,Rt){const kt=6*it,Bt=12*it,jt=3*it;return this.int16[kt+0]=ct,this.int16[kt+1]=ht,this.uint8[Bt+4]=pt,this.uint8[Bt+5]=yt,this.uint8[Bt+6]=bt,this.uint8[Bt+7]=St,this.float32[jt+2]=Rt,it}}un.prototype.bytesPerElement=12,Xn(un,"StructArrayLayout2i4ub1f12");class $n extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt){const yt=this.length;return this.resize(yt+1),this.emplace(yt,it,ct,ht,pt)}emplace(it,ct,ht,pt,yt){const bt=4*it;return this.float32[bt+0]=ct,this.float32[bt+1]=ht,this.float32[bt+2]=pt,this.float32[bt+3]=yt,it}}$n.prototype.bytesPerElement=16,Xn($n,"StructArrayLayout4f16");class on extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt,yt){const bt=this.length;return this.resize(bt+1),this.emplace(bt,it,ct,ht,pt,yt)}emplace(it,ct,ht,pt,yt,bt){const St=6*it,Rt=3*it;return this.uint16[St+0]=ct,this.uint16[St+1]=ht,this.uint16[St+2]=pt,this.uint16[St+3]=yt,this.float32[Rt+2]=bt,it}}on.prototype.bytesPerElement=12,Xn(on,"StructArrayLayout4ui1f12");class wn extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt){const yt=this.length;return this.resize(yt+1),this.emplace(yt,it,ct,ht,pt)}emplace(it,ct,ht,pt,yt){const bt=4*it;return this.uint16[bt+0]=ct,this.uint16[bt+1]=ht,this.uint16[bt+2]=pt,this.uint16[bt+3]=yt,it}}wn.prototype.bytesPerElement=8,Xn(wn,"StructArrayLayout4ui8");class Dn extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt,yt,bt){const St=this.length;return this.resize(St+1),this.emplace(St,it,ct,ht,pt,yt,bt)}emplace(it,ct,ht,pt,yt,bt,St){const Rt=6*it;return this.int16[Rt+0]=ct,this.int16[Rt+1]=ht,this.int16[Rt+2]=pt,this.int16[Rt+3]=yt,this.int16[Rt+4]=bt,this.int16[Rt+5]=St,it}}Dn.prototype.bytesPerElement=12,Xn(Dn,"StructArrayLayout6i12");class An extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht){const Yt=this.length;return this.resize(Yt+1),this.emplace(Yt,it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht)}emplace(it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt){const Jt=12*it;return this.int16[Jt+0]=ct,this.int16[Jt+1]=ht,this.int16[Jt+2]=pt,this.int16[Jt+3]=yt,this.uint16[Jt+4]=bt,this.uint16[Jt+5]=St,this.uint16[Jt+6]=Rt,this.uint16[Jt+7]=kt,this.int16[Jt+8]=Bt,this.int16[Jt+9]=jt,this.int16[Jt+10]=Ht,this.int16[Jt+11]=Yt,it}}An.prototype.bytesPerElement=24,Xn(An,"StructArrayLayout4i4ui4i24");class On extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt,yt,bt){const St=this.length;return this.resize(St+1),this.emplace(St,it,ct,ht,pt,yt,bt)}emplace(it,ct,ht,pt,yt,bt,St){const Rt=10*it,kt=5*it;return this.int16[Rt+0]=ct,this.int16[Rt+1]=ht,this.int16[Rt+2]=pt,this.float32[kt+2]=yt,this.float32[kt+3]=bt,this.float32[kt+4]=St,it}}On.prototype.bytesPerElement=20,Xn(On,"StructArrayLayout3i3f20");class oo extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(it){const ct=this.length;return this.resize(ct+1),this.emplace(ct,it)}emplace(it,ct){return this.uint32[1*it+0]=ct,it}}oo.prototype.bytesPerElement=4,Xn(oo,"StructArrayLayout1ul4");class go extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt){const Jt=this.length;return this.resize(Jt+1),this.emplace(Jt,it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt)}emplace(it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt,Jt){const or=20*it,gr=10*it;return this.int16[or+0]=ct,this.int16[or+1]=ht,this.int16[or+2]=pt,this.int16[or+3]=yt,this.int16[or+4]=bt,this.float32[gr+3]=St,this.float32[gr+4]=Rt,this.float32[gr+5]=kt,this.float32[gr+6]=Bt,this.int16[or+14]=jt,this.uint32[gr+8]=Ht,this.uint16[or+18]=Yt,this.uint16[or+19]=Jt,it}}go.prototype.bytesPerElement=40,Xn(go,"StructArrayLayout5i4f1i1ul2ui40");class Qn extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt,yt,bt,St){const Rt=this.length;return this.resize(Rt+1),this.emplace(Rt,it,ct,ht,pt,yt,bt,St)}emplace(it,ct,ht,pt,yt,bt,St,Rt){const kt=8*it;return this.int16[kt+0]=ct,this.int16[kt+1]=ht,this.int16[kt+2]=pt,this.int16[kt+4]=yt,this.int16[kt+5]=bt,this.int16[kt+6]=St,this.int16[kt+7]=Rt,it}}Qn.prototype.bytesPerElement=16,Xn(Qn,"StructArrayLayout3i2i2i16");class uo extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt,yt){const bt=this.length;return this.resize(bt+1),this.emplace(bt,it,ct,ht,pt,yt)}emplace(it,ct,ht,pt,yt,bt){const St=4*it,Rt=8*it;return this.float32[St+0]=ct,this.float32[St+1]=ht,this.float32[St+2]=pt,this.int16[Rt+6]=yt,this.int16[Rt+7]=bt,it}}uo.prototype.bytesPerElement=16,Xn(uo,"StructArrayLayout2f1f2i16");class Ao extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt){const yt=this.length;return this.resize(yt+1),this.emplace(yt,it,ct,ht,pt)}emplace(it,ct,ht,pt,yt){const bt=12*it,St=3*it;return this.uint8[bt+0]=ct,this.uint8[bt+1]=ht,this.float32[St+1]=pt,this.float32[St+2]=yt,it}}Ao.prototype.bytesPerElement=12,Xn(Ao,"StructArrayLayout2ub2f12");class To extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(it,ct,ht){const pt=this.length;return this.resize(pt+1),this.emplace(pt,it,ct,ht)}emplace(it,ct,ht,pt){const yt=3*it;return this.float32[yt+0]=ct,this.float32[yt+1]=ht,this.float32[yt+2]=pt,it}}To.prototype.bytesPerElement=12,Xn(To,"StructArrayLayout3f12");class io extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(it,ct,ht){const pt=this.length;return this.resize(pt+1),this.emplace(pt,it,ct,ht)}emplace(it,ct,ht,pt){const yt=3*it;return this.uint16[yt+0]=ct,this.uint16[yt+1]=ht,this.uint16[yt+2]=pt,it}}io.prototype.bytesPerElement=6,Xn(io,"StructArrayLayout3ui6");class Vo extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt,Jt,or,gr,Mr,Fr,kr,Or,Nr){const zr=this.length;return this.resize(zr+1),this.emplace(zr,it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt,Jt,or,gr,Mr,Fr,kr,Or,Nr)}emplace(it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt,Jt,or,gr,Mr,Fr,kr,Or,Nr,zr){const sn=30*it,nn=15*it,xn=60*it;return this.int16[sn+0]=ct,this.int16[sn+1]=ht,this.int16[sn+2]=pt,this.float32[nn+2]=yt,this.float32[nn+3]=bt,this.uint16[sn+8]=St,this.uint16[sn+9]=Rt,this.uint32[nn+5]=kt,this.uint32[nn+6]=Bt,this.uint32[nn+7]=jt,this.uint16[sn+16]=Ht,this.uint16[sn+17]=Yt,this.uint16[sn+18]=Jt,this.float32[nn+10]=or,this.float32[nn+11]=gr,this.uint8[xn+48]=Mr,this.uint8[xn+49]=Fr,this.uint8[xn+50]=kr,this.uint32[nn+13]=Or,this.int16[sn+28]=Nr,this.uint8[xn+58]=zr,it}}Vo.prototype.bytesPerElement=60,Xn(Vo,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Go extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt,Jt,or,gr,Mr,Fr,kr,Or,Nr,zr,sn,nn,xn,Ln,hn,Cn,Tn,kn){const zn=this.length;return this.resize(zn+1),this.emplace(zn,it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt,Jt,or,gr,Mr,Fr,kr,Or,Nr,zr,sn,nn,xn,Ln,hn,Cn,Tn,kn)}emplace(it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt,Jt,or,gr,Mr,Fr,kr,Or,Nr,zr,sn,nn,xn,Ln,hn,Cn,Tn,kn,zn){const vn=38*it,Un=19*it;return this.int16[vn+0]=ct,this.int16[vn+1]=ht,this.int16[vn+2]=pt,this.float32[Un+2]=yt,this.float32[Un+3]=bt,this.int16[vn+8]=St,this.int16[vn+9]=Rt,this.int16[vn+10]=kt,this.int16[vn+11]=Bt,this.int16[vn+12]=jt,this.int16[vn+13]=Ht,this.uint16[vn+14]=Yt,this.uint16[vn+15]=Jt,this.uint16[vn+16]=or,this.uint16[vn+17]=gr,this.uint16[vn+18]=Mr,this.uint16[vn+19]=Fr,this.uint16[vn+20]=kr,this.uint16[vn+21]=Or,this.uint16[vn+22]=Nr,this.uint16[vn+23]=zr,this.uint16[vn+24]=sn,this.uint16[vn+25]=nn,this.uint16[vn+26]=xn,this.uint16[vn+27]=Ln,this.uint16[vn+28]=hn,this.uint32[Un+15]=Cn,this.float32[Un+16]=Tn,this.float32[Un+17]=kn,this.float32[Un+18]=zn,it}}Go.prototype.bytesPerElement=76,Xn(Go,"StructArrayLayout3i2f6i15ui1ul3f76");class Wo extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(it){const ct=this.length;return this.resize(ct+1),this.emplace(ct,it)}emplace(it,ct){return this.float32[1*it+0]=ct,it}}Wo.prototype.bytesPerElement=4,Xn(Wo,"StructArrayLayout1f4");class Ho extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt,yt){const bt=this.length;return this.resize(bt+1),this.emplace(bt,it,ct,ht,pt,yt)}emplace(it,ct,ht,pt,yt,bt){const St=5*it;return this.float32[St+0]=ct,this.float32[St+1]=ht,this.float32[St+2]=pt,this.float32[St+3]=yt,this.float32[St+4]=bt,it}}Ho.prototype.bytesPerElement=20,Xn(Ho,"StructArrayLayout5f20");class Ps extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(it,ct,ht,pt){const yt=this.length;return this.resize(yt+1),this.emplace(yt,it,ct,ht,pt)}emplace(it,ct,ht,pt,yt){const bt=6*it;return this.uint32[3*it+0]=ct,this.uint16[bt+2]=ht,this.uint16[bt+3]=pt,this.uint16[bt+4]=yt,it}}Ps.prototype.bytesPerElement=12,Xn(Ps,"StructArrayLayout1ul3ui12");class xs extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(it,ct){const ht=this.length;return this.resize(ht+1),this.emplace(ht,it,ct)}emplace(it,ct,ht){const pt=2*it;return this.uint16[pt+0]=ct,this.uint16[pt+1]=ht,it}}xs.prototype.bytesPerElement=4,Xn(xs,"StructArrayLayout2ui4");class qs extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(it){const ct=this.length;return this.resize(ct+1),this.emplace(ct,it)}emplace(it,ct){return this.uint16[1*it+0]=ct,it}}qs.prototype.bytesPerElement=2,Xn(qs,"StructArrayLayout1ui2");class Al extends Jr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(it,ct){const ht=this.length;return this.resize(ht+1),this.emplace(ht,it,ct)}emplace(it,ct,ht){const pt=2*it;return this.float32[pt+0]=ct,this.float32[pt+1]=ht,it}}Al.prototype.bytesPerElement=8,Xn(Al,"StructArrayLayout2f8");class $a extends Gr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}$a.prototype.size=40;class qo extends go{get(it){return new $a(this,it)}}Xn(qo,"CollisionBoxArray");class Fo extends Gr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(it){this._structArray.uint8[this._pos1+49]=it}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(it){this._structArray.uint8[this._pos1+50]=it}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(it){this._structArray.uint32[this._pos4+13]=it}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(it){this._structArray.uint8[this._pos1+58]=it}}Fo.prototype.size=60;class cs extends Vo{get(it){return new Fo(this,it)}}Xn(cs,"PlacedSymbolArray");class ks extends Gr{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(it){this._structArray.uint32[this._pos4+15]=it}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}ks.prototype.size=76;class xa extends Go{get(it){return new ks(this,it)}}Xn(xa,"SymbolInstanceArray");class Ls extends Wo{getoffsetX(it){return this.float32[1*it+0]}}Xn(Ls,"GlyphOffsetArray");class bm extends In{getx(it){return this.int16[2*it+0]}gety(it){return this.int16[2*it+1]}}Xn(bm,"SymbolLineVertexArray");class wu extends Gr{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}wu.prototype.size=12;class kp extends Ps{get(it){return new wu(this,it)}}Xn(kp,"FeatureIndexArray");class Hl extends xs{geta_centroid_pos0(it){return this.uint16[2*it+0]}geta_centroid_pos1(it){return this.uint16[2*it+1]}}Xn(Hl,"FillExtrusionCentroidArray");const iu=Yr([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Su=Yr([{name:"a_dash",components:4,type:"Uint16"}]);var wm={exports:{}},$p={exports:{}};$p.exports=function(st,it){var ct,ht,pt,yt,bt,St,Rt,kt;for(ht=st.length-(ct=3&st.length),pt=it,bt=3432918353,St=461845907,kt=0;kt<ht;)Rt=255&st.charCodeAt(kt)|(255&st.charCodeAt(++kt))<<8|(255&st.charCodeAt(++kt))<<16|(255&st.charCodeAt(++kt))<<24,++kt,pt=27492+(65535&(yt=5*(65535&(pt=(pt^=Rt=(65535&(Rt=(Rt=(65535&Rt)*bt+(((Rt>>>16)*bt&65535)<<16)&4294967295)<<15|Rt>>>17))*St+(((Rt>>>16)*St&65535)<<16)&4294967295)<<13|pt>>>19))+((5*(pt>>>16)&65535)<<16)&4294967295))+((58964+(yt>>>16)&65535)<<16);switch(Rt=0,ct){case 3:Rt^=(255&st.charCodeAt(kt+2))<<16;case 2:Rt^=(255&st.charCodeAt(kt+1))<<8;case 1:pt^=Rt=(65535&(Rt=(Rt=(65535&(Rt^=255&st.charCodeAt(kt)))*bt+(((Rt>>>16)*bt&65535)<<16)&4294967295)<<15|Rt>>>17))*St+(((Rt>>>16)*St&65535)<<16)&4294967295}return pt^=st.length,pt=2246822507*(65535&(pt^=pt>>>16))+((2246822507*(pt>>>16)&65535)<<16)&4294967295,pt=3266489909*(65535&(pt^=pt>>>13))+((3266489909*(pt>>>16)&65535)<<16)&4294967295,(pt^=pt>>>16)>>>0};var z0=$p.exports,E_={exports:{}};E_.exports=function(st,it){for(var ct,ht=st.length,pt=it^ht,yt=0;ht>=4;)ct=1540483477*(65535&(ct=255&st.charCodeAt(yt)|(255&st.charCodeAt(++yt))<<8|(255&st.charCodeAt(++yt))<<16|(255&st.charCodeAt(++yt))<<24))+((1540483477*(ct>>>16)&65535)<<16),pt=1540483477*(65535&pt)+((1540483477*(pt>>>16)&65535)<<16)^(ct=1540483477*(65535&(ct^=ct>>>24))+((1540483477*(ct>>>16)&65535)<<16)),ht-=4,++yt;switch(ht){case 3:pt^=(255&st.charCodeAt(yt+2))<<16;case 2:pt^=(255&st.charCodeAt(yt+1))<<8;case 1:pt=1540483477*(65535&(pt^=255&st.charCodeAt(yt)))+((1540483477*(pt>>>16)&65535)<<16)}return pt=1540483477*(65535&(pt^=pt>>>13))+((1540483477*(pt>>>16)&65535)<<16),(pt^=pt>>>15)>>>0};var C_=z0,e2=E_.exports;wm.exports=C_,wm.exports.murmur3=C_,wm.exports.murmur2=e2;var pv=It(wm.exports);class s1{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(it,ct,ht,pt){this.ids.push(T_(it)),this.positions.push(ct,ht,pt)}getPositions(it){const ct=T_(it);let ht=0,pt=this.ids.length-1;for(;ht<pt;){const bt=ht+pt>>1;this.ids[bt]>=ct?pt=bt:ht=bt+1}const yt=[];for(;this.ids[ht]===ct;)yt.push({index:this.positions[3*ht],start:this.positions[3*ht+1],end:this.positions[3*ht+2]}),ht++;return yt}static serialize(it,ct){const ht=new Float64Array(it.ids),pt=new Uint32Array(it.positions);return mv(ht,pt,0,ht.length-1),ct&&ct.push(ht.buffer,pt.buffer),{ids:ht,positions:pt}}static deserialize(it){const ct=new s1;return ct.ids=it.ids,ct.positions=it.positions,ct.indexed=!0,ct}}function T_(st){const it=+st;return!isNaN(it)&&Number.MIN_SAFE_INTEGER<=it&&it<=Number.MAX_SAFE_INTEGER?it:pv(String(st))}function mv(st,it,ct,ht){for(;ct<ht;){const pt=st[ct+ht>>1];let yt=ct-1,bt=ht+1;for(;;){do yt++;while(st[yt]<pt);do bt--;while(st[bt]>pt);if(yt>=bt)break;l1(st,yt,bt),l1(it,3*yt,3*bt),l1(it,3*yt+1,3*bt+1),l1(it,3*yt+2,3*bt+2)}bt-ct<ht-bt?(mv(st,it,ct,bt),ct=bt+1):(mv(st,it,bt+1,ht),ht=bt)}}function l1(st,it,ct){const ht=st[it];st[it]=st[ct],st[ct]=ht}Xn(s1,"FeaturePositionMap");class Eu{constructor(it){this.gl=it.gl,this.initialized=!1}fetchUniformLocation(it,ct){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(it,ct),this.initialized=!0),!!this.location}}class c1 extends Eu{constructor(it){super(it),this.current=0}set(it,ct,ht){this.fetchUniformLocation(it,ct)&&this.current!==ht&&(this.current=ht,this.gl.uniform1f(this.location,ht))}}class R_ extends Eu{constructor(it){super(it),this.current=[0,0,0,0]}set(it,ct,ht){this.fetchUniformLocation(it,ct)&&(ht[0]===this.current[0]&&ht[1]===this.current[1]&&ht[2]===this.current[2]&&ht[3]===this.current[3]||(this.current=ht,this.gl.uniform4f(this.location,ht[0],ht[1],ht[2],ht[3])))}}class P_ extends Eu{constructor(it){super(it),this.current=as.transparent}set(it,ct,ht){this.fetchUniformLocation(it,ct)&&(ht.r===this.current.r&&ht.g===this.current.g&&ht.b===this.current.b&&ht.a===this.current.a||(this.current=ht,this.gl.uniform4f(this.location,ht.r,ht.g,ht.b,ht.a)))}}const t2=new Float32Array(16),r2=new Float32Array(9),n2=new Float32Array(4);function gv(st){return[Vr(255*st.r,255*st.g),Vr(255*st.b,255*st.a)]}class B0{constructor(it,ct,ht){this.value=it,this.uniformNames=ct.map(pt=>`u_${pt}`),this.type=ht}setUniform(it,ct,ht,pt,yt){ct.set(it,yt,pt.constantOr(this.value))}getBinding(it,ct){return this.type==="color"?new P_(it):new c1(it)}}class Sm{constructor(it,ct){this.uniformNames=ct.map(ht=>`u_${ht}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(it){this.pixelRatio=it.pixelRatio||1,this.pattern=it.tl.concat(it.br)}setUniform(it,ct,ht,pt,yt){const bt=yt==="u_pattern"||yt==="u_dash"?this.pattern:yt==="u_pixel_ratio"?this.pixelRatio:null;bt&&ct.set(it,yt,bt)}getBinding(it,ct){return ct==="u_pattern"||ct==="u_dash"?new R_(it):new c1(it)}}class Cu{constructor(it,ct,ht,pt){this.expression=it,this.type=ht,this.maxValue=0,this.paintVertexAttributes=ct.map(yt=>({name:`a_${yt}`,type:"Float32",components:ht==="color"?2:1,offset:0})),this.paintVertexArray=new pt}populatePaintArray(it,ct,ht,pt,yt,bt){const St=this.paintVertexArray.length,Rt=this.expression.evaluate(new Nt(0),ct,{},yt,pt,bt);this.paintVertexArray.resize(it),this._setPaintValue(St,it,Rt)}updatePaintArray(it,ct,ht,pt,yt){const bt=this.expression.evaluate({zoom:0},ht,pt,void 0,yt);this._setPaintValue(it,ct,bt)}_setPaintValue(it,ct,ht){if(this.type==="color"){const pt=gv(ht);for(let yt=it;yt<ct;yt++)this.paintVertexArray.emplace(yt,pt[0],pt[1])}else{for(let pt=it;pt<ct;pt++)this.paintVertexArray.emplace(pt,ht);this.maxValue=Math.max(this.maxValue,Math.abs(ht))}}upload(it){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=it.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Zl{constructor(it,ct,ht,pt,yt,bt){this.expression=it,this.uniformNames=ct.map(St=>`u_${St}_t`),this.type=ht,this.useIntegerZoom=pt,this.zoom=yt,this.maxValue=0,this.paintVertexAttributes=ct.map(St=>({name:`a_${St}`,type:"Float32",components:ht==="color"?4:2,offset:0})),this.paintVertexArray=new bt}populatePaintArray(it,ct,ht,pt,yt,bt){const St=this.expression.evaluate(new Nt(this.zoom),ct,{},yt,pt,bt),Rt=this.expression.evaluate(new Nt(this.zoom+1),ct,{},yt,pt,bt),kt=this.paintVertexArray.length;this.paintVertexArray.resize(it),this._setPaintValue(kt,it,St,Rt)}updatePaintArray(it,ct,ht,pt,yt){const bt=this.expression.evaluate({zoom:this.zoom},ht,pt,void 0,yt),St=this.expression.evaluate({zoom:this.zoom+1},ht,pt,void 0,yt);this._setPaintValue(it,ct,bt,St)}_setPaintValue(it,ct,ht,pt){if(this.type==="color"){const yt=gv(ht),bt=gv(pt);for(let St=it;St<ct;St++)this.paintVertexArray.emplace(St,yt[0],yt[1],bt[0],bt[1])}else{for(let yt=it;yt<ct;yt++)this.paintVertexArray.emplace(yt,ht,pt);this.maxValue=Math.max(this.maxValue,Math.abs(ht),Math.abs(pt))}}upload(it){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=it.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(it,ct,ht,pt,yt){const bt=this.useIntegerZoom?Math.floor(ht.zoom):ht.zoom,St=Xt(this.expression.interpolationFactor(bt,this.zoom,this.zoom+1),0,1);ct.set(it,yt,St)}getBinding(it,ct){return new c1(it)}}class Ku{constructor(it,ct,ht,pt,yt){this.expression=it,this.layerId=yt,this.paintVertexAttributes=(ht==="array"?Su:iu).members;for(let bt=0;bt<ct.length;++bt);this.paintVertexArray=new pt}populatePaintArray(it,ct,ht){const pt=this.paintVertexArray.length;this.paintVertexArray.resize(it),this._setPaintValues(pt,it,ct.patterns&&ct.patterns[this.layerId],ht)}updatePaintArray(it,ct,ht,pt,yt,bt){this._setPaintValues(it,ct,ht.patterns&&ht.patterns[this.layerId],bt)}_setPaintValues(it,ct,ht,pt){if(!pt||!ht)return;const yt=pt[ht];if(!yt)return;const{tl:bt,br:St,pixelRatio:Rt}=yt;for(let kt=it;kt<ct;kt++)this.paintVertexArray.emplace(kt,bt[0],bt[1],St[0],St[1],Rt)}upload(it){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=it.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Xu{constructor(it,ct,ht=()=>!0){this.binders={},this._buffers=[];const pt=[];for(const yt in it.paint._values){if(!ht(yt))continue;const bt=it.paint.get(yt);if(!(bt instanceof br&&ju(bt.property.specification)))continue;const St=o2(yt,it.type),Rt=bt.value,kt=bt.property.specification.type,Bt=!!bt.property.useIntegerZoom,jt=yt==="line-dasharray"||yt.endsWith("pattern"),Ht=yt==="line-dasharray"&&it.layout.get("line-cap").value.kind!=="constant";if(Rt.kind!=="constant"||Ht)if(Rt.kind==="source"||Ht||jt){const Yt=A_(yt,kt,"source");this.binders[yt]=jt?new Ku(Rt,St,kt,Yt,it.id):new Cu(Rt,St,kt,Yt),pt.push(`/a_${yt}`)}else{const Yt=A_(yt,kt,"composite");this.binders[yt]=new Zl(Rt,St,kt,Bt,ct,Yt),pt.push(`/z_${yt}`)}else this.binders[yt]=jt?new Sm(Rt.value,St):new B0(Rt.value,St,kt),pt.push(`/u_${yt}`)}this.cacheKey=pt.sort().join("")}getMaxValue(it){const ct=this.binders[it];return ct instanceof Cu||ct instanceof Zl?ct.maxValue:0}populatePaintArrays(it,ct,ht,pt,yt,bt){for(const St in this.binders){const Rt=this.binders[St];(Rt instanceof Cu||Rt instanceof Zl||Rt instanceof Ku)&&Rt.populatePaintArray(it,ct,ht,pt,yt,bt)}}setConstantPatternPositions(it){for(const ct in this.binders){const ht=this.binders[ct];ht instanceof Sm&&ht.setConstantPatternPositions(it)}}updatePaintArrays(it,ct,ht,pt,yt,bt){let St=!1;for(const Rt in it){const kt=ct.getPositions(Rt);for(const Bt of kt){const jt=ht.feature(Bt.index);for(const Ht in this.binders){const Yt=this.binders[Ht];if((Yt instanceof Cu||Yt instanceof Zl||Yt instanceof Ku)&&Yt.expression.isStateDependent===!0){const Jt=pt.paint.get(Ht);Yt.expression=Jt.value,Yt.updatePaintArray(Bt.start,Bt.end,jt,it[Rt],yt,bt),St=!0}}}}return St}defines(){const it=[];for(const ct in this.binders){const ht=this.binders[ct];(ht instanceof B0||ht instanceof Sm)&&it.push(...ht.uniformNames.map(pt=>`#define HAS_UNIFORM_${pt}`))}return it}getBinderAttributes(){const it=[];for(const ct in this.binders){const ht=this.binders[ct];if(ht instanceof Cu||ht instanceof Zl||ht instanceof Ku)for(let pt=0;pt<ht.paintVertexAttributes.length;pt++)it.push(ht.paintVertexAttributes[pt].name)}return it}getBinderUniforms(){const it=[];for(const ct in this.binders){const ht=this.binders[ct];if(ht instanceof B0||ht instanceof Sm||ht instanceof Zl)for(const pt of ht.uniformNames)it.push(pt)}return it}getPaintVertexBuffers(){return this._buffers}getUniforms(it){const ct=[];for(const ht in this.binders){const pt=this.binders[ht];if(pt instanceof B0||pt instanceof Sm||pt instanceof Zl)for(const yt of pt.uniformNames)ct.push({name:yt,property:ht,binding:pt.getBinding(it,yt)})}return ct}setUniforms(it,ct,ht,pt,yt){for(const{name:bt,property:St,binding:Rt}of ht)this.binders[St].setUniform(it,Rt,yt,pt.get(St),bt)}updatePaintBuffers(){this._buffers=[];for(const it in this.binders){const ct=this.binders[it];(ct instanceof Cu||ct instanceof Zl||ct instanceof Ku)&&ct.paintVertexBuffer&&this._buffers.push(ct.paintVertexBuffer)}}upload(it){for(const ct in this.binders){const ht=this.binders[ct];(ht instanceof Cu||ht instanceof Zl||ht instanceof Ku)&&ht.upload(it)}this.updatePaintBuffers()}destroy(){for(const it in this.binders){const ct=this.binders[it];(ct instanceof Cu||ct instanceof Zl||ct instanceof Ku)&&ct.destroy()}}}class Ip{constructor(it,ct,ht=()=>!0){this.programConfigurations={};for(const pt of it)this.programConfigurations[pt.id]=new Xu(pt,ct,ht);this.needsUpload=!1,this._featureMap=new s1,this._bufferOffset=0}populatePaintArrays(it,ct,ht,pt,yt,bt,St){for(const Rt in this.programConfigurations)this.programConfigurations[Rt].populatePaintArrays(it,ct,pt,yt,bt,St);ct.id!==void 0&&this._featureMap.add(ct.id,ht,this._bufferOffset,it),this._bufferOffset=it,this.needsUpload=!0}updatePaintArrays(it,ct,ht,pt,yt){for(const bt of ht)this.needsUpload=this.programConfigurations[bt.id].updatePaintArrays(it,this._featureMap,ct,bt,pt,yt)||this.needsUpload}get(it){return this.programConfigurations[it]}upload(it){if(this.needsUpload){for(const ct in this.programConfigurations)this.programConfigurations[ct].upload(it);this.needsUpload=!1}}destroy(){for(const it in this.programConfigurations)this.programConfigurations[it].destroy()}}const i2={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function o2(st,it){return i2[st]||[st.replace(`${it}-`,"").replace(/-/g,"_")]}const a2={"line-pattern":{source:on,composite:on},"fill-pattern":{source:on,composite:on},"fill-extrusion-pattern":{source:on,composite:on},"line-dasharray":{source:wn,composite:wn}},s2={color:{source:Al,composite:$n},number:{source:Wo,composite:Al}};function A_(st,it,ct){const ht=a2[st];return ht&&ht[ct]||s2[it][ct]}Xn(B0,"ConstantBinder"),Xn(Sm,"PatternConstantBinder"),Xn(Cu,"SourceExpressionBinder"),Xn(Ku,"PatternCompositeBinder"),Xn(Zl,"CompositeExpressionBinder"),Xn(Xu,"ProgramConfiguration",{omit:["_buffers"]}),Xn(Ip,"ProgramConfigurationSet");const M_="-transition";class Kl extends ap{constructor(it,ct){if(super(),this.id=it.id,this.type=it.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,it.type!=="custom"&&(this.metadata=it.metadata,this.minzoom=it.minzoom,this.maxzoom=it.maxzoom,it.type!=="background"&&it.type!=="sky"&&(this.source=it.source,this.sourceLayer=it["source-layer"],this.filter=it.filter),ct.layout&&(this._unevaluatedLayout=new wr(ct.layout)),ct.paint)){this._transitionablePaint=new rr(ct.paint);for(const ht in it.paint)this.setPaintProperty(ht,it.paint[ht],{validate:!1});for(const ht in it.layout)this.setLayoutProperty(ht,it.layout[ht],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Pr(ct.paint)}}getLayoutProperty(it){return it==="visibility"?this.visibility:this._unevaluatedLayout.getValue(it)}setLayoutProperty(it,ct,ht={}){ct!=null&&this._validate(cv,`layers.${this.id}.layout.${it}`,it,ct,ht)||(it!=="visibility"?this._unevaluatedLayout.setValue(it,ct):this.visibility=ct)}getPaintProperty(it){return ln(it,M_)?this._transitionablePaint.getTransition(it.slice(0,-11)):this._transitionablePaint.getValue(it)}setPaintProperty(it,ct,ht={}){if(ct!=null&&this._validate(lv,`layers.${this.id}.paint.${it}`,it,ct,ht))return!1;if(ln(it,M_))return this._transitionablePaint.setTransition(it.slice(0,-11),ct||void 0),!1;{const pt=this._transitionablePaint._values[it],yt=pt.value.isDataDriven(),bt=pt.value;this._transitionablePaint.setValue(it,ct),this._handleSpecialPaintPropertyUpdate(it);const St=this._transitionablePaint._values[it].value,Rt=St.isDataDriven(),kt=ln(it,"pattern")||it==="line-dasharray";return Rt||yt||kt||this._handleOverridablePaintPropertyUpdate(it,bt,St)}}_handleSpecialPaintPropertyUpdate(it){}getProgramIds(){return null}getProgramConfiguration(it){return null}_handleOverridablePaintPropertyUpdate(it,ct,ht){return!1}isHidden(it){return!!(this.minzoom&&it<this.minzoom)||!!(this.maxzoom&&it>=this.maxzoom)||this.visibility==="none"}updateTransitions(it){this._transitioningPaint=this._transitionablePaint.transitioned(it,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(it,ct){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(it,void 0,ct)),this.paint=this._transitioningPaint.possiblyEvaluate(it,void 0,ct)}serialize(){const it={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(it.layout=it.layout||{},it.layout.visibility=this.visibility),cn(it,(ct,ht)=>!(ct===void 0||ht==="layout"&&!Object.keys(ct).length||ht==="paint"&&!Object.keys(ct).length))}_validate(it,ct,ht,pt,yt={}){return(!yt||yt.validate!==!1)&&n1(this,it.call(r1,{key:ct,layerType:this.type,objectKey:ht,value:pt,styleSpec:_n,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const it in this.paint._values){const ct=this.paint.get(it);if(ct instanceof br&&ju(ct.property.specification)&&(ct.value.kind==="source"||ct.value.kind==="composite")&&ct.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=ym(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const l2=Yr([{name:"a_pos",components:2,type:"Int16"}],4),c2=Yr([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class us{constructor(it=[]){this.segments=it}prepareSegment(it,ct,ht,pt){let yt=this.segments[this.segments.length-1];return it>us.MAX_VERTEX_ARRAY_LENGTH&&Rn(`Max vertices per segment is ${us.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${it}`),(!yt||yt.vertexLength+it>us.MAX_VERTEX_ARRAY_LENGTH||yt.sortKey!==pt)&&(yt={vertexOffset:ct.length,primitiveOffset:ht.length,vertexLength:0,primitiveLength:0},pt!==void 0&&(yt.sortKey=pt),this.segments.push(yt)),yt}get(){return this.segments}destroy(){for(const it of this.segments)for(const ct in it.vaos)it.vaos[ct].destroy()}static simpleSegment(it,ct,ht,pt){return new us([{vertexOffset:it,primitiveOffset:ct,vertexLength:ht,primitiveLength:pt,vaos:{},sortKey:0}])}}us.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Xn(us,"SegmentVector");var lo=8192;class Yu{constructor(it,ct){it&&(ct?this.setSouthWest(it).setNorthEast(ct):it.length===4?this.setSouthWest([it[0],it[1]]).setNorthEast([it[2],it[3]]):this.setSouthWest(it[0]).setNorthEast(it[1]))}setNorthEast(it){return this._ne=it instanceof Zo?new Zo(it.lng,it.lat):Zo.convert(it),this}setSouthWest(it){return this._sw=it instanceof Zo?new Zo(it.lng,it.lat):Zo.convert(it),this}extend(it){const ct=this._sw,ht=this._ne;let pt,yt;if(it instanceof Zo)pt=it,yt=it;else{if(!(it instanceof Yu))return Array.isArray(it)?it.length===4||it.every(Array.isArray)?this.extend(Yu.convert(it)):this.extend(Zo.convert(it)):typeof it=="object"&&it!==null&&it.hasOwnProperty("lat")&&(it.hasOwnProperty("lon")||it.hasOwnProperty("lng"))?this.extend(Zo.convert(it)):this;if(pt=it._sw,yt=it._ne,!pt||!yt)return this}return ct||ht?(ct.lng=Math.min(pt.lng,ct.lng),ct.lat=Math.min(pt.lat,ct.lat),ht.lng=Math.max(yt.lng,ht.lng),ht.lat=Math.max(yt.lat,ht.lat)):(this._sw=new Zo(pt.lng,pt.lat),this._ne=new Zo(yt.lng,yt.lat)),this}getCenter(){return new Zo((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Zo(this.getWest(),this.getNorth())}getSouthEast(){return new Zo(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(it){const{lng:ct,lat:ht}=Zo.convert(it);let pt=this._sw.lng<=ct&&ct<=this._ne.lng;return this._sw.lng>this._ne.lng&&(pt=this._sw.lng>=ct&&ct>=this._ne.lng),this._sw.lat<=ht&&ht<=this._ne.lat&&pt}static convert(it){return!it||it instanceof Yu?it:new Yu(it)}}var u1=1e-6,Zs=typeof Float32Array<"u"?Float32Array:Array;function k_(){var st=new Zs(9);return Zs!=Float32Array&&(st[1]=0,st[2]=0,st[3]=0,st[5]=0,st[6]=0,st[7]=0),st[0]=1,st[4]=1,st[8]=1,st}function $_(st,it,ct){var ht=it[0],pt=it[1],yt=it[2],bt=it[3],St=it[4],Rt=it[5],kt=it[6],Bt=it[7],jt=it[8],Ht=ct[0],Yt=ct[1],Jt=ct[2],or=ct[3],gr=ct[4],Mr=ct[5],Fr=ct[6],kr=ct[7],Or=ct[8];return st[0]=Ht*ht+Yt*bt+Jt*kt,st[1]=Ht*pt+Yt*St+Jt*Bt,st[2]=Ht*yt+Yt*Rt+Jt*jt,st[3]=or*ht+gr*bt+Mr*kt,st[4]=or*pt+gr*St+Mr*Bt,st[5]=or*yt+gr*Rt+Mr*jt,st[6]=Fr*ht+kr*bt+Or*kt,st[7]=Fr*pt+kr*St+Or*Bt,st[8]=Fr*yt+kr*Rt+Or*jt,st}function Xl(st){return st[0]=1,st[1]=0,st[2]=0,st[3]=0,st[4]=0,st[5]=1,st[6]=0,st[7]=0,st[8]=0,st[9]=0,st[10]=1,st[11]=0,st[12]=0,st[13]=0,st[14]=0,st[15]=1,st}function yv(st,it){var ct=it[0],ht=it[1],pt=it[2],yt=it[3],bt=it[4],St=it[5],Rt=it[6],kt=it[7],Bt=it[8],jt=it[9],Ht=it[10],Yt=it[11],Jt=it[12],or=it[13],gr=it[14],Mr=it[15],Fr=ct*St-ht*bt,kr=ct*Rt-pt*bt,Or=ct*kt-yt*bt,Nr=ht*Rt-pt*St,zr=ht*kt-yt*St,sn=pt*kt-yt*Rt,nn=Bt*or-jt*Jt,xn=Bt*gr-Ht*Jt,Ln=Bt*Mr-Yt*Jt,hn=jt*gr-Ht*or,Cn=jt*Mr-Yt*or,Tn=Ht*Mr-Yt*gr,kn=Fr*Tn-kr*Cn+Or*hn+Nr*Ln-zr*xn+sn*nn;return kn?(st[0]=(St*Tn-Rt*Cn+kt*hn)*(kn=1/kn),st[1]=(pt*Cn-ht*Tn-yt*hn)*kn,st[2]=(or*sn-gr*zr+Mr*Nr)*kn,st[3]=(Ht*zr-jt*sn-Yt*Nr)*kn,st[4]=(Rt*Ln-bt*Tn-kt*xn)*kn,st[5]=(ct*Tn-pt*Ln+yt*xn)*kn,st[6]=(gr*Or-Jt*sn-Mr*kr)*kn,st[7]=(Bt*sn-Ht*Or+Yt*kr)*kn,st[8]=(bt*Cn-St*Ln+kt*nn)*kn,st[9]=(ht*Ln-ct*Cn-yt*nn)*kn,st[10]=(Jt*zr-or*Or+Mr*Fr)*kn,st[11]=(jt*Or-Bt*zr-Yt*Fr)*kn,st[12]=(St*xn-bt*hn-Rt*nn)*kn,st[13]=(ct*hn-ht*xn+pt*nn)*kn,st[14]=(or*kr-Jt*Nr-gr*Fr)*kn,st[15]=(Bt*Nr-jt*kr+Ht*Fr)*kn,st):null}function Lp(st,it,ct){var ht=it[0],pt=it[1],yt=it[2],bt=it[3],St=it[4],Rt=it[5],kt=it[6],Bt=it[7],jt=it[8],Ht=it[9],Yt=it[10],Jt=it[11],or=it[12],gr=it[13],Mr=it[14],Fr=it[15],kr=ct[0],Or=ct[1],Nr=ct[2],zr=ct[3];return st[0]=kr*ht+Or*St+Nr*jt+zr*or,st[1]=kr*pt+Or*Rt+Nr*Ht+zr*gr,st[2]=kr*yt+Or*kt+Nr*Yt+zr*Mr,st[3]=kr*bt+Or*Bt+Nr*Jt+zr*Fr,st[4]=(kr=ct[4])*ht+(Or=ct[5])*St+(Nr=ct[6])*jt+(zr=ct[7])*or,st[5]=kr*pt+Or*Rt+Nr*Ht+zr*gr,st[6]=kr*yt+Or*kt+Nr*Yt+zr*Mr,st[7]=kr*bt+Or*Bt+Nr*Jt+zr*Fr,st[8]=(kr=ct[8])*ht+(Or=ct[9])*St+(Nr=ct[10])*jt+(zr=ct[11])*or,st[9]=kr*pt+Or*Rt+Nr*Ht+zr*gr,st[10]=kr*yt+Or*kt+Nr*Yt+zr*Mr,st[11]=kr*bt+Or*Bt+Nr*Jt+zr*Fr,st[12]=(kr=ct[12])*ht+(Or=ct[13])*St+(Nr=ct[14])*jt+(zr=ct[15])*or,st[13]=kr*pt+Or*Rt+Nr*Ht+zr*gr,st[14]=kr*yt+Or*kt+Nr*Yt+zr*Mr,st[15]=kr*bt+Or*Bt+Nr*Jt+zr*Fr,st}function N0(st,it,ct){var ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt,Jt,or=ct[0],gr=ct[1],Mr=ct[2];return it===st?(st[12]=it[0]*or+it[4]*gr+it[8]*Mr+it[12],st[13]=it[1]*or+it[5]*gr+it[9]*Mr+it[13],st[14]=it[2]*or+it[6]*gr+it[10]*Mr+it[14],st[15]=it[3]*or+it[7]*gr+it[11]*Mr+it[15]):(pt=it[1],yt=it[2],bt=it[3],St=it[4],Rt=it[5],kt=it[6],Bt=it[7],jt=it[8],Ht=it[9],Yt=it[10],Jt=it[11],st[0]=ht=it[0],st[1]=pt,st[2]=yt,st[3]=bt,st[4]=St,st[5]=Rt,st[6]=kt,st[7]=Bt,st[8]=jt,st[9]=Ht,st[10]=Yt,st[11]=Jt,st[12]=ht*or+St*gr+jt*Mr+it[12],st[13]=pt*or+Rt*gr+Ht*Mr+it[13],st[14]=yt*or+kt*gr+Yt*Mr+it[14],st[15]=bt*or+Bt*gr+Jt*Mr+it[15]),st}function Dp(st,it,ct){var ht=ct[0],pt=ct[1],yt=ct[2];return st[0]=it[0]*ht,st[1]=it[1]*ht,st[2]=it[2]*ht,st[3]=it[3]*ht,st[4]=it[4]*pt,st[5]=it[5]*pt,st[6]=it[6]*pt,st[7]=it[7]*pt,st[8]=it[8]*yt,st[9]=it[9]*yt,st[10]=it[10]*yt,st[11]=it[11]*yt,st[12]=it[12],st[13]=it[13],st[14]=it[14],st[15]=it[15],st}function vv(st,it,ct){var ht=Math.sin(ct),pt=Math.cos(ct),yt=it[4],bt=it[5],St=it[6],Rt=it[7],kt=it[8],Bt=it[9],jt=it[10],Ht=it[11];return it!==st&&(st[0]=it[0],st[1]=it[1],st[2]=it[2],st[3]=it[3],st[12]=it[12],st[13]=it[13],st[14]=it[14],st[15]=it[15]),st[4]=yt*pt+kt*ht,st[5]=bt*pt+Bt*ht,st[6]=St*pt+jt*ht,st[7]=Rt*pt+Ht*ht,st[8]=kt*pt-yt*ht,st[9]=Bt*pt-bt*ht,st[10]=jt*pt-St*ht,st[11]=Ht*pt-Rt*ht,st}function h1(st,it,ct){var ht=Math.sin(ct),pt=Math.cos(ct),yt=it[0],bt=it[1],St=it[2],Rt=it[3],kt=it[8],Bt=it[9],jt=it[10],Ht=it[11];return it!==st&&(st[4]=it[4],st[5]=it[5],st[6]=it[6],st[7]=it[7],st[12]=it[12],st[13]=it[13],st[14]=it[14],st[15]=it[15]),st[0]=yt*pt-kt*ht,st[1]=bt*pt-Bt*ht,st[2]=St*pt-jt*ht,st[3]=Rt*pt-Ht*ht,st[8]=yt*ht+kt*pt,st[9]=bt*ht+Bt*pt,st[10]=St*ht+jt*pt,st[11]=Rt*ht+Ht*pt,st}function I_(st,it){return st[0]=it[0],st[1]=0,st[2]=0,st[3]=0,st[4]=0,st[5]=it[1],st[6]=0,st[7]=0,st[8]=0,st[9]=0,st[10]=it[2],st[11]=0,st[12]=0,st[13]=0,st[14]=0,st[15]=1,st}function L_(st,it,ct){var ht,pt,yt,bt=ct[0],St=ct[1],Rt=ct[2],kt=Math.hypot(bt,St,Rt);return kt<u1?null:(bt*=kt=1/kt,St*=kt,Rt*=kt,ht=Math.sin(it),pt=Math.cos(it),st[0]=bt*bt*(yt=1-pt)+pt,st[1]=St*bt*yt+Rt*ht,st[2]=Rt*bt*yt-St*ht,st[3]=0,st[4]=bt*St*yt-Rt*ht,st[5]=St*St*yt+pt,st[6]=Rt*St*yt+bt*ht,st[7]=0,st[8]=bt*Rt*yt+St*ht,st[9]=St*Rt*yt-bt*ht,st[10]=Rt*Rt*yt+pt,st[11]=0,st[12]=0,st[13]=0,st[14]=0,st[15]=1,st)}Math.hypot||(Math.hypot=function(){for(var st=0,it=arguments.length;it--;)st+=arguments[it]*arguments[it];return Math.sqrt(st)});var u2=Lp;function _v(){var st=new Zs(3);return Zs!=Float32Array&&(st[0]=0,st[1]=0,st[2]=0),st}function D_(st){var it=new Zs(3);return it[0]=st[0],it[1]=st[1],it[2]=st[2],it}function j0(st){return Math.hypot(st[0],st[1],st[2])}function Em(st,it,ct){var ht=new Zs(3);return ht[0]=st,ht[1]=it,ht[2]=ct,ht}function Tu(st,it,ct){return st[0]=it[0]+ct[0],st[1]=it[1]+ct[1],st[2]=it[2]+ct[2],st}function xv(st,it,ct){return st[0]=it[0]-ct[0],st[1]=it[1]-ct[1],st[2]=it[2]-ct[2],st}function O_(st,it,ct){return st[0]=it[0]*ct[0],st[1]=it[1]*ct[1],st[2]=it[2]*ct[2],st}function V0(st,it,ct){return st[0]=Math.min(it[0],ct[0]),st[1]=Math.min(it[1],ct[1]),st[2]=Math.min(it[2],ct[2]),st}function U0(st,it,ct){return st[0]=Math.max(it[0],ct[0]),st[1]=Math.max(it[1],ct[1]),st[2]=Math.max(it[2],ct[2]),st}function _l(st,it,ct){return st[0]=it[0]*ct,st[1]=it[1]*ct,st[2]=it[2]*ct,st}function G0(st,it,ct,ht){return st[0]=it[0]+ct[0]*ht,st[1]=it[1]+ct[1]*ht,st[2]=it[2]+ct[2]*ht,st}function Ds(st,it){var ct=it[0],ht=it[1],pt=it[2],yt=ct*ct+ht*ht+pt*pt;return yt>0&&(yt=1/Math.sqrt(yt)),st[0]=it[0]*yt,st[1]=it[1]*yt,st[2]=it[2]*yt,st}function Ml(st,it){return st[0]*it[0]+st[1]*it[1]+st[2]*it[2]}function bv(st,it,ct){var ht=it[0],pt=it[1],yt=it[2],bt=ct[0],St=ct[1],Rt=ct[2];return st[0]=pt*Rt-yt*St,st[1]=yt*bt-ht*Rt,st[2]=ht*St-pt*bt,st}function ss(st,it,ct){var ht=it[0],pt=it[1],yt=it[2],bt=ct[3]*ht+ct[7]*pt+ct[11]*yt+ct[15];return st[0]=(ct[0]*ht+ct[4]*pt+ct[8]*yt+ct[12])/(bt=bt||1),st[1]=(ct[1]*ht+ct[5]*pt+ct[9]*yt+ct[13])/bt,st[2]=(ct[2]*ht+ct[6]*pt+ct[10]*yt+ct[14])/bt,st}function F_(st,it,ct){var ht=ct[0],pt=ct[1],yt=ct[2],bt=it[0],St=it[1],Rt=it[2],kt=pt*Rt-yt*St,Bt=yt*bt-ht*Rt,jt=ht*St-pt*bt,Ht=pt*jt-yt*Bt,Yt=yt*kt-ht*jt,Jt=ht*Bt-pt*kt,or=2*ct[3];return Bt*=or,jt*=or,Yt*=2,Jt*=2,st[0]=bt+(kt*=or)+(Ht*=2),st[1]=St+Bt+Yt,st[2]=Rt+jt+Jt,st}var W0,Yl=xv,h2=O_,d2=j0;function z_(st,it,ct){return st[0]=it[0]*ct,st[1]=it[1]*ct,st[2]=it[2]*ct,st[3]=it[3]*ct,st}function B_(st,it){var ct=it[0],ht=it[1],pt=it[2],yt=it[3],bt=ct*ct+ht*ht+pt*pt+yt*yt;return bt>0&&(bt=1/Math.sqrt(bt)),st[0]=ct*bt,st[1]=ht*bt,st[2]=pt*bt,st[3]=yt*bt,st}function Op(st,it,ct){var ht=it[0],pt=it[1],yt=it[2],bt=it[3];return st[0]=ct[0]*ht+ct[4]*pt+ct[8]*yt+ct[12]*bt,st[1]=ct[1]*ht+ct[5]*pt+ct[9]*yt+ct[13]*bt,st[2]=ct[2]*ht+ct[6]*pt+ct[10]*yt+ct[14]*bt,st[3]=ct[3]*ht+ct[7]*pt+ct[11]*yt+ct[15]*bt,st}function N_(){var st=new Zs(4);return Zs!=Float32Array&&(st[0]=0,st[1]=0,st[2]=0),st[3]=1,st}function j_(st){return st[0]=0,st[1]=0,st[2]=0,st[3]=1,st}function V_(st,it,ct){ct*=.5;var ht=it[0],pt=it[1],yt=it[2],bt=it[3],St=Math.sin(ct),Rt=Math.cos(ct);return st[0]=ht*Rt+bt*St,st[1]=pt*Rt+yt*St,st[2]=yt*Rt-pt*St,st[3]=bt*Rt-ht*St,st}function U_(st,it,ct){ct*=.5;var ht=it[0],pt=it[1],yt=it[2],bt=it[3],St=Math.sin(ct),Rt=Math.cos(ct);return st[0]=ht*Rt-yt*St,st[1]=pt*Rt+bt*St,st[2]=yt*Rt+ht*St,st[3]=bt*Rt-pt*St,st}_v(),W0=new Zs(4),Zs!=Float32Array&&(W0[0]=0,W0[1]=0,W0[2]=0,W0[3]=0);var f2=B_;_v(),Em(1,0,0),Em(0,1,0),N_(),N_(),k_();const p2=Yr([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:G_}=p2,W_=Yr([{name:"a_pos_3",components:3,type:"Int16"}]);var H0=Yr([{name:"a_pos",type:"Int16",components:2}]);class wv{constructor(it,ct){this.pos=it,this.dir=ct}intersectsPlane(it,ct,ht){const pt=Ml(ct,this.dir);if(Math.abs(pt)<1e-6)return!1;const yt=((it[0]-this.pos[0])*ct[0]+(it[1]-this.pos[1])*ct[1]+(it[2]-this.pos[2])*ct[2])/pt;return ht[0]=this.pos[0]+this.dir[0]*yt,ht[1]=this.pos[1]+this.dir[1]*yt,ht[2]=this.pos[2]+this.dir[2]*yt,!0}closestPointOnSphere(it,ct,ht){if(function(Yt,Jt){var or=Yt[0],gr=Yt[1],Mr=Yt[2],Fr=Jt[0],kr=Jt[1],Or=Jt[2];return Math.abs(or-Fr)<=u1*Math.max(1,Math.abs(or),Math.abs(Fr))&&Math.abs(gr-kr)<=u1*Math.max(1,Math.abs(gr),Math.abs(kr))&&Math.abs(Mr-Or)<=u1*Math.max(1,Math.abs(Mr),Math.abs(Or))}(this.pos,it)||ct===0)return ht[0]=ht[1]=ht[2]=0,!1;const[pt,yt,bt]=this.dir,St=this.pos[0]-it[0],Rt=this.pos[1]-it[1],kt=this.pos[2]-it[2],Bt=pt*pt+yt*yt+bt*bt,jt=2*(St*pt+Rt*yt+kt*bt),Ht=jt*jt-4*Bt*(St*St+Rt*Rt+kt*kt-ct*ct);if(Ht<0){const Yt=Math.max(-jt/2,0),Jt=St+pt*Yt,or=Rt+yt*Yt,gr=kt+bt*Yt,Mr=Math.hypot(Jt,or,gr);return ht[0]=Jt*ct/Mr,ht[1]=or*ct/Mr,ht[2]=gr*ct/Mr,!1}{const Yt=(-jt-Math.sqrt(Ht))/(2*Bt);if(Yt<0){const Jt=Math.hypot(St,Rt,kt);return ht[0]=St*ct/Jt,ht[1]=Rt*ct/Jt,ht[2]=kt*ct/Jt,!1}return ht[0]=St+pt*Yt,ht[1]=Rt+yt*Yt,ht[2]=kt+bt*Yt,!0}}}class Sv{constructor(it,ct,ht,pt,yt){this.TL=it,this.TR=ct,this.BR=ht,this.BL=pt,this.horizon=yt}static fromInvProjectionMatrix(it,ct,ht){const pt=[-1,1,1],yt=[1,1,1],bt=[1,-1,1],St=[-1,-1,1],Rt=ss(pt,pt,it),kt=ss(yt,yt,it),Bt=ss(bt,bt,it),jt=ss(St,St,it);return new Sv(Rt,kt,Bt,jt,ct/ht)}}class Ev{constructor(it,ct){this.points=it,this.planes=ct}static fromInvProjectionMatrix(it,ct,ht,pt){const yt=Math.pow(2,ht),bt=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(Rt=>{const kt=Op([],Rt,it),Bt=1/kt[3]/ct*yt;return function(jt,Ht,Yt){return jt[0]=Ht[0]*Yt[0],jt[1]=Ht[1]*Yt[1],jt[2]=Ht[2]*Yt[2],jt[3]=Ht[3]*Yt[3],jt}(kt,kt,[Bt,Bt,pt?1/kt[3]:Bt,Bt])}),St=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(Rt=>{const kt=Ds([],bv([],Yl([],bt[Rt[0]],bt[Rt[1]]),Yl([],bt[Rt[2]],bt[Rt[1]]))),Bt=-Ml(kt,bt[Rt[1]]);return kt.concat(Bt)});return new Ev(bt,St)}}class Os{static fromPoints(it){const ct=[1/0,1/0,1/0],ht=[-1/0,-1/0,-1/0];for(const pt of it)V0(ct,ct,pt),U0(ht,ht,pt);return new Os(ct,ht)}static applyTransform(it,ct){const ht=it.getCorners();for(let pt=0;pt<ht.length;++pt)ss(ht[pt],ht[pt],ct);return Os.fromPoints(ht)}constructor(it,ct){this.min=it,this.max=ct,this.center=_l([],Tu([],this.min,this.max),.5)}quadrant(it){const ct=[it%2==0,it<2],ht=D_(this.min),pt=D_(this.max);for(let yt=0;yt<ct.length;yt++)ht[yt]=ct[yt]?this.min[yt]:this.center[yt],pt[yt]=ct[yt]?this.center[yt]:this.max[yt];return pt[2]=this.max[2],new Os(ht,pt)}distanceX(it){return Math.max(Math.min(this.max[0],it[0]),this.min[0])-it[0]}distanceY(it){return Math.max(Math.min(this.max[1],it[1]),this.min[1])-it[1]}distanceZ(it){return Math.max(Math.min(this.max[2],it[2]),this.min[2])-it[2]}getCorners(){const it=this.min,ct=this.max;return[[it[0],it[1],it[2]],[ct[0],it[1],it[2]],[ct[0],ct[1],it[2]],[it[0],ct[1],it[2]],[it[0],it[1],ct[2]],[ct[0],it[1],ct[2]],[ct[0],ct[1],ct[2]],[it[0],ct[1],ct[2]]]}intersects(it){const ct=this.getCorners();let ht=!0;for(let pt=0;pt<it.planes.length;pt++){const yt=it.planes[pt];let bt=0;for(let St=0;St<ct.length;St++)bt+=Ml(yt,ct[St])+yt[3]>=0;if(bt===0)return 0;bt!==ct.length&&(ht=!1)}if(ht)return 2;for(let pt=0;pt<3;pt++){let yt=Number.MAX_VALUE,bt=-Number.MAX_VALUE;for(let St=0;St<it.points.length;St++){const Rt=it.points[St][pt]-this.min[pt];yt=Math.min(yt,Rt),bt=Math.max(bt,Rt)}if(bt<0||yt>this.max[pt]-this.min[pt])return 0}return 1}}const Cv=5,H_=6,ou=lo/Math.PI/2,m2=16383,Fp=64,q0=[Fp,32,16],$l=-ou,Il=ou,g2=[new Os([$l,$l,$l],[Il,Il,Il]),new Os([$l,$l,$l],[0,0,Il]),new Os([0,$l,$l],[Il,0,Il]),new Os([$l,0,$l],[0,Il,Il]),new Os([0,0,$l],[Il,Il,Il])];function d1(st){return st*ou/X0}function q_(st,it,ct,ht=!0){const pt=_l([],st._camera.position,st.worldSize),yt=[it,ct,1,1];Op(yt,yt,st.pixelMatrixInverse),z_(yt,yt,1/yt[3]);const bt=Ds([],Yl([],yt,pt)),St=st.globeMatrix,Rt=[St[12],St[13],St[14]],kt=Yl([],Rt,pt),Bt=j0(kt),jt=Ds([],kt),Ht=st.worldSize/(2*Math.PI),Yt=Ml(jt,bt),Jt=Math.asin(Ht/Bt);if(Jt<Math.acos(Yt)){if(!ht)return null;const Ln=[],hn=[];_l(Ln,bt,Bt/Yt),Ds(hn,Yl(hn,Ln,kt)),Ds(bt,Tu(bt,kt,_l(bt,hn,Math.tan(Jt)*Bt)))}const or=[];new wv(pt,bt).closestPointOnSphere(Rt,Ht,or);const gr=Ds([],yo(St,0)),Mr=Ds([],yo(St,1)),Fr=Ds([],yo(St,2)),kr=Ml(gr,or),Or=Ml(Mr,or),Nr=Ml(Fr,or),zr=Lr(Math.asin(-Or/Ht));let sn=Lr(Math.atan2(kr,Nr));sn=st.center.lng+function(Ln,hn){const Cn=(hn-Ln+180)%360-180;return Cn<-180?Cn+360:Cn}(st.center.lng,sn);const nn=su(sn),xn=Xt(lu(zr),0,1);return new Pm(nn,xn)}class y2{constructor(it,ct,ht){this.a=Yl([],it,ht),this.b=Yl([],ct,ht),this.center=ht;const pt=Ds([],this.a),yt=Ds([],this.b);this.angle=Math.acos(Ml(pt,yt))}}function Tv(st,it){if(st.angle===0)return null;let ct;return ct=st.a[it]===0?1/st.angle*.5*Math.PI:1/st.angle*Math.atan(st.b[it]/st.a[it]/Math.sin(st.angle)-1/Math.tan(st.angle)),ct<0||ct>1?null:function(ht,pt,yt,bt){const St=Math.sin(yt);return ht*(Math.sin((1-bt)*yt)/St)+pt*(Math.sin(bt*yt)/St)}(st.a[it],st.b[it],st.angle,Xt(ct,0,1))+st.center[it]}function au(st){if(st.z<=1)return g2[st.z+2*st.y+st.x];const it=Rv(f1(st));return Os.fromPoints(it)}function zp(st,it,ct){return _l(st,st,1-ct),G0(st,st,it,ct)}function Z_(st,it){const ct=Rm(it.zoom);if(ct===0)return au(st);const ht=f1(st),pt=Rv(ht),yt=su(ht.getWest())*it.worldSize,bt=su(ht.getEast())*it.worldSize,St=lu(ht.getNorth())*it.worldSize,Rt=lu(ht.getSouth())*it.worldSize,kt=[yt,St,0],Bt=[bt,St,0],jt=[yt,Rt,0],Ht=[bt,Rt,0],Yt=yv([],it.globeMatrix);return ss(kt,kt,Yt),ss(Bt,Bt,Yt),ss(jt,jt,Yt),ss(Ht,Ht,Yt),pt[0]=zp(pt[0],jt,ct),pt[1]=zp(pt[1],Ht,ct),pt[2]=zp(pt[2],Bt,ct),pt[3]=zp(pt[3],kt,ct),Os.fromPoints(pt)}function K_(st,it,ct){for(const ht of st)ss(ht,ht,it),_l(ht,ht,ct)}function v2(st,it,ct){const ht=it/st.worldSize,pt=st.globeMatrix;if(ct.z<=1){const nn=au(ct).getCorners();return K_(nn,pt,ht),Os.fromPoints(nn)}const yt=f1(ct),bt=Rv(yt);K_(bt,pt,ht);const St=Number.MAX_VALUE,Rt=[-St,-St,-St],kt=[St,St,St];if(yt.contains(st.center)){for(const Ln of bt)V0(kt,kt,Ln),U0(Rt,Rt,Ln);Rt[2]=0;const nn=st.point,xn=[nn.x*ht,nn.y*ht,0];return V0(kt,kt,xn),U0(Rt,Rt,xn),new Os(kt,Rt)}const Bt=[pt[12]*ht,pt[13]*ht,pt[14]*ht],jt=yt.getCenter(),Ht=Xt(st.center.lat,-Ms,Ms),Yt=Xt(jt.lat,-Ms,Ms),Jt=su(st.center.lng),or=lu(Ht);let gr=Jt-su(jt.lng);const Mr=or-lu(Yt);gr>.5?gr-=1:gr<-.5&&(gr+=1);let Fr=0;Math.abs(gr)>Math.abs(Mr)?Fr=gr>=0?1:3:(Fr=Mr>=0?0:2,G0(Bt,Bt,[pt[4]*ht,pt[5]*ht,pt[6]*ht],-Math.sin(vr(Mr>=0?yt.getSouth():yt.getNorth()))*ou));const kr=bt[Fr],Or=bt[(Fr+1)%4],Nr=new y2(kr,Or,Bt),zr=[Tv(Nr,0)||kr[0],Tv(Nr,1)||kr[1],Tv(Nr,2)||kr[2]],sn=Rm(st.zoom);if(sn>0){const nn=function({x:Ln,y:hn,z:Cn},Tn,kn,zn,vn){const Un=1/(1<<Cn);let Jn=Ln*Un,Gn=Jn+Un,_o=hn*Un,Nn=_o+Un,ao=0;const xo=(Jn+Gn)/2-zn;return xo>.5?ao=-1:xo<-.5&&(ao=1),Jn=((Jn+ao)*Tn-(zn*=Tn))*kn+zn,Gn=((Gn+ao)*Tn-zn)*kn+zn,_o=(_o*Tn-(vn*=Tn))*kn+vn,Nn=(Nn*Tn-vn)*kn+vn,[[Jn,Nn,0],[Gn,Nn,0],[Gn,_o,0],[Jn,_o,0]]}(ct,it,st._pixelsPerMercatorPixel,Jt,or);for(let Ln=0;Ln<bt.length;Ln++)zp(bt[Ln],nn[Ln],sn);const xn=Tu([],nn[Fr],nn[(Fr+1)%4]);_l(xn,xn,.5),zp(zr,xn,sn)}for(const nn of bt)V0(kt,kt,nn),U0(Rt,Rt,nn);return kt[2]=Math.min(kr[2],Or[2]),V0(kt,kt,zr),U0(Rt,Rt,zr),new Os(kt,Rt)}function f1({x:st,y:it,z:ct}){const ht=1/(1<<ct),pt=new Zo(xl(st*ht),As((it+1)*ht)),yt=new Zo(xl((st+1)*ht),As(it*ht));return new Yu(pt,yt)}function Rv(st){const it=vr(st.getNorth()),ct=vr(st.getSouth()),ht=Math.cos(it),pt=Math.cos(ct),yt=Math.sin(it),bt=Math.sin(ct),St=st.getWest(),Rt=st.getEast();return[Cm(pt,bt,St),Cm(pt,bt,Rt),Cm(ht,yt,Rt),Cm(ht,yt,St)]}function Cm(st,it,ct,ht=ou){return ct=vr(ct),[st*Math.sin(ct)*ht,-it*ht,st*Math.cos(ct)*ht]}function Tm(st,it,ct){return Cm(Math.cos(vr(st)),Math.sin(vr(st)),it,ct)}function Z0(st,it,ct,ht){const pt=1<<ct.z,yt=(st/lo+ct.x)/pt;return Tm(As((it/lo+ct.y)/pt),xl(yt),ht)}function p1({min:st,max:it}){return m2/Math.max(it[0]-st[0],it[1]-st[1],it[2]-st[2])}const X_=new Float64Array(16);function K0(st){const it=p1(st),ct=I_(X_,[it,it,it]);return N0(ct,ct,((ht=[])[0]=-(pt=st.min)[0],ht[1]=-pt[1],ht[2]=-pt[2],ht));var ht,pt}function Pv(st){const it=(ht=st.min,(ct=X_)[0]=1,ct[1]=0,ct[2]=0,ct[3]=0,ct[4]=0,ct[5]=1,ct[6]=0,ct[7]=0,ct[8]=0,ct[9]=0,ct[10]=1,ct[11]=0,ct[12]=ht[0],ct[13]=ht[1],ct[14]=ht[2],ct[15]=1,ct);var ct,ht;const pt=1/p1(st);return Dp(it,it,[pt,pt,pt])}function Y_(st,it,ct,ht,pt){const yt=function(Rt){const kt=lo/(2*Math.PI);return Rt/(2*Math.PI)/kt}(ct),bt=[st,it,-ct/(2*Math.PI)],St=Xl(new Float64Array(16));return N0(St,St,bt),Dp(St,St,[yt,yt,yt]),vv(St,St,vr(-pt)),h1(St,St,vr(-ht)),St}function Rm(st){return Qt(Cv,H_,st)}function Q_(st,it){const ct=Tm(it.lat,it.lng),ht=function(Jt){const or=Tm(Jt._center.lat,Jt._center.lng);let gr=bv([],Em(0,1,0),or);const Mr=L_([],-Jt.angle,or);gr=ss(gr,gr,Mr),L_(Mr,-Jt._pitch,gr);const Fr=Ds([],or);return _l(Fr,Fr,d1(Jt.cameraToCenterDistance/Jt.pixelsPerMeter)),ss(Fr,Fr,Mr),Tu([],or,Fr)}(st);return bt=(pt=xv([],ht,ct))[0],St=pt[1],Rt=pt[2],kt=(yt=ct)[0],Bt=yt[1],jt=yt[2],Yt=(Ht=Math.sqrt(bt*bt+St*St+Rt*Rt)*Math.sqrt(kt*kt+Bt*Bt+jt*jt))&&Ml(pt,yt)/Ht,Math.acos(Math.min(Math.max(Yt,-1),1));var pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt}function Av(st,it){return Q_(st,it)>Math.PI/2*1.01}const J_=vr(85),_2=Math.cos(J_),x2=Math.sin(J_),X0=63710088e-1,ex=2*Math.PI*X0;class Qu{constructor(it,ct){if(isNaN(it)||isNaN(ct))throw new Error(`Invalid LngLat object: (${it}, ${ct})`);if(this.lng=+it,this.lat=+ct,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Qu(lr(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(it){const ct=Math.PI/180,ht=this.lat*ct,pt=it.lat*ct,yt=Math.sin(ht)*Math.sin(pt)+Math.cos(ht)*Math.cos(pt)*Math.cos((it.lng-this.lng)*ct);return X0*Math.acos(Math.min(yt,1))}toBounds(it=0){const ct=360*it/40075017,ht=ct/Math.cos(Math.PI/180*this.lat);return new Yu(new Qu(this.lng-ht,this.lat-ct),new Qu(this.lng+ht,this.lat+ct))}toEcef(it){const ct=d1(it);return Tm(this.lat,this.lng,ou+ct)}static convert(it){if(it instanceof Qu)return it;if(Array.isArray(it)&&(it.length===2||it.length===3))return new Qu(Number(it[0]),Number(it[1]));if(!Array.isArray(it)&&typeof it=="object"&&it!==null)return new Qu(Number("lng"in it?it.lng:it.lon),Number(it.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var Zo=Qu;function Mv(st){return ex*Math.cos(st*Math.PI/180)}function su(st){return(180+st)/360}function lu(st){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+st*Math.PI/360)))/360}function Ql(st,it){return st/Mv(it)}function xl(st){return 360*st-180}function As(st){return 360/Math.PI*Math.atan(Math.exp((180-360*st)*Math.PI/180))-90}function tx(st,it){return st*Mv(As(it))}const Ms=85.051129;function rx(st){return 1/Math.cos(st*Math.PI/180)}class Pm{constructor(it,ct,ht=0){this.x=+it,this.y=+ct,this.z=+ht}static fromLngLat(it,ct=0){const ht=Zo.convert(it);return new Pm(su(ht.lng),lu(ht.lat),Ql(ct,ht.lat))}toLngLat(){return new Zo(xl(this.x),As(this.y))}toAltitude(){return tx(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/ex*rx(As(this.y))}}function kv(st,it,ct,ht,pt,yt,bt,St,Rt){const kt=(it+ht)/2,Bt=(ct+pt)/2,jt=new er(kt,Bt);St(jt),function(Ht,Yt,Jt,or,gr,Mr){const Fr=Jt-gr,kr=or-Mr;return Math.abs((or-Yt)*Fr-(Jt-Ht)*kr)/Math.hypot(Fr,kr)}(jt.x,jt.y,yt.x,yt.y,bt.x,bt.y)>=Rt?(kv(st,it,ct,kt,Bt,yt,jt,St,Rt),kv(st,kt,Bt,ht,pt,jt,bt,St,Rt)):st.push(bt)}function nx(st,it,ct){let ht=st[0],pt=ht.x,yt=ht.y;it(ht);const bt=[ht];for(let St=1;St<st.length;St++){const Rt=st[St],{x:kt,y:Bt}=Rt;it(Rt),kv(bt,pt,yt,kt,Bt,ht,Rt,it,ct),pt=kt,yt=Bt,ht=Rt}return bt}function $v(st,it,ct,ht){if(ht(it,ct)){const pt=it.add(ct)._mult(.5);$v(st,it,pt,ht),$v(st,pt,ct,ht)}else st.push(ct)}function b2(st,it){let ct=st[0];const ht=[ct];for(let pt=1;pt<st.length;pt++){const yt=st[pt];$v(ht,ct,yt,it),ct=yt}return ht}const Iv=Math.pow(2,14)-1,ix=-Iv-1;function w2(st,it){const ct=Math.round(st.x*it),ht=Math.round(st.y*it);return st.x=Xt(ct,ix,Iv),st.y=Xt(ht,ix,Iv),(ct<st.x||ct>st.x+1||ht<st.y||ht>st.y+1)&&Rn("Geometry exceeds allowed extent, reduce your vector tile buffer size"),st}function Ru(st,it,ct){const ht=st.loadGeometry(),pt=st.extent,yt=lo/pt;if(it&&ct&&ct.projection.isReprojectedInTileSpace){const bt=1<<it.z,{scale:St,x:Rt,y:kt,projection:Bt}=ct,jt=Ht=>{const Yt=xl((it.x+Ht.x/pt)/bt),Jt=As((it.y+Ht.y/pt)/bt),or=Bt.project(Yt,Jt);Ht.x=(or.x*St-Rt)*pt,Ht.y=(or.y*St-kt)*pt};for(let Ht=0;Ht<ht.length;Ht++)if(st.type!==1)ht[Ht]=nx(ht[Ht],jt,1);else{const Yt=[];for(const Jt of ht[Ht])Jt.x<0||Jt.x>=pt||Jt.y<0||Jt.y>=pt||(jt(Jt),Yt.push(Jt));ht[Ht]=Yt}}for(const bt of ht)for(const St of bt)w2(St,yt);return ht}function Bp(st,it){return{type:st.type,id:st.id,properties:st.properties,geometry:it?Ru(st):[]}}function m1(st,it,ct,ht,pt){st.emplaceBack(2*it+(ht+1)/2,2*ct+(pt+1)/2)}function g1(st,it,ct){st.emplaceBack(it.x,it.y,it.z,ct[0]*16384,ct[1]*16384,ct[2]*16384)}class Lv{constructor(it){this.zoom=it.zoom,this.overscaling=it.overscaling,this.layers=it.layers,this.layerIds=this.layers.map(ct=>ct.id),this.index=it.index,this.hasPattern=!1,this.projection=it.projection,this.layoutVertexArray=new In,this.indexArray=new io,this.segments=new us,this.programConfigurations=new Ip(it.layers,it.zoom),this.stateDependentLayerIds=this.layers.filter(ct=>ct.isStateDependent()).map(ct=>ct.id)}populate(it,ct,ht,pt){const yt=this.layers[0],bt=[];let St=null;yt.type==="circle"&&(St=yt.layout.get("circle-sort-key"));for(const{feature:kt,id:Bt,index:jt,sourceLayerIndex:Ht}of it){const Yt=this.layers[0]._featureFilter.needGeometry,Jt=Bp(kt,Yt);if(!this.layers[0]._featureFilter.filter(new Nt(this.zoom),Jt,ht))continue;const or=St?St.evaluate(Jt,{},ht):void 0,gr={id:Bt,properties:kt.properties,type:kt.type,sourceLayerIndex:Ht,index:jt,geometry:Yt?Jt.geometry:Ru(kt,ht,pt),patterns:{},sortKey:or};bt.push(gr)}St&&bt.sort((kt,Bt)=>kt.sortKey-Bt.sortKey);let Rt=null;pt.projection.name==="globe"&&(this.globeExtVertexArray=new Dn,Rt=pt.projection);for(const kt of bt){const{geometry:Bt,index:jt,sourceLayerIndex:Ht}=kt,Yt=it[jt].feature;this.addFeature(kt,Bt,jt,ct.availableImages,ht,Rt),ct.featureIndex.insert(Yt,Bt,jt,Ht,this.index)}}update(it,ct,ht,pt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(it,ct,this.stateDependentLayers,ht,pt)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(it){this.uploaded||(this.layoutVertexBuffer=it.createVertexBuffer(this.layoutVertexArray,l2.members),this.indexBuffer=it.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=it.createVertexBuffer(this.globeExtVertexArray,c2.members))),this.programConfigurations.upload(it),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(it,ct,ht,pt,yt,bt){for(const St of ct)for(const Rt of St){const kt=Rt.x,Bt=Rt.y;if(kt<0||kt>=lo||Bt<0||Bt>=lo)continue;if(bt){const Yt=bt.projectTilePoint(kt,Bt,yt),Jt=bt.upVector(yt,kt,Bt),or=this.globeExtVertexArray;g1(or,Yt,Jt),g1(or,Yt,Jt),g1(or,Yt,Jt),g1(or,Yt,Jt)}const jt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,it.sortKey),Ht=jt.vertexLength;m1(this.layoutVertexArray,kt,Bt,-1,-1),m1(this.layoutVertexArray,kt,Bt,1,-1),m1(this.layoutVertexArray,kt,Bt,1,1),m1(this.layoutVertexArray,kt,Bt,-1,1),this.indexArray.emplaceBack(Ht,Ht+1,Ht+2),this.indexArray.emplaceBack(Ht,Ht+2,Ht+3),jt.vertexLength+=4,jt.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,it,ht,{},pt,yt)}}function ox(st,it){for(let ct=0;ct<st.length;ct++)if(Np(it,st[ct]))return!0;for(let ct=0;ct<it.length;ct++)if(Np(st,it[ct]))return!0;return!!Dv(st,it)}function S2(st,it,ct){return!!Np(st,it)||!!Ov(it,st,ct)}function ax(st,it){if(st.length===1)return lx(it,st[0]);for(let ct=0;ct<it.length;ct++){const ht=it[ct];for(let pt=0;pt<ht.length;pt++)if(Np(st,ht[pt]))return!0}for(let ct=0;ct<st.length;ct++)if(lx(it,st[ct]))return!0;for(let ct=0;ct<it.length;ct++)if(Dv(st,it[ct]))return!0;return!1}function E2(st,it,ct){if(st.length>1){if(Dv(st,it))return!0;for(let ht=0;ht<it.length;ht++)if(Ov(it[ht],st,ct))return!0}for(let ht=0;ht<st.length;ht++)if(Ov(st[ht],it,ct))return!0;return!1}function Dv(st,it){if(st.length===0||it.length===0)return!1;for(let ct=0;ct<st.length-1;ct++){const ht=st[ct],pt=st[ct+1];for(let yt=0;yt<it.length-1;yt++)if(C2(ht,pt,it[yt],it[yt+1]))return!0}return!1}function C2(st,it,ct,ht){return Zn(st,ct,ht)!==Zn(it,ct,ht)&&Zn(st,it,ct)!==Zn(st,it,ht)}function Ov(st,it,ct){const ht=ct*ct;if(it.length===1)return st.distSqr(it[0])<ht;for(let pt=1;pt<it.length;pt++)if(sx(st,it[pt-1],it[pt])<ht)return!0;return!1}function sx(st,it,ct){const ht=it.distSqr(ct);if(ht===0)return st.distSqr(it);const pt=((st.x-it.x)*(ct.x-it.x)+(st.y-it.y)*(ct.y-it.y))/ht;return st.distSqr(pt<0?it:pt>1?ct:ct.sub(it)._mult(pt)._add(it))}function lx(st,it){let ct,ht,pt,yt=!1;for(let bt=0;bt<st.length;bt++){ct=st[bt];for(let St=0,Rt=ct.length-1;St<ct.length;Rt=St++)ht=ct[St],pt=ct[Rt],ht.y>it.y!=pt.y>it.y&&it.x<(pt.x-ht.x)*(it.y-ht.y)/(pt.y-ht.y)+ht.x&&(yt=!yt)}return yt}function Np(st,it){let ct=!1;for(let ht=0,pt=st.length-1;ht<st.length;pt=ht++){const yt=st[ht],bt=st[pt];yt.y>it.y!=bt.y>it.y&&it.x<(bt.x-yt.x)*(it.y-yt.y)/(bt.y-yt.y)+yt.x&&(ct=!ct)}return ct}function cx(st,it,ct,ht,pt){for(const bt of st)if(it<=bt.x&&ct<=bt.y&&ht>=bt.x&&pt>=bt.y)return!0;const yt=[new er(it,ct),new er(it,pt),new er(ht,pt),new er(ht,ct)];if(st.length>2){for(const bt of yt)if(Np(st,bt))return!0}for(let bt=0;bt<st.length-1;bt++)if(T2(st[bt],st[bt+1],yt))return!0;return!1}function T2(st,it,ct){const ht=ct[0],pt=ct[2];if(st.x<ht.x&&it.x<ht.x||st.x>pt.x&&it.x>pt.x||st.y<ht.y&&it.y<ht.y||st.y>pt.y&&it.y>pt.y)return!1;const yt=Zn(st,it,ct[0]);return yt!==Zn(st,it,ct[1])||yt!==Zn(st,it,ct[2])||yt!==Zn(st,it,ct[3])}function Am(st,it,ct){const ht=it.paint.get(st).value;return ht.kind==="constant"?ht.value:ct.programConfigurations.get(it.id).getMaxValue(st)}function y1(st){return Math.sqrt(st[0]*st[0]+st[1]*st[1])}function ux(st,it,ct,ht,pt){if(!it[0]&&!it[1])return st;const yt=er.convert(it)._mult(pt);ct==="viewport"&&yt._rotate(-ht);const bt=[];for(let St=0;St<st.length;St++)bt.push(st[St].sub(yt));return bt}function hx(st,it,ct,ht){const pt=er.convert(st)._mult(ht);return it==="viewport"&&pt._rotate(-ct),pt}Xn(Lv,"CircleBucket",{omit:["layers"]});const R2=new Ir({"circle-sort-key":new _r(_n.layout_circle["circle-sort-key"])});var P2={paint:new Ir({"circle-radius":new _r(_n.paint_circle["circle-radius"]),"circle-color":new _r(_n.paint_circle["circle-color"]),"circle-blur":new _r(_n.paint_circle["circle-blur"]),"circle-opacity":new _r(_n.paint_circle["circle-opacity"]),"circle-translate":new ir(_n.paint_circle["circle-translate"]),"circle-translate-anchor":new ir(_n.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ir(_n.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ir(_n.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new _r(_n.paint_circle["circle-stroke-width"]),"circle-stroke-color":new _r(_n.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new _r(_n.paint_circle["circle-stroke-opacity"])}),layout:R2};function dx(st,it,ct,ht,pt,yt,bt,St,Rt){if(yt&&st.queryGeometry.isAboveHorizon)return!1;yt&&(Rt*=st.pixelToTileUnitsFactor);const kt=st.tileID.canonical,Bt=ct.projection.upVectorScale(kt,ct.center.lat,ct.worldSize).metersToTile;for(const jt of it)for(const Ht of jt){const Yt=Ht.add(St),Jt=pt&&ct.elevation?ct.elevation.exaggeration()*pt.getElevationAt(Yt.x,Yt.y,!0):0,or=ct.projection.projectTilePoint(Yt.x,Yt.y,kt);if(Jt>0){const kr=ct.projection.upVector(kt,Yt.x,Yt.y);or.x+=kr[0]*Bt*Jt,or.y+=kr[1]*Bt*Jt,or.z+=kr[2]*Bt*Jt}const gr=yt?Yt:A2(or.x,or.y,or.z,ht),Mr=yt?st.tilespaceRays.map(kr=>k2(kr,Jt)):st.queryGeometry.screenGeometry,Fr=Op([],[or.x,or.y,or.z,1],ht);if(!bt&&yt?Rt*=Fr[3]/ct.cameraToCenterDistance:bt&&!yt&&(Rt*=ct.cameraToCenterDistance/Fr[3]),yt){const kr=As((Ht.y/lo+kt.y)/(1<<kt.z));Rt/=ct.projection.pixelsPerMeter(kr,1)/Ql(1,kr)}if(S2(Mr,gr,Rt))return!0}return!1}function A2(st,it,ct,ht){const pt=Op([],[st,it,ct,1],ht);return new er(pt[0]/pt[3],pt[1]/pt[3])}const fx=Em(0,0,0),M2=Em(0,0,1);function k2(st,it){const ct=_v();return fx[2]=it,st.intersectsPlane(fx,M2,ct),new er(ct[0],ct[1])}class px extends Lv{}function mx(st,{width:it,height:ct},ht,pt){if(pt){if(pt instanceof Uint8ClampedArray)pt=new Uint8Array(pt.buffer);else if(pt.length!==it*ct*ht)throw new RangeError("mismatched image size")}else pt=new Uint8Array(it*ct*ht);return st.width=it,st.height=ct,st.data=pt,st}function gx(st,it,ct){const{width:ht,height:pt}=it;ht===st.width&&pt===st.height||(Fv(st,it,{x:0,y:0},{x:0,y:0},{width:Math.min(st.width,ht),height:Math.min(st.height,pt)},ct),st.width=ht,st.height=pt,st.data=it.data)}function Fv(st,it,ct,ht,pt,yt){if(pt.width===0||pt.height===0)return it;if(pt.width>st.width||pt.height>st.height||ct.x>st.width-pt.width||ct.y>st.height-pt.height)throw new RangeError("out of range source coordinates for image copy");if(pt.width>it.width||pt.height>it.height||ht.x>it.width-pt.width||ht.y>it.height-pt.height)throw new RangeError("out of range destination coordinates for image copy");const bt=st.data,St=it.data;for(let Rt=0;Rt<pt.height;Rt++){const kt=((ct.y+Rt)*st.width+ct.x)*yt,Bt=((ht.y+Rt)*it.width+ht.x)*yt;for(let jt=0;jt<pt.width*yt;jt++)St[Bt+jt]=bt[kt+jt]}return it}Xn(px,"HeatmapBucket",{omit:["layers"]});class Pu{constructor(it,ct){mx(this,it,1,ct)}resize(it){gx(this,new Pu(it),1)}clone(){return new Pu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(it,ct,ht,pt,yt){Fv(it,ct,ht,pt,yt,1)}}class Ks{constructor(it,ct){mx(this,it,4,ct)}resize(it){gx(this,new Ks(it),4)}replace(it,ct){ct?this.data.set(it):this.data=it instanceof Uint8ClampedArray?new Uint8Array(it.buffer):it}clone(){return new Ks({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(it,ct,ht,pt,yt){Fv(it,ct,ht,pt,yt,4)}}Xn(Pu,"AlphaImage"),Xn(Ks,"RGBAImage");var $2={paint:new Ir({"heatmap-radius":new _r(_n.paint_heatmap["heatmap-radius"]),"heatmap-weight":new _r(_n.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ir(_n.paint_heatmap["heatmap-intensity"]),"heatmap-color":new $r(_n.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ir(_n.paint_heatmap["heatmap-opacity"])})};function zv(st){const it={},ct=st.resolution||256,ht=st.clips?st.clips.length:1,pt=st.image||new Ks({width:ct,height:ht}),yt=(bt,St,Rt)=>{it[st.evaluationKey]=Rt;const kt=st.expression.evaluate(it);pt.data[bt+St+0]=Math.floor(255*kt.r/kt.a),pt.data[bt+St+1]=Math.floor(255*kt.g/kt.a),pt.data[bt+St+2]=Math.floor(255*kt.b/kt.a),pt.data[bt+St+3]=Math.floor(255*kt.a)};if(st.clips)for(let bt=0,St=0;bt<ht;++bt,St+=4*ct)for(let Rt=0,kt=0;Rt<ct;Rt++,kt+=4){const Bt=Rt/(ct-1),{start:jt,end:Ht}=st.clips[bt];yt(St,kt,jt*(1-Bt)+Ht*Bt)}else for(let bt=0,St=0;bt<ct;bt++,St+=4)yt(0,St,bt/(ct-1));return pt}var I2={paint:new Ir({"hillshade-illumination-direction":new ir(_n.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ir(_n.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ir(_n.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ir(_n.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ir(_n.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ir(_n.paint_hillshade["hillshade-accent-color"])})};const L2=Yr([{name:"a_pos",components:2,type:"Int16"}],4),{members:D2}=L2;var Bv={exports:{}};function v1(st,it,ct){ct=ct||2;var ht,pt,yt,bt,St,Rt,kt,Bt=it&&it.length,jt=Bt?it[0]*ct:st.length,Ht=yx(st,0,jt,ct,!0),Yt=[];if(!Ht||Ht.next===Ht.prev)return Yt;if(Bt&&(Ht=function(or,gr,Mr,Fr){var kr,Or,Nr,zr=[];for(kr=0,Or=gr.length;kr<Or;kr++)(Nr=yx(or,gr[kr]*Fr,kr<Or-1?gr[kr+1]*Fr:or.length,Fr,!1))===Nr.next&&(Nr.steiner=!0),zr.push(U2(Nr));for(zr.sort(N2),kr=0;kr<zr.length;kr++)Mr=j2(zr[kr],Mr);return Mr}(st,it,Ht,ct)),st.length>80*ct){ht=yt=st[0],pt=bt=st[1];for(var Jt=ct;Jt<jt;Jt+=ct)(St=st[Jt])<ht&&(ht=St),(Rt=st[Jt+1])<pt&&(pt=Rt),St>yt&&(yt=St),Rt>bt&&(bt=Rt);kt=(kt=Math.max(yt-ht,bt-pt))!==0?32767/kt:0}return Y0(Ht,Yt,ct,ht,pt,kt,0),Yt}function yx(st,it,ct,ht,pt){var yt,bt;if(pt===Vv(st,it,ct,ht)>0)for(yt=it;yt<ct;yt+=ht)bt=xx(yt,st[yt],st[yt+1],bt);else for(yt=ct-ht;yt>=it;yt-=ht)bt=xx(yt,st[yt],st[yt+1],bt);return bt&&_1(bt,bt.next)&&(J0(bt),bt=bt.next),bt}function jp(st,it){if(!st)return st;it||(it=st);var ct,ht=st;do if(ct=!1,ht.steiner||!_1(ht,ht.next)&&hs(ht.prev,ht,ht.next)!==0)ht=ht.next;else{if(J0(ht),(ht=it=ht.prev)===ht.next)break;ct=!0}while(ct||ht!==it);return it}function Y0(st,it,ct,ht,pt,yt,bt){if(st){!bt&&yt&&function(Bt,jt,Ht,Yt){var Jt=Bt;do Jt.z===0&&(Jt.z=Nv(Jt.x,Jt.y,jt,Ht,Yt)),Jt.prevZ=Jt.prev,Jt.nextZ=Jt.next,Jt=Jt.next;while(Jt!==Bt);Jt.prevZ.nextZ=null,Jt.prevZ=null,function(or){var gr,Mr,Fr,kr,Or,Nr,zr,sn,nn=1;do{for(Mr=or,or=null,Or=null,Nr=0;Mr;){for(Nr++,Fr=Mr,zr=0,gr=0;gr<nn&&(zr++,Fr=Fr.nextZ);gr++);for(sn=nn;zr>0||sn>0&&Fr;)zr!==0&&(sn===0||!Fr||Mr.z<=Fr.z)?(kr=Mr,Mr=Mr.nextZ,zr--):(kr=Fr,Fr=Fr.nextZ,sn--),Or?Or.nextZ=kr:or=kr,kr.prevZ=Or,Or=kr;Mr=Fr}Or.nextZ=null,nn*=2}while(Nr>1)}(Jt)}(st,ht,pt,yt);for(var St,Rt,kt=st;st.prev!==st.next;)if(St=st.prev,Rt=st.next,yt?F2(st,ht,pt,yt):O2(st))it.push(St.i/ct|0),it.push(st.i/ct|0),it.push(Rt.i/ct|0),J0(st),st=Rt.next,kt=Rt.next;else if((st=Rt)===kt){bt?bt===1?Y0(st=z2(jp(st),it,ct),it,ct,ht,pt,yt,2):bt===2&&B2(st,it,ct,ht,pt,yt):Y0(jp(st),it,ct,ht,pt,yt,1);break}}}function O2(st){var it=st.prev,ct=st,ht=st.next;if(hs(it,ct,ht)>=0)return!1;for(var pt=it.x,yt=ct.x,bt=ht.x,St=it.y,Rt=ct.y,kt=ht.y,Bt=pt<yt?pt<bt?pt:bt:yt<bt?yt:bt,jt=St<Rt?St<kt?St:kt:Rt<kt?Rt:kt,Ht=pt>yt?pt>bt?pt:bt:yt>bt?yt:bt,Yt=St>Rt?St>kt?St:kt:Rt>kt?Rt:kt,Jt=ht.next;Jt!==it;){if(Jt.x>=Bt&&Jt.x<=Ht&&Jt.y>=jt&&Jt.y<=Yt&&Mm(pt,St,yt,Rt,bt,kt,Jt.x,Jt.y)&&hs(Jt.prev,Jt,Jt.next)>=0)return!1;Jt=Jt.next}return!0}function F2(st,it,ct,ht){var pt=st.prev,yt=st,bt=st.next;if(hs(pt,yt,bt)>=0)return!1;for(var St=pt.x,Rt=yt.x,kt=bt.x,Bt=pt.y,jt=yt.y,Ht=bt.y,Yt=St<Rt?St<kt?St:kt:Rt<kt?Rt:kt,Jt=Bt<jt?Bt<Ht?Bt:Ht:jt<Ht?jt:Ht,or=St>Rt?St>kt?St:kt:Rt>kt?Rt:kt,gr=Bt>jt?Bt>Ht?Bt:Ht:jt>Ht?jt:Ht,Mr=Nv(Yt,Jt,it,ct,ht),Fr=Nv(or,gr,it,ct,ht),kr=st.prevZ,Or=st.nextZ;kr&&kr.z>=Mr&&Or&&Or.z<=Fr;){if(kr.x>=Yt&&kr.x<=or&&kr.y>=Jt&&kr.y<=gr&&kr!==pt&&kr!==bt&&Mm(St,Bt,Rt,jt,kt,Ht,kr.x,kr.y)&&hs(kr.prev,kr,kr.next)>=0||(kr=kr.prevZ,Or.x>=Yt&&Or.x<=or&&Or.y>=Jt&&Or.y<=gr&&Or!==pt&&Or!==bt&&Mm(St,Bt,Rt,jt,kt,Ht,Or.x,Or.y)&&hs(Or.prev,Or,Or.next)>=0))return!1;Or=Or.nextZ}for(;kr&&kr.z>=Mr;){if(kr.x>=Yt&&kr.x<=or&&kr.y>=Jt&&kr.y<=gr&&kr!==pt&&kr!==bt&&Mm(St,Bt,Rt,jt,kt,Ht,kr.x,kr.y)&&hs(kr.prev,kr,kr.next)>=0)return!1;kr=kr.prevZ}for(;Or&&Or.z<=Fr;){if(Or.x>=Yt&&Or.x<=or&&Or.y>=Jt&&Or.y<=gr&&Or!==pt&&Or!==bt&&Mm(St,Bt,Rt,jt,kt,Ht,Or.x,Or.y)&&hs(Or.prev,Or,Or.next)>=0)return!1;Or=Or.nextZ}return!0}function z2(st,it,ct){var ht=st;do{var pt=ht.prev,yt=ht.next.next;!_1(pt,yt)&&vx(pt,ht,ht.next,yt)&&Q0(pt,yt)&&Q0(yt,pt)&&(it.push(pt.i/ct|0),it.push(ht.i/ct|0),it.push(yt.i/ct|0),J0(ht),J0(ht.next),ht=st=yt),ht=ht.next}while(ht!==st);return jp(ht)}function B2(st,it,ct,ht,pt,yt){var bt=st;do{for(var St=bt.next.next;St!==bt.prev;){if(bt.i!==St.i&&G2(bt,St)){var Rt=_x(bt,St);return bt=jp(bt,bt.next),Rt=jp(Rt,Rt.next),Y0(bt,it,ct,ht,pt,yt,0),void Y0(Rt,it,ct,ht,pt,yt,0)}St=St.next}bt=bt.next}while(bt!==st)}function N2(st,it){return st.x-it.x}function j2(st,it){var ct=function(pt,yt){var bt,St=yt,Rt=pt.x,kt=pt.y,Bt=-1/0;do{if(kt<=St.y&&kt>=St.next.y&&St.next.y!==St.y){var jt=St.x+(kt-St.y)*(St.next.x-St.x)/(St.next.y-St.y);if(jt<=Rt&&jt>Bt&&(Bt=jt,bt=St.x<St.next.x?St:St.next,jt===Rt))return bt}St=St.next}while(St!==yt);if(!bt)return null;var Ht,Yt=bt,Jt=bt.x,or=bt.y,gr=1/0;St=bt;do Rt>=St.x&&St.x>=Jt&&Rt!==St.x&&Mm(kt<or?Rt:Bt,kt,Jt,or,kt<or?Bt:Rt,kt,St.x,St.y)&&(Ht=Math.abs(kt-St.y)/(Rt-St.x),Q0(St,pt)&&(Ht<gr||Ht===gr&&(St.x>bt.x||St.x===bt.x&&V2(bt,St)))&&(bt=St,gr=Ht)),St=St.next;while(St!==Yt);return bt}(st,it);if(!ct)return it;var ht=_x(ct,st);return jp(ht,ht.next),jp(ct,ct.next)}function V2(st,it){return hs(st.prev,st,it.prev)<0&&hs(it.next,st,st.next)<0}function Nv(st,it,ct,ht,pt){return(st=1431655765&((st=858993459&((st=252645135&((st=16711935&((st=(st-ct)*pt|0)|st<<8))|st<<4))|st<<2))|st<<1))|(it=1431655765&((it=858993459&((it=252645135&((it=16711935&((it=(it-ht)*pt|0)|it<<8))|it<<4))|it<<2))|it<<1))<<1}function U2(st){var it=st,ct=st;do(it.x<ct.x||it.x===ct.x&&it.y<ct.y)&&(ct=it),it=it.next;while(it!==st);return ct}function Mm(st,it,ct,ht,pt,yt,bt,St){return(pt-bt)*(it-St)>=(st-bt)*(yt-St)&&(st-bt)*(ht-St)>=(ct-bt)*(it-St)&&(ct-bt)*(yt-St)>=(pt-bt)*(ht-St)}function G2(st,it){return st.next.i!==it.i&&st.prev.i!==it.i&&!function(ct,ht){var pt=ct;do{if(pt.i!==ct.i&&pt.next.i!==ct.i&&pt.i!==ht.i&&pt.next.i!==ht.i&&vx(pt,pt.next,ct,ht))return!0;pt=pt.next}while(pt!==ct);return!1}(st,it)&&(Q0(st,it)&&Q0(it,st)&&function(ct,ht){var pt=ct,yt=!1,bt=(ct.x+ht.x)/2,St=(ct.y+ht.y)/2;do pt.y>St!=pt.next.y>St&&pt.next.y!==pt.y&&bt<(pt.next.x-pt.x)*(St-pt.y)/(pt.next.y-pt.y)+pt.x&&(yt=!yt),pt=pt.next;while(pt!==ct);return yt}(st,it)&&(hs(st.prev,st,it.prev)||hs(st,it.prev,it))||_1(st,it)&&hs(st.prev,st,st.next)>0&&hs(it.prev,it,it.next)>0)}function hs(st,it,ct){return(it.y-st.y)*(ct.x-it.x)-(it.x-st.x)*(ct.y-it.y)}function _1(st,it){return st.x===it.x&&st.y===it.y}function vx(st,it,ct,ht){var pt=b1(hs(st,it,ct)),yt=b1(hs(st,it,ht)),bt=b1(hs(ct,ht,st)),St=b1(hs(ct,ht,it));return pt!==yt&&bt!==St||!(pt!==0||!x1(st,ct,it))||!(yt!==0||!x1(st,ht,it))||!(bt!==0||!x1(ct,st,ht))||!(St!==0||!x1(ct,it,ht))}function x1(st,it,ct){return it.x<=Math.max(st.x,ct.x)&&it.x>=Math.min(st.x,ct.x)&&it.y<=Math.max(st.y,ct.y)&&it.y>=Math.min(st.y,ct.y)}function b1(st){return st>0?1:st<0?-1:0}function Q0(st,it){return hs(st.prev,st,st.next)<0?hs(st,it,st.next)>=0&&hs(st,st.prev,it)>=0:hs(st,it,st.prev)<0||hs(st,st.next,it)<0}function _x(st,it){var ct=new jv(st.i,st.x,st.y),ht=new jv(it.i,it.x,it.y),pt=st.next,yt=it.prev;return st.next=it,it.prev=st,ct.next=pt,pt.prev=ct,ht.next=ct,ct.prev=ht,yt.next=ht,ht.prev=yt,ht}function xx(st,it,ct,ht){var pt=new jv(st,it,ct);return ht?(pt.next=ht.next,pt.prev=ht,ht.next.prev=pt,ht.next=pt):(pt.prev=pt,pt.next=pt),pt}function J0(st){st.next.prev=st.prev,st.prev.next=st.next,st.prevZ&&(st.prevZ.nextZ=st.nextZ),st.nextZ&&(st.nextZ.prevZ=st.prevZ)}function jv(st,it,ct){this.i=st,this.x=it,this.y=ct,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Vv(st,it,ct,ht){for(var pt=0,yt=it,bt=ct-ht;yt<ct;yt+=ht)pt+=(st[bt]-st[yt])*(st[yt+1]+st[bt+1]),bt=yt;return pt}Bv.exports=v1,Bv.exports.default=v1,v1.deviation=function(st,it,ct,ht){var pt=it&&it.length,yt=Math.abs(Vv(st,0,pt?it[0]*ct:st.length,ct));if(pt)for(var bt=0,St=it.length;bt<St;bt++)yt-=Math.abs(Vv(st,it[bt]*ct,bt<St-1?it[bt+1]*ct:st.length,ct));var Rt=0;for(bt=0;bt<ht.length;bt+=3){var kt=ht[bt]*ct,Bt=ht[bt+1]*ct,jt=ht[bt+2]*ct;Rt+=Math.abs((st[kt]-st[jt])*(st[Bt+1]-st[kt+1])-(st[kt]-st[Bt])*(st[jt+1]-st[kt+1]))}return yt===0&&Rt===0?0:Math.abs((Rt-yt)/yt)},v1.flatten=function(st){for(var it=st[0][0].length,ct={vertices:[],holes:[],dimensions:it},ht=0,pt=0;pt<st.length;pt++){for(var yt=0;yt<st[pt].length;yt++)for(var bt=0;bt<it;bt++)ct.vertices.push(st[pt][yt][bt]);pt>0&&ct.holes.push(ht+=st[pt-1].length)}return ct};var Uv=It(Bv.exports);function W2(st,it,ct,ht,pt){bx(st,it,ct||0,ht||st.length-1,pt||H2)}function bx(st,it,ct,ht,pt){for(;ht>ct;){if(ht-ct>600){var yt=ht-ct+1,bt=it-ct+1,St=Math.log(yt),Rt=.5*Math.exp(2*St/3),kt=.5*Math.sqrt(St*Rt*(yt-Rt)/yt)*(bt-yt/2<0?-1:1);bx(st,it,Math.max(ct,Math.floor(it-bt*Rt/yt+kt)),Math.min(ht,Math.floor(it+(yt-bt)*Rt/yt+kt)),pt)}var Bt=st[it],jt=ct,Ht=ht;for(ey(st,ct,it),pt(st[ht],Bt)>0&&ey(st,ct,ht);jt<Ht;){for(ey(st,jt,Ht),jt++,Ht--;pt(st[jt],Bt)<0;)jt++;for(;pt(st[Ht],Bt)>0;)Ht--}pt(st[ct],Bt)===0?ey(st,ct,Ht):ey(st,++Ht,ht),Ht<=it&&(ct=Ht+1),it<=Ht&&(ht=Ht-1)}}function ey(st,it,ct){var ht=st[it];st[it]=st[ct],st[ct]=ht}function H2(st,it){return st<it?-1:st>it?1:0}function Gv(st,it){const ct=st.length;if(ct<=1)return[st];const ht=[];let pt,yt;for(let bt=0;bt<ct;bt++){const St=jn(st[bt]);St!==0&&(st[bt].area=Math.abs(St),yt===void 0&&(yt=St<0),yt===St<0?(pt&&ht.push(pt),pt=[st[bt]]):pt.push(st[bt]))}if(pt&&ht.push(pt),it>1)for(let bt=0;bt<ht.length;bt++)ht[bt].length<=it||(W2(ht[bt],it,1,ht[bt].length-1,q2),ht[bt]=ht[bt].slice(0,it));return ht}function q2(st,it){return it.area-st.area}function Wv(st,it,ct){const ht=ct.patternDependencies;let pt=!1;for(const yt of it){const bt=yt.paint.get(`${st}-pattern`);bt.isConstant()||(pt=!0);const St=bt.constantOr(null);St&&(pt=!0,ht[St]=!0)}return pt}function Hv(st,it,ct,ht,pt){const yt=pt.patternDependencies;for(const bt of it){const St=bt.paint.get(`${st}-pattern`).value;if(St.kind!=="constant"){let Rt=St.evaluate({zoom:ht},ct,{},pt.availableImages);Rt=Rt&&Rt.name?Rt.name:Rt,yt[Rt]=!0,ct.patterns[bt.id]=Rt}}return ct}class w1{constructor(it){this.zoom=it.zoom,this.overscaling=it.overscaling,this.layers=it.layers,this.layerIds=this.layers.map(ct=>ct.id),this.index=it.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new In,this.indexArray=new io,this.indexArray2=new xs,this.programConfigurations=new Ip(it.layers,it.zoom),this.segments=new us,this.segments2=new us,this.stateDependentLayerIds=this.layers.filter(ct=>ct.isStateDependent()).map(ct=>ct.id),this.projection=it.projection}populate(it,ct,ht,pt){this.hasPattern=Wv("fill",this.layers,ct);const yt=this.layers[0].layout.get("fill-sort-key"),bt=[];for(const{feature:St,id:Rt,index:kt,sourceLayerIndex:Bt}of it){const jt=this.layers[0]._featureFilter.needGeometry,Ht=Bp(St,jt);if(!this.layers[0]._featureFilter.filter(new Nt(this.zoom),Ht,ht))continue;const Yt=yt?yt.evaluate(Ht,{},ht,ct.availableImages):void 0,Jt={id:Rt,properties:St.properties,type:St.type,sourceLayerIndex:Bt,index:kt,geometry:jt?Ht.geometry:Ru(St,ht,pt),patterns:{},sortKey:Yt};bt.push(Jt)}yt&&bt.sort((St,Rt)=>St.sortKey-Rt.sortKey);for(const St of bt){const{geometry:Rt,index:kt,sourceLayerIndex:Bt}=St;if(this.hasPattern){const jt=Hv("fill",this.layers,St,this.zoom,ct);this.patternFeatures.push(jt)}else this.addFeature(St,Rt,kt,ht,{},ct.availableImages);ct.featureIndex.insert(it[kt].feature,Rt,kt,Bt,this.index)}}update(it,ct,ht,pt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(it,ct,this.stateDependentLayers,ht,pt)}addFeatures(it,ct,ht,pt,yt){for(const bt of this.patternFeatures)this.addFeature(bt,bt.geometry,bt.index,ct,ht,pt)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(it){this.uploaded||(this.layoutVertexBuffer=it.createVertexBuffer(this.layoutVertexArray,D2),this.indexBuffer=it.createIndexBuffer(this.indexArray),this.indexBuffer2=it.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(it),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(it,ct,ht,pt,yt,bt=[]){for(const St of Gv(ct,500)){let Rt=0;for(const Jt of St)Rt+=Jt.length;const kt=this.segments.prepareSegment(Rt,this.layoutVertexArray,this.indexArray),Bt=kt.vertexLength,jt=[],Ht=[];for(const Jt of St){if(Jt.length===0)continue;Jt!==St[0]&&Ht.push(jt.length/2);const or=this.segments2.prepareSegment(Jt.length,this.layoutVertexArray,this.indexArray2),gr=or.vertexLength;this.layoutVertexArray.emplaceBack(Jt[0].x,Jt[0].y),this.indexArray2.emplaceBack(gr+Jt.length-1,gr),jt.push(Jt[0].x),jt.push(Jt[0].y);for(let Mr=1;Mr<Jt.length;Mr++)this.layoutVertexArray.emplaceBack(Jt[Mr].x,Jt[Mr].y),this.indexArray2.emplaceBack(gr+Mr-1,gr+Mr),jt.push(Jt[Mr].x),jt.push(Jt[Mr].y);or.vertexLength+=Jt.length,or.primitiveLength+=Jt.length}const Yt=Uv(jt,Ht);for(let Jt=0;Jt<Yt.length;Jt+=3)this.indexArray.emplaceBack(Bt+Yt[Jt],Bt+Yt[Jt+1],Bt+Yt[Jt+2]);kt.vertexLength+=Rt,kt.primitiveLength+=Yt.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,it,ht,yt,bt,pt)}}Xn(w1,"FillBucket",{omit:["layers","patternFeatures"]});const Z2=new Ir({"fill-sort-key":new _r(_n.layout_fill["fill-sort-key"])});var K2={paint:new Ir({"fill-antialias":new ir(_n.paint_fill["fill-antialias"]),"fill-opacity":new _r(_n.paint_fill["fill-opacity"]),"fill-color":new _r(_n.paint_fill["fill-color"]),"fill-outline-color":new _r(_n.paint_fill["fill-outline-color"]),"fill-translate":new ir(_n.paint_fill["fill-translate"]),"fill-translate-anchor":new ir(_n.paint_fill["fill-translate-anchor"]),"fill-pattern":new _r(_n.paint_fill["fill-pattern"])}),layout:Z2};const X2=Yr([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Y2=Yr([{name:"a_centroid_pos",components:2,type:"Uint16"}]),Q2=Yr([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:J2}=X2;var S1={},eS=Wt,wx=km;function km(st,it,ct,ht,pt){this.properties={},this.extent=ct,this.type=0,this._pbf=st,this._geometry=-1,this._keys=ht,this._values=pt,st.readFields(tS,this,it)}function tS(st,it,ct){st==1?it.id=ct.readVarint():st==2?function(ht,pt){for(var yt=ht.readVarint()+ht.pos;ht.pos<yt;){var bt=pt._keys[ht.readVarint()],St=pt._values[ht.readVarint()];pt.properties[bt]=St}}(ct,it):st==3?it.type=ct.readVarint():st==4&&(it._geometry=ct.pos)}function rS(st){for(var it,ct,ht=0,pt=0,yt=st.length,bt=yt-1;pt<yt;bt=pt++)ht+=((ct=st[bt]).x-(it=st[pt]).x)*(it.y+ct.y);return ht}km.types=["Unknown","Point","LineString","Polygon"],km.prototype.loadGeometry=function(){var st=this._pbf;st.pos=this._geometry;for(var it,ct=st.readVarint()+st.pos,ht=1,pt=0,yt=0,bt=0,St=[];st.pos<ct;){if(pt<=0){var Rt=st.readVarint();ht=7&Rt,pt=Rt>>3}if(pt--,ht===1||ht===2)yt+=st.readSVarint(),bt+=st.readSVarint(),ht===1&&(it&&St.push(it),it=[]),it.push(new eS(yt,bt));else{if(ht!==7)throw new Error("unknown command "+ht);it&&it.push(it[0].clone())}}return it&&St.push(it),St},km.prototype.bbox=function(){var st=this._pbf;st.pos=this._geometry;for(var it=st.readVarint()+st.pos,ct=1,ht=0,pt=0,yt=0,bt=1/0,St=-1/0,Rt=1/0,kt=-1/0;st.pos<it;){if(ht<=0){var Bt=st.readVarint();ct=7&Bt,ht=Bt>>3}if(ht--,ct===1||ct===2)(pt+=st.readSVarint())<bt&&(bt=pt),pt>St&&(St=pt),(yt+=st.readSVarint())<Rt&&(Rt=yt),yt>kt&&(kt=yt);else if(ct!==7)throw new Error("unknown command "+ct)}return[bt,Rt,St,kt]},km.prototype.toGeoJSON=function(st,it,ct){var ht,pt,yt=this.extent*Math.pow(2,ct),bt=this.extent*st,St=this.extent*it,Rt=this.loadGeometry(),kt=km.types[this.type];function Bt(Yt){for(var Jt=0;Jt<Yt.length;Jt++){var or=Yt[Jt];Yt[Jt]=[360*(or.x+bt)/yt-180,360/Math.PI*Math.atan(Math.exp((180-360*(or.y+St)/yt)*Math.PI/180))-90]}}switch(this.type){case 1:var jt=[];for(ht=0;ht<Rt.length;ht++)jt[ht]=Rt[ht][0];Bt(Rt=jt);break;case 2:for(ht=0;ht<Rt.length;ht++)Bt(Rt[ht]);break;case 3:for(Rt=function(Yt){var Jt=Yt.length;if(Jt<=1)return[Yt];for(var or,gr,Mr=[],Fr=0;Fr<Jt;Fr++){var kr=rS(Yt[Fr]);kr!==0&&(gr===void 0&&(gr=kr<0),gr===kr<0?(or&&Mr.push(or),or=[Yt[Fr]]):or.push(Yt[Fr]))}return or&&Mr.push(or),Mr}(Rt),ht=0;ht<Rt.length;ht++)for(pt=0;pt<Rt[ht].length;pt++)Bt(Rt[ht][pt])}Rt.length===1?Rt=Rt[0]:kt="Multi"+kt;var Ht={type:"Feature",geometry:{type:kt,coordinates:Rt},properties:this.properties};return"id"in this&&(Ht.id=this.id),Ht};var nS=wx,Sx=Ex;function Ex(st,it){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=st,this._keys=[],this._values=[],this._features=[],st.readFields(iS,this,it),this.length=this._features.length}function iS(st,it,ct){st===15?it.version=ct.readVarint():st===1?it.name=ct.readString():st===5?it.extent=ct.readVarint():st===2?it._features.push(ct.pos):st===3?it._keys.push(ct.readString()):st===4&&it._values.push(function(ht){for(var pt=null,yt=ht.readVarint()+ht.pos;ht.pos<yt;){var bt=ht.readVarint()>>3;pt=bt===1?ht.readString():bt===2?ht.readFloat():bt===3?ht.readDouble():bt===4?ht.readVarint64():bt===5?ht.readVarint():bt===6?ht.readSVarint():bt===7?ht.readBoolean():null}return pt}(ct))}Ex.prototype.feature=function(st){if(st<0||st>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[st];var it=this._pbf.readVarint()+this._pbf.pos;return new nS(this._pbf,it,this.extent,this._keys,this._values)};var oS=Sx;function aS(st,it,ct){if(st===3){var ht=new oS(ct,ct.readVarint()+ct.pos);ht.length&&(it[ht.name]=ht)}}var qv=S1.VectorTile=function(st,it){this.layers=st.readFields(aS,{},it)},E1=S1.VectorTileFeature=wx;function C1(st,it,ct,ht){const pt=[],yt=ht===0?(bt,St,Rt,kt,Bt,jt)=>{bt.push(new er(jt,Rt+(jt-St)/(kt-St)*(Bt-Rt)))}:(bt,St,Rt,kt,Bt,jt)=>{bt.push(new er(St+(jt-Rt)/(Bt-Rt)*(kt-St),jt))};for(const bt of st){const St=[];for(const Rt of bt){if(Rt.length<=2)continue;const kt=[];for(let Ht=0;Ht<Rt.length-1;Ht++){const Yt=Rt[Ht].x,Jt=Rt[Ht].y,or=Rt[Ht+1].x,gr=Rt[Ht+1].y,Mr=ht===0?Yt:Jt,Fr=ht===0?or:gr;Mr<it?Fr>it&&yt(kt,Yt,Jt,or,gr,it):Mr>ct?Fr<ct&&yt(kt,Yt,Jt,or,gr,ct):kt.push(Rt[Ht]),Fr<it&&Mr>=it&&yt(kt,Yt,Jt,or,gr,it),Fr>ct&&Mr<=ct&&yt(kt,Yt,Jt,or,gr,ct)}let Bt=Rt[Rt.length-1];const jt=ht===0?Bt.x:Bt.y;jt>=it&&jt<=ct&&kt.push(Bt),kt.length&&(Bt=kt[kt.length-1],kt[0].x===Bt.x&&kt[0].y===Bt.y||kt.push(kt[0]),St.push(kt))}St.length&&pt.push(St)}return pt}S1.VectorTileLayer=Sx;const sS=E1.types,lS=Math.pow(2,13);function ty(st,it,ct,ht,pt,yt,bt,St){st.emplaceBack((it<<1)+bt,(ct<<1)+yt,(Math.floor(ht*lS)<<1)+pt,Math.round(St))}function ry(st,it,ct){st.emplaceBack(it.x,it.y,it.z,ct[0]*16384,ct[1]*16384,ct[2]*16384)}class Cx{constructor(){this.acc=new er(0,0),this.polyCount=[]}startRing(it){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new er(it.x,it.y),this.max=new er(it.x,it.y))}append(it,ct){this.currentPolyCount.edges++,this.acc._add(it);const ht=this.min,pt=this.max;it.x<ht.x?ht.x=it.x:it.x>pt.x&&(pt.x=it.x),it.y<ht.y?ht.y=it.y:it.y>pt.y&&(pt.y=it.y),((it.x===0||it.x===lo)&&it.x===ct.x)!=((it.y===0||it.y===lo)&&it.y===ct.y)&&this.processBorderOverlap(it,ct),ct.x<0!=it.x<0&&this.addBorderIntersection(0,Lo(ct.y,it.y,(0-ct.x)/(it.x-ct.x))),ct.x>lo!=it.x>lo&&this.addBorderIntersection(1,Lo(ct.y,it.y,(lo-ct.x)/(it.x-ct.x))),ct.y<0!=it.y<0&&this.addBorderIntersection(2,Lo(ct.x,it.x,(0-ct.y)/(it.y-ct.y))),ct.y>lo!=it.y>lo&&this.addBorderIntersection(3,Lo(ct.x,it.x,(lo-ct.y)/(it.y-ct.y)))}addBorderIntersection(it,ct){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const ht=this.borders[it];ct<ht[0]&&(ht[0]=ct),ct>ht[1]&&(ht[1]=ct)}processBorderOverlap(it,ct){if(it.x===ct.x){if(it.y===ct.y)return;const ht=it.x===0?0:1;this.addBorderIntersection(ht,ct.y),this.addBorderIntersection(ht,it.y)}else{const ht=it.y===0?2:3;this.addBorderIntersection(ht,ct.x),this.addBorderIntersection(ht,it.x)}}centroid(){const it=this.polyCount.reduce((ct,ht)=>ct+ht.edges,0);return it!==0?this.acc.div(it)._round():new er(0,0)}span(){return new er(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((it,ct)=>it+ +(ct[0]!==Number.MAX_VALUE),0)}}class ny{constructor(it){this.zoom=it.zoom,this.canonical=it.canonical,this.overscaling=it.overscaling,this.layers=it.layers,this.layerIds=this.layers.map(ct=>ct.id),this.index=it.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=it.projection,this.layoutVertexArray=new Sn,this.centroidVertexArray=new Hl,this.indexArray=new io,this.programConfigurations=new Ip(it.layers,it.zoom),this.segments=new us,this.stateDependentLayerIds=this.layers.filter(ct=>ct.isStateDependent()).map(ct=>ct.id),this.enableTerrain=it.enableTerrain}populate(it,ct,ht,pt){this.features=[],this.hasPattern=Wv("fill-extrusion",this.layers,ct),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(yt){const bt=Math.exp(Math.PI*(1-yt.y/(1<<yt.z)*2));return 80150034*bt/(bt*bt+1)/lo/(1<<yt.z)}(ht),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:yt,id:bt,index:St,sourceLayerIndex:Rt}of it){const kt=this.layers[0]._featureFilter.needGeometry,Bt=Bp(yt,kt);if(!this.layers[0]._featureFilter.filter(new Nt(this.zoom),Bt,ht))continue;const jt={id:bt,sourceLayerIndex:Rt,index:St,geometry:kt?Bt.geometry:Ru(yt,ht,pt),properties:yt.properties,type:yt.type,patterns:{}},Ht=this.layoutVertexArray.length;this.hasPattern?this.features.push(Hv("fill-extrusion",this.layers,jt,this.zoom,ct)):this.addFeature(jt,jt.geometry,St,ht,{},ct.availableImages,pt),ct.featureIndex.insert(yt,jt.geometry,St,Rt,this.index,Ht)}this.sortBorders()}addFeatures(it,ct,ht,pt,yt){for(const bt of this.features){const{geometry:St}=bt;this.addFeature(bt,St,bt.index,ct,ht,pt,yt)}this.sortBorders()}update(it,ct,ht,pt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(it,ct,this.stateDependentLayers,ht,pt)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(it){this.uploaded||(this.layoutVertexBuffer=it.createVertexBuffer(this.layoutVertexArray,J2),this.indexBuffer=it.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=it.createVertexBuffer(this.layoutVertexExtArray,Q2.members,!0))),this.programConfigurations.upload(it),this.uploaded=!0}uploadCentroid(it){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=it.createVertexBuffer(this.centroidVertexArray,Y2.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(it,ct,ht,pt,yt,bt,St){const Rt=[new er(0,0),new er(lo,lo)],kt=St.projection,Bt=kt.name==="globe",jt=this.enableTerrain&&!Bt?new Cx:null,Ht=sS[it.type]==="Polygon";Bt&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Dn);const Yt=Gv(ct,500);for(let Mr=Yt.length-1;Mr>=0;Mr--){const Fr=Yt[Mr];(Fr.length===0||(Jt=Fr[0]).every(kr=>kr.x<=0)||Jt.every(kr=>kr.x>=lo)||Jt.every(kr=>kr.y<=0)||Jt.every(kr=>kr.y>=lo))&&Yt.splice(Mr,1)}var Jt;let or;if(Bt)or=$x(Yt,Rt,pt);else{or=[];for(const Mr of Yt)or.push({polygon:Mr,bounds:Rt})}const gr=Ht?this.edgeRadius:0;for(const{polygon:Mr,bounds:Fr}of or){let kr=0,Or=0;for(const zr of Mr)Ht&&!zr[0].equals(zr[zr.length-1])&&zr.push(zr[0]),Or+=Ht?zr.length-1:zr.length;const Nr=this.segments.prepareSegment((Ht?5:4)*Or,this.layoutVertexArray,this.indexArray);if(Ht){const zr=[],sn=[];kr=Nr.vertexLength;for(const xn of Mr){let Ln,hn;xn.length&&xn!==Mr[0]&&sn.push(zr.length/2),Ln=xn[1].sub(xn[0])._perp()._unit();for(let Cn=1;Cn<xn.length;Cn++){const Tn=xn[Cn],kn=xn[Cn===xn.length-1?1:Cn+1];let{x:zn,y:vn}=Tn;if(gr){hn=kn.sub(Tn)._perp()._unit();const Un=Ln.add(hn)._unit(),Jn=gr*Math.min(4,1/(Ln.x*Un.x+Ln.y*Un.y));zn+=Jn*Un.x,vn+=Jn*Un.y,Ln=hn}ty(this.layoutVertexArray,zn,vn,0,0,1,1,0),Nr.vertexLength++,zr.push(Tn.x,Tn.y),Bt&&ry(this.layoutVertexExtArray,kt.projectTilePoint(zn,vn,pt),kt.upVector(pt,zn,vn))}}const nn=Uv(zr,sn);for(let xn=0;xn<nn.length;xn+=3)this.indexArray.emplaceBack(kr+nn[xn],kr+nn[xn+2],kr+nn[xn+1]),Nr.primitiveLength++}for(const zr of Mr){jt&&zr.length&&jt.startRing(zr[0]);let sn,nn,xn,Ln=zr.length>4&&Ax(zr[zr.length-2],zr[0],zr[1]),hn=gr?cS(zr[zr.length-2],zr[0],zr[1],gr):0;nn=zr[1].sub(zr[0])._perp()._unit();let Cn=!0;for(let Tn=1,kn=0;Tn<zr.length;Tn++){let zn=zr[Tn-1],vn=zr[Tn];const Un=zr[Tn===zr.length-1?1:Tn+1];if(jt&&Ht&&jt.currentPolyCount.top++,Px(vn,zn,Fr)){gr&&(nn=Un.sub(vn)._perp()._unit(),Cn=!Cn);continue}jt&&jt.append(vn,zn);const Jn=vn.sub(zn)._perp(),Gn=Jn.x/(Math.abs(Jn.x)+Math.abs(Jn.y)),_o=Jn.y>0?1:0,Nn=zn.dist(vn);if(kn+Nn>32768&&(kn=0),gr){xn=Un.sub(vn)._perp()._unit();let bo=Rx(zn,vn,Un,Tx(nn,xn),gr);isNaN(bo)&&(bo=0);const fo=vn.sub(zn)._unit();zn=zn.add(fo.mult(hn))._round(),vn=vn.add(fo.mult(-bo))._round(),hn=bo,nn=xn}const ao=Nr.vertexLength,xo=zr.length>4&&Ax(zn,vn,Un);let Oo=Mx(kn,Ln,Cn);if(ty(this.layoutVertexArray,zn.x,zn.y,Gn,_o,0,0,Oo),ty(this.layoutVertexArray,zn.x,zn.y,Gn,_o,0,1,Oo),kn+=Nn,Oo=Mx(kn,xo,!Cn),Ln=xo,ty(this.layoutVertexArray,vn.x,vn.y,Gn,_o,0,0,Oo),ty(this.layoutVertexArray,vn.x,vn.y,Gn,_o,0,1,Oo),Nr.vertexLength+=4,this.indexArray.emplaceBack(ao+0,ao+1,ao+2),this.indexArray.emplaceBack(ao+1,ao+3,ao+2),Nr.primitiveLength+=2,gr){const bo=kr+(Tn===1?zr.length-2:Tn-2),fo=Tn===1?kr:bo+1;if(this.indexArray.emplaceBack(ao+1,bo,ao+3),this.indexArray.emplaceBack(bo,fo,ao+3),Nr.primitiveLength+=2,sn===void 0&&(sn=ao),!Px(Un,zr[Tn],Fr)){const _a=Tn===zr.length-1?sn:Nr.vertexLength;this.indexArray.emplaceBack(ao+2,ao+3,_a),this.indexArray.emplaceBack(ao+3,_a+1,_a),this.indexArray.emplaceBack(ao+3,fo,_a+1),Nr.primitiveLength+=3}Cn=!Cn}if(Bt){const bo=this.layoutVertexExtArray,fo=kt.projectTilePoint(zn.x,zn.y,pt),_a=kt.projectTilePoint(vn.x,vn.y,pt),wo=kt.upVector(pt,zn.x,zn.y),So=kt.upVector(pt,vn.x,vn.y);ry(bo,fo,wo),ry(bo,fo,wo),ry(bo,_a,So),ry(bo,_a,So)}}Ht&&(kr+=zr.length-1)}}if(jt&&jt.polyCount.length>0){if(jt.borders){jt.vertexArrayOffset=this.centroidVertexArray.length;const Mr=jt.borders,Fr=this.featuresOnBorder.push(jt)-1;for(let kr=0;kr<4;kr++)Mr[kr][0]!==Number.MAX_VALUE&&this.borders[kr].push(Fr)}this.encodeCentroid(jt.borders?void 0:jt.centroid(),jt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,it,ht,yt,bt,pt)}sortBorders(){for(let it=0;it<4;it++)this.borders[it].sort((ct,ht)=>this.featuresOnBorder[ct].borders[it][0]-this.featuresOnBorder[ht].borders[it][0])}encodeCentroid(it,ct,ht=!0){let pt,yt;if(it)if(it.y!==0){const St=ct.span()._mult(this.tileToMeter);pt=(Math.max(it.x,1)<<3)+Math.min(7,Math.round(St.x/10)),yt=(Math.max(it.y,1)<<3)+Math.min(7,Math.round(St.y/10))}else pt=Math.ceil(7*(it.x+450)),yt=0;else pt=0,yt=+ht;let bt=ht?this.centroidVertexArray.length:ct.vertexArrayOffset;for(const St of ct.polyCount){ht&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*St.edges+St.top);for(let Rt=0;Rt<St.top;Rt++)this.centroidVertexArray.emplace(bt++,pt,yt);for(let Rt=0;Rt<2*St.edges;Rt++)this.centroidVertexArray.emplace(bt++,0,yt),this.centroidVertexArray.emplace(bt++,pt,yt)}}}function Tx(st,it){const ct=st.add(it)._unit();return st.x*ct.x+st.y*ct.y}function cS(st,it,ct,ht){const pt=it.sub(st)._perp()._unit(),yt=ct.sub(it)._perp()._unit();return Rx(st,it,ct,Tx(pt,yt),ht)}function Rx(st,it,ct,ht,pt){const yt=Math.sqrt(1-ht*ht);return Math.min(st.dist(it)/3,it.dist(ct)/3,pt*yt/ht)}function Px(st,it,ct){return st.x<ct[0].x&&it.x<ct[0].x||st.x>ct[1].x&&it.x>ct[1].x||st.y<ct[0].y&&it.y<ct[0].y||st.y>ct[1].y&&it.y>ct[1].y}function Ax(st,it,ct){if(st.x<0||st.x>=lo||it.x<0||it.x>=lo||ct.x<0||ct.x>=lo)return!1;const ht=ct.sub(it),pt=ht.perp(),yt=st.sub(it);return(ht.x*yt.x+ht.y*yt.y)/Math.sqrt((ht.x*ht.x+ht.y*ht.y)*(yt.x*yt.x+yt.y*yt.y))>-.866&&pt.x*yt.x+pt.y*yt.y<0}function Mx(st,it,ct){const ht=it?2|st:-3&st;return ct?1|ht:-2&ht}function kx(){const st=Math.PI/32,it=Math.tan(st),ct=X0;return ct*Math.sqrt(1+2*it*it)-ct}function $x(st,it,ct){const ht=1<<ct.z,pt=xl(ct.x/ht),yt=xl((ct.x+1)/ht),bt=As(ct.y/ht),St=As((ct.y+1)/ht);return function(Rt,kt,Bt,jt,Ht=0,Yt){const Jt=[];if(!Rt.length||!Bt||!jt)return Jt;const or=(zr,sn)=>{for(const nn of zr)Jt.push({polygon:nn,bounds:sn})},gr=Math.ceil(Math.log2(Bt)),Mr=Math.ceil(Math.log2(jt)),Fr=gr-Mr,kr=[];for(let zr=0;zr<Math.abs(Fr);zr++)kr.push(Fr>0?0:1);for(let zr=0;zr<Math.min(gr,Mr);zr++)kr.push(0),kr.push(1);let Or=Rt;if(Or=C1(Or,kt[0].y-Ht,kt[1].y+Ht,1),Or=C1(Or,kt[0].x-Ht,kt[1].x+Ht,0),!Or.length)return Jt;const Nr=[];for(kr.length?Nr.push({polygons:Or,bounds:kt,depth:0}):or(Or,kt);Nr.length;){const zr=Nr.pop(),sn=zr.depth,nn=kr[sn],xn=zr.bounds[0],Ln=zr.bounds[1],hn=nn===0?xn.x:xn.y,Cn=nn===0?Ln.x:Ln.y,Tn=Yt?Yt(nn,hn,Cn):.5*(hn+Cn),kn=C1(zr.polygons,hn-Ht,Tn+Ht,nn),zn=C1(zr.polygons,Tn-Ht,Cn+Ht,nn);if(kn.length){const vn=[xn,new er(nn===0?Tn:Ln.x,nn===1?Tn:Ln.y)];kr.length>sn+1?Nr.push({polygons:kn,bounds:vn,depth:sn+1}):or(kn,vn)}if(zn.length){const vn=[new er(nn===0?Tn:xn.x,nn===1?Tn:xn.y),Ln];kr.length>sn+1?Nr.push({polygons:zn,bounds:vn,depth:sn+1}):or(zn,vn)}}return Jt}(st,it,Math.ceil((yt-pt)/11.25),Math.ceil((bt-St)/11.25),1,(Rt,kt,Bt)=>{if(Rt===0)return .5*(kt+Bt);{const jt=As((ct.y+kt/lo)/ht);return(lu(.5*(As((ct.y+Bt/lo)/ht)+jt))*ht-ct.y)*lo}})}Xn(ny,"FillExtrusionBucket",{omit:["layers","features"]}),Xn(Cx,"PartMetadata");const uS=new Ir({"fill-extrusion-edge-radius":new ir(_n["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var hS={paint:new Ir({"fill-extrusion-opacity":new ir(_n["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new _r(_n["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ir(_n["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ir(_n["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new _r(_n["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new _r(_n["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new _r(_n["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ir(_n["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new ir(_n["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new ir(_n["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new ir(_n["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:uS};function Ix(st,it,ct){var ht=2*Math.PI*6378137/256/Math.pow(2,ct);return[st*ht-2*Math.PI*6378137/2,it*ht-2*Math.PI*6378137/2]}class T1{constructor(it,ct,ht){this.z=it,this.x=ct,this.y=ht,this.key=iy(0,it,it,ct,ht)}equals(it){return this.z===it.z&&this.x===it.x&&this.y===it.y}url(it,ct){const ht=function(yt,bt,St){var Rt=Ix(256*yt,256*(bt=Math.pow(2,St)-bt-1),St),kt=Ix(256*(yt+1),256*(bt+1),St);return Rt[0]+","+Rt[1]+","+kt[0]+","+kt[1]}(this.x,this.y,this.z),pt=function(yt,bt,St){let Rt,kt="";for(let Bt=yt;Bt>0;Bt--)Rt=1<<Bt-1,kt+=(bt&Rt?1:0)+(St&Rt?2:0);return kt}(this.z,this.x,this.y);return it[(this.x+this.y)%it.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(ct==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",pt).replace("{bbox-epsg-3857}",ht)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Lx{constructor(it,ct){this.wrap=it,this.canonical=ct,this.key=iy(it,ct.z,ct.z,ct.x,ct.y)}}class Fs{constructor(it,ct,ht,pt,yt){this.overscaledZ=it,this.wrap=ct,this.canonical=new T1(ht,+pt,+yt),this.key=ct===0&&it===ht?this.canonical.key:iy(ct,it,ht,pt,yt)}equals(it){return this.overscaledZ===it.overscaledZ&&this.wrap===it.wrap&&this.canonical.equals(it.canonical)}scaledTo(it){const ct=this.canonical.z-it;return it>this.canonical.z?new Fs(it,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Fs(it,this.wrap,it,this.canonical.x>>ct,this.canonical.y>>ct)}calculateScaledKey(it,ct=!0){if(this.overscaledZ===it&&ct)return this.key;if(it>this.canonical.z)return iy(this.wrap*+ct,it,this.canonical.z,this.canonical.x,this.canonical.y);{const ht=this.canonical.z-it;return iy(this.wrap*+ct,it,it,this.canonical.x>>ht,this.canonical.y>>ht)}}isChildOf(it){if(it.wrap!==this.wrap)return!1;const ct=this.canonical.z-it.canonical.z;return it.overscaledZ===0||it.overscaledZ<this.overscaledZ&&it.canonical.x===this.canonical.x>>ct&&it.canonical.y===this.canonical.y>>ct}children(it){if(this.overscaledZ>=it)return[new Fs(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const ct=this.canonical.z+1,ht=2*this.canonical.x,pt=2*this.canonical.y;return[new Fs(ct,this.wrap,ct,ht,pt),new Fs(ct,this.wrap,ct,ht+1,pt),new Fs(ct,this.wrap,ct,ht,pt+1),new Fs(ct,this.wrap,ct,ht+1,pt+1)]}isLessThan(it){return this.wrap<it.wrap||!(this.wrap>it.wrap)&&(this.overscaledZ<it.overscaledZ||!(this.overscaledZ>it.overscaledZ)&&(this.canonical.x<it.canonical.x||!(this.canonical.x>it.canonical.x)&&this.canonical.y<it.canonical.y))}wrapped(){return new Fs(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(it){return new Fs(this.overscaledZ,it,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Lx(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function iy(st,it,ct,ht,pt){const yt=1<<Math.min(ct,22);let bt=yt*(pt%yt)+ht%yt;return st&&ct<22&&(bt+=yt*yt*((st<0?-2*st-1:2*st)%(1<<2*(22-ct)))),16*(32*bt+ct)+(it-ct)}Xn(T1,"CanonicalTileID"),Xn(Fs,"OverscaledTileID",{omit:["projMatrix"]});class $m extends er{constructor(it,ct,ht){super(it,ct),this.z=ht}}function oy(st,it){return st.x*it.x+st.y*it.y}function Dx(st,it){if(st.length===1){let ct=0;const ht=it[ct++];let pt;for(;!pt||ht.equals(pt);)if(pt=it[ct++],!pt)return 1/0;for(;ct<it.length;ct++){const yt=it[ct],bt=st[0],St=pt.sub(ht),Rt=yt.sub(ht),kt=bt.sub(ht),Bt=oy(St,St),jt=oy(St,Rt),Ht=oy(Rt,Rt),Yt=oy(kt,St),Jt=oy(kt,Rt),or=Bt*Ht-jt*jt,gr=(Ht*Yt-jt*Jt)/or,Mr=(Bt*Jt-jt*Yt)/or,Fr=ht.z*(1-gr-Mr)+pt.z*gr+yt.z*Mr;if(isFinite(Fr))return Fr}return 1/0}{let ct=1/0;for(const ht of it)ct=Math.min(ct,ht.z);return ct}}function Ox(st,it,ct,ht,pt,yt,bt,St){const Rt=bt*pt.getElevationAt(st,it,!0,!0),kt=yt[0]!==0,Bt=kt?yt[1]===0?bt*(yt[0]/7-450):bt*function(jt,Ht,Yt){const Jt=Math.floor(Ht[0]/8),or=Math.floor(Ht[1]/8),gr=10*(Ht[0]-8*Jt),Mr=10*(Ht[1]-8*or),Fr=jt.getElevationAt(Jt,or,!0,!0),kr=jt.getMeterToDEM(Yt),Or=Math.floor(.5*(gr*kr-1)),Nr=Math.floor(.5*(Mr*kr-1)),zr=jt.tileCoordToPixel(Jt,or),sn=2*Or+1,nn=2*Nr+1,xn=function(zn,vn,Un,Jn,Gn){return[zn.getElevationAtPixel(vn,Un,!0),zn.getElevationAtPixel(vn+Gn,Un,!0),zn.getElevationAtPixel(vn,Un+Gn,!0),zn.getElevationAtPixel(vn+Jn,Un+Gn,!0)]}(jt,zr.x-Or,zr.y-Nr,sn,nn),Ln=Math.abs(xn[0]-xn[1]),hn=Math.abs(xn[2]-xn[3]),Cn=Math.abs(xn[0]-xn[2])+Math.abs(xn[1]-xn[3]),Tn=Math.min(.25,.5*kr*(Ln+hn)/sn),kn=Math.min(.25,.5*kr*Cn/nn);return Fr+Math.max(Tn*gr,kn*Mr)}(pt,yt,St):Rt;return{base:Rt+(ct===0)?-1:ct,top:kt?Math.max(Bt+ht,Rt+ct+2):Rt+ht}}const dS=Yr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:fS}=dS,pS=Yr([{name:"a_packed",components:4,type:"Float32"}]),{members:mS}=pS,gS=E1.types,yS=Math.cos(Math.PI/180*37.5);class R1{constructor(it){this.zoom=it.zoom,this.overscaling=it.overscaling,this.layers=it.layers,this.layerIds=this.layers.map(ct=>ct.id),this.index=it.index,this.projection=it.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(ct=>{this.gradients[ct.id]={}}),this.layoutVertexArray=new un,this.layoutVertexArray2=new $n,this.indexArray=new io,this.programConfigurations=new Ip(it.layers,it.zoom),this.segments=new us,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(ct=>ct.isStateDependent()).map(ct=>ct.id)}populate(it,ct,ht,pt){this.hasPattern=Wv("line",this.layers,ct);const yt=this.layers[0].layout.get("line-sort-key"),bt=[];for(const{feature:Bt,id:jt,index:Ht,sourceLayerIndex:Yt}of it){const Jt=this.layers[0]._featureFilter.needGeometry,or=Bp(Bt,Jt);if(!this.layers[0]._featureFilter.filter(new Nt(this.zoom),or,ht))continue;const gr=yt?yt.evaluate(or,{},ht):void 0,Mr={id:jt,properties:Bt.properties,type:Bt.type,sourceLayerIndex:Yt,index:Ht,geometry:Jt?or.geometry:Ru(Bt,ht,pt),patterns:{},sortKey:gr};bt.push(Mr)}yt&&bt.sort((Bt,jt)=>Bt.sortKey-jt.sortKey);const{lineAtlas:St,featureIndex:Rt}=ct,kt=this.addConstantDashes(St);for(const Bt of bt){const{geometry:jt,index:Ht,sourceLayerIndex:Yt}=Bt;if(kt&&this.addFeatureDashes(Bt,St),this.hasPattern){const Jt=Hv("line",this.layers,Bt,this.zoom,ct);this.patternFeatures.push(Jt)}else this.addFeature(Bt,jt,Ht,ht,St.positions,ct.availableImages);Rt.insert(it[Ht].feature,jt,Ht,Yt,this.index)}}addConstantDashes(it){let ct=!1;for(const ht of this.layers){const pt=ht.paint.get("line-dasharray").value,yt=ht.layout.get("line-cap").value;if(pt.kind!=="constant"||yt.kind!=="constant")ct=!0;else{const bt=yt.value,St=pt.value;if(!St)continue;it.addDash(St,bt)}}return ct}addFeatureDashes(it,ct){const ht=this.zoom;for(const pt of this.layers){const yt=pt.paint.get("line-dasharray").value,bt=pt.layout.get("line-cap").value;if(yt.kind==="constant"&&bt.kind==="constant")continue;let St,Rt;if(yt.kind==="constant"){if(St=yt.value,!St)continue}else St=yt.evaluate({zoom:ht},it);Rt=bt.kind==="constant"?bt.value:bt.evaluate({zoom:ht},it),ct.addDash(St,Rt),it.patterns[pt.id]=ct.getKey(St,Rt)}}update(it,ct,ht,pt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(it,ct,this.stateDependentLayers,ht,pt)}addFeatures(it,ct,ht,pt,yt){for(const bt of this.patternFeatures)this.addFeature(bt,bt.geometry,bt.index,ct,ht,pt)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(it){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=it.createVertexBuffer(this.layoutVertexArray2,mS)),this.layoutVertexBuffer=it.createVertexBuffer(this.layoutVertexArray,fS),this.indexBuffer=it.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(it),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(it){if(it.properties&&it.properties.hasOwnProperty("mapbox_clip_start")&&it.properties.hasOwnProperty("mapbox_clip_end"))return{start:+it.properties.mapbox_clip_start,end:+it.properties.mapbox_clip_end}}addFeature(it,ct,ht,pt,yt,bt){const St=this.layers[0].layout,Rt=St.get("line-join").evaluate(it,{}),kt=St.get("line-cap").evaluate(it,{}),Bt=St.get("line-miter-limit"),jt=St.get("line-round-limit");this.lineClips=this.lineFeatureClips(it);for(const Ht of ct)this.addLine(Ht,it,Rt,kt,Bt,jt);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,it,ht,yt,bt,pt)}addLine(it,ct,ht,pt,yt,bt){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Mr=0;Mr<it.length-1;Mr++)this.totalDistance+=it[Mr].dist(it[Mr+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const St=gS[ct.type]==="Polygon";let Rt=it.length;for(;Rt>=2&&it[Rt-1].equals(it[Rt-2]);)Rt--;let kt=0;for(;kt<Rt-1&&it[kt].equals(it[kt+1]);)kt++;if(Rt<(St?3:2))return;ht==="bevel"&&(yt=1.05);const Bt=this.overscaling<=16?15*lo/(512*this.overscaling):0,jt=this.segments.prepareSegment(10*Rt,this.layoutVertexArray,this.indexArray);let Ht,Yt,Jt,or,gr;this.e1=this.e2=-1,St&&(Ht=it[Rt-2],gr=it[kt].sub(Ht)._unit()._perp());for(let Mr=kt;Mr<Rt;Mr++){if(Jt=Mr===Rt-1?St?it[kt+1]:void 0:it[Mr+1],Jt&&it[Mr].equals(Jt))continue;gr&&(or=gr),Ht&&(Yt=Ht),Ht=it[Mr],gr=Jt?Jt.sub(Ht)._unit()._perp():or,or=or||gr;let Fr=or.add(gr);Fr.x===0&&Fr.y===0||Fr._unit();const kr=or.x*gr.x+or.y*gr.y,Or=Fr.x*gr.x+Fr.y*gr.y,Nr=Or!==0?1/Or:1/0,zr=2*Math.sqrt(2-2*Or),sn=Or<yS&&Yt&&Jt,nn=or.x*gr.y-or.y*gr.x>0;if(sn&&Mr>kt){const hn=Ht.dist(Yt);if(hn>2*Bt){const Cn=Ht.sub(Ht.sub(Yt)._mult(Bt/hn)._round());this.updateDistance(Yt,Cn),this.addCurrentVertex(Cn,or,0,0,jt),Yt=Cn}}const xn=Yt&&Jt;let Ln=xn?ht:St?"butt":pt;if(xn&&Ln==="round"&&(Nr<bt?Ln="miter":Nr<=2&&(Ln="fakeround")),Ln==="miter"&&Nr>yt&&(Ln="bevel"),Ln==="bevel"&&(Nr>2&&(Ln="flipbevel"),Nr<yt&&(Ln="miter")),Yt&&this.updateDistance(Yt,Ht),Ln==="miter")Fr._mult(Nr),this.addCurrentVertex(Ht,Fr,0,0,jt);else if(Ln==="flipbevel"){if(Nr>100)Fr=gr.mult(-1);else{const hn=Nr*or.add(gr).mag()/or.sub(gr).mag();Fr._perp()._mult(hn*(nn?-1:1))}this.addCurrentVertex(Ht,Fr,0,0,jt),this.addCurrentVertex(Ht,Fr.mult(-1),0,0,jt)}else if(Ln==="bevel"||Ln==="fakeround"){const hn=-Math.sqrt(Nr*Nr-1),Cn=nn?hn:0,Tn=nn?0:hn;if(Yt&&this.addCurrentVertex(Ht,or,Cn,Tn,jt),Ln==="fakeround"){const kn=Math.round(180*zr/Math.PI/20);for(let zn=1;zn<kn;zn++){let vn=zn/kn;if(vn!==.5){const Jn=vn-.5;vn+=vn*Jn*(vn-1)*((1.0904+kr*(kr*(3.55645-1.43519*kr)-3.2452))*Jn*Jn+(.848013+kr*(.215638*kr-1.06021)))}const Un=gr.sub(or)._mult(vn)._add(or)._unit()._mult(nn?-1:1);this.addHalfVertex(Ht,Un.x,Un.y,!1,nn,0,jt)}}Jt&&this.addCurrentVertex(Ht,gr,-Cn,-Tn,jt)}else if(Ln==="butt")this.addCurrentVertex(Ht,Fr,0,0,jt);else if(Ln==="square"){const hn=Yt?1:-1;Yt||this.addCurrentVertex(Ht,Fr,hn,hn,jt),this.addCurrentVertex(Ht,Fr,0,0,jt),Yt&&this.addCurrentVertex(Ht,Fr,hn,hn,jt)}else Ln==="round"&&(Yt&&(this.addCurrentVertex(Ht,or,0,0,jt),this.addCurrentVertex(Ht,or,1,1,jt,!0)),Jt&&(this.addCurrentVertex(Ht,gr,-1,-1,jt,!0),this.addCurrentVertex(Ht,gr,0,0,jt)));if(sn&&Mr<Rt-1){const hn=Ht.dist(Jt);if(hn>2*Bt){const Cn=Ht.add(Jt.sub(Ht)._mult(Bt/hn)._round());this.updateDistance(Ht,Cn),this.addCurrentVertex(Cn,gr,0,0,jt),Ht=Cn}}}}addCurrentVertex(it,ct,ht,pt,yt,bt=!1){const St=ct.y*pt-ct.x,Rt=-ct.y-ct.x*pt;this.addHalfVertex(it,ct.x+ct.y*ht,ct.y-ct.x*ht,bt,!1,ht,yt),this.addHalfVertex(it,St,Rt,bt,!0,-pt,yt)}addHalfVertex({x:it,y:ct},ht,pt,yt,bt,St,Rt){this.layoutVertexArray.emplaceBack((it<<1)+(yt?1:0),(ct<<1)+(bt?1:0),Math.round(63*ht)+128,Math.round(63*pt)+128,1+(St===0?0:St<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const kt=Rt.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,kt),Rt.primitiveLength++),bt?this.e2=kt:this.e1=kt}updateScaledDistance(){if(this.lineClips){const it=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=it*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(it,ct){this.distance+=it.dist(ct),this.updateScaledDistance()}}Xn(R1,"LineBucket",{omit:["layers","patternFeatures"]});const vS=new Ir({"line-cap":new _r(_n.layout_line["line-cap"]),"line-join":new _r(_n.layout_line["line-join"]),"line-miter-limit":new ir(_n.layout_line["line-miter-limit"]),"line-round-limit":new ir(_n.layout_line["line-round-limit"]),"line-sort-key":new _r(_n.layout_line["line-sort-key"])});var Fx={paint:new Ir({"line-opacity":new _r(_n.paint_line["line-opacity"]),"line-color":new _r(_n.paint_line["line-color"]),"line-translate":new ir(_n.paint_line["line-translate"]),"line-translate-anchor":new ir(_n.paint_line["line-translate-anchor"]),"line-width":new _r(_n.paint_line["line-width"]),"line-gap-width":new _r(_n.paint_line["line-gap-width"]),"line-offset":new _r(_n.paint_line["line-offset"]),"line-blur":new _r(_n.paint_line["line-blur"]),"line-dasharray":new _r(_n.paint_line["line-dasharray"]),"line-pattern":new _r(_n.paint_line["line-pattern"]),"line-gradient":new $r(_n.paint_line["line-gradient"]),"line-trim-offset":new ir(_n.paint_line["line-trim-offset"])}),layout:vS};const zx=new class extends _r{possiblyEvaluate(st,it){return it=new Nt(Math.floor(it.zoom),{now:it.now,fadeDuration:it.fadeDuration,transition:it.transition}),super.possiblyEvaluate(st,it)}evaluate(st,it,ct,ht){return it=dr({},it,{zoom:Math.floor(it.zoom)}),super.evaluate(st,it,ct,ht)}}(Fx.paint.properties["line-width"].specification);function Bx(st,it){return it>0?it+2*st:st}zx.useIntegerZoom=!0;const _S=Yr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),xS=Yr([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),bS=Yr([{name:"a_projected_pos",components:4,type:"Float32"}],4);Yr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const wS=Yr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),SS=Yr([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Yr([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Nx=Yr([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),ES=Yr([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Yr([{name:"triangle",components:3,type:"Uint16"}]),Yr([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Yr([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Yr([{type:"Float32",name:"offsetX"}]),Yr([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Es=24;const Jl=128;function Zv(st,it){const{expression:ct}=it;if(ct.kind==="constant")return{kind:"constant",layoutSize:ct.evaluate(new Nt(st+1))};if(ct.kind==="source")return{kind:"source"};{const{zoomStops:ht,interpolationType:pt}=ct;let yt=0;for(;yt<ht.length&&ht[yt]<=st;)yt++;yt=Math.max(0,yt-1);let bt=yt;for(;bt<ht.length&&ht[bt]<st+1;)bt++;bt=Math.min(ht.length-1,bt);const St=ht[yt],Rt=ht[bt];return ct.kind==="composite"?{kind:"composite",minZoom:St,maxZoom:Rt,interpolationType:pt}:{kind:"camera",minZoom:St,maxZoom:Rt,minSize:ct.evaluate(new Nt(St)),maxSize:ct.evaluate(new Nt(Rt)),interpolationType:pt}}}function P1(st,{uSize:it,uSizeT:ct},{lowerSize:ht,upperSize:pt}){return st.kind==="source"?ht/Jl:st.kind==="composite"?Lo(ht/Jl,pt/Jl,ct):it}function Im(st,it){let ct=0,ht=0;if(st.kind==="constant")ht=st.layoutSize;else if(st.kind!=="source"){const{interpolationType:pt,minZoom:yt,maxZoom:bt}=st,St=pt?Xt(Rl.interpolationFactor(pt,it,yt,bt),0,1):0;st.kind==="camera"?ht=Lo(st.minSize,st.maxSize,St):ct=St}return{uSizeT:ct,uSize:ht}}var CS=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:Jl,evaluateSizeForFeature:P1,evaluateSizeForZoom:Im,getSizeData:Zv});function TS(st,it,ct){return st.sections.forEach(ht=>{ht.text=function(pt,yt,bt){const St=yt.layout.get("text-transform").evaluate(bt,{});return St==="uppercase"?pt=pt.toLocaleUpperCase():St==="lowercase"&&(pt=pt.toLocaleLowerCase()),zt.applyArabicShaping&&(pt=zt.applyArabicShaping(pt)),pt}(ht.text,it,ct)}),st}const ay={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂","←":"↑","→":"↓"};function RS(st){return st==="︶"||st==="﹈"||st==="︸"||st==="﹄"||st==="﹂"||st==="︾"||st==="︼"||st==="︺"||st==="︘"||st==="﹀"||st==="︐"||st==="︓"||st==="︔"||st==="｀"||st==="￣"||st==="︑"||st==="︒"}function PS(st){return st==="︵"||st==="﹇"||st==="︷"||st==="﹃"||st==="﹁"||st==="︽"||st==="︻"||st==="︹"||st==="︗"||st==="︿"}var jx=Qo,Vx=function(st,it,ct,ht,pt){var yt,bt,St=8*pt-ht-1,Rt=(1<<St)-1,kt=Rt>>1,Bt=-7,jt=ct?pt-1:0,Ht=ct?-1:1,Yt=st[it+jt];for(jt+=Ht,yt=Yt&(1<<-Bt)-1,Yt>>=-Bt,Bt+=St;Bt>0;yt=256*yt+st[it+jt],jt+=Ht,Bt-=8);for(bt=yt&(1<<-Bt)-1,yt>>=-Bt,Bt+=ht;Bt>0;bt=256*bt+st[it+jt],jt+=Ht,Bt-=8);if(yt===0)yt=1-kt;else{if(yt===Rt)return bt?NaN:1/0*(Yt?-1:1);bt+=Math.pow(2,ht),yt-=kt}return(Yt?-1:1)*bt*Math.pow(2,yt-ht)},Ux=function(st,it,ct,ht,pt,yt){var bt,St,Rt,kt=8*yt-pt-1,Bt=(1<<kt)-1,jt=Bt>>1,Ht=pt===23?Math.pow(2,-24)-Math.pow(2,-77):0,Yt=ht?0:yt-1,Jt=ht?1:-1,or=it<0||it===0&&1/it<0?1:0;for(it=Math.abs(it),isNaN(it)||it===1/0?(St=isNaN(it)?1:0,bt=Bt):(bt=Math.floor(Math.log(it)/Math.LN2),it*(Rt=Math.pow(2,-bt))<1&&(bt--,Rt*=2),(it+=bt+jt>=1?Ht/Rt:Ht*Math.pow(2,1-jt))*Rt>=2&&(bt++,Rt/=2),bt+jt>=Bt?(St=0,bt=Bt):bt+jt>=1?(St=(it*Rt-1)*Math.pow(2,pt),bt+=jt):(St=it*Math.pow(2,jt-1)*Math.pow(2,pt),bt=0));pt>=8;st[ct+Yt]=255&St,Yt+=Jt,St/=256,pt-=8);for(bt=bt<<pt|St,kt+=pt;kt>0;st[ct+Yt]=255&bt,Yt+=Jt,bt/=256,kt-=8);st[ct+Yt-Jt]|=128*or};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function Qo(st){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(st)?st:new Uint8Array(st||0),this.pos=0,this.type=0,this.length=this.buf.length}Qo.Varint=0,Qo.Fixed64=1,Qo.Bytes=2,Qo.Fixed32=5;var Kv=4294967296,Gx=1/Kv,Wx=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Au(st){return st.type===Qo.Bytes?st.readVarint()+st.pos:st.pos+1}function Lm(st,it,ct){return ct?4294967296*it+(st>>>0):4294967296*(it>>>0)+(st>>>0)}function Hx(st,it,ct){var ht=it<=16383?1:it<=2097151?2:it<=268435455?3:Math.floor(Math.log(it)/(7*Math.LN2));ct.realloc(ht);for(var pt=ct.pos-1;pt>=st;pt--)ct.buf[pt+ht]=ct.buf[pt]}function AS(st,it){for(var ct=0;ct<st.length;ct++)it.writeVarint(st[ct])}function kS(st,it){for(var ct=0;ct<st.length;ct++)it.writeSVarint(st[ct])}function $S(st,it){for(var ct=0;ct<st.length;ct++)it.writeFloat(st[ct])}function IS(st,it){for(var ct=0;ct<st.length;ct++)it.writeDouble(st[ct])}function LS(st,it){for(var ct=0;ct<st.length;ct++)it.writeBoolean(st[ct])}function DS(st,it){for(var ct=0;ct<st.length;ct++)it.writeFixed32(st[ct])}function OS(st,it){for(var ct=0;ct<st.length;ct++)it.writeSFixed32(st[ct])}function FS(st,it){for(var ct=0;ct<st.length;ct++)it.writeFixed64(st[ct])}function zS(st,it){for(var ct=0;ct<st.length;ct++)it.writeSFixed64(st[ct])}function A1(st,it){return(st[it]|st[it+1]<<8|st[it+2]<<16)+16777216*st[it+3]}function Dm(st,it,ct){st[ct]=it,st[ct+1]=it>>>8,st[ct+2]=it>>>16,st[ct+3]=it>>>24}function qx(st,it){return(st[it]|st[it+1]<<8|st[it+2]<<16)+(st[it+3]<<24)}Qo.prototype={destroy:function(){this.buf=null},readFields:function(st,it,ct){for(ct=ct||this.length;this.pos<ct;){var ht=this.readVarint(),pt=ht>>3,yt=this.pos;this.type=7&ht,st(pt,it,this),this.pos===yt&&this.skip(ht)}return it},readMessage:function(st,it){return this.readFields(st,it,this.readVarint()+this.pos)},readFixed32:function(){var st=A1(this.buf,this.pos);return this.pos+=4,st},readSFixed32:function(){var st=qx(this.buf,this.pos);return this.pos+=4,st},readFixed64:function(){var st=A1(this.buf,this.pos)+A1(this.buf,this.pos+4)*Kv;return this.pos+=8,st},readSFixed64:function(){var st=A1(this.buf,this.pos)+qx(this.buf,this.pos+4)*Kv;return this.pos+=8,st},readFloat:function(){var st=Vx(this.buf,this.pos,!0,23,4);return this.pos+=4,st},readDouble:function(){var st=Vx(this.buf,this.pos,!0,52,8);return this.pos+=8,st},readVarint:function(st){var it,ct,ht=this.buf;return it=127&(ct=ht[this.pos++]),ct<128?it:(it|=(127&(ct=ht[this.pos++]))<<7,ct<128?it:(it|=(127&(ct=ht[this.pos++]))<<14,ct<128?it:(it|=(127&(ct=ht[this.pos++]))<<21,ct<128?it:function(pt,yt,bt){var St,Rt,kt=bt.buf;if(St=(112&(Rt=kt[bt.pos++]))>>4,Rt<128||(St|=(127&(Rt=kt[bt.pos++]))<<3,Rt<128)||(St|=(127&(Rt=kt[bt.pos++]))<<10,Rt<128)||(St|=(127&(Rt=kt[bt.pos++]))<<17,Rt<128)||(St|=(127&(Rt=kt[bt.pos++]))<<24,Rt<128)||(St|=(1&(Rt=kt[bt.pos++]))<<31,Rt<128))return Lm(pt,St,yt);throw new Error("Expected varint not more than 10 bytes")}(it|=(15&(ct=ht[this.pos]))<<28,st,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var st=this.readVarint();return st%2==1?(st+1)/-2:st/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var st=this.readVarint()+this.pos,it=this.pos;return this.pos=st,st-it>=12&&Wx?function(ct,ht,pt){return Wx.decode(ct.subarray(ht,pt))}(this.buf,it,st):function(ct,ht,pt){for(var yt="",bt=ht;bt<pt;){var St,Rt,kt,Bt=ct[bt],jt=null,Ht=Bt>239?4:Bt>223?3:Bt>191?2:1;if(bt+Ht>pt)break;Ht===1?Bt<128&&(jt=Bt):Ht===2?(192&(St=ct[bt+1]))==128&&(jt=(31&Bt)<<6|63&St)<=127&&(jt=null):Ht===3?(Rt=ct[bt+2],(192&(St=ct[bt+1]))==128&&(192&Rt)==128&&((jt=(15&Bt)<<12|(63&St)<<6|63&Rt)<=2047||jt>=55296&&jt<=57343)&&(jt=null)):Ht===4&&(Rt=ct[bt+2],kt=ct[bt+3],(192&(St=ct[bt+1]))==128&&(192&Rt)==128&&(192&kt)==128&&((jt=(15&Bt)<<18|(63&St)<<12|(63&Rt)<<6|63&kt)<=65535||jt>=1114112)&&(jt=null)),jt===null?(jt=65533,Ht=1):jt>65535&&(jt-=65536,yt+=String.fromCharCode(jt>>>10&1023|55296),jt=56320|1023&jt),yt+=String.fromCharCode(jt),bt+=Ht}return yt}(this.buf,it,st)},readBytes:function(){var st=this.readVarint()+this.pos,it=this.buf.subarray(this.pos,st);return this.pos=st,it},readPackedVarint:function(st,it){if(this.type!==Qo.Bytes)return st.push(this.readVarint(it));var ct=Au(this);for(st=st||[];this.pos<ct;)st.push(this.readVarint(it));return st},readPackedSVarint:function(st){if(this.type!==Qo.Bytes)return st.push(this.readSVarint());var it=Au(this);for(st=st||[];this.pos<it;)st.push(this.readSVarint());return st},readPackedBoolean:function(st){if(this.type!==Qo.Bytes)return st.push(this.readBoolean());var it=Au(this);for(st=st||[];this.pos<it;)st.push(this.readBoolean());return st},readPackedFloat:function(st){if(this.type!==Qo.Bytes)return st.push(this.readFloat());var it=Au(this);for(st=st||[];this.pos<it;)st.push(this.readFloat());return st},readPackedDouble:function(st){if(this.type!==Qo.Bytes)return st.push(this.readDouble());var it=Au(this);for(st=st||[];this.pos<it;)st.push(this.readDouble());return st},readPackedFixed32:function(st){if(this.type!==Qo.Bytes)return st.push(this.readFixed32());var it=Au(this);for(st=st||[];this.pos<it;)st.push(this.readFixed32());return st},readPackedSFixed32:function(st){if(this.type!==Qo.Bytes)return st.push(this.readSFixed32());var it=Au(this);for(st=st||[];this.pos<it;)st.push(this.readSFixed32());return st},readPackedFixed64:function(st){if(this.type!==Qo.Bytes)return st.push(this.readFixed64());var it=Au(this);for(st=st||[];this.pos<it;)st.push(this.readFixed64());return st},readPackedSFixed64:function(st){if(this.type!==Qo.Bytes)return st.push(this.readSFixed64());var it=Au(this);for(st=st||[];this.pos<it;)st.push(this.readSFixed64());return st},skip:function(st){var it=7&st;if(it===Qo.Varint)for(;this.buf[this.pos++]>127;);else if(it===Qo.Bytes)this.pos=this.readVarint()+this.pos;else if(it===Qo.Fixed32)this.pos+=4;else{if(it!==Qo.Fixed64)throw new Error("Unimplemented type: "+it);this.pos+=8}},writeTag:function(st,it){this.writeVarint(st<<3|it)},realloc:function(st){for(var it=this.length||16;it<this.pos+st;)it*=2;if(it!==this.length){var ct=new Uint8Array(it);ct.set(this.buf),this.buf=ct,this.length=it}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(st){this.realloc(4),Dm(this.buf,st,this.pos),this.pos+=4},writeSFixed32:function(st){this.realloc(4),Dm(this.buf,st,this.pos),this.pos+=4},writeFixed64:function(st){this.realloc(8),Dm(this.buf,-1&st,this.pos),Dm(this.buf,Math.floor(st*Gx),this.pos+4),this.pos+=8},writeSFixed64:function(st){this.realloc(8),Dm(this.buf,-1&st,this.pos),Dm(this.buf,Math.floor(st*Gx),this.pos+4),this.pos+=8},writeVarint:function(st){(st=+st||0)>268435455||st<0?function(it,ct){var ht,pt;if(it>=0?(ht=it%4294967296|0,pt=it/4294967296|0):(pt=~(-it/4294967296),4294967295^(ht=~(-it%4294967296))?ht=ht+1|0:(ht=0,pt=pt+1|0)),it>=18446744073709552e3||it<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");ct.realloc(10),function(yt,bt,St){St.buf[St.pos++]=127&yt|128,yt>>>=7,St.buf[St.pos++]=127&yt|128,yt>>>=7,St.buf[St.pos++]=127&yt|128,yt>>>=7,St.buf[St.pos++]=127&yt|128,St.buf[St.pos]=127&(yt>>>=7)}(ht,0,ct),function(yt,bt){var St=(7&yt)<<4;bt.buf[bt.pos++]|=St|((yt>>>=3)?128:0),yt&&(bt.buf[bt.pos++]=127&yt|((yt>>>=7)?128:0),yt&&(bt.buf[bt.pos++]=127&yt|((yt>>>=7)?128:0),yt&&(bt.buf[bt.pos++]=127&yt|((yt>>>=7)?128:0),yt&&(bt.buf[bt.pos++]=127&yt|((yt>>>=7)?128:0),yt&&(bt.buf[bt.pos++]=127&yt)))))}(pt,ct)}(st,this):(this.realloc(4),this.buf[this.pos++]=127&st|(st>127?128:0),st<=127||(this.buf[this.pos++]=127&(st>>>=7)|(st>127?128:0),st<=127||(this.buf[this.pos++]=127&(st>>>=7)|(st>127?128:0),st<=127||(this.buf[this.pos++]=st>>>7&127))))},writeSVarint:function(st){this.writeVarint(st<0?2*-st-1:2*st)},writeBoolean:function(st){this.writeVarint(!!st)},writeString:function(st){st=String(st),this.realloc(4*st.length),this.pos++;var it=this.pos;this.pos=function(ht,pt,yt){for(var bt,St,Rt=0;Rt<pt.length;Rt++){if((bt=pt.charCodeAt(Rt))>55295&&bt<57344){if(!St){bt>56319||Rt+1===pt.length?(ht[yt++]=239,ht[yt++]=191,ht[yt++]=189):St=bt;continue}if(bt<56320){ht[yt++]=239,ht[yt++]=191,ht[yt++]=189,St=bt;continue}bt=St-55296<<10|bt-56320|65536,St=null}else St&&(ht[yt++]=239,ht[yt++]=191,ht[yt++]=189,St=null);bt<128?ht[yt++]=bt:(bt<2048?ht[yt++]=bt>>6|192:(bt<65536?ht[yt++]=bt>>12|224:(ht[yt++]=bt>>18|240,ht[yt++]=bt>>12&63|128),ht[yt++]=bt>>6&63|128),ht[yt++]=63&bt|128)}return yt}(this.buf,st,this.pos);var ct=this.pos-it;ct>=128&&Hx(it,ct,this),this.pos=it-1,this.writeVarint(ct),this.pos+=ct},writeFloat:function(st){this.realloc(4),Ux(this.buf,st,this.pos,!0,23,4),this.pos+=4},writeDouble:function(st){this.realloc(8),Ux(this.buf,st,this.pos,!0,52,8),this.pos+=8},writeBytes:function(st){var it=st.length;this.writeVarint(it),this.realloc(it);for(var ct=0;ct<it;ct++)this.buf[this.pos++]=st[ct]},writeRawMessage:function(st,it){this.pos++;var ct=this.pos;st(it,this);var ht=this.pos-ct;ht>=128&&Hx(ct,ht,this),this.pos=ct-1,this.writeVarint(ht),this.pos+=ht},writeMessage:function(st,it,ct){this.writeTag(st,Qo.Bytes),this.writeRawMessage(it,ct)},writePackedVarint:function(st,it){it.length&&this.writeMessage(st,AS,it)},writePackedSVarint:function(st,it){it.length&&this.writeMessage(st,kS,it)},writePackedBoolean:function(st,it){it.length&&this.writeMessage(st,LS,it)},writePackedFloat:function(st,it){it.length&&this.writeMessage(st,$S,it)},writePackedDouble:function(st,it){it.length&&this.writeMessage(st,IS,it)},writePackedFixed32:function(st,it){it.length&&this.writeMessage(st,DS,it)},writePackedSFixed32:function(st,it){it.length&&this.writeMessage(st,OS,it)},writePackedFixed64:function(st,it){it.length&&this.writeMessage(st,FS,it)},writePackedSFixed64:function(st,it){it.length&&this.writeMessage(st,zS,it)},writeBytesField:function(st,it){this.writeTag(st,Qo.Bytes),this.writeBytes(it)},writeFixed32Field:function(st,it){this.writeTag(st,Qo.Fixed32),this.writeFixed32(it)},writeSFixed32Field:function(st,it){this.writeTag(st,Qo.Fixed32),this.writeSFixed32(it)},writeFixed64Field:function(st,it){this.writeTag(st,Qo.Fixed64),this.writeFixed64(it)},writeSFixed64Field:function(st,it){this.writeTag(st,Qo.Fixed64),this.writeSFixed64(it)},writeVarintField:function(st,it){this.writeTag(st,Qo.Varint),this.writeVarint(it)},writeSVarintField:function(st,it){this.writeTag(st,Qo.Varint),this.writeSVarint(it)},writeStringField:function(st,it){this.writeTag(st,Qo.Bytes),this.writeString(it)},writeFloatField:function(st,it){this.writeTag(st,Qo.Fixed32),this.writeFloat(it)},writeDoubleField:function(st,it){this.writeTag(st,Qo.Fixed64),this.writeDouble(it)},writeBooleanField:function(st,it){this.writeVarintField(st,!!it)}};var M1=It(jx);const Xv=3;function BS(st,it,ct){it.glyphs=[],st===1&&ct.readMessage(NS,it)}function NS(st,it,ct){if(st===3){const{id:ht,bitmap:pt,width:yt,height:bt,left:St,top:Rt,advance:kt}=ct.readMessage(jS,{});it.glyphs.push({id:ht,bitmap:new Pu({width:yt+2*Xv,height:bt+2*Xv},pt),metrics:{width:yt,height:bt,left:St,top:Rt,advance:kt}})}else st===4?it.ascender=ct.readSVarint():st===5&&(it.descender=ct.readSVarint())}function jS(st,it,ct){st===1?it.id=ct.readVarint():st===2?it.bitmap=ct.readBytes():st===3?it.width=ct.readVarint():st===4?it.height=ct.readVarint():st===5?it.left=ct.readSVarint():st===6?it.top=ct.readSVarint():st===7&&(it.advance=ct.readVarint())}const Zx=Xv;function Yv(st){let it=0,ct=0;for(const bt of st)it+=bt.w*bt.h,ct=Math.max(ct,bt.w);st.sort((bt,St)=>St.h-bt.h);const ht=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(it/.95)),ct),h:1/0}];let pt=0,yt=0;for(const bt of st)for(let St=ht.length-1;St>=0;St--){const Rt=ht[St];if(!(bt.w>Rt.w||bt.h>Rt.h)){if(bt.x=Rt.x,bt.y=Rt.y,yt=Math.max(yt,bt.y+bt.h),pt=Math.max(pt,bt.x+bt.w),bt.w===Rt.w&&bt.h===Rt.h){const kt=ht.pop();St<ht.length&&(ht[St]=kt)}else bt.h===Rt.h?(Rt.x+=bt.w,Rt.w-=bt.w):bt.w===Rt.w?(Rt.y+=bt.h,Rt.h-=bt.h):(ht.push({x:Rt.x+bt.w,y:Rt.y,w:Rt.w-bt.w,h:bt.h}),Rt.y+=bt.h,Rt.h-=bt.h);break}}return{w:pt,h:yt,fill:it/(pt*yt)||0}}const Vs=1;class Qv{constructor(it,{pixelRatio:ct,version:ht,stretchX:pt,stretchY:yt,content:bt}){this.paddedRect=it,this.pixelRatio=ct,this.stretchX=pt,this.stretchY=yt,this.content=bt,this.version=ht}get tl(){return[this.paddedRect.x+Vs,this.paddedRect.y+Vs]}get br(){return[this.paddedRect.x+this.paddedRect.w-Vs,this.paddedRect.y+this.paddedRect.h-Vs]}get displaySize(){return[(this.paddedRect.w-2*Vs)/this.pixelRatio,(this.paddedRect.h-2*Vs)/this.pixelRatio]}}class Kx{constructor(it,ct){const ht={},pt={};this.haveRenderCallbacks=[];const yt=[];this.addImages(it,ht,yt),this.addImages(ct,pt,yt);const{w:bt,h:St}=Yv(yt),Rt=new Ks({width:bt||1,height:St||1});for(const kt in it){const Bt=it[kt],jt=ht[kt].paddedRect;Ks.copy(Bt.data,Rt,{x:0,y:0},{x:jt.x+Vs,y:jt.y+Vs},Bt.data)}for(const kt in ct){const Bt=ct[kt],jt=pt[kt].paddedRect,Ht=jt.x+Vs,Yt=jt.y+Vs,Jt=Bt.data.width,or=Bt.data.height;Ks.copy(Bt.data,Rt,{x:0,y:0},{x:Ht,y:Yt},Bt.data),Ks.copy(Bt.data,Rt,{x:0,y:or-1},{x:Ht,y:Yt-1},{width:Jt,height:1}),Ks.copy(Bt.data,Rt,{x:0,y:0},{x:Ht,y:Yt+or},{width:Jt,height:1}),Ks.copy(Bt.data,Rt,{x:Jt-1,y:0},{x:Ht-1,y:Yt},{width:1,height:or}),Ks.copy(Bt.data,Rt,{x:0,y:0},{x:Ht+Jt,y:Yt},{width:1,height:or})}this.image=Rt,this.iconPositions=ht,this.patternPositions=pt}addImages(it,ct,ht){for(const pt in it){const yt=it[pt],bt={x:0,y:0,w:yt.data.width+2*Vs,h:yt.data.height+2*Vs};ht.push(bt),ct[pt]=new Qv(bt,yt),yt.hasRenderCallback&&this.haveRenderCallbacks.push(pt)}}patchUpdatedImages(it,ct){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(ht=>it.hasImage(ht)),it.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const ht in it.updatedImages)this.patchUpdatedImage(this.iconPositions[ht],it.getImage(ht),ct),this.patchUpdatedImage(this.patternPositions[ht],it.getImage(ht),ct)}patchUpdatedImage(it,ct,ht){if(!it||!ct||it.version===ct.version)return;it.version=ct.version;const[pt,yt]=it.tl;ht.update(ct.data,void 0,{x:pt,y:yt})}}Xn(Qv,"ImagePosition"),Xn(Kx,"ImageAtlas");const Sl={horizontal:1,vertical:2,horizontalOnly:3},Xx=-17;class sy{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(it,ct){const ht=new sy;return ht.scale=it||1,ht.fontStack=ct,ht}static forImage(it){const ct=new sy;return ct.imageName=it,ct}}class Om{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(it,ct){const ht=new Om;for(let pt=0;pt<it.sections.length;pt++){const yt=it.sections[pt];yt.image?ht.addImageSection(yt):ht.addTextSection(yt,ct)}return ht}length(){return this.text.length}getSection(it){return this.sections[this.sectionIndex[it]]}getSections(){return this.sections}getSectionIndex(it){return this.sectionIndex[it]}getCharCode(it){return this.text.charCodeAt(it)}verticalizePunctuation(it){this.text=function(ct,ht){let pt="";for(let yt=0;yt<ct.length;yt++){const bt=ct.charCodeAt(yt+1)||null,St=ct.charCodeAt(yt-1)||null;pt+=!ht&&(bt&&o1(bt)&&!ay[ct[yt+1]]||St&&o1(St)&&!ay[ct[yt-1]])||!ay[ct[yt]]?ct[yt]:ay[ct[yt]]}return pt}(this.text,it)}trim(){let it=0;for(let ht=0;ht<this.text.length&&k1[this.text.charCodeAt(ht)];ht++)it++;let ct=this.text.length;for(let ht=this.text.length-1;ht>=0&&ht>=it&&k1[this.text.charCodeAt(ht)];ht--)ct--;this.text=this.text.substring(it,ct),this.sectionIndex=this.sectionIndex.slice(it,ct)}substring(it,ct){const ht=new Om;return ht.text=this.text.substring(it,ct),ht.sectionIndex=this.sectionIndex.slice(it,ct),ht.sections=this.sections,ht}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((it,ct)=>Math.max(it,this.sections[ct].scale),0)}addTextSection(it,ct){this.text+=it.text,this.sections.push(sy.forText(it.scale,it.fontStack||ct));const ht=this.sections.length-1;for(let pt=0;pt<it.text.length;++pt)this.sectionIndex.push(ht)}addImageSection(it){const ct=it.image?it.image.name:"";if(ct.length===0)return void Rn("Can't add FormattedSection with an empty image.");const ht=this.getNextImageSectionCharCode();ht?(this.text+=String.fromCharCode(ht),this.sections.push(sy.forImage(ct)),this.sectionIndex.push(this.sections.length-1)):Rn("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Jv(st,it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt,Jt){const or=Om.fromFeature(st,pt);jt===Sl.vertical&&or.verticalizePunctuation(Ht);let gr=[];const Mr=function(zr,sn,nn,xn,Ln,hn){if(!zr)return[];const Cn=[],Tn=function(Un,Jn,Gn,_o,Nn,ao){let xo=0;for(let Oo=0;Oo<Un.length();Oo++){const bo=Un.getSection(Oo);xo+=Yx(Un.getCharCode(Oo),bo,_o,Nn,Jn,ao)}return xo/Math.max(1,Math.ceil(xo/Gn))}(zr,sn,nn,xn,Ln,hn),kn=zr.text.indexOf("​")>=0;let zn=0;for(let Un=0;Un<zr.length();Un++){const Jn=zr.getSection(Un),Gn=zr.getCharCode(Un);if(k1[Gn]||(zn+=Yx(Gn,Jn,xn,Ln,sn,hn)),Un<zr.length()-1){const _o=!((vn=Gn)<11904||!(Wn["Bopomofo Extended"](vn)||Wn.Bopomofo(vn)||Wn["CJK Compatibility Forms"](vn)||Wn["CJK Compatibility Ideographs"](vn)||Wn["CJK Compatibility"](vn)||Wn["CJK Radicals Supplement"](vn)||Wn["CJK Strokes"](vn)||Wn["CJK Symbols and Punctuation"](vn)||Wn["CJK Unified Ideographs Extension A"](vn)||Wn["CJK Unified Ideographs"](vn)||Wn["Enclosed CJK Letters and Months"](vn)||Wn["Halfwidth and Fullwidth Forms"](vn)||Wn.Hiragana(vn)||Wn["Ideographic Description Characters"](vn)||Wn["Kangxi Radicals"](vn)||Wn["Katakana Phonetic Extensions"](vn)||Wn.Katakana(vn)||Wn["Vertical Forms"](vn)||Wn["Yi Radicals"](vn)||Wn["Yi Syllables"](vn)));(VS[Gn]||_o||Jn.imageName)&&Cn.push(Jx(Un+1,zn,Tn,Cn,US(Gn,zr.getCharCode(Un+1),_o&&kn),!1))}}var vn;return _b(Jx(zr.length(),zn,Tn,Cn,0,!0))}(or,kt,yt,it,ht,Yt),{processBidirectionalText:Fr,processStyledBidirectionalText:kr}=zt;if(Fr&&or.sections.length===1){const zr=Fr(or.toString(),Mr);for(const sn of zr){const nn=new Om;nn.text=sn,nn.sections=or.sections;for(let xn=0;xn<sn.length;xn++)nn.sectionIndex.push(0);gr.push(nn)}}else if(kr){const zr=kr(or.text,or.sectionIndex,Mr);for(const sn of zr){const nn=new Om;nn.text=sn[0],nn.sectionIndex=sn[1],nn.sections=or.sections,gr.push(nn)}}else gr=function(zr,sn){const nn=[],xn=zr.text;let Ln=0;for(const hn of sn)nn.push(zr.substring(Ln,hn)),Ln=hn;return Ln<xn.length&&nn.push(zr.substring(Ln,xn.length)),nn}(or,Mr);const Or=[],Nr={positionedLines:Or,text:or.toString(),top:Bt[1],bottom:Bt[1],left:Bt[0],right:Bt[0],writingMode:jt,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(zr,sn,nn,xn,Ln,hn,Cn,Tn,kn,zn,vn,Un){let Jn=0,Gn=0,_o=0;const Nn=Tn==="right"?1:Tn==="left"?0:.5;let ao=!1;for(const wo of Ln){const So=wo.getSections();for(const Ko of So){if(Ko.imageName)continue;const Jo=sn[Ko.fontStack];if(Jo&&(ao=Jo.ascender!==void 0&&Jo.descender!==void 0,!ao))break}if(!ao)break}let xo=0;for(const wo of Ln){wo.trim();const So=wo.getMaxScale(),Ko=(So-1)*Es,Jo={positionedGlyphs:[],lineOffset:0};zr.positionedLines[xo]=Jo;const na=Jo.positionedGlyphs;let Xo=0;if(!wo.length()){Gn+=hn,++xo;continue}let es=0,ns=0;for(let Yo=0;Yo<wo.length();Yo++){const ys=wo.getSection(Yo),fs=wo.getSectionIndex(Yo),ts=wo.getCharCode(Yo);let zo=ys.scale,ps=null,ga=null,zs=null,ms=Es,Cs=0;const bs=!(kn===Sl.horizontal||!vn&&!L0(ts)||vn&&(k1[ts]||(Oo=ts,Wn.Arabic(Oo)||Wn["Arabic Supplement"](Oo)||Wn["Arabic Extended-A"](Oo)||Wn["Arabic Presentation Forms-A"](Oo)||Wn["Arabic Presentation Forms-B"](Oo))));if(ys.imageName){const Bs=xn[ys.imageName];if(!Bs)continue;zs=ys.imageName,zr.iconsInText=zr.iconsInText||!0,ga=Bs.paddedRect;const ws=Bs.displaySize;zo=zo*Es/Un,ps={width:ws[0],height:ws[1],left:Vs,top:-Zx,advance:bs?ws[1]:ws[0],localGlyph:!1},Cs=ao?-ps.height*zo:Xx+So*Es-ws[1]*zo,ms=ps.advance;const tu=(bs?ws[0]:ws[1])*zo-Es*So;tu>0&&tu>Xo&&(Xo=tu)}else{const Bs=nn[ys.fontStack];if(!Bs)continue;Bs[ts]&&(ga=Bs[ts]);const ws=sn[ys.fontStack];if(!ws)continue;const tu=ws.glyphs[ts];if(!tu)continue;if(ps=tu.metrics,ms=ts!==8203?Es:0,ao){const Um=ws.ascender!==void 0?Math.abs(ws.ascender):0,yy=ws.descender!==void 0?Math.abs(ws.descender):0,vy=(Um+yy)*zo;es<vy&&(es=vy,ns=(Um-yy)/2*zo),Cs=-Um*zo}else Cs=Xx+(So-zo)*Es}bs?(zr.verticalizable=!0,na.push({glyph:ts,imageName:zs,x:Jn,y:Gn+Cs,vertical:bs,scale:zo,localGlyph:ps.localGlyph,fontStack:ys.fontStack,sectionIndex:fs,metrics:ps,rect:ga}),Jn+=ms*zo+zn):(na.push({glyph:ts,imageName:zs,x:Jn,y:Gn+Cs,vertical:bs,scale:zo,localGlyph:ps.localGlyph,fontStack:ys.fontStack,sectionIndex:fs,metrics:ps,rect:ga}),Jn+=ps.advance*zo+zn)}na.length!==0&&(_o=Math.max(Jn-zn,_o),ao?ew(na,Nn,Xo,ns,hn*So/2):ew(na,Nn,Xo,0,hn/2)),Jn=0;const ds=hn*So+Xo;Jo.lineOffset=Math.max(Xo,Ko),Gn+=ds,++xo}var Oo;const bo=Gn,{horizontalAlign:fo,verticalAlign:_a}=e_(Cn);(function(wo,So,Ko,Jo,na,Xo){const es=(So-Ko)*na,ns=-Xo*Jo;for(const ds of wo)for(const Yo of ds.positionedGlyphs)Yo.x+=es,Yo.y+=ns})(zr.positionedLines,Nn,fo,_a,_o,bo),zr.top+=-_a*bo,zr.bottom=zr.top+bo,zr.left+=-fo*_o,zr.right=zr.left+_o,zr.hasBaseline=ao}(Nr,it,ct,ht,gr,bt,St,Rt,jt,kt,Ht,Jt),!function(zr){for(const sn of zr)if(sn.positionedGlyphs.length!==0)return!1;return!0}(Or)&&Nr}const k1={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},VS={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Yx(st,it,ct,ht,pt,yt){if(it.imageName){const bt=ht[it.imageName];return bt?bt.displaySize[0]*it.scale*Es/yt+pt:0}{const bt=ct[it.fontStack],St=bt&&bt.glyphs[st];return St?St.metrics.advance*it.scale+pt:0}}function Qx(st,it,ct,ht){const pt=Math.pow(st-it,2);return ht?st<it?pt/2:2*pt:pt+Math.abs(ct)*ct}function US(st,it,ct){let ht=0;return st===10&&(ht-=1e4),ct&&(ht+=150),st!==40&&st!==65288||(ht+=50),it!==41&&it!==65289||(ht+=50),ht}function Jx(st,it,ct,ht,pt,yt){let bt=null,St=Qx(it,ct,pt,yt);for(const Rt of ht){const kt=Qx(it-Rt.x,ct,pt,yt)+Rt.badness;kt<=St&&(bt=Rt,St=kt)}return{index:st,x:it,priorBreak:bt,badness:St}}function _b(st){return st?_b(st.priorBreak).concat(st.index):[]}function e_(st){let it=.5,ct=.5;switch(st){case"right":case"top-right":case"bottom-right":it=1;break;case"left":case"top-left":case"bottom-left":it=0}switch(st){case"bottom":case"bottom-right":case"bottom-left":ct=1;break;case"top":case"top-right":case"top-left":ct=0}return{horizontalAlign:it,verticalAlign:ct}}function ew(st,it,ct,ht,pt){if(!(it||ct||ht||pt))return;const yt=st.length-1,bt=st[yt],St=(bt.x+bt.metrics.advance*bt.scale)*it;for(let Rt=0;Rt<=yt;Rt++)st[Rt].x-=St,st[Rt].y+=ct+ht+pt}function GS(st,it,ct){const{horizontalAlign:ht,verticalAlign:pt}=e_(ct),yt=it[0]-st.displaySize[0]*ht,bt=it[1]-st.displaySize[1]*pt;return{image:st,top:bt,bottom:bt+st.displaySize[1],left:yt,right:yt+st.displaySize[0]}}function tw(st,it,ct,ht,pt,yt){const bt=st.image;let St;if(bt.content){const gr=bt.content,Mr=bt.pixelRatio||1;St=[gr[0]/Mr,gr[1]/Mr,bt.displaySize[0]-gr[2]/Mr,bt.displaySize[1]-gr[3]/Mr]}const Rt=it.left*yt,kt=it.right*yt;let Bt,jt,Ht,Yt;ct==="width"||ct==="both"?(Yt=pt[0]+Rt-ht[3],jt=pt[0]+kt+ht[1]):(Yt=pt[0]+(Rt+kt-bt.displaySize[0])/2,jt=Yt+bt.displaySize[0]);const Jt=it.top*yt,or=it.bottom*yt;return ct==="height"||ct==="both"?(Bt=pt[1]+Jt-ht[0],Ht=pt[1]+or+ht[2]):(Bt=pt[1]+(Jt+or-bt.displaySize[1])/2,Ht=Bt+bt.displaySize[1]),{image:bt,top:Bt,right:jt,bottom:Ht,left:Yt,collisionPadding:St}}class Mu extends er{constructor(it,ct,ht,pt,yt){super(it,ct),this.angle=pt,this.z=ht,yt!==void 0&&(this.segment=yt)}clone(){return new Mu(this.x,this.y,this.z,this.angle,this.segment)}}function rw(st,it,ct,ht,pt){if(it.segment===void 0)return!0;let yt=it,bt=it.segment+1,St=0;for(;St>-ct/2;){if(bt--,bt<0)return!1;St-=st[bt].dist(yt),yt=st[bt]}St+=st[bt].dist(st[bt+1]),bt++;const Rt=[];let kt=0;for(;St<ct/2;){const Bt=st[bt],jt=st[bt+1];if(!jt)return!1;let Ht=st[bt-1].angleTo(Bt)-Bt.angleTo(jt);for(Ht=Math.abs((Ht+3*Math.PI)%(2*Math.PI)-Math.PI),Rt.push({distance:St,angleDelta:Ht}),kt+=Ht;St-Rt[0].distance>ht;)kt-=Rt.shift().angleDelta;if(kt>pt)return!1;bt++,St+=Bt.dist(jt)}return!0}function nw(st){let it=0;for(let ct=0;ct<st.length-1;ct++)it+=st[ct].dist(st[ct+1]);return it}function iw(st,it,ct){return st?.6*it*ct:0}function ow(st,it){return Math.max(st?st.right-st.left:0,it?it.right-it.left:0)}function WS(st,it,ct,ht,pt,yt){const bt=iw(ct,pt,yt),St=ow(ct,ht)*yt;let Rt=0;const kt=nw(st)/2;for(let Bt=0;Bt<st.length-1;Bt++){const jt=st[Bt],Ht=st[Bt+1],Yt=jt.dist(Ht);if(Rt+Yt>kt){const Jt=(kt-Rt)/Yt,or=Lo(jt.x,Ht.x,Jt),gr=Lo(jt.y,Ht.y,Jt),Mr=new Mu(or,gr,0,Ht.angleTo(jt),Bt);return!bt||rw(st,Mr,St,bt,it)?Mr:void 0}Rt+=Yt}}function HS(st,it,ct,ht,pt,yt,bt,St,Rt){const kt=iw(ht,yt,bt),Bt=ow(ht,pt),jt=Bt*bt,Ht=st[0].x===0||st[0].x===Rt||st[0].y===0||st[0].y===Rt;return it-jt<it/4&&(it=jt+it/4),aw(st,Ht?it/2*St%it:(Bt/2+2*yt)*bt*St%it,it,kt,ct,jt,Ht,!1,Rt)}function aw(st,it,ct,ht,pt,yt,bt,St,Rt){const kt=yt/2,Bt=nw(st);let jt=0,Ht=it-ct,Yt=[];for(let Jt=0;Jt<st.length-1;Jt++){const or=st[Jt],gr=st[Jt+1],Mr=or.dist(gr),Fr=gr.angleTo(or);for(;Ht+ct<jt+Mr;){Ht+=ct;const kr=(Ht-jt)/Mr,Or=Lo(or.x,gr.x,kr),Nr=Lo(or.y,gr.y,kr);if(Or>=0&&Or<Rt&&Nr>=0&&Nr<Rt&&Ht-kt>=0&&Ht+kt<=Bt){const zr=new Mu(Or,Nr,0,Fr,Jt);zr._round(),ht&&!rw(st,zr,yt,ht,pt)||Yt.push(zr)}}jt+=Mr}return St||Yt.length||bt||(Yt=aw(st,jt/2,ct,ht,pt,yt,bt,!0,Rt)),Yt}function sw(st,it,ct,ht,pt){const yt=[];for(let bt=0;bt<st.length;bt++){const St=st[bt];let Rt;for(let kt=0;kt<St.length-1;kt++){let Bt=St[kt],jt=St[kt+1];Bt.x<it&&jt.x<it||(Bt.x<it?Bt=new er(it,Bt.y+(it-Bt.x)/(jt.x-Bt.x)*(jt.y-Bt.y))._round():jt.x<it&&(jt=new er(it,Bt.y+(it-Bt.x)/(jt.x-Bt.x)*(jt.y-Bt.y))._round()),Bt.y<ct&&jt.y<ct||(Bt.y<ct?Bt=new er(Bt.x+(ct-Bt.y)/(jt.y-Bt.y)*(jt.x-Bt.x),ct)._round():jt.y<ct&&(jt=new er(Bt.x+(ct-Bt.y)/(jt.y-Bt.y)*(jt.x-Bt.x),ct)._round()),Bt.x>=ht&&jt.x>=ht||(Bt.x>=ht?Bt=new er(ht,Bt.y+(ht-Bt.x)/(jt.x-Bt.x)*(jt.y-Bt.y))._round():jt.x>=ht&&(jt=new er(ht,Bt.y+(ht-Bt.x)/(jt.x-Bt.x)*(jt.y-Bt.y))._round()),Bt.y>=pt&&jt.y>=pt||(Bt.y>=pt?Bt=new er(Bt.x+(pt-Bt.y)/(jt.y-Bt.y)*(jt.x-Bt.x),pt)._round():jt.y>=pt&&(jt=new er(Bt.x+(pt-Bt.y)/(jt.y-Bt.y)*(jt.x-Bt.x),pt)._round()),Rt&&Bt.equals(Rt[Rt.length-1])||(Rt=[Bt],yt.push(Rt)),Rt.push(jt)))))}}return yt}Xn(Mu,"Anchor");const ly=1e20;function lw(st,it,ct,ht,pt,yt,bt,St,Rt){for(let kt=it;kt<it+ht;kt++)cw(st,ct*yt+kt,yt,pt,bt,St,Rt);for(let kt=ct;kt<ct+pt;kt++)cw(st,kt*yt+it,1,ht,bt,St,Rt)}function cw(st,it,ct,ht,pt,yt,bt){yt[0]=0,bt[0]=-ly,bt[1]=ly,pt[0]=st[it];for(let St=1,Rt=0,kt=0;St<ht;St++){pt[St]=st[it+St*ct];const Bt=St*St;do{const jt=yt[Rt];kt=(pt[St]-pt[jt]+Bt-jt*jt)/(St-jt)/2}while(kt<=bt[Rt]&&--Rt>-1);Rt++,yt[Rt]=St,bt[Rt]=kt,bt[Rt+1]=ly}for(let St=0,Rt=0;St<ht;St++){for(;bt[Rt+1]<St;)Rt++;const kt=yt[Rt],Bt=St-kt;st[it+St*ct]=pt[kt]+Bt*Bt}}const _c=2,t_={none:0,ideographs:1,all:2};class Fm{constructor(it,ct,ht){this.requestManager=it,this.localGlyphMode=ct,this.localFontFamily=ht,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(it){this.url=it}getGlyphs(it,ct){const ht=[];for(const pt in it)for(const yt of it[pt])ht.push({stack:pt,id:yt});cr(ht,({stack:pt,id:yt},bt)=>{let St=this.entries[pt];St||(St=this.entries[pt]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let Rt=St.glyphs[yt];if(Rt!==void 0)return void bt(null,{stack:pt,id:yt,glyph:Rt});if(Rt=this._tinySDF(St,pt,yt),Rt)return St.glyphs[yt]=Rt,void bt(null,{stack:pt,id:yt,glyph:Rt});const kt=Math.floor(yt/256);if(256*kt>65535)return void bt(new Error("glyphs > 65535 not supported"));if(St.ranges[kt])return void bt(null,{stack:pt,id:yt,glyph:Rt});let Bt=St.requests[kt];Bt||(Bt=St.requests[kt]=[],Fm.loadGlyphRange(pt,kt,this.url,this.requestManager,(jt,Ht)=>{if(Ht){St.ascender=Ht.ascender,St.descender=Ht.descender;for(const Yt in Ht.glyphs)this._doesCharSupportLocalGlyph(+Yt)||(St.glyphs[+Yt]=Ht.glyphs[+Yt]);St.ranges[kt]=!0}for(const Yt of Bt)Yt(jt,Ht);delete St.requests[kt]})),Bt.push((jt,Ht)=>{jt?bt(jt):Ht&&bt(null,{stack:pt,id:yt,glyph:Ht.glyphs[yt]||null})})},(pt,yt)=>{if(pt)ct(pt);else if(yt){const bt={};for(const{stack:St,id:Rt,glyph:kt}of yt)bt[St]===void 0&&(bt[St]={}),bt[St].glyphs===void 0&&(bt[St].glyphs={}),bt[St].glyphs[Rt]=kt&&{id:kt.id,bitmap:kt.bitmap.clone(),metrics:kt.metrics},bt[St].ascender=this.entries[St].ascender,bt[St].descender=this.entries[St].descender;ct(null,bt)}})}_doesCharSupportLocalGlyph(it){return this.localGlyphMode!==t_.none&&(this.localGlyphMode===t_.all?!!this.localFontFamily:!!this.localFontFamily&&(Wn["CJK Unified Ideographs"](it)||Wn["Hangul Syllables"](it)||Wn.Hiragana(it)||Wn.Katakana(it)||Wn["CJK Symbols and Punctuation"](it)))}_tinySDF(it,ct,ht){const pt=this.localFontFamily;if(!pt||!this._doesCharSupportLocalGlyph(ht))return;let yt=it.tinySDF;if(!yt){let or="400";/bold/i.test(ct)?or="900":/medium/i.test(ct)?or="500":/light/i.test(ct)&&(or="200"),yt=it.tinySDF=new Fm.TinySDF({fontFamily:pt,fontWeight:or,fontSize:24*_c,buffer:3*_c,radius:8*_c}),yt.fontWeight=or}if(this.localGlyphs[yt.fontWeight][ht])return this.localGlyphs[yt.fontWeight][ht];const bt=String.fromCharCode(ht),{data:St,width:Rt,height:kt,glyphWidth:Bt,glyphHeight:jt,glyphLeft:Ht,glyphTop:Yt,glyphAdvance:Jt}=yt.draw(bt);return this.localGlyphs[yt.fontWeight][ht]={id:ht,bitmap:new Pu({width:Rt,height:kt},St),metrics:{width:Bt/_c,height:jt/_c,left:Ht/_c,top:Yt/_c-27,advance:Jt/_c,localGlyph:!0}}}}Fm.loadGlyphRange=function(st,it,ct,ht,pt){const yt=256*it,bt=yt+255,St=ht.transformRequest(ht.normalizeGlyphsURL(ct).replace("{fontstack}",st).replace("{range}",`${yt}-${bt}`),Vn.Glyphs);pn(St,(Rt,kt)=>{if(Rt)pt(Rt);else if(kt){const Bt={},jt=function(Ht){return new M1(Ht).readFields(BS,{})}(kt);for(const Ht of jt.glyphs)Bt[Ht.id]=Ht;pt(null,{glyphs:Bt,ascender:jt.ascender,descender:jt.descender})}})},Fm.TinySDF=class{constructor({fontSize:st=24,buffer:it=3,radius:ct=8,cutoff:ht=.25,fontFamily:pt="sans-serif",fontWeight:yt="normal",fontStyle:bt="normal"}={}){this.buffer=it,this.cutoff=ht,this.radius=ct;const St=this.size=st+4*it,Rt=this._createCanvas(St),kt=this.ctx=Rt.getContext("2d",{willReadFrequently:!0});kt.font=`${bt} ${yt} ${st}px ${pt}`,kt.textBaseline="alphabetic",kt.textAlign="left",kt.fillStyle="black",this.gridOuter=new Float64Array(St*St),this.gridInner=new Float64Array(St*St),this.f=new Float64Array(St),this.z=new Float64Array(St+1),this.v=new Uint16Array(St)}_createCanvas(st){const it=document.createElement("canvas");return it.width=it.height=st,it}draw(st){const{width:it,actualBoundingBoxAscent:ct,actualBoundingBoxDescent:ht,actualBoundingBoxLeft:pt,actualBoundingBoxRight:yt}=this.ctx.measureText(st),bt=Math.ceil(ct),St=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(yt-pt))),Rt=Math.min(this.size-this.buffer,bt+Math.ceil(ht)),kt=St+2*this.buffer,Bt=Rt+2*this.buffer,jt=Math.max(kt*Bt,0),Ht=new Uint8ClampedArray(jt),Yt={data:Ht,width:kt,height:Bt,glyphWidth:St,glyphHeight:Rt,glyphTop:bt,glyphLeft:0,glyphAdvance:it};if(St===0||Rt===0)return Yt;const{ctx:Jt,buffer:or,gridInner:gr,gridOuter:Mr}=this;Jt.clearRect(or,or,St,Rt),Jt.fillText(st,or,or+bt);const Fr=Jt.getImageData(or,or,St,Rt);Mr.fill(ly,0,jt),gr.fill(0,0,jt);for(let kr=0;kr<Rt;kr++)for(let Or=0;Or<St;Or++){const Nr=Fr.data[4*(kr*St+Or)+3]/255;if(Nr===0)continue;const zr=(kr+or)*kt+Or+or;if(Nr===1)Mr[zr]=0,gr[zr]=ly;else{const sn=.5-Nr;Mr[zr]=sn>0?sn*sn:0,gr[zr]=sn<0?sn*sn:0}}lw(Mr,0,0,kt,Bt,kt,this.f,this.v,this.z),lw(gr,or,or,St,Rt,kt,this.f,this.v,this.z);for(let kr=0;kr<jt;kr++){const Or=Math.sqrt(Mr[kr])-Math.sqrt(gr[kr]);Ht[kr]=Math.round(255-255*(Or/this.radius+this.cutoff))}return Yt}};const zm=Vs;function uw(st,it,ct,ht){const pt=[],yt=st.image,bt=yt.pixelRatio,St=yt.paddedRect.w-2*zm,Rt=yt.paddedRect.h-2*zm,kt=st.right-st.left,Bt=st.bottom-st.top,jt=yt.stretchX||[[0,St]],Ht=yt.stretchY||[[0,Rt]],Yt=(hn,Cn)=>hn+Cn[1]-Cn[0],Jt=jt.reduce(Yt,0),or=Ht.reduce(Yt,0),gr=St-Jt,Mr=Rt-or;let Fr=0,kr=Jt,Or=0,Nr=or,zr=0,sn=gr,nn=0,xn=Mr;if(yt.content&&ht){const hn=yt.content;Fr=$1(jt,0,hn[0]),Or=$1(Ht,0,hn[1]),kr=$1(jt,hn[0],hn[2]),Nr=$1(Ht,hn[1],hn[3]),zr=hn[0]-Fr,nn=hn[1]-Or,sn=hn[2]-hn[0]-kr,xn=hn[3]-hn[1]-Nr}const Ln=(hn,Cn,Tn,kn)=>{const zn=I1(hn.stretch-Fr,kr,kt,st.left),vn=L1(hn.fixed-zr,sn,hn.stretch,Jt),Un=I1(Cn.stretch-Or,Nr,Bt,st.top),Jn=L1(Cn.fixed-nn,xn,Cn.stretch,or),Gn=I1(Tn.stretch-Fr,kr,kt,st.left),_o=L1(Tn.fixed-zr,sn,Tn.stretch,Jt),Nn=I1(kn.stretch-Or,Nr,Bt,st.top),ao=L1(kn.fixed-nn,xn,kn.stretch,or),xo=new er(zn,Un),Oo=new er(Gn,Un),bo=new er(Gn,Nn),fo=new er(zn,Nn),_a=new er(vn/bt,Jn/bt),wo=new er(_o/bt,ao/bt),So=it*Math.PI/180;if(So){const na=Math.sin(So),Xo=Math.cos(So),es=[Xo,-na,na,Xo];xo._matMult(es),Oo._matMult(es),fo._matMult(es),bo._matMult(es)}const Ko=hn.stretch+hn.fixed,Jo=Cn.stretch+Cn.fixed;return{tl:xo,tr:Oo,bl:fo,br:bo,tex:{x:yt.paddedRect.x+zm+Ko,y:yt.paddedRect.y+zm+Jo,w:Tn.stretch+Tn.fixed-Ko,h:kn.stretch+kn.fixed-Jo},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:_a,pixelOffsetBR:wo,minFontScaleX:sn/bt/kt,minFontScaleY:xn/bt/Bt,isSDF:ct}};if(ht&&(yt.stretchX||yt.stretchY)){const hn=hw(jt,gr,Jt),Cn=hw(Ht,Mr,or);for(let Tn=0;Tn<hn.length-1;Tn++){const kn=hn[Tn],zn=hn[Tn+1];for(let vn=0;vn<Cn.length-1;vn++)pt.push(Ln(kn,Cn[vn],zn,Cn[vn+1]))}}else pt.push(Ln({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:St+1},{fixed:0,stretch:Rt+1}));return pt}function $1(st,it,ct){let ht=0;for(const pt of st)ht+=Math.max(it,Math.min(ct,pt[1]))-Math.max(it,Math.min(ct,pt[0]));return ht}function hw(st,it,ct){const ht=[{fixed:-zm,stretch:0}];for(const[pt,yt]of st){const bt=ht[ht.length-1];ht.push({fixed:pt-bt.stretch,stretch:bt.stretch}),ht.push({fixed:pt-bt.stretch,stretch:bt.stretch+(yt-pt)})}return ht.push({fixed:it+zm,stretch:ct}),ht}function I1(st,it,ct,ht){return st/it*ct+ht}function L1(st,it,ct,ht){return st-it*ct/ht}function qS(st,it,ct,ht){const pt=it+st.positionedLines[ht].lineOffset;return ht===0?ct+pt/2:ct+(pt+(it+st.positionedLines[ht-1].lineOffset))/2}class ZS{constructor(it=[],ct=KS){if(this.data=it,this.length=this.data.length,this.compare=ct,this.length>0)for(let ht=(this.length>>1)-1;ht>=0;ht--)this._down(ht)}push(it){this.data.push(it),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const it=this.data[0],ct=this.data.pop();return this.length--,this.length>0&&(this.data[0]=ct,this._down(0)),it}peek(){return this.data[0]}_up(it){const{data:ct,compare:ht}=this,pt=ct[it];for(;it>0;){const yt=it-1>>1,bt=ct[yt];if(ht(pt,bt)>=0)break;ct[it]=bt,it=yt}ct[it]=pt}_down(it){const{data:ct,compare:ht}=this,pt=this.length>>1,yt=ct[it];for(;it<pt;){let bt=1+(it<<1),St=ct[bt];const Rt=bt+1;if(Rt<this.length&&ht(ct[Rt],St)<0&&(bt=Rt,St=ct[Rt]),ht(St,yt)>=0)break;ct[it]=St,it=bt}ct[it]=yt}}function KS(st,it){return st<it?-1:st>it?1:0}function XS(st,it=1,ct=!1){let ht=1/0,pt=1/0,yt=-1/0,bt=-1/0;const St=st[0];for(let Yt=0;Yt<St.length;Yt++){const Jt=St[Yt];(!Yt||Jt.x<ht)&&(ht=Jt.x),(!Yt||Jt.y<pt)&&(pt=Jt.y),(!Yt||Jt.x>yt)&&(yt=Jt.x),(!Yt||Jt.y>bt)&&(bt=Jt.y)}const Rt=Math.min(yt-ht,bt-pt);let kt=Rt/2;const Bt=new ZS([],YS);if(Rt===0)return new er(ht,pt);for(let Yt=ht;Yt<yt;Yt+=Rt)for(let Jt=pt;Jt<bt;Jt+=Rt)Bt.push(new Bm(Yt+kt,Jt+kt,kt,st));let jt=function(Yt){let Jt=0,or=0,gr=0;const Mr=Yt[0];for(let Fr=0,kr=Mr.length,Or=kr-1;Fr<kr;Or=Fr++){const Nr=Mr[Fr],zr=Mr[Or],sn=Nr.x*zr.y-zr.x*Nr.y;or+=(Nr.x+zr.x)*sn,gr+=(Nr.y+zr.y)*sn,Jt+=3*sn}return new Bm(or/Jt,gr/Jt,0,Yt)}(st),Ht=Bt.length;for(;Bt.length;){const Yt=Bt.pop();(Yt.d>jt.d||!jt.d)&&(jt=Yt,ct&&console.log("found best %d after %d probes",Math.round(1e4*Yt.d)/1e4,Ht)),Yt.max-jt.d<=it||(kt=Yt.h/2,Bt.push(new Bm(Yt.p.x-kt,Yt.p.y-kt,kt,st)),Bt.push(new Bm(Yt.p.x+kt,Yt.p.y-kt,kt,st)),Bt.push(new Bm(Yt.p.x-kt,Yt.p.y+kt,kt,st)),Bt.push(new Bm(Yt.p.x+kt,Yt.p.y+kt,kt,st)),Ht+=4)}return ct&&(console.log(`num probes: ${Ht}`),console.log(`best distance: ${jt.d}`)),jt.p}function YS(st,it){return it.max-st.max}class Bm{constructor(it,ct,ht,pt){this.p=new er(it,ct),this.h=ht,this.d=function(yt,bt){let St=!1,Rt=1/0;for(let kt=0;kt<bt.length;kt++){const Bt=bt[kt];for(let jt=0,Ht=Bt.length,Yt=Ht-1;jt<Ht;Yt=jt++){const Jt=Bt[jt],or=Bt[Yt];Jt.y>yt.y!=or.y>yt.y&&yt.x<(or.x-Jt.x)*(yt.y-Jt.y)/(or.y-Jt.y)+Jt.x&&(St=!St),Rt=Math.min(Rt,sx(yt,Jt,or))}}return(St?1:-1)*Math.sqrt(Rt)}(this.p,pt),this.max=this.d+this.h*Math.SQRT2}}const Nm=7,r_=Number.POSITIVE_INFINITY,QS=Math.sqrt(2);function dw(st,[it,ct]){let ht=0,pt=0;if(ct===r_){it<0&&(it=0);const yt=it/QS;switch(st){case"top-right":case"top-left":pt=yt-Nm;break;case"bottom-right":case"bottom-left":pt=-yt+Nm;break;case"bottom":pt=-it+Nm;break;case"top":pt=it-Nm}switch(st){case"top-right":case"bottom-right":ht=-yt;break;case"top-left":case"bottom-left":ht=yt;break;case"left":ht=it;break;case"right":ht=-it}}else{switch(it=Math.abs(it),ct=Math.abs(ct),st){case"top-right":case"top-left":case"top":pt=ct-Nm;break;case"bottom-right":case"bottom-left":case"bottom":pt=-ct+Nm}switch(st){case"top-right":case"bottom-right":case"right":ht=-it;break;case"top-left":case"bottom-left":case"left":ht=it}}return[ht,pt]}function JS(st,it,ct,ht,pt,yt,bt,St,Rt,kt){st.createArrays(),st.tilePixelRatio=lo/(512*st.overscaling),st.compareText={},st.iconsNeedLinear=!1;const Bt=st.layers[0].layout,jt=st.layers[0]._unevaluatedLayout._values,Ht={};if(st.textSizeData.kind==="composite"){const{minZoom:or,maxZoom:gr}=st.textSizeData;Ht.compositeTextSizes=[jt["text-size"].possiblyEvaluate(new Nt(or),St),jt["text-size"].possiblyEvaluate(new Nt(gr),St)]}if(st.iconSizeData.kind==="composite"){const{minZoom:or,maxZoom:gr}=st.iconSizeData;Ht.compositeIconSizes=[jt["icon-size"].possiblyEvaluate(new Nt(or),St),jt["icon-size"].possiblyEvaluate(new Nt(gr),St)]}Ht.layoutTextSize=jt["text-size"].possiblyEvaluate(new Nt(Rt+1),St),Ht.layoutIconSize=jt["icon-size"].possiblyEvaluate(new Nt(Rt+1),St),Ht.textMaxSize=jt["text-size"].possiblyEvaluate(new Nt(18),St);const Yt=Bt.get("text-rotation-alignment")==="map"&&Bt.get("symbol-placement")!=="point",Jt=Bt.get("text-size");for(const or of st.features){const gr=Bt.get("text-font").evaluate(or,{},St).join(","),Mr=Jt.evaluate(or,{},St),Fr=Ht.layoutTextSize.evaluate(or,{},St),kr=(Ht.layoutIconSize.evaluate(or,{},St),{horizontal:{},vertical:void 0}),Or=or.text;let Nr,zr=[0,0];if(Or){const xn=Or.toString(),Ln=Bt.get("text-letter-spacing").evaluate(or,{},St)*Es,hn=Bt.get("text-line-height").evaluate(or,{},St)*Es,Cn=hv(xn)?Ln:0,Tn=Bt.get("text-anchor").evaluate(or,{},St),kn=Bt.get("text-variable-anchor");if(!kn){const Gn=Bt.get("text-radial-offset").evaluate(or,{},St);zr=Gn?dw(Tn,[Gn*Es,r_]):Bt.get("text-offset").evaluate(or,{},St).map(_o=>_o*Es)}let zn=Yt?"center":Bt.get("text-justify").evaluate(or,{},St);const vn=Bt.get("symbol-placement")==="point",Un=vn?Bt.get("text-max-width").evaluate(or,{},St)*Es:1/0,Jn=Gn=>{st.allowVerticalPlacement&&I0(xn)&&(kr.vertical=Jv(Or,it,ct,pt,gr,Un,hn,Tn,Gn,Cn,zr,Sl.vertical,!0,Fr,Mr))};if(!Yt&&kn){const Gn=zn==="auto"?kn.map(Nn=>n_(Nn)):[zn];let _o=!1;for(let Nn=0;Nn<Gn.length;Nn++){const ao=Gn[Nn];if(!kr.horizontal[ao])if(_o)kr.horizontal[ao]=kr.horizontal[0];else{const xo=Jv(Or,it,ct,pt,gr,Un,hn,"center",ao,Cn,zr,Sl.horizontal,!1,Fr,Mr);xo&&(kr.horizontal[ao]=xo,_o=xo.positionedLines.length===1)}}Jn("left")}else{if(zn==="auto"&&(zn=n_(Tn)),vn||Bt.get("text-writing-mode").indexOf("horizontal")>=0||!I0(xn)){const Gn=Jv(Or,it,ct,pt,gr,Un,hn,Tn,zn,Cn,zr,Sl.horizontal,!1,Fr,Mr);Gn&&(kr.horizontal[zn]=Gn)}Jn(vn?"left":zn)}}let sn=!1;if(or.icon&&or.icon.name){const xn=ht[or.icon.name];xn&&(Nr=GS(pt[or.icon.name],Bt.get("icon-offset").evaluate(or,{},St),Bt.get("icon-anchor").evaluate(or,{},St)),sn=xn.sdf,st.sdfIcons===void 0?st.sdfIcons=xn.sdf:st.sdfIcons!==xn.sdf&&Rn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(xn.pixelRatio!==st.pixelRatio||Bt.get("icon-rotate").constantOr(1)!==0)&&(st.iconsNeedLinear=!0))}const nn=pw(kr.horizontal)||kr.vertical;st.iconsInText||(st.iconsInText=!!nn&&nn.iconsInText),(nn||Nr)&&eE(st,or,kr,Nr,ht,Ht,Fr,0,zr,sn,bt,St,kt)}yt&&st.generateCollisionDebugBuffers(Rt,st.collisionBoxArray)}function n_(st){switch(st){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function eE(st,it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht){let Yt=yt.textMaxSize.evaluate(it,{},jt);Yt===void 0&&(Yt=bt);const Jt=st.layers[0].layout,or=Jt.get("icon-offset").evaluate(it,{},jt),gr=pw(ct.horizontal)||ct.vertical,Mr=Ht.name==="globe",Fr=Es,kr=bt/Fr,Or=st.tilePixelRatio*Yt/Fr,Nr=(Tn=st.overscaling,st.zoom>18&&Tn>2&&(Tn>>=1),Math.max(lo/(512*Tn),1)*Jt.get("symbol-spacing")),zr=Jt.get("text-padding")*st.tilePixelRatio,sn=Jt.get("icon-padding")*st.tilePixelRatio,nn=vr(Jt.get("text-max-angle")),xn=Jt.get("text-rotation-alignment")==="map"&&Jt.get("symbol-placement")!=="point",Ln=Jt.get("icon-rotation-alignment")==="map"&&Jt.get("symbol-placement")!=="point",hn=Jt.get("symbol-placement"),Cn=Nr/2;var Tn;const kn=Jt.get("icon-text-fit");let zn;ht&&kn!=="none"&&(st.allowVerticalPlacement&&ct.vertical&&(zn=tw(ht,ct.vertical,kn,Jt.get("icon-text-fit-padding"),or,kr)),gr&&(ht=tw(ht,gr,kn,Jt.get("icon-text-fit-padding"),or,kr)));const vn=(Un,Jn,Gn)=>{if(Jn.x<0||Jn.x>=lo||Jn.y<0||Jn.y>=lo)return;let _o=null;if(Mr){const{x:Nn,y:ao,z:xo}=Ht.projectTilePoint(Jn.x,Jn.y,Gn);_o={anchor:new Mu(Nn,ao,xo,0,void 0),up:Ht.upVector(Gn,Jn.x,Jn.y)}}(function(Nn,ao,xo,Oo,bo,fo,_a,wo,So,Ko,Jo,na,Xo,es,ns,ds,Yo,ys,fs,ts,zo,ps,ga,zs,ms){const Cs=Nn.addToLineVertexArray(ao,Oo);let bs,Bs,ws,tu,Um,yy,vy,qw=0,Zw=0,Kw=0,Xw=0,v_=-1,__=-1;const du={};let Yw=pv("");const Gp=xo?xo.anchor:ao;let x_=0,b_=0;if(So._unevaluatedLayout.getValue("text-radial-offset")===void 0?[x_,b_]=So.layout.get("text-offset").evaluate(zo,{},ms).map(Xs=>Xs*Es):(x_=So.layout.get("text-radial-offset").evaluate(zo,{},ms)*Es,b_=r_),Nn.allowVerticalPlacement&&bo.vertical){const Xs=bo.vertical;if(ns)yy=i_(Xs),wo&&(vy=i_(wo));else{const Ys=So.layout.get("text-rotate").evaluate(zo,{},ms)+90;ws=D1(Ko,Gp,ao,Jo,na,Xo,Xs,es,Ys,ds),wo&&(tu=D1(Ko,Gp,ao,Jo,na,Xo,wo,ys,Ys))}}if(fo){const Xs=So.layout.get("icon-rotate").evaluate(zo,{},ms),Ys=So.layout.get("icon-text-fit")!=="none",_y=uw(fo,Xs,ga,Ys),S_=wo?uw(wo,Xs,ga,Ys):void 0;Bs=D1(Ko,Gp,ao,Jo,na,Xo,fo,ys,Xs),qw=4*_y.length;const Qw=Nn.iconSizeData;let Wp=null;Qw.kind==="source"?(Wp=[Jl*So.layout.get("icon-size").evaluate(zo,{},ms)],Wp[0]>Ju&&Rn(`${Nn.layerIds[0]}: Value for "icon-size" is >= ${cy}. Reduce your "icon-size".`)):Qw.kind==="composite"&&(Wp=[Jl*ps.compositeIconSizes[0].evaluate(zo,{},ms),Jl*ps.compositeIconSizes[1].evaluate(zo,{},ms)],(Wp[0]>Ju||Wp[1]>Ju)&&Rn(`${Nn.layerIds[0]}: Value for "icon-size" is >= ${cy}. Reduce your "icon-size".`)),Nn.addSymbols(Nn.icon,_y,Wp,ts,fs,zo,!1,xo,ao,Cs.lineStartIndex,Cs.lineLength,-1,zs,ms),v_=Nn.icon.placedSymbolArray.length-1,S_&&(Zw=4*S_.length,Nn.addSymbols(Nn.icon,S_,Wp,ts,fs,zo,Sl.vertical,xo,ao,Cs.lineStartIndex,Cs.lineLength,-1,zs,ms),__=Nn.icon.placedSymbolArray.length-1)}for(const Xs in bo.horizontal){const Ys=bo.horizontal[Xs];bs||(Yw=pv(Ys.text),ns?Um=i_(Ys):bs=D1(Ko,Gp,ao,Jo,na,Xo,Ys,es,So.layout.get("text-rotate").evaluate(zo,{},ms),ds));const _y=Ys.positionedLines.length===1;if(Kw+=fw(Nn,xo,ao,Ys,_a,So,ns,zo,ds,Cs,bo.vertical?Sl.horizontal:Sl.horizontalOnly,_y?Object.keys(bo.horizontal):[Xs],du,v_,ps,zs,ms),_y)break}bo.vertical&&(Xw+=fw(Nn,xo,ao,bo.vertical,_a,So,ns,zo,ds,Cs,Sl.vertical,["vertical"],du,__,ps,zs,ms));let rp=-1;const w_=(Xs,Ys)=>Xs?Math.max(Xs,Ys):Ys;rp=w_(Um,rp),rp=w_(yy,rp),rp=w_(vy,rp);const PE=rp>-1?1:0;Nn.glyphOffsetArray.length>=_d.MAX_GLYPHS&&Rn("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),zo.sortKey!==void 0&&Nn.addToSortKeyRanges(Nn.symbolInstances.length,zo.sortKey),Nn.symbolInstances.emplaceBack(Gp.x,Gp.y,Gp.z,ao.x,ao.y,du.right>=0?du.right:-1,du.center>=0?du.center:-1,du.left>=0?du.left:-1,du.vertical>=0?du.vertical:-1,v_,__,Yw,bs!==void 0?bs:Nn.collisionBoxArray.length,bs!==void 0?bs+1:Nn.collisionBoxArray.length,ws!==void 0?ws:Nn.collisionBoxArray.length,ws!==void 0?ws+1:Nn.collisionBoxArray.length,Bs!==void 0?Bs:Nn.collisionBoxArray.length,Bs!==void 0?Bs+1:Nn.collisionBoxArray.length,tu||Nn.collisionBoxArray.length,tu?tu+1:Nn.collisionBoxArray.length,Jo,Kw,Xw,qw,Zw,PE,0,x_,b_,rp)})(st,Jn,_o,Un,ct,ht,pt,zn,st.layers[0],st.collisionBoxArray,it.index,it.sourceLayerIndex,st.index,zr,xn,Rt,0,sn,Ln,or,it,yt,kt,Bt,jt)};if(hn==="line")for(const Un of sw(it.geometry,0,0,lo,lo)){const Jn=HS(Un,Nr,nn,ct.vertical||gr,ht,Fr,Or,st.overscaling,lo);for(const Gn of Jn)gr&&tE(st,gr.text,Cn,Gn)||vn(Un,Gn,jt)}else if(hn==="line-center"){for(const Un of it.geometry)if(Un.length>1){const Jn=WS(Un,nn,ct.vertical||gr,ht,Fr,Or);Jn&&vn(Un,Jn,jt)}}else if(it.type==="Polygon")for(const Un of Gv(it.geometry,0)){const Jn=XS(Un,16);vn(Un[0],new Mu(Jn.x,Jn.y,0,0,void 0),jt)}else if(it.type==="LineString")for(const Un of it.geometry)vn(Un,new Mu(Un[0].x,Un[0].y,0,0,void 0),jt);else if(it.type==="Point")for(const Un of it.geometry)for(const Jn of Un)vn([Jn],new Mu(Jn.x,Jn.y,0,0,void 0),jt)}const cy=255,Ju=cy*Jl;function fw(st,it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt,Jt,or,gr){const Mr=function(Or,Nr,zr,sn,nn,xn,Ln,hn){const Cn=[];if(Nr.positionedLines.length===0)return Cn;const Tn=sn.layout.get("text-rotate").evaluate(xn,{})*Math.PI/180,kn=function(Gn){const _o=Gn[0],Nn=Gn[1],ao=_o*Nn;return ao>0?[_o,-Nn]:ao<0?[-_o,Nn]:_o===0?[Nn,_o]:[Nn,-_o]}(zr);let zn=Math.abs(Nr.top-Nr.bottom);for(const Gn of Nr.positionedLines)zn-=Gn.lineOffset;const vn=Nr.positionedLines.length,Un=zn/vn;let Jn=Nr.top-zr[1];for(let Gn=0;Gn<vn;++Gn){const _o=Nr.positionedLines[Gn];Jn=qS(Nr,Un,Jn,Gn);for(const Nn of _o.positionedGlyphs){if(!Nn.rect)continue;const ao=Nn.rect||{};let xo=Zx+1,Oo=!0,bo=1,fo=0;if(Nn.imageName){const ga=Ln[Nn.imageName];if(!ga)continue;if(ga.sdf){Rn("SDF images are not supported in formatted text and will be ignored.");continue}Oo=!1,bo=ga.pixelRatio,xo=Vs/bo}const _a=(nn||hn)&&Nn.vertical,wo=Nn.metrics.advance*Nn.scale/2,So=Nn.metrics,Ko=Nn.rect;if(Ko===null)continue;hn&&Nr.verticalizable&&(fo=Nn.imageName?wo-Nn.metrics.width*Nn.scale/2:0);const Jo=nn?[Nn.x+wo,Nn.y]:[0,0];let na=[0,0],Xo=[0,0],es=!1;nn||(_a?(Xo=[Nn.x+wo+kn[0],Nn.y+kn[1]-fo],es=!0):na=[Nn.x+wo+zr[0],Nn.y+zr[1]-fo]);const ns=Ko.w*Nn.scale/(bo*(Nn.localGlyph?_c:1)),ds=Ko.h*Nn.scale/(bo*(Nn.localGlyph?_c:1));let Yo,ys,fs,ts;if(_a){const ga=Nn.y-Jn,zs=new er(-wo,wo-ga),ms=-Math.PI/2,Cs=new er(...Xo);Yo=new er(-wo+na[0],na[1]),Yo._rotateAround(ms,zs)._add(Cs),Yo.x+=-ga+wo,Yo.y-=(So.left-xo)*Nn.scale;const bs=Nn.imageName?So.advance*Nn.scale:Es*Nn.scale,Bs=String.fromCharCode(Nn.glyph);RS(Bs)?Yo.x+=(1-xo)*Nn.scale:PS(Bs)?Yo.x+=bs-So.height*Nn.scale+(-xo-1)*Nn.scale:Yo.x+=Nn.imageName||So.width+2*xo===Ko.w&&So.height+2*xo===Ko.h?(bs-ds)/2:(bs-(So.height+2*xo)*Nn.scale)/2,ys=new er(Yo.x,Yo.y-ns),fs=new er(Yo.x+ds,Yo.y),ts=new er(Yo.x+ds,Yo.y-ns)}else{const ga=(So.left-xo)*Nn.scale-wo+na[0],zs=(-So.top-xo)*Nn.scale+na[1],ms=ga+ns,Cs=zs+ds;Yo=new er(ga,zs),ys=new er(ms,zs),fs=new er(ga,Cs),ts=new er(ms,Cs)}if(Tn){let ga;ga=nn?new er(0,0):es?new er(kn[0],kn[1]):new er(zr[0],zr[1]),Yo._rotateAround(Tn,ga),ys._rotateAround(Tn,ga),fs._rotateAround(Tn,ga),ts._rotateAround(Tn,ga)}const zo=new er(0,0),ps=new er(0,0);Cn.push({tl:Yo,tr:ys,bl:fs,br:ts,tex:ao,writingMode:Nr.writingMode,glyphOffset:Jo,sectionIndex:Nn.sectionIndex,isSDF:Oo,pixelOffsetTL:zo,pixelOffsetBR:ps,minFontScaleX:0,minFontScaleY:0})}}return Cn}(0,ht,Rt,yt,bt,St,pt,st.allowVerticalPlacement),Fr=st.textSizeData;let kr=null;Fr.kind==="source"?(kr=[Jl*yt.layout.get("text-size").evaluate(St,{},gr)],kr[0]>Ju&&Rn(`${st.layerIds[0]}: Value for "text-size" is >= ${cy}. Reduce your "text-size".`)):Fr.kind==="composite"&&(kr=[Jl*Jt.compositeTextSizes[0].evaluate(St,{},gr),Jl*Jt.compositeTextSizes[1].evaluate(St,{},gr)],(kr[0]>Ju||kr[1]>Ju)&&Rn(`${st.layerIds[0]}: Value for "text-size" is >= ${cy}. Reduce your "text-size".`)),st.addSymbols(st.text,Mr,kr,Rt,bt,St,Bt,it,ct,kt.lineStartIndex,kt.lineLength,Yt,or,gr);for(const Or of jt)Ht[Or]=st.text.placedSymbolArray.length-1;return 4*Mr.length}function pw(st){for(const it in st)return st[it];return null}function D1(st,it,ct,ht,pt,yt,bt,St,Rt,kt){let Bt=bt.top,jt=bt.bottom,Ht=bt.left,Yt=bt.right;const Jt=bt.collisionPadding;if(Jt&&(Ht-=Jt[0],Bt-=Jt[1],Yt+=Jt[2],jt+=Jt[3]),Rt){const or=new er(Ht,Bt),gr=new er(Yt,Bt),Mr=new er(Ht,jt),Fr=new er(Yt,jt),kr=vr(Rt);let Or=new er(0,0);kt&&(Or=new er(kt[0],kt[1])),or._rotateAround(kr,Or),gr._rotateAround(kr,Or),Mr._rotateAround(kr,Or),Fr._rotateAround(kr,Or),Ht=Math.min(or.x,gr.x,Mr.x,Fr.x),Yt=Math.max(or.x,gr.x,Mr.x,Fr.x),Bt=Math.min(or.y,gr.y,Mr.y,Fr.y),jt=Math.max(or.y,gr.y,Mr.y,Fr.y)}return st.emplaceBack(it.x,it.y,it.z,ct.x,ct.y,Ht,Bt,Yt,jt,St,ht,pt,yt),st.length-1}function i_(st){st.collisionPadding&&(st.top-=st.collisionPadding[1],st.bottom+=st.collisionPadding[3]);const it=st.bottom-st.top;return it>0?Math.max(10,it):null}function tE(st,it,ct,ht){const pt=st.compareText;if(it in pt){const yt=pt[it];for(let bt=yt.length-1;bt>=0;bt--)if(ht.dist(yt[bt])<ct)return!0}else pt[it]=[];return pt[it].push(ht),!1}function mw(st,it){const ct=st.fovAboveCenter,ht=st.elevation?st.elevation.getMinElevationBelowMSL()*it:0,pt=(st._camera.position[2]*st.worldSize-ht)/Math.cos(st._pitch),yt=Math.sin(ct)*pt/Math.sin(Math.max(Math.PI/2-st._pitch-ct,.01)),bt=Math.sin(st._pitch)*yt+pt;return Math.min(1.01*bt,pt*(1/st._horizonShift))}function Vp(st,it){if(!it.isReprojectedInTileSpace)return{scale:1<<st.z,x:st.x,y:st.y,x2:st.x+1,y2:st.y+1,projection:it};const ct=Math.pow(2,-st.z),ht=st.x*ct,pt=(st.x+1)*ct,yt=st.y*ct,bt=(st.y+1)*ct,St=xl(ht),Rt=xl(pt),kt=As(yt),Bt=As(bt),jt=it.project(St,kt),Ht=it.project(Rt,kt),Yt=it.project(Rt,Bt),Jt=it.project(St,Bt);let or=Math.min(jt.x,Ht.x,Yt.x,Jt.x),gr=Math.min(jt.y,Ht.y,Yt.y,Jt.y),Mr=Math.max(jt.x,Ht.x,Yt.x,Jt.x),Fr=Math.max(jt.y,Ht.y,Yt.y,Jt.y);const kr=ct/16;function Or(zr,sn,nn,xn,Ln,hn){const Cn=(nn+Ln)/2,Tn=(xn+hn)/2,kn=it.project(xl(Cn),As(Tn)),zn=Math.max(0,or-kn.x,gr-kn.y,kn.x-Mr,kn.y-Fr);or=Math.min(or,kn.x),Mr=Math.max(Mr,kn.x),gr=Math.min(gr,kn.y),Fr=Math.max(Fr,kn.y),zn>kr&&(Or(zr,kn,nn,xn,Cn,Tn),Or(kn,sn,Cn,Tn,Ln,hn))}Or(jt,Ht,ht,yt,pt,yt),Or(Ht,Yt,pt,yt,pt,bt),Or(Yt,Jt,pt,bt,ht,bt),Or(Jt,jt,ht,bt,ht,yt),or-=kr,gr-=kr,Mr+=kr,Fr+=kr;const Nr=1/Math.max(Mr-or,Fr-gr);return{scale:Nr,x:or*Nr,y:gr*Nr,x2:Mr*Nr,y2:Fr*Nr,projection:it}}const rE=Xl(new Float32Array(16));class _h{constructor(it){this.spec=it,this.name=it.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(it,ct){return{x:0,y:0,z:0}}unproject(it,ct){return new Zo(0,0)}projectTilePoint(it,ct,ht){return{x:it,y:ct,z:0}}locationPoint(it,ct,ht=!0){return it._coordinatePoint(it.locationCoordinate(ct),ht)}pixelsPerMeter(it,ct){return Ql(1,it)*ct}pixelSpaceConversion(it,ct,ht){return 1}farthestPixelDistance(it){return mw(it,it.pixelsPerMeter)}pointCoordinate(it,ct,ht,pt){const yt=it.horizonLineFromTop(!1),bt=new er(ct,Math.max(yt,ht));return it.rayIntersectionCoordinate(it.pointRayIntersection(bt,pt))}pointCoordinate3D(it,ct,ht){const pt=new er(ct,ht);if(it.elevation)return it.elevation.pointCoordinate(pt);{const yt=this.pointCoordinate(it,pt.x,pt.y,0);return[yt.x,yt.y,yt.z]}}isPointAboveHorizon(it,ct){if(it.elevation)return!this.pointCoordinate3D(it,ct.x,ct.y);const ht=it.horizonLineFromTop();return ct.y<ht}createInversionMatrix(it,ct){return rE}createTileMatrix(it,ct,ht){let pt,yt,bt;const St=ht.canonical,Rt=Xl(new Float64Array(16));if(this.isReprojectedInTileSpace){const kt=Vp(St,this);pt=1,yt=kt.x+ht.wrap*kt.scale,bt=kt.y,Dp(Rt,Rt,[pt/kt.scale,pt/kt.scale,it.pixelsPerMeter/ct])}else pt=ct/it.zoomScale(St.z),yt=(St.x+Math.pow(2,St.z)*ht.wrap)*pt,bt=St.y*pt;return N0(Rt,Rt,[yt,bt,0]),Dp(Rt,Rt,[pt/lo,pt/lo,1]),Rt}upVector(it,ct,ht){return[0,0,1]}upVectorScale(it,ct,ht){return{metersToTile:1}}}class nE extends _h{constructor(it){super(it),this.range=[4,7],this.center=it.center||[-96,37.5];const[ct,ht]=this.parallels=it.parallels||[29.5,45.5],pt=Math.sin(vr(ct));this.n=(pt+Math.sin(vr(ht)))/2,this.c=1+pt*(2*this.n-pt),this.r0=Math.sqrt(this.c)/this.n}project(it,ct){const{n:ht,c:pt,r0:yt}=this,bt=vr(it-this.center[0]),St=vr(ct),Rt=Math.sqrt(pt-2*ht*Math.sin(St))/ht;return{x:Rt*Math.sin(bt*ht),y:Rt*Math.cos(bt*ht)-yt,z:0}}unproject(it,ct){const{n:ht,c:pt,r0:yt}=this,bt=yt+ct;let St=Math.atan2(it,Math.abs(bt))*Math.sign(bt);bt*ht<0&&(St-=Math.PI*Math.sign(it)*Math.sign(bt));const Rt=vr(this.center[0])*ht;St=lr(St,-Math.PI-Rt,Math.PI-Rt);const kt=Xt(Lr(St/ht)+this.center[0],-180,180),Bt=Math.asin(Xt((pt-(it*it+bt*bt)*ht*ht)/(2*ht),-1,1)),jt=Xt(Lr(Bt),-Ms,Ms);return new Zo(kt,jt)}}const uy=1.340264,hy=-.081106,dy=893e-6,fy=.003796,O1=Math.sqrt(3)/2;class iE extends _h{project(it,ct){ct=ct/180*Math.PI,it=it/180*Math.PI;const ht=Math.asin(O1*Math.sin(ct)),pt=ht*ht,yt=pt*pt*pt;return{x:.5*(it*Math.cos(ht)/(O1*(uy+3*hy*pt+yt*(7*dy+9*fy*pt)))/Math.PI+.5),y:1-.5*(ht*(uy+hy*pt+yt*(dy+fy*pt))/Math.PI+1),z:0}}unproject(it,ct){it=(2*it-.5)*Math.PI;let ht=ct=(2*(1-ct)-1)*Math.PI,pt=ht*ht,yt=pt*pt*pt;for(let Bt,jt,Ht,Yt=0;Yt<12&&(jt=ht*(uy+hy*pt+yt*(dy+fy*pt))-ct,Ht=uy+3*hy*pt+yt*(7*dy+9*fy*pt),Bt=jt/Ht,ht=Xt(ht-Bt,-Math.PI/3,Math.PI/3),pt=ht*ht,yt=pt*pt*pt,!(Math.abs(Bt)<1e-12));++Yt);const bt=O1*it*(uy+3*hy*pt+yt*(7*dy+9*fy*pt))/Math.cos(ht),St=Math.asin(Math.sin(ht)/O1),Rt=Xt(180*bt/Math.PI,-180,180),kt=Xt(180*St/Math.PI,-Ms,Ms);return new Zo(Rt,kt)}}class oE extends _h{constructor(it){super(it),this.wrap=!0,this.supportsWorldCopies=!0}project(it,ct){return{x:.5+it/360,y:.5-ct/360,z:0}}unproject(it,ct){const ht=360*(it-.5),pt=Xt(360*(.5-ct),-Ms,Ms);return new Zo(ht,pt)}}const jm=Math.PI/2;function F1(st){return Math.tan((jm+st)/2)}class aE extends _h{constructor(it){super(it),this.center=it.center||[0,30];const[ct,ht]=this.parallels=it.parallels||[30,30];let pt=vr(ct),yt=vr(ht);this.southernCenter=pt+yt<0,this.southernCenter&&(pt=-pt,yt=-yt);const bt=Math.cos(pt),St=F1(pt);this.n=pt===yt?Math.sin(pt):Math.log(bt/Math.cos(yt))/Math.log(F1(yt)/St),this.f=bt*Math.pow(F1(pt),this.n)/this.n}project(it,ct){ct=vr(ct),this.southernCenter&&(ct=-ct),it=vr(it-this.center[0]);const ht=1e-6,{n:pt,f:yt}=this;yt>0?ct<-jm+ht&&(ct=-jm+ht):ct>jm-ht&&(ct=jm-ht);const bt=yt/Math.pow(F1(ct),pt);let St=bt*Math.sin(pt*it),Rt=yt-bt*Math.cos(pt*it);return St=.5*(St/Math.PI+.5),Rt=.5*(Rt/Math.PI+.5),{x:St,y:this.southernCenter?Rt:1-Rt,z:0}}unproject(it,ct){it=(2*it-.5)*Math.PI,this.southernCenter&&(ct=1-ct),ct=(2*(1-ct)-.5)*Math.PI;const{n:ht,f:pt}=this,yt=pt-ct,bt=Math.sign(yt),St=Math.sign(ht)*Math.sqrt(it*it+yt*yt);let Rt=Math.atan2(it,Math.abs(yt))*bt;yt*ht<0&&(Rt-=Math.PI*Math.sign(it)*bt);const kt=Xt(Lr(Rt/ht)+this.center[0],-180,180),Bt=Xt(Lr(2*Math.atan(Math.pow(pt/St,1/ht))-jm),-Ms,Ms);return new Zo(kt,this.southernCenter?-Bt:Bt)}}class gw extends _h{constructor(it){super(it),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(it,ct){return{x:su(it),y:lu(ct),z:0}}unproject(it,ct){const ht=xl(it),pt=As(ct);return new Zo(ht,pt)}}const yw=vr(Ms);class sE extends _h{project(it,ct){const ht=(ct=vr(ct))*ct,pt=ht*ht;return{x:.5*((it=vr(it))*(.8707-.131979*ht+pt*(pt*(.003971*ht-.001529*pt)-.013791))/Math.PI+.5),y:1-.5*(ct*(1.007226+ht*(.015085+pt*(.028874*ht-.044475-.005916*pt)))/Math.PI+1),z:0}}unproject(it,ct){it=(2*it-.5)*Math.PI;let ht=ct=(2*(1-ct)-1)*Math.PI,pt=25,yt=0,bt=ht*ht;do{bt=ht*ht;const kt=bt*bt;yt=(ht*(1.007226+bt*(.015085+kt*(.028874*bt-.044475-.005916*kt)))-ct)/(1.007226+bt*(.045255+kt*(.259866*bt-.311325-.005916*11*kt))),ht=Xt(ht-yt,-yw,yw)}while(Math.abs(yt)>1e-6&&--pt>0);bt=ht*ht;const St=Xt(Lr(it/(.8707+bt*(bt*(bt*bt*bt*(.003971-.001529*bt)-.013791)-.131979))),-180,180),Rt=Lr(ht);return new Zo(St,Rt)}}const vw=vr(Ms);class lE extends _h{project(it,ct){ct=vr(ct),it=vr(it);const ht=Math.cos(ct),pt=2/Math.PI,yt=Math.acos(ht*Math.cos(it/2)),bt=Math.sin(yt)/yt,St=.5*(it*pt+2*ht*Math.sin(it/2)/bt)||0,Rt=.5*(ct+Math.sin(ct)/bt)||0;return{x:.5*(St/Math.PI+.5),y:1-.5*(Rt/Math.PI+1),z:0}}unproject(it,ct){let ht=it=(2*it-.5)*Math.PI,pt=ct=(2*(1-ct)-1)*Math.PI,yt=25;const bt=1e-6;let St=0,Rt=0;do{const kt=Math.cos(pt),Bt=Math.sin(pt),jt=2*Bt*kt,Ht=Bt*Bt,Yt=kt*kt,Jt=Math.cos(ht/2),or=Math.sin(ht/2),gr=2*Jt*or,Mr=or*or,Fr=1-Yt*Jt*Jt,kr=Fr?1/Fr:0,Or=Fr?Math.acos(kt*Jt)*Math.sqrt(1/Fr):0,Nr=.5*(2*Or*kt*or+2*ht/Math.PI)-it,zr=.5*(Or*Bt+pt)-ct,sn=.5*kr*(Yt*Mr+Or*kt*Jt*Ht)+1/Math.PI,nn=kr*(gr*jt/4-Or*Bt*or),xn=.125*kr*(jt*or-Or*Bt*Yt*gr),Ln=.5*kr*(Ht*Jt+Or*Mr*kt)+.5,hn=nn*xn-Ln*sn;St=(zr*nn-Nr*Ln)/hn,Rt=(Nr*xn-zr*sn)/hn,ht=Xt(ht-St,-Math.PI,Math.PI),pt=Xt(pt-Rt,-vw,vw)}while((Math.abs(St)>bt||Math.abs(Rt)>bt)&&--yt>0);return new Zo(Lr(ht),Lr(pt))}}class _w extends _h{constructor(it){super(it),this.center=it.center||[0,0],this.parallels=it.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(vr(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(it,ct){const{scale:ht,cosPhi:pt}=this;return{x:vr(it)*pt*ht+.5,y:-Math.sin(vr(ct))/pt*ht+.5,z:0}}unproject(it,ct){const{scale:ht,cosPhi:pt}=this,yt=-(ct-.5)/ht,bt=Xt(Lr((it-.5)/ht)/pt,-180,180),St=Math.asin(Xt(yt*pt,-1,1)),Rt=Xt(Lr(St),-Ms,Ms);return new Zo(bt,Rt)}}class cE extends gw{constructor(it){super(it),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(it,ct,ht){const pt=Z0(it,ct,ht);return ss(pt,pt,K0(au(ht))),{x:pt[0],y:pt[1],z:pt[2]}}locationPoint(it,ct){const ht=Tm(ct.lat,ct.lng),pt=Ds([],ht),yt=it.elevation?it.elevation.getAtPointOrZero(it.locationCoordinate(ct),it._centerAltitude):it._centerAltitude;G0(ht,ht,pt,Ql(1,0)*lo*yt);const bt=Xl(new Float64Array(16));return Lp(bt,it.pixelMatrix,it.globeMatrix),ss(ht,ht,bt),new er(ht[0],ht[1])}pixelsPerMeter(it,ct){return Ql(1,0)*ct}pixelSpaceConversion(it,ct,ht){const pt=Ql(1,it)*ct,yt=Lo(Ql(1,45)*ct,pt,ht);return this.pixelsPerMeter(it,ct)/yt}createTileMatrix(it,ct,ht){const pt=Pv(au(ht.canonical));return Lp(new Float64Array(16),it.globeMatrix,pt)}createInversionMatrix(it,ct){const{center:ht}=it,pt=K0(au(ct));return h1(pt,pt,vr(ht.lng)),vv(pt,pt,vr(ht.lat)),Dp(pt,pt,[it._pixelsPerMercatorPixel,it._pixelsPerMercatorPixel,1]),Float32Array.from(pt)}pointCoordinate(it,ct,ht,pt){return q_(it,ct,ht,!0)||new Pm(0,0)}pointCoordinate3D(it,ct,ht){const pt=this.pointCoordinate(it,ct,ht,0);return[pt.x,pt.y,pt.z]}isPointAboveHorizon(it,ct){return!q_(it,ct.x,ct.y,!1)}farthestPixelDistance(it){const ct=function(pt,yt){const bt=pt.cameraToCenterDistance,St=pt._centerAltitude*yt,Rt=pt._camera,kt=pt._camera.forward(),Bt=Tu([],_l([],kt,-bt),[0,0,St]),jt=pt.worldSize/(2*Math.PI),Ht=[0,0,-jt],Yt=pt.width/pt.height,Jt=Math.tan(pt.fovAboveCenter),or=_l([],Rt.up(),Jt),gr=_l([],Rt.right(),Jt*Yt),Mr=Ds([],Tu([],Tu([],kt,or),gr)),Fr=[];let kr;if(new wv(Bt,Mr).closestPointOnSphere(Ht,jt,Fr)){const Or=Tu([],Fr,Ht),Nr=Yl([],Or,Bt);kr=Math.cos(pt.fovAboveCenter)*j0(Nr)}else{const Or=Yl([],Bt,Ht),Nr=Yl([],Ht,Bt);Ds(Nr,Nr);const zr=j0(Or)-jt;kr=Math.sqrt(zr*(zr+2*jt));const sn=Math.acos(kr/(jt+zr))-Math.acos(Ml(kt,Nr));kr*=Math.cos(sn)}return 1.01*kr}(it,this.pixelsPerMeter(it.center.lat,it.worldSize)),ht=Rm(it.zoom);if(ht>0){const pt=mw(it,Ql(1,it.center.lat)*it.worldSize),yt=it.worldSize/(2*Math.PI),bt=Math.max(it.width,it.height)/it.worldSize*Math.PI;return Lo(ct,pt+yt*(1-Math.cos(bt)),Math.pow(ht,10))}return ct}upVector(it,ct,ht){return Z0(ct,ht,it,1)}upVectorScale(it){return{metersToTile:d1(p1(au(it)))}}}function xw(st){const it=st.parallels,ct=!!it&&Math.abs(it[0]+it[1])<.01;switch(st.name){case"mercator":return new gw(st);case"equirectangular":return new oE(st);case"naturalEarth":return new sE(st);case"equalEarth":return new iE(st);case"winkelTripel":return new lE(st);case"albers":return ct?new _w(st):new nE(st);case"lambertConformalConic":return ct?new _w(st):new aE(st);case"globe":return new cE(st)}throw new Error(`Invalid projection name: ${st.name}`)}const uE=E1.types,hE=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function z1(st,it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht){const Yt=St?Math.min(Ju,Math.round(St[0])):0,Jt=St?Math.min(Ju,Math.round(St[1])):0;st.emplaceBack(it,ct,Math.round(32*ht),Math.round(32*pt),yt,bt,(Yt<<1)+(Rt?1:0),Jt,16*kt,16*Bt,256*jt,256*Ht)}function B1(st,it,ct,ht,pt,yt,bt){st.emplaceBack(it,ct,ht,pt,yt,bt)}function N1(st,it,ct,ht,pt){st.emplaceBack(it,ct,ht,pt),st.emplaceBack(it,ct,ht,pt),st.emplaceBack(it,ct,ht,pt),st.emplaceBack(it,ct,ht,pt)}function dE(st){for(const it of st.sections)if(fv(it.text))return!0;return!1}class o_{constructor(it){this.layoutVertexArray=new An,this.indexArray=new io,this.programConfigurations=it,this.segments=new us,this.dynamicLayoutVertexArray=new $n,this.opacityVertexArray=new oo,this.placedSymbolArray=new cs,this.globeExtVertexArray=new On}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(it,ct,ht,pt){this.isEmpty()||(ht&&(this.layoutVertexBuffer=it.createVertexBuffer(this.layoutVertexArray,_S.members),this.indexBuffer=it.createIndexBuffer(this.indexArray,ct),this.dynamicLayoutVertexBuffer=it.createVertexBuffer(this.dynamicLayoutVertexArray,bS.members,!0),this.opacityVertexBuffer=it.createVertexBuffer(this.opacityVertexArray,hE,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=it.createVertexBuffer(this.globeExtVertexArray,xS.members,!0)),this.opacityVertexBuffer.itemSize=1),(ht||pt)&&this.programConfigurations.upload(it))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Xn(o_,"SymbolBuffers");class a_{constructor(it,ct,ht){this.layoutVertexArray=new it,this.layoutAttributes=ct,this.indexArray=new ht,this.segments=new us,this.collisionVertexArray=new Ao,this.collisionVertexArrayExt=new To}upload(it){this.layoutVertexBuffer=it.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=it.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=it.createVertexBuffer(this.collisionVertexArray,wS.members,!0),this.collisionVertexBufferExt=it.createVertexBuffer(this.collisionVertexArrayExt,SS.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Xn(a_,"CollisionBuffers");class _d{constructor(it){this.collisionBoxArray=it.collisionBoxArray,this.zoom=it.zoom,this.overscaling=it.overscaling,this.layers=it.layers,this.layerIds=this.layers.map(bt=>bt.id),this.index=it.index,this.pixelRatio=it.pixelRatio,this.sourceLayerIndex=it.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Xl([]),this.placementViewportMatrix=Xl([]);const ct=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Zv(this.zoom,ct["text-size"]),this.iconSizeData=Zv(this.zoom,ct["icon-size"]);const ht=this.layers[0].layout,pt=ht.get("symbol-sort-key"),yt=ht.get("symbol-z-order");this.canOverlap=ht.get("text-allow-overlap")||ht.get("icon-allow-overlap")||ht.get("text-ignore-placement")||ht.get("icon-ignore-placement"),this.sortFeaturesByKey=yt!=="viewport-y"&&pt.constantOr(1)!==void 0,this.sortFeaturesByY=(yt==="viewport-y"||yt==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=ht.get("text-writing-mode").map(bt=>Sl[bt]),this.stateDependentLayerIds=this.layers.filter(bt=>bt.isStateDependent()).map(bt=>bt.id),this.sourceID=it.sourceID,this.projection=it.projection}createArrays(){this.text=new o_(new Ip(this.layers,this.zoom,it=>/^text/.test(it))),this.icon=new o_(new Ip(this.layers,this.zoom,it=>/^icon/.test(it))),this.glyphOffsetArray=new Ls,this.lineVertexArray=new bm,this.symbolInstances=new xa}calculateGlyphDependencies(it,ct,ht,pt,yt){for(let bt=0;bt<it.length;bt++)if(ct[it.charCodeAt(bt)]=!0,pt&&yt){const St=ay[it.charAt(bt)];St&&(ct[St.charCodeAt(0)]=!0)}}populate(it,ct,ht,pt){const yt=this.layers[0],bt=yt.layout,St=this.projection.name==="globe",Rt=bt.get("text-font"),kt=bt.get("text-field"),Bt=bt.get("icon-image"),jt=(kt.value.kind!=="constant"||kt.value.value instanceof Is&&!kt.value.value.isEmpty()||kt.value.value.toString().length>0)&&(Rt.value.kind!=="constant"||Rt.value.value.length>0),Ht=Bt.value.kind!=="constant"||!!Bt.value.value||Object.keys(Bt.parameters).length>0,Yt=bt.get("symbol-sort-key");if(this.features=[],!jt&&!Ht)return;const Jt=ct.iconDependencies,or=ct.glyphDependencies,gr=ct.availableImages,Mr=new Nt(this.zoom);for(const{feature:Fr,id:kr,index:Or,sourceLayerIndex:Nr}of it){const zr=yt._featureFilter.needGeometry,sn=Bp(Fr,zr);if(!yt._featureFilter.filter(Mr,sn,ht))continue;if(zr||(sn.geometry=Ru(Fr,ht,pt)),St&&Fr.type!==1&&ht.z<=5){const hn=sn.geometry,Cn=.98078528056,Tn=(kn,zn)=>Ml(Z0(kn.x,kn.y,ht,1),Z0(zn.x,zn.y,ht,1))<Cn;for(let kn=0;kn<hn.length;kn++)hn[kn]=b2(hn[kn],Tn)}let nn,xn;if(jt){const hn=yt.getValueAndResolveTokens("text-field",sn,ht,gr),Cn=Is.factory(hn);dE(Cn)&&(this.hasRTLText=!0),(!this.hasRTLText||Ct()==="unavailable"||this.hasRTLText&&zt.isParsed())&&(nn=TS(Cn,yt,sn))}if(Ht){const hn=yt.getValueAndResolveTokens("icon-image",sn,ht,gr);xn=hn instanceof Gs?hn:Gs.fromString(hn)}if(!nn&&!xn)continue;const Ln=this.sortFeaturesByKey?Yt.evaluate(sn,{},ht):void 0;if(this.features.push({id:kr,text:nn,icon:xn,index:Or,sourceLayerIndex:Nr,geometry:sn.geometry,properties:Fr.properties,type:uE[Fr.type],sortKey:Ln}),xn&&(Jt[xn.name]=!0),nn){const hn=Rt.evaluate(sn,{},ht).join(","),Cn=bt.get("text-rotation-alignment")==="map"&&bt.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Sl.vertical)>=0;for(const Tn of nn.sections)if(Tn.image)Jt[Tn.image.name]=!0;else{const kn=I0(nn.toString()),zn=Tn.fontStack||hn,vn=or[zn]=or[zn]||{};this.calculateGlyphDependencies(Tn.text,vn,Cn,this.allowVerticalPlacement,kn)}}}bt.get("symbol-placement")==="line"&&(this.features=function(Fr){const kr={},Or={},Nr=[];let zr=0;function sn(hn){Nr.push(Fr[hn]),zr++}function nn(hn,Cn,Tn){const kn=Or[hn];return delete Or[hn],Or[Cn]=kn,Nr[kn].geometry[0].pop(),Nr[kn].geometry[0]=Nr[kn].geometry[0].concat(Tn[0]),kn}function xn(hn,Cn,Tn){const kn=kr[Cn];return delete kr[Cn],kr[hn]=kn,Nr[kn].geometry[0].shift(),Nr[kn].geometry[0]=Tn[0].concat(Nr[kn].geometry[0]),kn}function Ln(hn,Cn,Tn){const kn=Tn?Cn[0][Cn[0].length-1]:Cn[0][0];return`${hn}:${kn.x}:${kn.y}`}for(let hn=0;hn<Fr.length;hn++){const Cn=Fr[hn],Tn=Cn.geometry,kn=Cn.text?Cn.text.toString():null;if(!kn){sn(hn);continue}const zn=Ln(kn,Tn),vn=Ln(kn,Tn,!0);if(zn in Or&&vn in kr&&Or[zn]!==kr[vn]){const Un=xn(zn,vn,Tn),Jn=nn(zn,vn,Nr[Un].geometry);delete kr[zn],delete Or[vn],Or[Ln(kn,Nr[Jn].geometry,!0)]=Jn,Nr[Un].geometry=null}else zn in Or?nn(zn,vn,Tn):vn in kr?xn(zn,vn,Tn):(sn(hn),kr[zn]=zr-1,Or[vn]=zr-1)}return Nr.filter(hn=>hn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Fr,kr)=>Fr.sortKey-kr.sortKey)}update(it,ct,ht,pt){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(it,ct,this.layers,ht,pt),this.icon.programConfigurations.updatePaintArrays(it,ct,this.layers,ht,pt))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(it){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(it),this.iconCollisionBox.upload(it)),this.text.upload(it,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(it,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=xw(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(it,ct){const ht=this.lineVertexArray.length;if(it.segment!==void 0)for(const{x:pt,y:yt}of ct)this.lineVertexArray.emplaceBack(pt,yt);return{lineStartIndex:ht,lineLength:this.lineVertexArray.length-ht}}addSymbols(it,ct,ht,pt,yt,bt,St,Rt,kt,Bt,jt,Ht,Yt,Jt){const or=it.indexArray,gr=it.layoutVertexArray,Mr=it.globeExtVertexArray,Fr=it.segments.prepareSegment(4*ct.length,gr,or,this.canOverlap?bt.sortKey:void 0),kr=this.glyphOffsetArray.length,Or=Fr.vertexLength,Nr=this.allowVerticalPlacement&&St===Sl.vertical?Math.PI/2:0,zr=bt.text&&bt.text.sections;for(let nn=0;nn<ct.length;nn++){const{tl:xn,tr:Ln,bl:hn,br:Cn,tex:Tn,pixelOffsetTL:kn,pixelOffsetBR:zn,minFontScaleX:vn,minFontScaleY:Un,glyphOffset:Jn,isSDF:Gn,sectionIndex:_o}=ct[nn],Nn=Fr.vertexLength,ao=Jn[1];if(z1(gr,kt.x,kt.y,xn.x,ao+xn.y,Tn.x,Tn.y,ht,Gn,kn.x,kn.y,vn,Un),z1(gr,kt.x,kt.y,Ln.x,ao+Ln.y,Tn.x+Tn.w,Tn.y,ht,Gn,zn.x,kn.y,vn,Un),z1(gr,kt.x,kt.y,hn.x,ao+hn.y,Tn.x,Tn.y+Tn.h,ht,Gn,kn.x,zn.y,vn,Un),z1(gr,kt.x,kt.y,Cn.x,ao+Cn.y,Tn.x+Tn.w,Tn.y+Tn.h,ht,Gn,zn.x,zn.y,vn,Un),Rt){const{x:xo,y:Oo,z:bo}=Rt.anchor,[fo,_a,wo]=Rt.up;B1(Mr,xo,Oo,bo,fo,_a,wo),B1(Mr,xo,Oo,bo,fo,_a,wo),B1(Mr,xo,Oo,bo,fo,_a,wo),B1(Mr,xo,Oo,bo,fo,_a,wo),N1(it.dynamicLayoutVertexArray,xo,Oo,bo,Nr)}else N1(it.dynamicLayoutVertexArray,kt.x,kt.y,kt.z,Nr);or.emplaceBack(Nn,Nn+1,Nn+2),or.emplaceBack(Nn+1,Nn+2,Nn+3),Fr.vertexLength+=4,Fr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Jn[0]),nn!==ct.length-1&&_o===ct[nn+1].sectionIndex||it.programConfigurations.populatePaintArrays(gr.length,bt,bt.index,{},Yt,Jt,zr&&zr[_o])}const sn=Rt?Rt.anchor:kt;it.placedSymbolArray.emplaceBack(sn.x,sn.y,sn.z,kt.x,kt.y,kr,this.glyphOffsetArray.length-kr,Or,Bt,jt,kt.segment,ht?ht[0]:0,ht?ht[1]:0,pt[0],pt[1],St,0,!1,0,Ht,0)}_commitLayoutVertex(it,ct,ht,pt,yt,bt,St){it.emplaceBack(ct,ht,pt,yt,bt,Math.round(St.x),Math.round(St.y))}_addCollisionDebugVertices(it,ct,ht,pt,yt,bt,St){const Rt=ht.segments.prepareSegment(4,ht.layoutVertexArray,ht.indexArray),kt=Rt.vertexLength,Bt=St.tileAnchorX,jt=St.tileAnchorY;for(let Yt=0;Yt<4;Yt++)ht.collisionVertexArray.emplaceBack(0,0,0,0);ht.collisionVertexArrayExt.emplaceBack(ct,-it.padding,-it.padding),ht.collisionVertexArrayExt.emplaceBack(ct,it.padding,-it.padding),ht.collisionVertexArrayExt.emplaceBack(ct,it.padding,it.padding),ht.collisionVertexArrayExt.emplaceBack(ct,-it.padding,it.padding),this._commitLayoutVertex(ht.layoutVertexArray,pt,yt,bt,Bt,jt,new er(it.x1,it.y1)),this._commitLayoutVertex(ht.layoutVertexArray,pt,yt,bt,Bt,jt,new er(it.x2,it.y1)),this._commitLayoutVertex(ht.layoutVertexArray,pt,yt,bt,Bt,jt,new er(it.x2,it.y2)),this._commitLayoutVertex(ht.layoutVertexArray,pt,yt,bt,Bt,jt,new er(it.x1,it.y2)),Rt.vertexLength+=4;const Ht=ht.indexArray;Ht.emplaceBack(kt,kt+1),Ht.emplaceBack(kt+1,kt+2),Ht.emplaceBack(kt+2,kt+3),Ht.emplaceBack(kt+3,kt),Rt.primitiveLength+=4}_addTextDebugCollisionBoxes(it,ct,ht,pt,yt,bt){for(let St=pt;St<yt;St++){const Rt=ht.get(St),kt=this.getSymbolInstanceTextSize(it,bt,ct,St);this._addCollisionDebugVertices(Rt,kt,this.textCollisionBox,Rt.projectedAnchorX,Rt.projectedAnchorY,Rt.projectedAnchorZ,bt)}}_addIconDebugCollisionBoxes(it,ct,ht,pt,yt,bt){for(let St=pt;St<yt;St++){const Rt=ht.get(St),kt=this.getSymbolInstanceIconSize(it,ct,bt.placedIconSymbolIndex);this._addCollisionDebugVertices(Rt,kt,this.iconCollisionBox,Rt.projectedAnchorX,Rt.projectedAnchorY,Rt.projectedAnchorZ,bt)}}generateCollisionDebugBuffers(it,ct){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new a_(Qn,Nx.members,xs),this.iconCollisionBox=new a_(Qn,Nx.members,xs);const ht=Im(this.iconSizeData,it),pt=Im(this.textSizeData,it);for(let yt=0;yt<this.symbolInstances.length;yt++){const bt=this.symbolInstances.get(yt);this._addTextDebugCollisionBoxes(pt,it,ct,bt.textBoxStartIndex,bt.textBoxEndIndex,bt),this._addTextDebugCollisionBoxes(pt,it,ct,bt.verticalTextBoxStartIndex,bt.verticalTextBoxEndIndex,bt),this._addIconDebugCollisionBoxes(ht,it,ct,bt.iconBoxStartIndex,bt.iconBoxEndIndex,bt),this._addIconDebugCollisionBoxes(ht,it,ct,bt.verticalIconBoxStartIndex,bt.verticalIconBoxEndIndex,bt)}}getSymbolInstanceTextSize(it,ct,ht,pt){const yt=this.text.placedSymbolArray.get(ct.rightJustifiedTextSymbolIndex>=0?ct.rightJustifiedTextSymbolIndex:ct.centerJustifiedTextSymbolIndex>=0?ct.centerJustifiedTextSymbolIndex:ct.leftJustifiedTextSymbolIndex>=0?ct.leftJustifiedTextSymbolIndex:ct.verticalPlacedTextSymbolIndex>=0?ct.verticalPlacedTextSymbolIndex:pt),bt=P1(this.textSizeData,it,yt)/Es;return this.tilePixelRatio*bt}getSymbolInstanceIconSize(it,ct,ht){const pt=this.icon.placedSymbolArray.get(ht),yt=P1(this.iconSizeData,it,pt);return this.tilePixelRatio*yt}_commitDebugCollisionVertexUpdate(it,ct,ht){it.emplaceBack(ct,-ht,-ht),it.emplaceBack(ct,ht,-ht),it.emplaceBack(ct,ht,ht),it.emplaceBack(ct,-ht,ht)}_updateTextDebugCollisionBoxes(it,ct,ht,pt,yt,bt){for(let St=pt;St<yt;St++){const Rt=ht.get(St),kt=this.getSymbolInstanceTextSize(it,bt,ct,St);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,kt,Rt.padding)}}_updateIconDebugCollisionBoxes(it,ct,ht,pt,yt,bt){for(let St=pt;St<yt;St++){const Rt=ht.get(St),kt=this.getSymbolInstanceIconSize(it,ct,bt);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,kt,Rt.padding)}}updateCollisionDebugBuffers(it,ct){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const ht=Im(this.iconSizeData,it),pt=Im(this.textSizeData,it);for(let yt=0;yt<this.symbolInstances.length;yt++){const bt=this.symbolInstances.get(yt);this._updateTextDebugCollisionBoxes(pt,it,ct,bt.textBoxStartIndex,bt.textBoxEndIndex,bt),this._updateTextDebugCollisionBoxes(pt,it,ct,bt.verticalTextBoxStartIndex,bt.verticalTextBoxEndIndex,bt),this._updateIconDebugCollisionBoxes(ht,it,ct,bt.iconBoxStartIndex,bt.iconBoxEndIndex,bt.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(ht,it,ct,bt.verticalIconBoxStartIndex,bt.verticalIconBoxEndIndex,bt.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(it,ct,ht,pt,yt,bt,St,Rt,kt){const Bt={};if(ct<ht){const{x1:jt,y1:Ht,x2:Yt,y2:Jt,padding:or,projectedAnchorX:gr,projectedAnchorY:Mr,projectedAnchorZ:Fr,tileAnchorX:kr,tileAnchorY:Or,featureIndex:Nr}=it.get(ct);Bt.textBox={x1:jt,y1:Ht,x2:Yt,y2:Jt,padding:or,projectedAnchorX:gr,projectedAnchorY:Mr,projectedAnchorZ:Fr,tileAnchorX:kr,tileAnchorY:Or},Bt.textFeatureIndex=Nr}if(pt<yt){const{x1:jt,y1:Ht,x2:Yt,y2:Jt,padding:or,projectedAnchorX:gr,projectedAnchorY:Mr,projectedAnchorZ:Fr,tileAnchorX:kr,tileAnchorY:Or,featureIndex:Nr}=it.get(pt);Bt.verticalTextBox={x1:jt,y1:Ht,x2:Yt,y2:Jt,padding:or,projectedAnchorX:gr,projectedAnchorY:Mr,projectedAnchorZ:Fr,tileAnchorX:kr,tileAnchorY:Or},Bt.verticalTextFeatureIndex=Nr}if(bt<St){const{x1:jt,y1:Ht,x2:Yt,y2:Jt,padding:or,projectedAnchorX:gr,projectedAnchorY:Mr,projectedAnchorZ:Fr,tileAnchorX:kr,tileAnchorY:Or,featureIndex:Nr}=it.get(bt);Bt.iconBox={x1:jt,y1:Ht,x2:Yt,y2:Jt,padding:or,projectedAnchorX:gr,projectedAnchorY:Mr,projectedAnchorZ:Fr,tileAnchorX:kr,tileAnchorY:Or},Bt.iconFeatureIndex=Nr}if(Rt<kt){const{x1:jt,y1:Ht,x2:Yt,y2:Jt,padding:or,projectedAnchorX:gr,projectedAnchorY:Mr,projectedAnchorZ:Fr,tileAnchorX:kr,tileAnchorY:Or,featureIndex:Nr}=it.get(Rt);Bt.verticalIconBox={x1:jt,y1:Ht,x2:Yt,y2:Jt,padding:or,projectedAnchorX:gr,projectedAnchorY:Mr,projectedAnchorZ:Fr,tileAnchorX:kr,tileAnchorY:Or},Bt.verticalIconFeatureIndex=Nr}return Bt}deserializeCollisionBoxes(it){this.collisionArrays=[];for(let ct=0;ct<this.symbolInstances.length;ct++){const ht=this.symbolInstances.get(ct);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(it,ht.textBoxStartIndex,ht.textBoxEndIndex,ht.verticalTextBoxStartIndex,ht.verticalTextBoxEndIndex,ht.iconBoxStartIndex,ht.iconBoxEndIndex,ht.verticalIconBoxStartIndex,ht.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(it,ct){const ht=it.placedSymbolArray.get(ct),pt=ht.vertexStartIndex+4*ht.numGlyphs;for(let yt=ht.vertexStartIndex;yt<pt;yt+=4)it.indexArray.emplaceBack(yt,yt+1,yt+2),it.indexArray.emplaceBack(yt+1,yt+2,yt+3)}getSortedSymbolIndexes(it){if(this.sortedAngle===it&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const ct=Math.sin(it),ht=Math.cos(it),pt=[],yt=[],bt=[];for(let St=0;St<this.symbolInstances.length;++St){bt.push(St);const Rt=this.symbolInstances.get(St);pt.push(0|Math.round(ct*Rt.tileAnchorX+ht*Rt.tileAnchorY)),yt.push(Rt.featureIndex)}return bt.sort((St,Rt)=>pt[St]-pt[Rt]||yt[Rt]-yt[St]),bt}addToSortKeyRanges(it,ct){const ht=this.sortKeyRanges[this.sortKeyRanges.length-1];ht&&ht.sortKey===ct?ht.symbolInstanceEnd=it+1:this.sortKeyRanges.push({sortKey:ct,symbolInstanceStart:it,symbolInstanceEnd:it+1})}sortFeatures(it){if(this.sortFeaturesByY&&this.sortedAngle!==it&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(it),this.sortedAngle=it,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const ct of this.symbolInstanceIndexes){const ht=this.symbolInstances.get(ct);this.featureSortOrder.push(ht.featureIndex);const{rightJustifiedTextSymbolIndex:pt,centerJustifiedTextSymbolIndex:yt,leftJustifiedTextSymbolIndex:bt,verticalPlacedTextSymbolIndex:St,placedIconSymbolIndex:Rt,verticalPlacedIconSymbolIndex:kt}=ht;pt>=0&&this.addIndicesForPlacedSymbol(this.text,pt),yt>=0&&yt!==pt&&this.addIndicesForPlacedSymbol(this.text,yt),bt>=0&&bt!==yt&&bt!==pt&&this.addIndicesForPlacedSymbol(this.text,bt),St>=0&&this.addIndicesForPlacedSymbol(this.text,St),Rt>=0&&this.addIndicesForPlacedSymbol(this.icon,Rt),kt>=0&&this.addIndicesForPlacedSymbol(this.icon,kt)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Xn(_d,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),_d.MAX_GLYPHS=65535,_d.addDynamicAttributes=N1;const fE=new Ir({"symbol-placement":new ir(_n.layout_symbol["symbol-placement"]),"symbol-spacing":new ir(_n.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ir(_n.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new _r(_n.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ir(_n.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ir(_n.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ir(_n.layout_symbol["icon-ignore-placement"]),"icon-optional":new ir(_n.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ir(_n.layout_symbol["icon-rotation-alignment"]),"icon-size":new _r(_n.layout_symbol["icon-size"]),"icon-text-fit":new ir(_n.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ir(_n.layout_symbol["icon-text-fit-padding"]),"icon-image":new _r(_n.layout_symbol["icon-image"]),"icon-rotate":new _r(_n.layout_symbol["icon-rotate"]),"icon-padding":new ir(_n.layout_symbol["icon-padding"]),"icon-keep-upright":new ir(_n.layout_symbol["icon-keep-upright"]),"icon-offset":new _r(_n.layout_symbol["icon-offset"]),"icon-anchor":new _r(_n.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ir(_n.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ir(_n.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ir(_n.layout_symbol["text-rotation-alignment"]),"text-field":new _r(_n.layout_symbol["text-field"]),"text-font":new _r(_n.layout_symbol["text-font"]),"text-size":new _r(_n.layout_symbol["text-size"]),"text-max-width":new _r(_n.layout_symbol["text-max-width"]),"text-line-height":new _r(_n.layout_symbol["text-line-height"]),"text-letter-spacing":new _r(_n.layout_symbol["text-letter-spacing"]),"text-justify":new _r(_n.layout_symbol["text-justify"]),"text-radial-offset":new _r(_n.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ir(_n.layout_symbol["text-variable-anchor"]),"text-anchor":new _r(_n.layout_symbol["text-anchor"]),"text-max-angle":new ir(_n.layout_symbol["text-max-angle"]),"text-writing-mode":new ir(_n.layout_symbol["text-writing-mode"]),"text-rotate":new _r(_n.layout_symbol["text-rotate"]),"text-padding":new ir(_n.layout_symbol["text-padding"]),"text-keep-upright":new ir(_n.layout_symbol["text-keep-upright"]),"text-transform":new _r(_n.layout_symbol["text-transform"]),"text-offset":new _r(_n.layout_symbol["text-offset"]),"text-allow-overlap":new ir(_n.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ir(_n.layout_symbol["text-ignore-placement"]),"text-optional":new ir(_n.layout_symbol["text-optional"])});var s_={paint:new Ir({"icon-opacity":new _r(_n.paint_symbol["icon-opacity"]),"icon-color":new _r(_n.paint_symbol["icon-color"]),"icon-halo-color":new _r(_n.paint_symbol["icon-halo-color"]),"icon-halo-width":new _r(_n.paint_symbol["icon-halo-width"]),"icon-halo-blur":new _r(_n.paint_symbol["icon-halo-blur"]),"icon-translate":new ir(_n.paint_symbol["icon-translate"]),"icon-translate-anchor":new ir(_n.paint_symbol["icon-translate-anchor"]),"text-opacity":new _r(_n.paint_symbol["text-opacity"]),"text-color":new _r(_n.paint_symbol["text-color"],{runtimeType:Ns,getOverride:st=>st.textColor,hasOverride:st=>!!st.textColor}),"text-halo-color":new _r(_n.paint_symbol["text-halo-color"]),"text-halo-width":new _r(_n.paint_symbol["text-halo-width"]),"text-halo-blur":new _r(_n.paint_symbol["text-halo-blur"]),"text-translate":new ir(_n.paint_symbol["text-translate"]),"text-translate-anchor":new ir(_n.paint_symbol["text-translate-anchor"])}),layout:fE};class bw{constructor(it){this.type=it.property.overrides?it.property.overrides.runtimeType:ku,this.defaultValue=it}evaluate(it){if(it.formattedSection){const ct=this.defaultValue.property.overrides;if(ct&&ct.hasOverride(it.formattedSection))return ct.getOverride(it.formattedSection)}return it.feature&&it.featureState?this.defaultValue.evaluate(it.feature,it.featureState):this.defaultValue.property.specification.default}eachChild(it){this.defaultValue.isConstant()||it(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Xn(bw,"FormatSectionOverride",{omit:["defaultValue"]});class j1 extends Kl{constructor(it){super(it,s_)}recalculate(it,ct){super.recalculate(it,ct),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const ht=this.layout.get("text-writing-mode");if(ht){const pt=[];for(const yt of ht)pt.indexOf(yt)<0&&pt.push(yt);this.layout._values["text-writing-mode"]=pt}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(it,ct,ht,pt){const yt=this.layout.get(it).evaluate(ct,{},ht,pt),bt=this._unevaluatedLayout._values[it];return bt.isDataDriven()||Uu(bt.value)||!yt?yt:function(St,Rt){return Rt.replace(/{([^{}]+)}/g,(kt,Bt)=>Bt in St?String(St[Bt]):"")}(ct.properties,yt)}createBucket(it){return new _d(it)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const it of s_.paint.overridableProperties){if(!j1.hasPaintOverride(this.layout,it))continue;const ct=this.paint.get(it),ht=new bw(ct),pt=new fm(ht,ct.property.specification);let yt=null;yt=ct.value.kind==="constant"||ct.value.kind==="source"?new w0("source",pt):new Ep("composite",pt,ct.value.zoomStops,ct.value._interpolationType),this.paint._values[it]=new br(ct.property,yt,ct.parameters)}}_handleOverridablePaintPropertyUpdate(it,ct,ht){return!(!this.layout||ct.isDataDriven()||ht.isDataDriven())&&j1.hasPaintOverride(this.layout,it)}static hasPaintOverride(it,ct){const ht=it.get("text-field"),pt=s_.paint.properties[ct];let yt=!1;const bt=St=>{for(const Rt of St)if(pt.overrides&&pt.overrides.hasOverride(Rt))return void(yt=!0)};if(ht.value.kind==="constant"&&ht.value.value instanceof Is)bt(ht.value.value.sections);else if(ht.value.kind==="source"){const St=kt=>{yt||(kt instanceof mu&&rs(kt.value)===sp?bt(kt.value.sections):kt instanceof ru?bt(kt.sections):kt.eachChild(St))},Rt=ht.value;Rt._styleExpression&&St(Rt._styleExpression.expression)}return yt}getProgramConfiguration(it){return new Xu(this,it)}}var pE={paint:new Ir({"background-color":new ir(_n.paint_background["background-color"]),"background-pattern":new ir(_n.paint_background["background-pattern"]),"background-opacity":new ir(_n.paint_background["background-opacity"])})},mE={paint:new Ir({"raster-opacity":new ir(_n.paint_raster["raster-opacity"]),"raster-hue-rotate":new ir(_n.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ir(_n.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ir(_n.paint_raster["raster-brightness-max"]),"raster-saturation":new ir(_n.paint_raster["raster-saturation"]),"raster-contrast":new ir(_n.paint_raster["raster-contrast"]),"raster-resampling":new ir(_n.paint_raster["raster-resampling"]),"raster-fade-duration":new ir(_n.paint_raster["raster-fade-duration"])})};class gE extends Kl{constructor(it){super(it,{}),this.implementation=it}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(it){this.implementation.onAdd&&this.implementation.onAdd(it,it.painter.context.gl)}onRemove(it){this.implementation.onRemove&&this.implementation.onRemove(it,it.painter.context.gl)}}var yE={paint:new Ir({"sky-type":new ir(_n.paint_sky["sky-type"]),"sky-atmosphere-sun":new ir(_n.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new ir(_n.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new ir(_n.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new ir(_n.paint_sky["sky-gradient-radius"]),"sky-gradient":new $r(_n.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new ir(_n.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new ir(_n.paint_sky["sky-atmosphere-color"]),"sky-opacity":new ir(_n.paint_sky["sky-opacity"])})};function l_(st,it,ct){const ht=[0,0,1],pt=j_([]);return U_(pt,pt,ct?-vr(st)+Math.PI:vr(st)),V_(pt,pt,-vr(it)),F_(ht,ht,pt),Ds(ht,ht)}const vE={circle:class extends Kl{constructor(st){super(st,P2)}createBucket(st){return new Lv(st)}queryRadius(st){const it=st;return Am("circle-radius",this,it)+Am("circle-stroke-width",this,it)+y1(this.paint.get("circle-translate"))}queryIntersectsFeature(st,it,ct,ht,pt,yt,bt,St){const Rt=hx(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),yt.angle,st.pixelToTileUnitsFactor),kt=this.paint.get("circle-radius").evaluate(it,ct)+this.paint.get("circle-stroke-width").evaluate(it,ct);return dx(st,ht,yt,bt,St,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",Rt,kt)}getProgramIds(){return["circle"]}getProgramConfiguration(st){return new Xu(this,st)}},heatmap:class extends Kl{createBucket(st){return new px(st)}constructor(st){super(st,$2),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(st){st==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=zv({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(st){return Am("heatmap-radius",this,st)}queryIntersectsFeature(st,it,ct,ht,pt,yt,bt,St){const Rt=this.paint.get("heatmap-radius").evaluate(it,ct);return dx(st,ht,yt,bt,St,!0,!0,new er(0,0),Rt)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(st){return new Xu(this,st)}},hillshade:class extends Kl{constructor(st){super(st,I2)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends Kl{constructor(st){super(st,K2)}getProgramIds(){const st=this.paint.get("fill-pattern"),it=st&&st.constantOr(1),ct=[it?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&ct.push(it&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),ct}getProgramConfiguration(st){return new Xu(this,st)}recalculate(st,it){super.recalculate(st,it);const ct=this.paint._values["fill-outline-color"];ct.value.kind==="constant"&&ct.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(st){return new w1(st)}queryRadius(){return y1(this.paint.get("fill-translate"))}queryIntersectsFeature(st,it,ct,ht,pt,yt){return!st.queryGeometry.isAboveHorizon&&ax(ux(st.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),yt.angle,st.pixelToTileUnitsFactor),ht)}isTileClipped(){return!0}},"fill-extrusion":class extends Kl{constructor(st){super(st,hS)}createBucket(st){return new ny(st)}queryRadius(){return y1(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(st){return new Xu(this,st)}queryIntersectsFeature(st,it,ct,ht,pt,yt,bt,St,Rt){const kt=hx(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),yt.angle,st.pixelToTileUnitsFactor),Bt=this.paint.get("fill-extrusion-height").evaluate(it,ct),jt=this.paint.get("fill-extrusion-base").evaluate(it,ct),Ht=[0,0],Yt=St&&yt.elevation,Jt=yt.elevation?yt.elevation.exaggeration():1,or=st.tile.getBucket(this);if(Yt&&or instanceof ny){const Or=or.centroidVertexArray,Nr=Rt+1;Nr<Or.length&&(Ht[0]=Or.geta_centroid_pos0(Nr),Ht[1]=Or.geta_centroid_pos1(Nr))}if(Ht[0]===0&&Ht[1]===1)return!1;yt.projection.name==="globe"&&(ht=$x([ht],[new er(0,0),new er(lo,lo)],st.tileID.canonical).map(Or=>Or.polygon).flat());const gr=Yt?St:null,[Mr,Fr]=function(Or,Nr,zr,sn,nn,xn,Ln,hn,Cn,Tn,kn){return Or.projection.name==="globe"?function(zn,vn,Un,Jn,Gn,_o,Nn,ao,xo,Oo,bo){const fo=[],_a=[],wo=zn.projection.upVectorScale(bo,zn.center.lat,zn.worldSize).metersToTile,So=[0,0,0,1],Ko=[0,0,0,1],Jo=(Xo,es,ns,ds)=>{Xo[0]=es,Xo[1]=ns,Xo[2]=ds,Xo[3]=1},na=kx();Un>0&&(Un+=na),Jn+=na;for(const Xo of vn){const es=[],ns=[];for(const ds of Xo){const Yo=ds.x+Gn.x,ys=ds.y+Gn.y,fs=zn.projection.projectTilePoint(Yo,ys,bo),ts=zn.projection.upVector(bo,ds.x,ds.y);let zo=Un,ps=Jn;if(Nn){const ga=Ox(Yo,ys,Un,Jn,Nn,ao,xo,Oo);zo+=ga.base,ps+=ga.top}Un!==0?Jo(So,fs.x+ts[0]*wo*zo,fs.y+ts[1]*wo*zo,fs.z+ts[2]*wo*zo):Jo(So,fs.x,fs.y,fs.z),Jo(Ko,fs.x+ts[0]*wo*ps,fs.y+ts[1]*wo*ps,fs.z+ts[2]*wo*ps),ss(So,So,_o),ss(Ko,Ko,_o),es.push(new $m(So[0],So[1],So[2])),ns.push(new $m(Ko[0],Ko[1],Ko[2]))}fo.push(es),_a.push(ns)}return[fo,_a]}(Or,Nr,zr,sn,nn,xn,Ln,hn,Cn,Tn,kn):Ln?function(zn,vn,Un,Jn,Gn,_o,Nn,ao,xo){const Oo=[],bo=[],fo=[0,0,0,1];for(const _a of zn){const wo=[],So=[];for(const Ko of _a){const Jo=Ko.x+Jn.x,na=Ko.y+Jn.y,Xo=Ox(Jo,na,vn,Un,_o,Nn,ao,xo);fo[0]=Jo,fo[1]=na,fo[2]=Xo.base,fo[3]=1,Op(fo,fo,Gn),fo[3]=Math.max(fo[3],1e-5);const es=new $m(fo[0]/fo[3],fo[1]/fo[3],fo[2]/fo[3]);fo[0]=Jo,fo[1]=na,fo[2]=Xo.top,fo[3]=1,Op(fo,fo,Gn),fo[3]=Math.max(fo[3],1e-5);const ns=new $m(fo[0]/fo[3],fo[1]/fo[3],fo[2]/fo[3]);wo.push(es),So.push(ns)}Oo.push(wo),bo.push(So)}return[Oo,bo]}(Nr,zr,sn,nn,xn,Ln,hn,Cn,Tn):function(zn,vn,Un,Jn,Gn){const _o=[],Nn=[],ao=Gn[8]*vn,xo=Gn[9]*vn,Oo=Gn[10]*vn,bo=Gn[11]*vn,fo=Gn[8]*Un,_a=Gn[9]*Un,wo=Gn[10]*Un,So=Gn[11]*Un;for(const Ko of zn){const Jo=[],na=[];for(const Xo of Ko){const es=Xo.x+Jn.x,ns=Xo.y+Jn.y,ds=Gn[0]*es+Gn[4]*ns+Gn[12],Yo=Gn[1]*es+Gn[5]*ns+Gn[13],ys=Gn[2]*es+Gn[6]*ns+Gn[14],fs=Gn[3]*es+Gn[7]*ns+Gn[15],ts=ds+ao,zo=Yo+xo,ps=ys+Oo,ga=Math.max(fs+bo,1e-5),zs=ds+fo,ms=Yo+_a,Cs=ys+wo,bs=Math.max(fs+So,1e-5);Jo.push(new $m(ts/ga,zo/ga,ps/ga)),na.push(new $m(zs/bs,ms/bs,Cs/bs))}_o.push(Jo),Nn.push(na)}return[_o,Nn]}(Nr,zr,sn,nn,xn)}(yt,ht,jt,Bt,kt,bt,gr,Ht,Jt,yt.center.lat,st.tileID.canonical),kr=st.queryGeometry;return function(Or,Nr,zr){let sn=1/0;ax(zr,Nr)&&(sn=Dx(zr,Nr[0]));for(let nn=0;nn<Nr.length;nn++){const xn=Nr[nn],Ln=Or[nn];for(let hn=0;hn<xn.length-1;hn++){const Cn=xn[hn],Tn=[Cn,xn[hn+1],Ln[hn+1],Ln[hn],Cn];ox(zr,Tn)&&(sn=Math.min(sn,Dx(zr,Tn)))}}return sn!==1/0&&sn}(Mr,Fr,kr.isPointQuery()?kr.screenBounds:kr.screenGeometry)}},line:class extends Kl{constructor(st){super(st,Fx),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(st){if(st==="line-gradient"){const it=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=it._styleExpression&&it._styleExpression.expression instanceof c0,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(st,it){super.recalculate(st,it),this.paint._values["line-floorwidth"]=zx.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,st)}createBucket(st){return new R1(st)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(st){return new Xu(this,st)}queryRadius(st){const it=st,ct=Bx(Am("line-width",this,it),Am("line-gap-width",this,it)),ht=Am("line-offset",this,it);return ct/2+Math.abs(ht)+y1(this.paint.get("line-translate"))}queryIntersectsFeature(st,it,ct,ht,pt,yt){if(st.queryGeometry.isAboveHorizon)return!1;const bt=ux(st.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),yt.angle,st.pixelToTileUnitsFactor),St=st.pixelToTileUnitsFactor/2*Bx(this.paint.get("line-width").evaluate(it,ct),this.paint.get("line-gap-width").evaluate(it,ct)),Rt=this.paint.get("line-offset").evaluate(it,ct);return Rt&&(ht=function(kt,Bt){const jt=[],Ht=new er(0,0);for(let Yt=0;Yt<kt.length;Yt++){const Jt=kt[Yt],or=[];for(let gr=0;gr<Jt.length;gr++){const Mr=Jt[gr],Fr=Jt[gr+1],kr=gr===0?Ht:Mr.sub(Jt[gr-1])._unit()._perp(),Or=gr===Jt.length-1?Ht:Fr.sub(Mr)._unit()._perp(),Nr=kr._add(Or)._unit();Nr._mult(1/(Nr.x*Or.x+Nr.y*Or.y)),or.push(Nr._mult(Bt)._add(Mr))}jt.push(or)}return jt}(ht,Rt*st.pixelToTileUnitsFactor)),function(kt,Bt,jt){for(let Ht=0;Ht<Bt.length;Ht++){const Yt=Bt[Ht];if(kt.length>=3){for(let Jt=0;Jt<Yt.length;Jt++)if(Np(kt,Yt[Jt]))return!0}if(E2(kt,Yt,jt))return!0}return!1}(bt,ht,St)}isTileClipped(){return!0}},symbol:j1,background:class extends Kl{constructor(st){super(st,pE)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Kl{constructor(st){super(st,mE)}getProgramIds(){return["raster"]}},sky:class extends Kl{constructor(st){super(st,yE),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(st){st==="sky-gradient"?this._updateColorRamp():st!=="sky-atmosphere-sun"&&st!=="sky-atmosphere-halo-color"&&st!=="sky-atmosphere-color"&&st!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=zv({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(st){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const it=st.style.light.properties.get("position");return this._lightPosition.azimuthal!==it.azimuthal||this._lightPosition.polar!==it.polar}return!1}getCenter(st,it){if(this.paint.get("sky-type")==="atmosphere"){const ht=this.paint.get("sky-atmosphere-sun"),pt=!ht,yt=st.style.light,bt=yt.properties.get("position");return pt&&yt.properties.get("anchor")==="viewport"&&Rn("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),pt?l_(bt.azimuthal,90-bt.polar,it):l_(ht[0],90-ht[1],it)}const ct=this.paint.get("sky-gradient-center");return l_(ct[0],90-ct[1],it)}is3D(){return!1}isSky(){return!0}markSkyboxValid(st){this._skyboxInvalidated=!1,this._lightPosition=st.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const st=this.paint.get("sky-type");return st==="atmosphere"?["skyboxCapture","skybox"]:st==="gradient"?["skyboxGradient"]:null}}};class py{constructor(it,ct,ht,pt){this.context=it,this.format=ht,this.texture=it.gl.createTexture(),this.update(ct,pt)}update(it,ct,ht){const{width:pt,height:yt}=it,{context:bt}=this,{gl:St}=bt,{HTMLImageElement:Rt,HTMLCanvasElement:kt,HTMLVideoElement:Bt,ImageData:jt,ImageBitmap:Ht}=mt;if(St.bindTexture(St.TEXTURE_2D,this.texture),bt.pixelStoreUnpackFlipY.set(!1),bt.pixelStoreUnpack.set(1),bt.pixelStoreUnpackPremultiplyAlpha.set(this.format===St.RGBA&&(!ct||ct.premultiply!==!1)),ht||this.size&&this.size[0]===pt&&this.size[1]===yt){const{x:Yt,y:Jt}=ht||{x:0,y:0};it instanceof Rt||it instanceof kt||it instanceof Bt||it instanceof jt||Ht&&it instanceof Ht?St.texSubImage2D(St.TEXTURE_2D,0,Yt,Jt,St.RGBA,St.UNSIGNED_BYTE,it):St.texSubImage2D(St.TEXTURE_2D,0,Yt,Jt,pt,yt,St.RGBA,St.UNSIGNED_BYTE,it.data)}else this.size=[pt,yt],it instanceof Rt||it instanceof kt||it instanceof Bt||it instanceof jt||Ht&&it instanceof Ht?St.texImage2D(St.TEXTURE_2D,0,this.format,this.format,St.UNSIGNED_BYTE,it):St.texImage2D(St.TEXTURE_2D,0,this.format,pt,yt,0,this.format,St.UNSIGNED_BYTE,it.data);this.useMipmap=!!(ct&&ct.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&St.generateMipmap(St.TEXTURE_2D)}bind(it,ct){const{context:ht}=this,{gl:pt}=ht;pt.bindTexture(pt.TEXTURE_2D,this.texture),it!==this.filter&&(pt.texParameteri(pt.TEXTURE_2D,pt.TEXTURE_MAG_FILTER,it),pt.texParameteri(pt.TEXTURE_2D,pt.TEXTURE_MIN_FILTER,this.useMipmap?it===pt.NEAREST?pt.NEAREST_MIPMAP_NEAREST:pt.LINEAR_MIPMAP_NEAREST:it),this.filter=it),ct!==this.wrap&&(pt.texParameteri(pt.TEXTURE_2D,pt.TEXTURE_WRAP_S,ct),pt.texParameteri(pt.TEXTURE_2D,pt.TEXTURE_WRAP_T,ct),this.wrap=ct)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:it}=this.context;it.deleteTexture(this.texture),this.texture=null}}class _E{constructor(it){this._callback=it,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class xE{constructor(){this.tasks={},this.taskQueue=[],gn(["process"],this),this.invoker=new _E(this.process),this.nextId=0}add(it,ct){const ht=this.nextId++,pt=function({type:yt,isSymbolTile:bt,zoom:St}){return St=St||0,yt==="message"?0:yt!=="maybePrepare"||bt?yt!=="parseTile"||bt?yt==="parseTile"&&bt?300-St:yt==="maybePrepare"&&bt?400-St:500:200-St:100-St}(ct);if(pt===0){so();try{it()}finally{}return{cancel:()=>{}}}return this.tasks[ht]={fn:it,metadata:ct,priority:pt,id:ht},this.taskQueue.push(ht),this.invoker.trigger(),{cancel:()=>{delete this.tasks[ht]}}}process(){so();try{if(this.taskQueue=this.taskQueue.filter(ht=>!!this.tasks[ht]),!this.taskQueue.length)return;const it=this.pick();if(it===null)return;const ct=this.tasks[it];if(delete this.tasks[it],this.taskQueue.length&&this.invoker.trigger(),!ct)return;ct.fn()}finally{}}pick(){let it=null,ct=1/0;for(let pt=0;pt<this.taskQueue.length;pt++){const yt=this.tasks[this.taskQueue[pt]];yt.priority<ct&&(ct=yt.priority,it=pt)}if(it===null)return null;const ht=this.taskQueue[it];return this.taskQueue.splice(it,1),ht}remove(){this.invoker.remove()}}class ww{constructor(it){this._stringToNumber={},this._numberToString=[];for(let ct=0;ct<it.length;ct++){const ht=it[ct];this._stringToNumber[ht]=ct,this._numberToString[ct]=ht}}encode(it){return this._stringToNumber[it]}decode(it){return this._numberToString[it]}}const bE=["tile","layer","source","sourceLayer","state"];class Sw{constructor(it,ct,ht,pt,yt){this.type="Feature",this._vectorTileFeature=it,this._z=ct,this._x=ht,this._y=pt,this.properties=it.properties,this.id=yt}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(it){this._geometry=it}toJSON(){const it={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(it.id=this.id);for(const ct of bE)this[ct]!==void 0&&(it[ct]=this[ct]);return it}}const Ll=32,cu=33,_f=new Uint16Array(8184);for(let st=0;st<2046;st++){let it=st+2,ct=0,ht=0,pt=0,yt=0,bt=0,St=0;for(1&it?pt=yt=bt=Ll:ct=ht=St=Ll;(it>>=1)>1;){const kt=ct+pt>>1,Bt=ht+yt>>1;1&it?(pt=ct,yt=ht,ct=bt,ht=St):(ct=pt,ht=yt,pt=bt,yt=St),bt=kt,St=Bt}const Rt=4*st;_f[Rt+0]=ct,_f[Rt+1]=ht,_f[Rt+2]=pt,_f[Rt+3]=yt}const uu=new Uint16Array(2178),ep=new Uint8Array(1089),V1=new Uint16Array(1089);function Ew(st){return st===0?-.03125:st===32?.03125:0}var Cw=Yr([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const Tw={type:2,extent:lo,loadGeometry:()=>[[new er(0,0),new er(lo+1,0),new er(lo+1,lo+1),new er(0,lo+1),new er(0,0)]]};class c_{constructor(it,ct,ht,pt,yt){this.tileID=it,this.uid=jr(),this.uses=0,this.tileSize=ct,this.tileZoom=ht,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=yt,this.expiredRequestCount=0,this.state="loading",pt&&pt.transform&&(this.projection=pt.transform.projection)}registerFadeDuration(it){const ct=it+this.timeAdded;ct<Dl.now()||this.fadeEndTime&&ct<this.fadeEndTime||(this.fadeEndTime=ct)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=Vp(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(it,ct,ht){if(this.unloadVectorData(),this.state="loaded",it){it.featureIndex&&(this.latestFeatureIndex=it.featureIndex,it.rawTileData?(this.latestRawTileData=it.rawTileData,this.latestFeatureIndex.rawTileData=it.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=it.collisionBoxArray,this.buckets=function(pt,yt){const bt={};if(!yt)return bt;for(const St of pt){const Rt=St.layerIds.map(kt=>yt.getLayer(kt)).filter(Boolean);if(Rt.length!==0){St.layers=Rt,St.stateDependentLayerIds&&(St.stateDependentLayers=St.stateDependentLayerIds.map(kt=>Rt.filter(Bt=>Bt.id===kt)[0]));for(const kt of Rt)bt[kt.id]=St}}return bt}(it.buckets,ct.style),this.hasSymbolBuckets=!1;for(const pt in this.buckets){const yt=this.buckets[pt];if(yt instanceof _d){if(this.hasSymbolBuckets=!0,!ht)break;yt.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const pt in this.buckets){const yt=this.buckets[pt];if(yt instanceof _d&&yt.hasRTLText){this.hasRTLText=!0,zt.isLoading()||zt.isLoaded()||Ct()!=="deferred"||Dt();break}}this.queryPadding=0;for(const pt in this.buckets){const yt=this.buckets[pt];this.queryPadding=Math.max(this.queryPadding,ct.style.getLayer(pt).queryRadius(yt))}it.imageAtlas&&(this.imageAtlas=it.imageAtlas),it.glyphAtlasImage&&(this.glyphAtlasImage=it.glyphAtlasImage),it.lineAtlas&&(this.lineAtlas=it.lineAtlas)}else this.collisionBoxArray=new qo}unloadVectorData(){if(this.hasData()){for(const it in this.buckets)this.buckets[it].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(it){return this.buckets[it.id]}upload(it){for(const ht in this.buckets){const pt=this.buckets[ht];pt.uploadPending()&&pt.upload(it)}const ct=it.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new py(it,this.imageAtlas.image,ct.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new py(it,this.glyphAtlasImage,ct.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new py(it,this.lineAtlas.image,ct.ALPHA),this.lineAtlas.uploaded=!0)}prepare(it){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(it,this.imageAtlasTexture)}queryRenderedFeatures(it,ct,ht,pt,yt,bt,St,Rt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:pt,pixelPosMatrix:St,transform:bt,params:yt,tileTransform:this.tileTransform},it,ct,ht):{}}querySourceFeatures(it,ct){const ht=this.latestFeatureIndex;if(!ht||!ht.rawTileData)return;const pt=ht.loadVTLayers(),yt=ct?ct.sourceLayer:"",bt=pt._geojsonTileLayer||pt[yt];if(!bt)return;const St=ym(ct&&ct.filter),{z:Rt,x:kt,y:Bt}=this.tileID.canonical,jt={z:Rt,x:kt,y:Bt};for(let Ht=0;Ht<bt.length;Ht++){const Yt=bt.feature(Ht);if(St.needGeometry){const gr=Bp(Yt,!0);if(!St.filter(new Nt(this.tileID.overscaledZ),gr,this.tileID.canonical))continue}else if(!St.filter(new Nt(this.tileID.overscaledZ),Yt))continue;const Jt=ht.getId(Yt,yt),or=new Sw(Yt,Rt,kt,Bt,Jt);or.tile=jt,it.push(or)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(it){const ct=this.expirationTime;if(it.cacheControl){const ht=Eo(it.cacheControl);ht["max-age"]&&(this.expirationTime=Date.now()+1e3*ht["max-age"])}else it.expires&&(this.expirationTime=new Date(it.expires).getTime());if(this.expirationTime){const ht=Date.now();let pt=!1;if(this.expirationTime>ht)pt=!1;else if(ct)if(this.expirationTime<ct)pt=!0;else{const yt=this.expirationTime-ct;yt?this.expirationTime=ht+Math.max(yt,3e4):pt=!0}else pt=!0;pt?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(it,ct){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(it).length===0||!ct)return;const ht=this.latestFeatureIndex.loadVTLayers(),pt=ct.style.listImages();for(const yt in this.buckets){if(!ct.style.hasLayer(yt))continue;const bt=this.buckets[yt],St=bt.layers[0].sourceLayer||"_geojsonTileLayer",Rt=ht[St],kt=it[St];if(!Rt||!kt||Object.keys(kt).length===0)continue;if(bt.update(kt,Rt,pt,this.imageAtlas&&this.imageAtlas.patternPositions||{}),bt instanceof R1||bt instanceof w1){const jt=ct.style._getSourceCache(bt.layers[0].source);ct._terrain&&ct._terrain.enabled&&jt&&bt.programConfigurations.needsUpload&&ct._terrain._clearRenderCacheForTile(jt.id,this.tileID)}const Bt=ct&&ct.style&&ct.style.getLayer(yt);Bt&&(this.queryPadding=Math.max(this.queryPadding,Bt.queryRadius(bt)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Dl.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(it){this.symbolFadeHoldUntil=Dl.now()+it}setTexture(it,ct){const ht=ct.context,pt=ht.gl;this.texture=this.texture||ct.getTileTexture(it.width),this.texture?this.texture.update(it,{useMipmap:!0}):(this.texture=new py(ht,it,pt.RGBA,{useMipmap:!0}),this.texture.bind(pt.LINEAR,pt.CLAMP_TO_EDGE))}setDependencies(it,ct){const ht={};for(const pt of ct)ht[pt]=!0;this.dependencies[it]=ht}hasDependency(it,ct){for(const ht of it){const pt=this.dependencies[ht];if(pt){for(const yt of ct)if(pt[yt])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(it,ct){if(!ct||ct.name==="mercator"||this._tileDebugBuffer)return;const ht=Ru(Tw,this.tileID.canonical,this.tileTransform)[0],pt=new In,yt=new qs;for(let bt=0;bt<ht.length;bt++){const{x:St,y:Rt}=ht[bt];pt.emplaceBack(St,Rt),yt.emplaceBack(bt)}yt.emplaceBack(0),this._tileDebugIndexBuffer=it.createIndexBuffer(yt),this._tileDebugBuffer=it.createVertexBuffer(pt,H0.members),this._tileDebugSegments=us.simpleSegment(0,0,pt.length,yt.length)}_makeTileBoundsBuffers(it,ct){if(this._tileBoundsBuffer||!ct||ct.name==="mercator")return;const ht=Ru(Tw,this.tileID.canonical,this.tileTransform)[0];let pt,yt;if(this.isRaster){const bt=function(St,Rt){const kt=Vp(St,Rt),Bt=Math.pow(2,St.z);for(let gr=0;gr<cu;gr++)for(let Mr=0;Mr<cu;Mr++){const Fr=xl((St.x+(Mr+Ew(Mr))/Ll)/Bt),kr=As((St.y+(gr+Ew(gr))/Ll)/Bt),Or=Rt.project(Fr,kr),Nr=gr*cu+Mr;uu[2*Nr+0]=Math.round((Or.x*kt.scale-kt.x)*lo),uu[2*Nr+1]=Math.round((Or.y*kt.scale-kt.y)*lo)}ep.fill(0),V1.fill(0);for(let gr=2045;gr>=0;gr--){const Mr=4*gr,Fr=_f[Mr+0],kr=_f[Mr+1],Or=_f[Mr+2],Nr=_f[Mr+3],zr=Fr+Or>>1,sn=kr+Nr>>1,nn=zr+sn-kr,xn=sn+Fr-zr,Ln=kr*cu+Fr,hn=Nr*cu+Or,Cn=sn*cu+zr,Tn=Math.hypot((uu[2*Ln+0]+uu[2*hn+0])/2-uu[2*Cn+0],(uu[2*Ln+1]+uu[2*hn+1])/2-uu[2*Cn+1])>=16;ep[Cn]=ep[Cn]||(Tn?1:0),gr<1022&&(ep[Cn]=ep[Cn]||ep[(kr+xn>>1)*cu+(Fr+nn>>1)]||ep[(Nr+xn>>1)*cu+(Or+nn>>1)])}const jt=new Sn,Ht=new io;let Yt=0;function Jt(gr,Mr){const Fr=Mr*cu+gr;return V1[Fr]===0&&(jt.emplaceBack(uu[2*Fr+0],uu[2*Fr+1],gr*lo/Ll,Mr*lo/Ll),V1[Fr]=++Yt),V1[Fr]-1}function or(gr,Mr,Fr,kr,Or,Nr){const zr=gr+Fr>>1,sn=Mr+kr>>1;if(Math.abs(gr-Or)+Math.abs(Mr-Nr)>1&&ep[sn*cu+zr])or(Or,Nr,gr,Mr,zr,sn),or(Fr,kr,Or,Nr,zr,sn);else{const nn=Jt(gr,Mr),xn=Jt(Fr,kr),Ln=Jt(Or,Nr);Ht.emplaceBack(nn,xn,Ln)}}return or(0,0,Ll,Ll,Ll,0),or(Ll,Ll,0,0,0,Ll),{vertices:jt,indices:Ht}}(this.tileID.canonical,ct);pt=bt.vertices,yt=bt.indices}else{pt=new Sn,yt=new io;for(const{x:St,y:Rt}of ht)pt.emplaceBack(St,Rt,0,0);const bt=Uv(pt.int16,void 0,4);for(let St=0;St<bt.length;St+=3)yt.emplaceBack(bt[St],bt[St+1],bt[St+2])}this._tileBoundsBuffer=it.createVertexBuffer(pt,Cw.members),this._tileBoundsIndexBuffer=it.createIndexBuffer(yt),this._tileBoundsSegments=us.simpleSegment(0,0,pt.length,yt.length)}_makeGlobeTileDebugBuffers(it,ct){const ht=ct.projection;if(!ht||ht.name!=="globe"||ct.freezeTileCoverage)return;const pt=this.tileID.canonical,yt=K0(Z_(pt,ct)),bt=Rm(ct.zoom);let St;bt>0&&(St=yv(new Float64Array(16),ct.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(it,pt,ct,yt,St,bt),this._makeGlobeTileDebugTextBuffer(it,pt,ct,yt,St,bt)}_globePoint(it,ct,ht,pt,yt,bt,St){let Rt=Z0(it,ct,ht);if(bt){const kt=1<<ht.z,Bt=su(pt.center.lng),jt=lu(pt.center.lat),Ht=(ht.x+.5)/kt-Bt;let Yt=0;Ht>.5?Yt=-1:Ht<-.5&&(Yt=1);let Jt=(it/lo+ht.x)/kt+Yt,or=(ct/lo+ht.y)/kt;Jt=(Jt-Bt)*pt._pixelsPerMercatorPixel+Bt,or=(or-jt)*pt._pixelsPerMercatorPixel+jt;const gr=[Jt*pt.worldSize,or*pt.worldSize,0];ss(gr,gr,bt),Rt=zp(Rt,gr,St)}return ss(Rt,Rt,yt)}_makeGlobeTileDebugBorderBuffer(it,ct,ht,pt,yt,bt){const St=new In,Rt=new qs,kt=new rn,Bt=(Ht,Yt,Jt,or,gr)=>{const Mr=(Jt-Ht)/(gr-1),Fr=(or-Yt)/(gr-1),kr=St.length;for(let Or=0;Or<gr;Or++){const Nr=Ht+Or*Mr,zr=Yt+Or*Fr;St.emplaceBack(Nr,zr);const sn=this._globePoint(Nr,zr,ct,ht,pt,yt,bt);kt.emplaceBack(sn[0],sn[1],sn[2]),Rt.emplaceBack(kr+Or)}},jt=lo;Bt(0,0,jt,0,16),Bt(jt,0,jt,jt,16),Bt(jt,jt,0,jt,16),Bt(0,jt,0,0,16),this._tileDebugIndexBuffer=it.createIndexBuffer(Rt),this._tileDebugBuffer=it.createVertexBuffer(St,H0.members),this._globeTileDebugBorderBuffer=it.createVertexBuffer(kt,W_.members),this._tileDebugSegments=us.simpleSegment(0,0,St.length,Rt.length)}_makeGlobeTileDebugTextBuffer(it,ct,ht,pt,yt,bt){const St=lo/4,Rt=new In,kt=new io,Bt=new rn,jt=25;kt.reserve(32),Rt.reserve(jt),Bt.reserve(jt);const Ht=(Yt,Jt)=>jt*Yt+Jt;for(let Yt=0;Yt<jt;Yt++){const Jt=Yt*St;for(let or=0;or<jt;or++){const gr=or*St;Rt.emplaceBack(gr,Jt);const Mr=this._globePoint(gr,Jt,ct,ht,pt,yt,bt);Bt.emplaceBack(Mr[0],Mr[1],Mr[2])}}for(let Yt=0;Yt<4;Yt++)for(let Jt=0;Jt<4;Jt++){const or=Ht(Yt,Jt),gr=Ht(Yt,Jt+1),Mr=Ht(Yt+1,Jt),Fr=Ht(Yt+1,Jt+1);kt.emplaceBack(or,gr,Mr),kt.emplaceBack(Mr,gr,Fr)}this._tileDebugTextIndexBuffer=it.createIndexBuffer(kt),this._tileDebugTextBuffer=it.createVertexBuffer(Rt,H0.members),this._globeTileDebugTextBuffer=it.createVertexBuffer(Bt,W_.members),this._tileDebugTextSegments=us.simpleSegment(0,0,jt,32)}}class wE{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(it,ct,ht){const pt=String(ct);if(this.stateChanges[it]=this.stateChanges[it]||{},this.stateChanges[it][pt]=this.stateChanges[it][pt]||{},dr(this.stateChanges[it][pt],ht),this.deletedStates[it]===null){this.deletedStates[it]={};for(const yt in this.state[it])yt!==pt&&(this.deletedStates[it][yt]=null)}else if(this.deletedStates[it]&&this.deletedStates[it][pt]===null){this.deletedStates[it][pt]={};for(const yt in this.state[it][pt])ht[yt]||(this.deletedStates[it][pt][yt]=null)}else for(const yt in ht)this.deletedStates[it]&&this.deletedStates[it][pt]&&this.deletedStates[it][pt][yt]===null&&delete this.deletedStates[it][pt][yt]}removeFeatureState(it,ct,ht){if(this.deletedStates[it]===null)return;const pt=String(ct);if(this.deletedStates[it]=this.deletedStates[it]||{},ht&&ct!==void 0)this.deletedStates[it][pt]!==null&&(this.deletedStates[it][pt]=this.deletedStates[it][pt]||{},this.deletedStates[it][pt][ht]=null);else if(ct!==void 0)if(this.stateChanges[it]&&this.stateChanges[it][pt])for(ht in this.deletedStates[it][pt]={},this.stateChanges[it][pt])this.deletedStates[it][pt][ht]=null;else this.deletedStates[it][pt]=null;else this.deletedStates[it]=null}getState(it,ct){const ht=String(ct),pt=dr({},(this.state[it]||{})[ht],(this.stateChanges[it]||{})[ht]);if(this.deletedStates[it]===null)return{};if(this.deletedStates[it]){const yt=this.deletedStates[it][ct];if(yt===null)return{};for(const bt in yt)delete pt[bt]}return pt}initializeTileState(it,ct){it.setFeatureState(this.state,ct)}coalesceChanges(it,ct){const ht={};for(const pt in this.stateChanges){this.state[pt]=this.state[pt]||{};const yt={};for(const bt in this.stateChanges[pt])this.state[pt][bt]||(this.state[pt][bt]={}),dr(this.state[pt][bt],this.stateChanges[pt][bt]),yt[bt]=this.state[pt][bt];ht[pt]=yt}for(const pt in this.deletedStates){this.state[pt]=this.state[pt]||{};const yt={};if(this.deletedStates[pt]===null)for(const bt in this.state[pt])yt[bt]={},this.state[pt][bt]={};else for(const bt in this.deletedStates[pt]){if(this.deletedStates[pt][bt]===null)this.state[pt][bt]={};else if(this.state[pt][bt])for(const St of Object.keys(this.deletedStates[pt][bt]))delete this.state[pt][bt][St];yt[bt]=this.state[pt][bt]}ht[pt]=ht[pt]||{},dr(ht[pt],yt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ht).length!==0)for(const pt in it)it[pt].setFeatureState(ht,ct)}}class Rw{constructor(it){this.size=it,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(it,ct){const ht=this.toIdx(it,ct);return{min:this.minimums[ht],max:this.maximums[ht]}}isLeaf(it,ct){return this.leaves[this.toIdx(it,ct)]}toIdx(it,ct){return ct*this.size+it}}function Pw(st,it,ct,ht){let pt=0,yt=Number.MAX_VALUE;for(let bt=0;bt<3;bt++)if(Math.abs(ht[bt])<1e-15){if(ct[bt]<st[bt]||ct[bt]>it[bt])return null}else{const St=1/ht[bt];let Rt=(st[bt]-ct[bt])*St,kt=(it[bt]-ct[bt])*St;if(Rt>kt){const Bt=Rt;Rt=kt,kt=Bt}if(Rt>pt&&(pt=Rt),kt<yt&&(yt=kt),pt>yt)return null}return pt}function Aw(st,it,ct,ht,pt,yt,bt,St,Rt,kt,Bt){const jt=ht-st,Ht=pt-it,Yt=yt-ct,Jt=bt-st,or=St-it,gr=Rt-ct,Mr=Bt[1]*gr-Bt[2]*or,Fr=Bt[2]*Jt-Bt[0]*gr,kr=Bt[0]*or-Bt[1]*Jt,Or=jt*Mr+Ht*Fr+Yt*kr;if(Math.abs(Or)<1e-15)return null;const Nr=1/Or,zr=kt[0]-st,sn=kt[1]-it,nn=kt[2]-ct,xn=(zr*Mr+sn*Fr+nn*kr)*Nr;if(xn<0||xn>1)return null;const Ln=sn*Yt-nn*Ht,hn=nn*jt-zr*Yt,Cn=zr*Ht-sn*jt,Tn=(Bt[0]*Ln+Bt[1]*hn+Bt[2]*Cn)*Nr;return Tn<0||xn+Tn>1?null:(Jt*Ln+or*hn+gr*Cn)*Nr}function Mw(st,it,ct){return(st-it)/(ct-it)}function kw(st,it,ct,ht,pt,yt,bt,St,Rt){const kt=1<<ct,Bt=yt-ht,jt=bt-pt,Ht=(st+1)/kt*Bt+ht,Yt=(it+0)/kt*jt+pt,Jt=(it+1)/kt*jt+pt;St[0]=(st+0)/kt*Bt+ht,St[1]=Yt,Rt[0]=Ht,Rt[1]=Jt}class $w{constructor(it){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=it,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const ct=function(yt){const bt=Math.ceil(Math.log2(yt.dim/8)),St=[];let Rt=Math.ceil(Math.pow(2,bt));const kt=1/Rt,Bt=(Yt,Jt,or,gr,Mr)=>{const Fr=gr?1:0,kr=(Yt+1)*or-Fr,Or=Jt*or,Nr=(Jt+1)*or-Fr;Mr[0]=Yt*or,Mr[1]=Or,Mr[2]=kr,Mr[3]=Nr};let jt=new Rw(Rt);const Ht=[];for(let Yt=0;Yt<Rt*Rt;Yt++){Bt(Yt%Rt,Math.floor(Yt/Rt),kt,!1,Ht);const Jt=tp(Ht[0],Ht[1],yt),or=tp(Ht[2],Ht[1],yt),gr=tp(Ht[2],Ht[3],yt),Mr=tp(Ht[0],Ht[3],yt);jt.minimums.push(Math.min(Jt,or,gr,Mr)),jt.maximums.push(Math.max(Jt,or,gr,Mr)),jt.leaves.push(1)}for(St.push(jt),Rt/=2;Rt>=1;Rt/=2){const Yt=St[St.length-1];jt=new Rw(Rt);for(let Jt=0;Jt<Rt*Rt;Jt++){Bt(Jt%Rt,Math.floor(Jt/Rt),2,!0,Ht);const or=Yt.getElevation(Ht[0],Ht[1]),gr=Yt.getElevation(Ht[2],Ht[1]),Mr=Yt.getElevation(Ht[2],Ht[3]),Fr=Yt.getElevation(Ht[0],Ht[3]),kr=Yt.isLeaf(Ht[0],Ht[1]),Or=Yt.isLeaf(Ht[2],Ht[1]),Nr=Yt.isLeaf(Ht[2],Ht[3]),zr=Yt.isLeaf(Ht[0],Ht[3]),sn=Math.min(or.min,gr.min,Mr.min,Fr.min),nn=Math.max(or.max,gr.max,Mr.max,Fr.max),xn=kr&&Or&&Nr&&zr;jt.maximums.push(nn),jt.minimums.push(sn),jt.leaves.push(nn-sn<=5&&xn?1:0)}St.push(jt)}return St}(this.dem),ht=ct.length-1,pt=ct[ht];this._addNode(pt.minimums[0],pt.maximums[0],pt.leaves[0]),this._construct(ct,0,0,ht,0)}raycastRoot(it,ct,ht,pt,yt,bt,St=1){return Pw([it,ct,-100],[ht,pt,this.maximums[0]*St],yt,bt)}raycast(it,ct,ht,pt,yt,bt,St=1){if(!this.nodeCount)return null;const Rt=this.raycastRoot(it,ct,ht,pt,yt,bt,St);if(Rt==null)return null;const kt=[],Bt=[],jt=[],Ht=[],Yt=[{idx:0,t:Rt,nodex:0,nodey:0,depth:0}];for(;Yt.length>0;){const{idx:Jt,t:or,nodex:gr,nodey:Mr,depth:Fr}=Yt.pop();if(this.leaves[Jt]){kw(gr,Mr,Fr,it,ct,ht,pt,jt,Ht);const Or=1<<Fr,Nr=(gr+0)/Or,zr=(gr+1)/Or,sn=(Mr+0)/Or,nn=(Mr+1)/Or,xn=tp(Nr,sn,this.dem)*St,Ln=tp(zr,sn,this.dem)*St,hn=tp(zr,nn,this.dem)*St,Cn=tp(Nr,nn,this.dem)*St,Tn=Aw(jt[0],jt[1],xn,Ht[0],jt[1],Ln,Ht[0],Ht[1],hn,yt,bt),kn=Aw(Ht[0],Ht[1],hn,jt[0],Ht[1],Cn,jt[0],jt[1],xn,yt,bt),zn=Math.min(Tn!==null?Tn:Number.MAX_VALUE,kn!==null?kn:Number.MAX_VALUE);if(zn!==Number.MAX_VALUE)return zn;{const vn=G0([],yt,bt,or);if(Iw(xn,Ln,Cn,hn,Mw(vn[0],jt[0],Ht[0]),Mw(vn[1],jt[1],Ht[1]))>=vn[2])return or}continue}let kr=0;for(let Or=0;Or<this._siblingOffset.length;Or++){kw((gr<<1)+this._siblingOffset[Or][0],(Mr<<1)+this._siblingOffset[Or][1],Fr+1,it,ct,ht,pt,jt,Ht),jt[2]=-100,Ht[2]=this.maximums[this.childOffsets[Jt]+Or]*St;const Nr=Pw(jt,Ht,yt,bt);if(Nr!=null){const zr=Nr;kt[Or]=zr;let sn=!1;for(let nn=0;nn<kr&&!sn;nn++)zr>=kt[Bt[nn]]&&(Bt.splice(nn,0,Or),sn=!0);sn||(Bt[kr]=Or),kr++}}for(let Or=0;Or<kr;Or++){const Nr=Bt[Or];Yt.push({idx:this.childOffsets[Jt]+Nr,t:kt[Nr],nodex:(gr<<1)+this._siblingOffset[Nr][0],nodey:(Mr<<1)+this._siblingOffset[Nr][1],depth:Fr+1})}}return null}_addNode(it,ct,ht){return this.minimums.push(it),this.maximums.push(ct),this.leaves.push(ht),this.childOffsets.push(0),this.nodeCount++}_construct(it,ct,ht,pt,yt){if(it[pt].isLeaf(ct,ht)===1)return;this.childOffsets[yt]||(this.childOffsets[yt]=this.nodeCount);const bt=pt-1,St=it[bt];let Rt=0,kt=0;for(let Bt=0;Bt<this._siblingOffset.length;Bt++){const jt=2*ct+this._siblingOffset[Bt][0],Ht=2*ht+this._siblingOffset[Bt][1],Yt=St.getElevation(jt,Ht),Jt=St.isLeaf(jt,Ht),or=this._addNode(Yt.min,Yt.max,Jt);Jt&&(Rt|=1<<Bt),kt||(kt=or)}for(let Bt=0;Bt<this._siblingOffset.length;Bt++)Rt&1<<Bt||this._construct(it,2*ct+this._siblingOffset[Bt][0],2*ht+this._siblingOffset[Bt][1],bt,kt+Bt)}}function Iw(st,it,ct,ht,pt,yt){return Lo(Lo(st,ct,yt),Lo(it,ht,yt),pt)}function tp(st,it,ct){const ht=ct.dim,pt=Xt(st*ht-.5,0,ht-1),yt=Xt(it*ht-.5,0,ht-1),bt=Math.floor(pt),St=Math.floor(yt),Rt=Math.min(bt+1,ht-1),kt=Math.min(St+1,ht-1);return Iw(ct.get(bt,St),ct.get(Rt,St),ct.get(bt,kt),ct.get(Rt,kt),pt-bt,yt-St)}const Lw={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function SE(st,it,ct){return(256*st*256+256*it+ct)/10-1e4}function EE(st,it,ct){return 256*st+it+ct/256-32768}class U1{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(it,ct,ht,pt=!1,yt=!1){if(this.uid=it,ct.height!==ct.width)throw new RangeError("DEM tiles must be square");if(ht&&ht!=="mapbox"&&ht!=="terrarium")return Rn(`"${ht}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=ct.height;const bt=this.dim=ct.height-2,St=new Uint32Array(ct.data.buffer);if(this.pixels=new Uint8Array(ct.data.buffer),this.encoding=ht||"mapbox",this.borderReady=pt,!pt){for(let Rt=0;Rt<bt;Rt++)St[this._idx(-1,Rt)]=St[this._idx(0,Rt)],St[this._idx(bt,Rt)]=St[this._idx(bt-1,Rt)],St[this._idx(Rt,-1)]=St[this._idx(Rt,0)],St[this._idx(Rt,bt)]=St[this._idx(Rt,bt-1)];St[this._idx(-1,-1)]=St[this._idx(0,0)],St[this._idx(bt,-1)]=St[this._idx(bt-1,0)],St[this._idx(-1,bt)]=St[this._idx(0,bt-1)],St[this._idx(bt,bt)]=St[this._idx(bt-1,bt-1)],yt&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new $w(this)}get(it,ct,ht=!1){ht&&(it=Xt(it,-1,this.dim),ct=Xt(ct,-1,this.dim));const pt=4*this._idx(it,ct);return(this.encoding==="terrarium"?EE:SE)(this.pixels[pt],this.pixels[pt+1],this.pixels[pt+2])}static getUnpackVector(it){return Lw[it]}get unpackVector(){return Lw[this.encoding]}_idx(it,ct){if(it<-1||it>=this.dim+1||ct<-1||ct>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(ct+1)*this.stride+(it+1)}static pack(it,ct){const ht=[0,0,0,0],pt=U1.getUnpackVector(ct);let yt=Math.floor((it+pt[3])/pt[2]);return ht[2]=yt%256,yt=Math.floor(yt/256),ht[1]=yt%256,yt=Math.floor(yt/256),ht[0]=yt,ht}getPixels(){return new Ks({width:this.stride,height:this.stride},this.pixels)}backfillBorder(it,ct,ht){if(this.dim!==it.dim)throw new Error("dem dimension mismatch");let pt=ct*this.dim,yt=ct*this.dim+this.dim,bt=ht*this.dim,St=ht*this.dim+this.dim;switch(ct){case-1:pt=yt-1;break;case 1:yt=pt+1}switch(ht){case-1:bt=St-1;break;case 1:St=bt+1}const Rt=-ct*this.dim,kt=-ht*this.dim;for(let Bt=bt;Bt<St;Bt++)for(let jt=pt;jt<yt;jt++){const Ht=4*this._idx(jt,Bt),Yt=4*this._idx(jt+Rt,Bt+kt);this.pixels[Ht+0]=it.pixels[Yt+0],this.pixels[Ht+1]=it.pixels[Yt+1],this.pixels[Ht+2]=it.pixels[Yt+2],this.pixels[Ht+3]=it.pixels[Yt+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Xn(U1,"DEMData"),Xn($w,"DemMinMaxQuadTree",{omit:["dem"]});class CE{constructor(it,ct){this.max=it,this.onRemove=ct,this.reset()}reset(){for(const it in this.data)for(const ct of this.data[it])ct.timeout&&clearTimeout(ct.timeout),this.onRemove(ct.value);return this.data={},this.order=[],this}add(it,ct,ht){const pt=it.wrapped().key;this.data[pt]===void 0&&(this.data[pt]=[]);const yt={value:ct,timeout:void 0};if(ht!==void 0&&(yt.timeout=setTimeout(()=>{this.remove(it,yt)},ht)),this.data[pt].push(yt),this.order.push(pt),this.order.length>this.max){const bt=this._getAndRemoveByKey(this.order[0]);bt&&this.onRemove(bt)}return this}has(it){return it.wrapped().key in this.data}getAndRemove(it){return this.has(it)?this._getAndRemoveByKey(it.wrapped().key):null}_getAndRemoveByKey(it){const ct=this.data[it].shift();return ct.timeout&&clearTimeout(ct.timeout),this.data[it].length===0&&delete this.data[it],this.order.splice(this.order.indexOf(it),1),ct.value}getByKey(it){const ct=this.data[it];return ct?ct[0].value:null}get(it){return this.has(it)?this.data[it.wrapped().key][0].value:null}remove(it,ct){if(!this.has(it))return this;const ht=it.wrapped().key,pt=ct===void 0?0:this.data[ht].indexOf(ct),yt=this.data[ht][pt];return this.data[ht].splice(pt,1),yt.timeout&&clearTimeout(yt.timeout),this.data[ht].length===0&&delete this.data[ht],this.onRemove(yt.value),this.order.splice(this.order.indexOf(ht),1),this}setMaxSize(it){for(this.max=it;this.order.length>this.max;){const ct=this._getAndRemoveByKey(this.order[0]);ct&&this.onRemove(ct)}return this}filter(it){const ct=[];for(const ht in this.data)for(const pt of this.data[ht])it(pt.value)||ct.push(pt);for(const ht of ct)this.remove(ht.value.tileID,ht)}}class Vm{constructor(it,ct,ht){this.func=it,this.mask=ct,this.range=ht}}Vm.ReadOnly=!1,Vm.ReadWrite=!0,Vm.disabled=new Vm(519,Vm.ReadOnly,[0,1]);const u_=7680;class h_{constructor(it,ct,ht,pt,yt,bt){this.test=it,this.ref=ct,this.mask=ht,this.fail=pt,this.depthFail=yt,this.pass=bt}}h_.disabled=new h_({func:519,mask:0},0,0,u_,u_,u_);class hu{constructor(it,ct,ht){this.blendFunction=it,this.blendColor=ct,this.mask=ht}}hu.Replace=[1,0],hu.disabled=new hu(hu.Replace,as.transparent,[!1,!1,!1,!1]),hu.unblended=new hu(hu.Replace,as.transparent,[!0,!0,!0,!0]),hu.alphaBlended=new hu([1,771],as.transparent,[!0,!0,!0,!0]);const d_=1029,f_=2305;class eu{constructor(it,ct,ht){this.enable=it,this.mode=ct,this.frontFace=ht}}eu.disabled=new eu(!1,d_,f_),eu.backCCW=new eu(!0,d_,f_),eu.backCW=new eu(!0,d_,2304),eu.frontCW=new eu(!0,1028,2304),eu.frontCCW=new eu(!0,1028,f_);class Up extends ap{constructor(it,ct,ht){super(),this.id=it,this._onlySymbols=ht,ct.on("data",pt=>{pt.dataType==="source"&&pt.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&pt.dataType==="source"&&pt.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),ct.on("error",()=>{this._sourceErrored=!0}),this._source=ct,this._tiles={},this._cache=new CE(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=ct.minTileCacheSize,this._maxTileCacheSize=ct.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new wE,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(it){this.map=it,this._minTileCacheSize=this._minTileCacheSize===void 0&&it?it._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&it?it._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const it in this._tiles){const ct=this._tiles[it];if(ct.state!=="loaded"&&ct.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const it=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,it&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(it,ct){return it.isSymbolTile=this._onlySymbols,this._source.loadTile(it,ct)}_unloadTile(it){if(this._source.unloadTile)return this._source.unloadTile(it,()=>{})}_abortTile(it){if(this._source.abortTile)return this._source.abortTile(it,()=>{})}serialize(){return this._source.serialize()}prepare(it){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const ct in this._tiles){const ht=this._tiles[ct];ht.upload(it),ht.prepare(this.map.style.imageManager)}}getIds(){return sr(this._tiles).map(it=>it.tileID).sort(Dw).map(it=>it.key)}getRenderableIds(it){const ct=[];for(const ht in this._tiles)this._isIdRenderable(+ht,it)&&ct.push(this._tiles[ht]);return it?ct.sort((ht,pt)=>{const yt=ht.tileID,bt=pt.tileID,St=new er(yt.canonical.x,yt.canonical.y)._rotate(this.transform.angle),Rt=new er(bt.canonical.x,bt.canonical.y)._rotate(this.transform.angle);return yt.overscaledZ-bt.overscaledZ||Rt.y-St.y||Rt.x-St.x}).map(ht=>ht.tileID.key):ct.map(ht=>ht.tileID).sort(Dw).map(ht=>ht.key)}hasRenderableParent(it){const ct=this.findLoadedParent(it,0);return!!ct&&this._isIdRenderable(ct.tileID.key)}_isIdRenderable(it,ct){return this._tiles[it]&&this._tiles[it].hasData()&&!this._coveredTiles[it]&&(ct||!this._tiles[it].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const it in this._tiles)this._tiles[it].state!=="errored"&&this._reloadTile(+it,"reloading")}}_reloadTile(it,ct){const ht=this._tiles[it];ht&&(ht.state!=="loading"&&(ht.state=ct),this._loadTile(ht,this._tileLoaded.bind(this,ht,it,ct)))}_tileLoaded(it,ct,ht,pt){if(pt)if(it.state="errored",pt.status!==404)this._source.fire(new Ol(pt,{tile:it}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const yt=this.map.painter.terrain;this.update(this.transform,yt.getScaledDemTileSize(),!0),yt.resetTileLookupCache(this.id)}else this.update(this.transform);else it.timeAdded=Dl.now(),ht==="expired"&&(it.refreshedUponExpiration=!0),this._setTileReloadTimer(ct,it),this._source.type==="raster-dem"&&it.dem&&this._backfillDEM(it),this._state.initializeTileState(it,this.map?this.map.painter:null),this._source.fire(new fu("data",{dataType:"source",tile:it,coord:it.tileID,sourceCacheId:this.id}))}_backfillDEM(it){const ct=this.getRenderableIds();for(let pt=0;pt<ct.length;pt++){const yt=ct[pt];if(it.neighboringTiles&&it.neighboringTiles[yt]){const bt=this.getTileByID(yt);ht(it,bt),ht(bt,it)}}function ht(pt,yt){if(!pt.dem||pt.dem.borderReady)return;pt.needsHillshadePrepare=!0,pt.needsDEMTextureUpload=!0;let bt=yt.tileID.canonical.x-pt.tileID.canonical.x;const St=yt.tileID.canonical.y-pt.tileID.canonical.y,Rt=Math.pow(2,pt.tileID.canonical.z),kt=yt.tileID.key;bt===0&&St===0||Math.abs(St)>1||(Math.abs(bt)>1&&(Math.abs(bt+Rt)===1?bt+=Rt:Math.abs(bt-Rt)===1&&(bt-=Rt)),yt.dem&&pt.dem&&(pt.dem.backfillBorder(yt.dem,bt,St),pt.neighboringTiles&&pt.neighboringTiles[kt]&&(pt.neighboringTiles[kt].backfilled=!0)))}}getTile(it){return this.getTileByID(it.key)}getTileByID(it){return this._tiles[it]}_retainLoadedChildren(it,ct,ht,pt){for(const yt in this._tiles){let bt=this._tiles[yt];if(pt[yt]||!bt.hasData()||bt.tileID.overscaledZ<=ct||bt.tileID.overscaledZ>ht)continue;let St=bt.tileID;for(;bt&&bt.tileID.overscaledZ>ct+1;){const kt=bt.tileID.scaledTo(bt.tileID.overscaledZ-1);bt=this._tiles[kt.key],bt&&bt.hasData()&&(St=kt)}let Rt=St;for(;Rt.overscaledZ>ct;)if(Rt=Rt.scaledTo(Rt.overscaledZ-1),it[Rt.key]){pt[St.key]=St;break}}}findLoadedParent(it,ct){if(it.key in this._loadedParentTiles){const ht=this._loadedParentTiles[it.key];return ht&&ht.tileID.overscaledZ>=ct?ht:null}for(let ht=it.overscaledZ-1;ht>=ct;ht--){const pt=it.scaledTo(ht),yt=this._getLoadedTile(pt);if(yt)return yt}}_getLoadedTile(it){const ct=this._tiles[it.key];return ct&&ct.hasData()?ct:this._cache.getByKey(this._source.reparseOverscaled?it.wrapped().key:it.canonical.key)}updateCacheSize(it,ct){ct=ct||this._source.tileSize;const ht=Math.ceil(it.width/ct)+1,pt=Math.ceil(it.height/ct)+1,yt=Math.floor(ht*pt*5),bt=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,yt):yt,St=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,bt):bt;this._cache.setMaxSize(St)}handleWrapJump(it){const ct=Math.round((it-(this._prevLng===void 0?it:this._prevLng))/360);if(this._prevLng=it,ct){const ht={};for(const pt in this._tiles){const yt=this._tiles[pt];yt.tileID=yt.tileID.unwrapTo(yt.tileID.wrap+ct),ht[yt.tileID.key]=yt}this._tiles=ht;for(const pt in this._timers)clearTimeout(this._timers[pt]),delete this._timers[pt];for(const pt in this._tiles)this._setTileReloadTimer(+pt,this._tiles[pt])}}update(it,ct,ht){if(this.transform=it,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!ht)return;let pt;this.updateCacheSize(it,ct),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?pt=it.getVisibleUnwrappedCoordinates(this._source.tileID).map(St=>new Fs(St.canonical.z,St.wrap,St.canonical.z,St.canonical.x,St.canonical.y)):(pt=it.coveringTiles({tileSize:ct||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!ht,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(pt=pt.filter(St=>this._source.hasTile(St)))):pt=[];const yt=this._updateRetainedTiles(pt);if(Ow(this._source.type)&&pt.length!==0){const St={},Rt={},kt=Object.keys(yt);for(const jt of kt){const Ht=yt[jt],Yt=this._tiles[jt];if(!Yt||Yt.fadeEndTime&&Yt.fadeEndTime<=Dl.now())continue;const Jt=this.findLoadedParent(Ht,Math.max(Ht.overscaledZ-Up.maxOverzooming,this._source.minzoom));Jt&&(this._addTile(Jt.tileID),St[Jt.tileID.key]=Jt.tileID),Rt[jt]=Ht}const Bt=pt[pt.length-1].overscaledZ;for(const jt in this._tiles){const Ht=this._tiles[jt];if(yt[jt]||!Ht.hasData())continue;let Yt=Ht.tileID;for(;Yt.overscaledZ>Bt;){Yt=Yt.scaledTo(Yt.overscaledZ-1);const Jt=this._tiles[Yt.key];if(Jt&&Jt.hasData()&&Rt[Yt.key]){yt[jt]=Ht.tileID;break}}}for(const jt in St)yt[jt]||(this._coveredTiles[jt]=!0,yt[jt]=St[jt])}for(const St in yt)this._tiles[St].clearFadeHold();const bt=function(St,Rt){const kt=[];for(const Bt in St)Bt in Rt||kt.push(Bt);return kt}(this._tiles,yt);for(const St of bt){const Rt=this._tiles[St];Rt.hasSymbolBuckets&&!Rt.holdingForFade()?Rt.setHoldDuration(this.map._fadeDuration):Rt.hasSymbolBuckets&&!Rt.symbolFadeFinished()||this._removeTile(+St)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const it in this._tiles)this._tiles[it].holdingForFade()&&this._removeTile(+it)}_updateRetainedTiles(it){const ct={};if(it.length===0)return ct;const ht={},pt=it.reduce((kt,Bt)=>Math.min(kt,Bt.overscaledZ),1/0),yt=it[0].overscaledZ,bt=Math.max(yt-Up.maxOverzooming,this._source.minzoom),St=Math.max(yt+Up.maxUnderzooming,this._source.minzoom),Rt={};for(const kt of it){const Bt=this._addTile(kt);ct[kt.key]=kt,Bt.hasData()||pt<this._source.maxzoom&&(Rt[kt.key]=kt)}this._retainLoadedChildren(Rt,pt,St,ct);for(const kt of it){let Bt=this._tiles[kt.key];if(Bt.hasData())continue;if(kt.canonical.z>=this._source.maxzoom){const Ht=kt.children(this._source.maxzoom)[0],Yt=this.getTile(Ht);if(Yt&&Yt.hasData()){ct[Ht.key]=Ht;continue}}else{const Ht=kt.children(this._source.maxzoom);if(ct[Ht[0].key]&&ct[Ht[1].key]&&ct[Ht[2].key]&&ct[Ht[3].key])continue}let jt=Bt.wasRequested();for(let Ht=kt.overscaledZ-1;Ht>=bt;--Ht){const Yt=kt.scaledTo(Ht);if(ht[Yt.key]||(ht[Yt.key]=!0,Bt=this.getTile(Yt),!Bt&&jt&&(Bt=this._addTile(Yt)),Bt&&(ct[Yt.key]=Yt,jt=Bt.wasRequested(),Bt.hasData())))break}}return ct}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const it in this._tiles){const ct=[];let ht,pt=this._tiles[it].tileID;for(;pt.overscaledZ>0;){if(pt.key in this._loadedParentTiles){ht=this._loadedParentTiles[pt.key];break}ct.push(pt.key);const yt=pt.scaledTo(pt.overscaledZ-1);if(ht=this._getLoadedTile(yt),ht)break;pt=yt}for(const yt of ct)this._loadedParentTiles[yt]=ht}}_addTile(it){let ct=this._tiles[it.key];if(ct)return ct;ct=this._cache.getAndRemove(it),ct&&(this._setTileReloadTimer(it.key,ct),ct.tileID=it,this._state.initializeTileState(ct,this.map?this.map.painter:null),this._cacheTimers[it.key]&&(clearTimeout(this._cacheTimers[it.key]),delete this._cacheTimers[it.key],this._setTileReloadTimer(it.key,ct)));const ht=!!ct;if(!ht){const pt=this.map?this.map.painter:null;ct=new c_(it,this._source.tileSize*it.overscaleFactor(),this.transform.tileZoom,pt,this._isRaster),this._loadTile(ct,this._tileLoaded.bind(this,ct,it.key,ct.state))}return ct?(ct.uses++,this._tiles[it.key]=ct,ht||this._source.fire(new fu("dataloading",{tile:ct,coord:ct.tileID,dataType:"source"})),ct):null}_setTileReloadTimer(it,ct){it in this._timers&&(clearTimeout(this._timers[it]),delete this._timers[it]);const ht=ct.getExpiryTimeout();ht&&(this._timers[it]=setTimeout(()=>{this._reloadTile(it,"expired"),delete this._timers[it]},ht))}_removeTile(it){const ct=this._tiles[it];ct&&(ct.uses--,delete this._tiles[it],this._timers[it]&&(clearTimeout(this._timers[it]),delete this._timers[it]),ct.uses>0||(ct.hasData()&&ct.state!=="reloading"?this._cache.add(ct.tileID,ct,ct.getExpiryTimeout()):(ct.aborted=!0,this._abortTile(ct),this._unloadTile(ct))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const it in this._tiles)this._removeTile(+it);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(it,ct,ht){const pt=[],yt=this.transform;if(!yt)return pt;const bt=yt.projection.name==="globe",St=su(yt.center.lng);for(const Rt in this._tiles){const kt=this._tiles[Rt];if(ht&&kt.clearQueryDebugViz(),kt.holdingForFade())continue;let Bt;if(bt){const jt=kt.tileID.canonical;if(jt.z===0){const Ht=[Math.abs(Xt(St,...my(jt,-1))-St),Math.abs(Xt(St,...my(jt,1))-St)];Bt=[0,2*Ht.indexOf(Math.min(...Ht))-1]}else{const Ht=[Math.abs(Xt(St,...my(jt,-1))-St),Math.abs(Xt(St,...my(jt,0))-St),Math.abs(Xt(St,...my(jt,1))-St)];Bt=[Ht.indexOf(Math.min(...Ht))-1]}}else Bt=[0];for(const jt of Bt){const Ht=it.containsTile(kt,yt,ct,jt);Ht&&pt.push(Ht)}}return pt}getVisibleCoordinates(it){const ct=this.getRenderableIds(it).map(ht=>this._tiles[ht].tileID);for(const ht of ct)ht.projMatrix=this.transform.calculateProjMatrix(ht.toUnwrapped());return ct}hasTransition(){if(this._source.hasTransition())return!0;if(Ow(this._source.type))for(const it in this._tiles){const ct=this._tiles[it];if(ct.fadeEndTime!==void 0&&ct.fadeEndTime>=Dl.now())return!0}return!1}setFeatureState(it,ct,ht){this._state.updateState(it=it||"_geojsonTileLayer",ct,ht)}removeFeatureState(it,ct,ht){this._state.removeFeatureState(it=it||"_geojsonTileLayer",ct,ht)}getFeatureState(it,ct){return this._state.getState(it=it||"_geojsonTileLayer",ct)}setDependencies(it,ct,ht){const pt=this._tiles[it];pt&&pt.setDependencies(ct,ht)}reloadTilesForDependencies(it,ct){for(const ht in this._tiles)this._tiles[ht].hasDependency(it,ct)&&this._reloadTile(+ht,"reloading");this._cache.filter(ht=>!ht.hasDependency(it,ct))}_preloadTiles(it,ct){if(!this._sourceLoaded){const St=()=>{this._sourceLoaded&&(this._source.off("data",St),this._preloadTiles(it,ct))};return void this._source.on("data",St)}const ht=new Map,pt=Array.isArray(it)?it:[it],yt=this.map.painter.terrain,bt=this.usedForTerrain&&yt?yt.getScaledDemTileSize():this._source.tileSize;for(const St of pt){const Rt=St.coveringTiles({tileSize:bt,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const kt of Rt)ht.set(kt.key,kt);this.usedForTerrain&&St.updateElevation(!1)}cr(Array.from(ht.values()),(St,Rt)=>{const kt=new c_(St,this._source.tileSize*St.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(kt,Bt=>{this._source.type==="raster-dem"&&kt.dem&&this._backfillDEM(kt),Rt(Bt,kt)})},ct)}}function Dw(st,it){const ct=Math.abs(2*st.wrap)-+(st.wrap<0),ht=Math.abs(2*it.wrap)-+(it.wrap<0);return st.overscaledZ-it.overscaledZ||ht-ct||it.canonical.y-st.canonical.y||it.canonical.x-st.canonical.x}function Ow(st){return st==="raster"||st==="image"||st==="video"||st==="custom"}function my(st,it){const ct=1<<st.z;return[st.x/ct+it,(st.x+1)/ct+it]}Up.maxOverzooming=10,Up.maxUnderzooming=3;class G1{constructor(it,ct,ht){this._demTile=it,this._dem=this._demTile.dem,this._scale=ct,this._offset=ht}static create(it,ct,ht){const pt=ht||it.findDEMTileFor(ct);if(!pt||!pt.dem)return;const yt=pt.dem,bt=pt.tileID,St=1<<ct.canonical.z-bt.canonical.z;return new G1(pt,pt.tileSize/lo/St,[(ct.canonical.x/St-bt.canonical.x)*yt.dim,(ct.canonical.y/St-bt.canonical.y)*yt.dim])}tileCoordToPixel(it,ct){const ht=ct*this._scale+this._offset[1],pt=Math.floor(it*this._scale+this._offset[0]),yt=Math.floor(ht);return new er(pt,yt)}getElevationAt(it,ct,ht,pt){const yt=it*this._scale+this._offset[0],bt=ct*this._scale+this._offset[1],St=Math.floor(yt),Rt=Math.floor(bt),kt=this._dem;return pt=!!pt,ht?Lo(Lo(kt.get(St,Rt,pt),kt.get(St,Rt+1,pt),bt-Rt),Lo(kt.get(St+1,Rt,pt),kt.get(St+1,Rt+1,pt),bt-Rt),yt-St):kt.get(St,Rt,pt)}getElevationAtPixel(it,ct,ht){return this._dem.get(it,ct,!!ht)}getMeterToDEM(it){return(1<<this._demTile.tileID.canonical.z)*Ql(1,it)*this._dem.stride}}class Fw{constructor(it,ct){this.tileID=it,this.x=it.canonical.x,this.y=it.canonical.y,this.z=it.canonical.z,this.grid=new xu(lo,16,0),this.featureIndexArray=new kp,this.promoteId=ct}insert(it,ct,ht,pt,yt,bt=0){const St=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ht,pt,yt,bt);const Rt=this.grid;for(let kt=0;kt<ct.length;kt++){const Bt=ct[kt],jt=[1/0,1/0,-1/0,-1/0];for(let Ht=0;Ht<Bt.length;Ht++){const Yt=Bt[Ht];jt[0]=Math.min(jt[0],Yt.x),jt[1]=Math.min(jt[1],Yt.y),jt[2]=Math.max(jt[2],Yt.x),jt[3]=Math.max(jt[3],Yt.y)}jt[0]<lo&&jt[1]<lo&&jt[2]>=0&&jt[3]>=0&&Rt.insert(St,jt[0],jt[1],jt[2],jt[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new qv(new M1(this.rawTileData)).layers,this.sourceLayerCoder=new ww(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const it in this.vtLayers)this.vtFeatures[it]=[]}return this.vtLayers}query(it,ct,ht,pt){this.loadVTLayers();const yt=it.params||{},bt=ym(yt.filter),St=it.tileResult,Rt=it.transform,kt=St.bufferedTilespaceBounds,Bt=this.grid.query(kt.min.x,kt.min.y,kt.max.x,kt.max.y,(Jt,or,gr,Mr)=>cx(St.bufferedTilespaceGeometry,Jt,or,gr,Mr));Bt.sort(TE);let jt=null;Rt.elevation&&Bt.length>0&&(jt=G1.create(Rt.elevation,this.tileID));const Ht={};let Yt;for(let Jt=0;Jt<Bt.length;Jt++){const or=Bt[Jt];if(or===Yt)continue;Yt=or;const gr=this.featureIndexArray.get(or);let Mr=null;this.loadMatchingFeature(Ht,gr,bt,yt.layers,yt.availableImages,ct,ht,pt,(Fr,kr,Or,Nr=0)=>(Mr||(Mr=Ru(Fr,this.tileID.canonical,it.tileTransform)),kr.queryIntersectsFeature(St,Fr,Or,Mr,this.z,it.transform,it.pixelPosMatrix,jt,Nr)))}return Ht}loadMatchingFeature(it,ct,ht,pt,yt,bt,St,Rt,kt){const{featureIndex:Bt,bucketIndex:jt,sourceLayerIndex:Ht,layoutVertexArrayOffset:Yt}=ct,Jt=this.bucketLayerIDs[jt];if(pt&&!function(Fr,kr){for(let Or=0;Or<Fr.length;Or++)if(kr.indexOf(Fr[Or])>=0)return!0;return!1}(pt,Jt))return;const or=this.sourceLayerCoder.decode(Ht),gr=this.vtLayers[or].feature(Bt);if(ht.needGeometry){const Fr=Bp(gr,!0);if(!ht.filter(new Nt(this.tileID.overscaledZ),Fr,this.tileID.canonical))return}else if(!ht.filter(new Nt(this.tileID.overscaledZ),gr))return;const Mr=this.getId(gr,or);for(let Fr=0;Fr<Jt.length;Fr++){const kr=Jt[Fr];if(pt&&pt.indexOf(kr)<0)continue;const Or=bt[kr];if(!Or)continue;let Nr={};Mr!==void 0&&Rt&&(Nr=Rt.getState(Or.sourceLayer||"_geojsonTileLayer",Mr));const zr=dr({},St[kr]);zr.paint=zw(zr.paint,Or.paint,gr,Nr,yt),zr.layout=zw(zr.layout,Or.layout,gr,Nr,yt);const sn=!kt||kt(gr,Or,Nr,Yt);if(!sn)continue;const nn=new Sw(gr,this.z,this.x,this.y,Mr);nn.layer=zr;let xn=it[kr];xn===void 0&&(xn=it[kr]=[]),xn.push({featureIndex:Bt,feature:nn,intersectionZ:sn})}}lookupSymbolFeatures(it,ct,ht,pt,yt,bt,St,Rt){const kt={};this.loadVTLayers();const Bt=ym(yt);for(const jt of it)this.loadMatchingFeature(kt,{bucketIndex:ht,sourceLayerIndex:pt,featureIndex:jt,layoutVertexArrayOffset:0},Bt,bt,St,Rt,ct);return kt}loadFeature(it){const{featureIndex:ct,sourceLayerIndex:ht}=it;this.loadVTLayers();const pt=this.sourceLayerCoder.decode(ht),yt=this.vtFeatures[pt];if(yt[ct])return yt[ct];const bt=this.vtLayers[pt].feature(ct);return yt[ct]=bt,bt}hasLayer(it){for(const ct of this.bucketLayerIDs)for(const ht of ct)if(it===ht)return!0;return!1}getId(it,ct){let ht=it.id;if(this.promoteId){const pt=typeof this.promoteId=="string"?this.promoteId:this.promoteId[ct];pt!=null&&(ht=it.properties[pt]),typeof ht=="boolean"&&(ht=Number(ht))}return ht}}function zw(st,it,ct,ht,pt){return Kr(st,(yt,bt)=>{const St=it instanceof Pr?it.get(bt):null;return St&&St.evaluate?St.evaluate(ct,ht,pt):St})}function TE(st,it){return it-st}Xn(Fw,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class Bw{constructor(it,ct){this.width=it,this.height=ct,this.nextRow=0,this.image=new Pu({width:it,height:ct}),this.positions={},this.uploaded=!1}getDash(it,ct){const ht=this.getKey(it,ct);return this.positions[ht]}trim(){const it=this.width,ct=this.height=dn(this.nextRow);this.image.resize({width:it,height:ct})}getKey(it,ct){return it.join(",")+ct}getDashRanges(it,ct,ht){const pt=[];let yt=it.length%2==1?-it[it.length-1]*ht:0,bt=it[0]*ht,St=!0;pt.push({left:yt,right:bt,isDash:St,zeroLength:it[0]===0});let Rt=it[0];for(let kt=1;kt<it.length;kt++){St=!St;const Bt=it[kt];yt=Rt*ht,Rt+=Bt,bt=Rt*ht,pt.push({left:yt,right:bt,isDash:St,zeroLength:Bt===0})}return pt}addRoundDash(it,ct,ht){const pt=ct/2;for(let yt=-ht;yt<=ht;yt++){const bt=this.width*(this.nextRow+ht+yt);let St=0,Rt=it[St];for(let kt=0;kt<this.width;kt++){kt/Rt.right>1&&(Rt=it[++St]);const Bt=Math.abs(kt-Rt.left),jt=Math.abs(kt-Rt.right),Ht=Math.min(Bt,jt);let Yt;const Jt=yt/ht*(pt+1);if(Rt.isDash){const or=pt-Math.abs(Jt);Yt=Math.sqrt(Ht*Ht+or*or)}else Yt=pt-Math.sqrt(Ht*Ht+Jt*Jt);this.image.data[bt+kt]=Math.max(0,Math.min(255,Yt+128))}}}addRegularDash(it,ct){for(let Rt=it.length-1;Rt>=0;--Rt){const kt=it[Rt],Bt=it[Rt+1];kt.zeroLength?it.splice(Rt,1):Bt&&Bt.isDash===kt.isDash&&(Bt.left=kt.left,it.splice(Rt,1))}const ht=it[0],pt=it[it.length-1];ht.isDash===pt.isDash&&(ht.left=pt.left-this.width,pt.right=ht.right+this.width);const yt=this.width*this.nextRow;let bt=0,St=it[bt];for(let Rt=0;Rt<this.width;Rt++){Rt/St.right>1&&(St=it[++bt]);const kt=Math.abs(Rt-St.left),Bt=Math.abs(Rt-St.right),jt=Math.min(kt,Bt);this.image.data[yt+Rt]=Math.max(0,Math.min(255,(St.isDash?jt:-jt)+ct+128))}}addDash(it,ct){const ht=this.getKey(it,ct);if(this.positions[ht])return this.positions[ht];const pt=ct==="round",yt=pt?7:0,bt=2*yt+1;if(this.nextRow+bt>this.height)return Rn("LineAtlas out of space"),null;it.length===0&&it.push(1);let St=0;for(let Bt=0;Bt<it.length;Bt++)it[Bt]<0&&(Rn("Negative value is found in line dasharray, replacing values with 0"),it[Bt]=0),St+=it[Bt];if(St!==0){const Bt=this.width/St,jt=this.getDashRanges(it,this.width,Bt);pt?this.addRoundDash(jt,Bt,yt):this.addRegularDash(jt,ct==="square"?.5*Bt:0)}const Rt=this.nextRow+yt;this.nextRow+=bt;const kt={tl:[Rt,yt],br:[St,0]};return this.positions[ht]=kt,kt}}Xn(Bw,"LineAtlas");const Nw=1*_c;class jw{constructor(it){const ct={},ht=[];for(const St in it){const Rt=it[St],kt=ct[St]={};for(const Bt in Rt.glyphs){const jt=Rt.glyphs[+Bt];if(!jt||jt.bitmap.width===0||jt.bitmap.height===0)continue;const Ht=jt.metrics.localGlyph?Nw:1,Yt={x:0,y:0,w:jt.bitmap.width+2*Ht,h:jt.bitmap.height+2*Ht};ht.push(Yt),kt[Bt]=Yt}}const{w:pt,h:yt}=Yv(ht),bt=new Pu({width:pt||1,height:yt||1});for(const St in it){const Rt=it[St];for(const kt in Rt.glyphs){const Bt=Rt.glyphs[+kt];if(!Bt||Bt.bitmap.width===0||Bt.bitmap.height===0)continue;const jt=ct[St][kt],Ht=Bt.metrics.localGlyph?Nw:1;Pu.copy(Bt.bitmap,bt,{x:0,y:0},{x:jt.x+Ht,y:jt.y+Ht},Bt.bitmap)}}this.image=bt,this.positions=ct}}Xn(jw,"GlyphAtlas");class RE{constructor(it){this.tileID=new Fs(it.tileID.overscaledZ,it.tileID.wrap,it.tileID.canonical.z,it.tileID.canonical.x,it.tileID.canonical.y),this.tileZoom=it.tileZoom,this.uid=it.uid,this.zoom=it.zoom,this.canonical=it.tileID.canonical,this.pixelRatio=it.pixelRatio,this.tileSize=it.tileSize,this.source=it.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=it.showCollisionBoxes,this.collectResourceTiming=!!it.collectResourceTiming,this.returnDependencies=!!it.returnDependencies,this.promoteId=it.promoteId,this.enableTerrain=!!it.enableTerrain,this.isSymbolTile=it.isSymbolTile,this.tileTransform=Vp(it.tileID.canonical,it.projection),this.projection=it.projection}parse(it,ct,ht,pt,yt){this.status="parsing",this.data=it,this.collisionBoxArray=new qo;const bt=new ww(Object.keys(it.layers).sort()),St=new Fw(this.tileID,this.promoteId);St.bucketLayerIDs=[];const Rt={},kt=new Bw(256,256),Bt={featureIndex:St,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:kt,availableImages:ht},jt=ct.familiesBySource[this.source];for(const Nr in jt){const zr=it.layers[Nr];if(!zr)continue;let sn=!1,nn=!1;for(const hn of jt[Nr])hn[0].type==="symbol"?sn=!0:nn=!0;if(this.isSymbolTile===!0&&!sn||this.isSymbolTile===!1&&!nn)continue;zr.version===1&&Rn(`Vector tile source "${this.source}" layer "${Nr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const xn=bt.encode(Nr),Ln=[];for(let hn=0;hn<zr.length;hn++){const Cn=zr.feature(hn),Tn=St.getId(Cn,Nr);Ln.push({feature:Cn,id:Tn,index:hn,sourceLayerIndex:xn})}for(const hn of jt[Nr]){const Cn=hn[0];this.isSymbolTile!==void 0&&Cn.type==="symbol"!==this.isSymbolTile||Cn.minzoom&&this.zoom<Math.floor(Cn.minzoom)||Cn.maxzoom&&this.zoom>=Cn.maxzoom||Cn.visibility!=="none"&&(p_(hn,this.zoom,ht),(Rt[Cn.id]=Cn.createBucket({index:St.bucketLayerIDs.length,layers:hn,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:xn,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:ht})).populate(Ln,Bt,this.tileID.canonical,this.tileTransform),St.bucketLayerIDs.push(hn.map(Tn=>Tn.id)))}}let Ht,Yt,Jt,or;kt.trim();const gr={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Mr=()=>{if(Ht)return yt(Ht);if(Yt&&Jt&&or){const Nr=new jw(Yt),zr=new Kx(Jt,or);for(const sn in Rt){const nn=Rt[sn];nn instanceof _d?(p_(nn.layers,this.zoom,ht),JS(nn,Yt,Nr.positions,Jt,zr.iconPositions,this.showCollisionBoxes,ht,this.tileID.canonical,this.tileZoom,this.projection)):nn.hasPattern&&(nn instanceof R1||nn instanceof w1||nn instanceof ny)&&(p_(nn.layers,this.zoom,ht),nn.addFeatures(Bt,this.tileID.canonical,zr.patternPositions,ht,this.tileTransform))}this.status="done",yt(null,{buckets:sr(Rt).filter(sn=>!sn.isEmpty()),featureIndex:St,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Nr.image,lineAtlas:kt,imageAtlas:zr,glyphMap:this.returnDependencies?Yt:null,iconMap:this.returnDependencies?Jt:null,glyphPositions:this.returnDependencies?Nr.positions:null})}},Fr=Kr(Bt.glyphDependencies,Nr=>Object.keys(Nr).map(Number));Object.keys(Fr).length?pt.send("getGlyphs",{uid:this.uid,stacks:Fr},(Nr,zr)=>{Ht||(Ht=Nr,Yt=zr,Mr())},void 0,!1,gr):Yt={};const kr=Object.keys(Bt.iconDependencies);kr.length?pt.send("getImages",{icons:kr,source:this.source,tileID:this.tileID,type:"icons"},(Nr,zr)=>{Ht||(Ht=Nr,Jt=zr,Mr())},void 0,!1,gr):Jt={};const Or=Object.keys(Bt.patternDependencies);Or.length?pt.send("getImages",{icons:Or,source:this.source,tileID:this.tileID,type:"patterns"},(Nr,zr)=>{Ht||(Ht=Nr,or=zr,Mr())},void 0,!1,gr):or={},Mr()}}function p_(st,it,ct){const ht=new Nt(it);for(const pt of st)pt.recalculate(ht,ct)}class Vw{constructor(it){this.entries={},this.scheduler=it}request(it,ct,ht,pt){const yt=this.entries[it]=this.entries[it]||{callbacks:[]};if(yt.result){const[bt,St]=yt.result;return this.scheduler?this.scheduler.add(()=>{pt(bt,St)},ct):pt(bt,St),()=>{}}return yt.callbacks.push(pt),yt.cancel||(yt.cancel=ht((bt,St)=>{yt.result=[bt,St];for(const Rt of yt.callbacks)this.scheduler?this.scheduler.add(()=>{Rt(bt,St)},ct):Rt(bt,St);setTimeout(()=>delete this.entries[it],3e3)})),()=>{yt.result||(yt.callbacks=yt.callbacks.filter(bt=>bt!==pt),yt.callbacks.length||(yt.cancel(),delete this.entries[it]))}}}function Uw(st,it,ct){const ht=JSON.stringify(st.request);return st.data&&(this.deduped.entries[ht]={result:[null,st.data]}),this.deduped.request(ht,{type:"parseTile",isSymbolTile:st.isSymbolTile,zoom:st.tileZoom},pt=>{const yt=pn(st.request,(bt,St,Rt,kt)=>{bt?pt(bt):St&&pt(null,{vectorTile:ct?void 0:new qv(new M1(St)),rawData:St,cacheControl:Rt,expires:kt})});return()=>{yt.cancel(),pt()}},it)}const Gw=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class m_{static from(it){if(!(it instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[ct,ht]=new Uint8Array(it,0,2);if(ct!==219)throw new Error("Data does not appear to be in a KDBush format.");const pt=ht>>4;if(pt!==1)throw new Error(`Got v${pt} data when expected v1.`);const yt=Gw[15&ht];if(!yt)throw new Error("Unrecognized array type.");const[bt]=new Uint16Array(it,2,1),[St]=new Uint32Array(it,4,1);return new m_(St,bt,yt,it)}constructor(it,ct=64,ht=Float64Array,pt){if(isNaN(it)||it<0)throw new Error(`Unpexpected numItems value: ${it}.`);this.numItems=+it,this.nodeSize=Math.min(Math.max(+ct,2),65535),this.ArrayType=ht,this.IndexArrayType=it<65536?Uint16Array:Uint32Array;const yt=Gw.indexOf(this.ArrayType),bt=2*it*this.ArrayType.BYTES_PER_ELEMENT,St=it*this.IndexArrayType.BYTES_PER_ELEMENT,Rt=(8-St%8)%8;if(yt<0)throw new Error(`Unexpected typed array class: ${ht}.`);pt&&pt instanceof ArrayBuffer?(this.data=pt,this.ids=new this.IndexArrayType(this.data,8,it),this.coords=new this.ArrayType(this.data,8+St+Rt,2*it),this._pos=2*it,this._finished=!0):(this.data=new ArrayBuffer(8+bt+St+Rt),this.ids=new this.IndexArrayType(this.data,8,it),this.coords=new this.ArrayType(this.data,8+St+Rt,2*it),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+yt]),new Uint16Array(this.data,2,1)[0]=ct,new Uint32Array(this.data,4,1)[0]=it)}add(it,ct){const ht=this._pos>>1;return this.ids[ht]=ht,this.coords[this._pos++]=it,this.coords[this._pos++]=ct,ht}finish(){const it=this._pos>>1;if(it!==this.numItems)throw new Error(`Added ${it} items when expected ${this.numItems}.`);return g_(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(it,ct,ht,pt){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:yt,coords:bt,nodeSize:St}=this,Rt=[0,yt.length-1,0],kt=[];for(;Rt.length;){const Bt=Rt.pop()||0,jt=Rt.pop()||0,Ht=Rt.pop()||0;if(jt-Ht<=St){for(let gr=Ht;gr<=jt;gr++){const Mr=bt[2*gr],Fr=bt[2*gr+1];Mr>=it&&Mr<=ht&&Fr>=ct&&Fr<=pt&&kt.push(yt[gr])}continue}const Yt=Ht+jt>>1,Jt=bt[2*Yt],or=bt[2*Yt+1];Jt>=it&&Jt<=ht&&or>=ct&&or<=pt&&kt.push(yt[Yt]),(Bt===0?it<=Jt:ct<=or)&&(Rt.push(Ht),Rt.push(Yt-1),Rt.push(1-Bt)),(Bt===0?ht>=Jt:pt>=or)&&(Rt.push(Yt+1),Rt.push(jt),Rt.push(1-Bt))}return kt}within(it,ct,ht){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:pt,coords:yt,nodeSize:bt}=this,St=[0,pt.length-1,0],Rt=[],kt=ht*ht;for(;St.length;){const Bt=St.pop()||0,jt=St.pop()||0,Ht=St.pop()||0;if(jt-Ht<=bt){for(let gr=Ht;gr<=jt;gr++)Hw(yt[2*gr],yt[2*gr+1],it,ct)<=kt&&Rt.push(pt[gr]);continue}const Yt=Ht+jt>>1,Jt=yt[2*Yt],or=yt[2*Yt+1];Hw(Jt,or,it,ct)<=kt&&Rt.push(pt[Yt]),(Bt===0?it-ht<=Jt:ct-ht<=or)&&(St.push(Ht),St.push(Yt-1),St.push(1-Bt)),(Bt===0?it+ht>=Jt:ct+ht>=or)&&(St.push(Yt+1),St.push(jt),St.push(1-Bt))}return Rt}}function g_(st,it,ct,ht,pt,yt){if(pt-ht<=ct)return;const bt=ht+pt>>1;Ww(st,it,bt,ht,pt,yt),g_(st,it,ct,ht,bt-1,1-yt),g_(st,it,ct,bt+1,pt,1-yt)}function Ww(st,it,ct,ht,pt,yt){for(;pt>ht;){if(pt-ht>600){const kt=pt-ht+1,Bt=ct-ht+1,jt=Math.log(kt),Ht=.5*Math.exp(2*jt/3),Yt=.5*Math.sqrt(jt*Ht*(kt-Ht)/kt)*(Bt-kt/2<0?-1:1);Ww(st,it,ct,Math.max(ht,Math.floor(ct-Bt*Ht/kt+Yt)),Math.min(pt,Math.floor(ct+(kt-Bt)*Ht/kt+Yt)),yt)}const bt=it[2*ct+yt];let St=ht,Rt=pt;for(gy(st,it,ht,ct),it[2*pt+yt]>bt&&gy(st,it,ht,pt);St<Rt;){for(gy(st,it,St,Rt),St++,Rt--;it[2*St+yt]<bt;)St++;for(;it[2*Rt+yt]>bt;)Rt--}it[2*ht+yt]===bt?gy(st,it,ht,Rt):(Rt++,gy(st,it,Rt,pt)),Rt<=ct&&(ht=Rt+1),ct<=Rt&&(pt=Rt-1)}}function gy(st,it,ct,ht){y_(st,ct,ht),y_(it,2*ct,2*ht),y_(it,2*ct+1,2*ht+1)}function y_(st,it,ct){const ht=st[it];st[it]=st[ct],st[ct]=ht}function Hw(st,it,ct,ht){const pt=st-ct,yt=it-ht;return pt*pt+yt*yt}ot.ARRAY_TYPE=Zs,ot.AUTH_ERR_MSG=Ar,ot.Aabb=Os,ot.Actor=class{constructor(st,it,ct){this.target=st,this.parent=it,this.mapId=ct,this.callbacks={},this.cancelCallbacks={},gn(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=so()?st:mt,this.scheduler=new xE}send(st,it,ct,ht,pt=!1,yt){const bt=Math.round(1e18*Math.random()).toString(36).substring(0,10);ct&&(ct.metadata=yt,this.callbacks[bt]=ct);const St=po(this.globalScope)?void 0:[];return this.target.postMessage({id:bt,type:st,hasCallback:!!ct,targetMapId:ht,mustQueue:pt,sourceMapId:this.mapId,data:qu(it,St)},St),{cancel:()=>{ct&&delete this.callbacks[bt],this.target.postMessage({id:bt,type:"<cancel>",targetMapId:ht,sourceMapId:this.mapId})}}}receive(st){const it=st.data,ct=it.id;if(ct&&(!it.targetMapId||this.mapId===it.targetMapId))if(it.type==="<cancel>"){const ht=this.cancelCallbacks[ct];delete this.cancelCallbacks[ct],ht&&ht.cancel()}else if(it.mustQueue||so()){const ht=this.callbacks[ct];this.cancelCallbacks[ct]=this.scheduler.add(()=>this.processTask(ct,it),ht&&ht.metadata||{type:"message"})}else this.processTask(ct,it)}processTask(st,it){if(it.type==="<response>"){const ct=this.callbacks[st];delete this.callbacks[st],ct&&(it.error?ct(bu(it.error)):ct(null,bu(it.data)))}else{const ct=po(this.globalScope)?void 0:[],ht=it.hasCallback?(yt,bt)=>{delete this.cancelCallbacks[st],this.target.postMessage({id:st,type:"<response>",sourceMapId:this.mapId,error:yt?qu(yt):null,data:qu(bt,ct)},ct)}:yt=>{},pt=bu(it.data);if(this.parent[it.type])this.parent[it.type](it.sourceMapId,pt,ht);else if(this.parent.getWorkerSource){const yt=it.type.split(".");this.parent.getWorkerSource(it.sourceMapId,yt[0],pt.source)[yt[1]](pt,ht)}else ht(new Error(`Could not find function ${it.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},ot.CanonicalTileID=T1,ot.Color=as,ot.ColorMode=hu,ot.CullFaceMode=eu,ot.DEMData=U1,ot.DataConstantProperty=ir,ot.DedupedRequest=Vw,ot.DepthMode=Vm,ot.EXTENT=lo,ot.Elevation=class{isDataAvailableAtPoint(st){const it=this._source();if(this.isUsingMockSource()||!it||st.y<0||st.y>1)return!1;const ct=it.getSource().maxzoom,ht=1<<ct,pt=Math.floor(st.x),yt=Math.floor((st.x-pt)*ht),bt=Math.floor(st.y*ht),St=this.findDEMTileFor(new Fs(ct,pt,ct,yt,bt));return!(!St||!St.dem)}getAtPointOrZero(st,it=0){return this.getAtPoint(st,it)||0}getAtPoint(st,it,ct=!0){if(this.isUsingMockSource())return null;it==null&&(it=null);const ht=this._source();if(!ht||st.y<0||st.y>1)return it;const pt=ht.getSource().maxzoom,yt=1<<pt,bt=Math.floor(st.x),St=st.x-bt,Rt=new Fs(pt,bt,pt,Math.floor(St*yt),Math.floor(st.y*yt)),kt=this.findDEMTileFor(Rt);if(!kt||!kt.dem)return it;const Bt=kt.dem,jt=1<<kt.tileID.canonical.z,Ht=(St*jt-kt.tileID.canonical.x)*Bt.dim,Yt=(st.y*jt-kt.tileID.canonical.y)*Bt.dim,Jt=Math.floor(Ht),or=Math.floor(Yt);return(ct?this.exaggeration():1)*Lo(Lo(Bt.get(Jt,or),Bt.get(Jt,or+1),Yt-or),Lo(Bt.get(Jt+1,or),Bt.get(Jt+1,or+1),Yt-or),Ht-Jt)}getAtTileOffset(st,it,ct){const ht=1<<st.canonical.z;return this.getAtPointOrZero(new Pm(st.wrap+(st.canonical.x+it/lo)/ht,(st.canonical.y+ct/lo)/ht))}getAtTileOffsetFunc(st,it,ct,ht){return pt=>{const yt=this.getAtTileOffset(st,pt.x,pt.y),bt=ht.upVector(st.canonical,pt.x,pt.y);return _l(bt,bt,yt*ht.upVectorScale(st.canonical,it,ct).metersToTile),bt}}getForTilePoints(st,it,ct,ht){if(this.isUsingMockSource())return!1;const pt=G1.create(this,st,ht);return!!pt&&(it.forEach(yt=>{yt[2]=this.exaggeration()*pt.getElevationAt(yt[0],yt[1],ct)}),!0)}getMinMaxForTile(st){if(this.isUsingMockSource())return null;const it=this.findDEMTileFor(st);if(!it||!it.dem)return null;const ct=it.dem.tree,ht=it.tileID,pt=1<<st.canonical.z-ht.canonical.z;let yt=st.canonical.x/pt-ht.canonical.x,bt=st.canonical.y/pt-ht.canonical.y,St=0;for(let Rt=0;Rt<st.canonical.z-ht.canonical.z&&!ct.leaves[St];Rt++){yt*=2,bt*=2;const kt=2*Math.floor(bt)+Math.floor(yt);St=ct.childOffsets[St]+kt,yt%=1,bt%=1}return{min:this.exaggeration()*ct.minimums[St],max:this.exaggeration()*ct.maximums[St]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(st,it,ct){throw new Error("Pure virtual method called.")}pointCoordinate(st){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(st){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},ot.ErrorEvent=Ol,ot.EvaluationParameters=Nt,ot.Event=fu,ot.Evented=ap,ot.FillExtrusionBucket=ny,ot.Frustum=Ev,ot.FrustumCorners=Sv,ot.GLOBE_RADIUS=ou,ot.GLOBE_SCALE_MATCH_LATITUDE=45,ot.GLOBE_ZOOM_THRESHOLD_MAX=H_,ot.GLOBE_ZOOM_THRESHOLD_MIN=Cv,ot.GlobeSharedBuffers=class{constructor(st){this._createGrid(st),this._createPoles(st)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const st of this._poleSegments)st.destroy();for(const st of this._gridSegments)st.withSkirts.destroy(),st.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const st of this._wireframeSegments)st.destroy()}}_fillGridMeshWithLods(st,it){const ct=new In,ht=new io,pt=[],yt=st+1+2,bt=it[0]+1,St=it[0]+1+(1+it.length),Rt=(kt,Bt,jt)=>{let Ht=kt===yt-1?kt-2:kt===0?kt:kt-1;return Ht+=jt?24575:0,[Ht,Bt]};for(let kt=0;kt<yt;++kt)ct.emplaceBack(...Rt(kt,0,!0));for(let kt=0;kt<bt;++kt)for(let Bt=0;Bt<yt;++Bt)ct.emplaceBack(...Rt(Bt,kt,(Bt===0||Bt===yt-1)&&!0));for(let kt=0;kt<it.length;++kt){const Bt=it[kt];for(let jt=0;jt<yt;++jt)ct.emplaceBack(...Rt(jt,Bt,!0))}for(let kt=0;kt<it.length;++kt){const Bt=ht.length,jt=it[kt]+1+2,Ht=new io;for(let or=0;or<jt-1;or++){const gr=or===jt-2,Mr=gr?yt*(St-it.length+kt-or):yt;for(let Fr=0;Fr<yt-1;Fr++){const kr=or*yt+Fr;or===0||gr||Fr===0||Fr===yt-2?(Ht.emplaceBack(kr+1,kr,kr+Mr),Ht.emplaceBack(kr+Mr,kr+Mr+1,kr+1)):(ht.emplaceBack(kr+1,kr,kr+Mr),ht.emplaceBack(kr+Mr,kr+Mr+1,kr+1))}}const Yt=us.simpleSegment(0,Bt,ct.length,ht.length-Bt);for(let or=0;or<Ht.uint16.length;or+=3)ht.emplaceBack(Ht.uint16[or],Ht.uint16[or+1],Ht.uint16[or+2]);const Jt=us.simpleSegment(0,Bt,ct.length,ht.length-Bt);pt.push({withoutSkirts:Yt,withSkirts:Jt})}return{vertices:ct,indices:ht,segments:pt}}_createGrid(st){const it=this._fillGridMeshWithLods(Fp,q0);this._gridSegments=it.segments,this._gridBuffer=st.createVertexBuffer(it.vertices,H0.members),this._gridIndexBuffer=st.createIndexBuffer(it.indices,!0)}_createPoles(st){const it=new io;for(let pt=0;pt<=Fp;pt++)it.emplaceBack(0,pt+1,pt+2);this._poleIndexBuffer=st.createIndexBuffer(it,!0);const ct=new Ho,ht=new Ho;this._poleSegments=[];for(let pt=0,yt=0;pt<Cv;pt++){const bt=360/(1<<pt);ct.emplaceBack(0,-ou,0,.5,0),ht.emplaceBack(0,-ou,0,.5,1);for(let St=0;St<=Fp;St++){const Rt=St/Fp,kt=Lo(0,bt,Rt),[Bt,jt,Ht]=Cm(_2,x2,kt,ou);ct.emplaceBack(Bt,jt,Ht,Rt,0),ht.emplaceBack(Bt,jt,Ht,Rt,1)}this._poleSegments.push(us.simpleSegment(yt,0,66,64)),yt+=66}this._poleNorthVertexBuffer=st.createVertexBuffer(ct,G_,!1),this._poleSouthVertexBuffer=st.createVertexBuffer(ht,G_,!1)}getGridBuffers(st,it){return[this._gridBuffer,this._gridIndexBuffer,it?this._gridSegments[st].withSkirts:this._gridSegments[st].withoutSkirts]}getPoleBuffers(st){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[st]]}getWirefameBuffers(st,it){if(!this._wireframeSegments){const ct=new xs,ht=Fp,pt=ht+1+2,yt=1;this._wireframeSegments=[];for(let bt=0,St=0;bt<q0.length;bt++){const Rt=q0[bt];for(let Bt=yt;Bt<Rt+yt;Bt++)for(let jt=yt;jt<ht+yt;jt++){const Ht=Bt*pt+jt;ct.emplaceBack(Ht,Ht+1),ct.emplaceBack(Ht,Ht+pt),ct.emplaceBack(Ht,Ht+pt+1)}const kt=Rt*ht*3;this._wireframeSegments.push(us.simpleSegment(0,St,(Rt+1)*pt,kt)),St+=kt}this._wireframeIndexBuffer=st.createIndexBuffer(ct)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[it]]}},ot.GlyphManager=Fm,ot.ImagePosition=Qv,ot.KDBush=m_,ot.LivePerformanceUtils=W1,ot.LngLat=Zo,ot.LngLatBounds=Yu,ot.LocalGlyphMode=t_,ot.MAX_MERCATOR_LATITUDE=Ms,ot.MercatorCoordinate=Pm,ot.ONE_EM=Es,ot.OverscaledTileID=Fs,ot.PerformanceMarkers=Ts,ot.Point=er,ot.Properties=Ir,ot.RGBAImage=Ks,ot.Ray=wv,ot.RequestManager=class{constructor(st,it,ct){this._transformRequestFn=st,this._customAccessToken=it,this._silenceAuthErrors=!!ct,this._createSkuToken()}_createSkuToken(){const st=function(){let it="";for(let ct=0;ct<10;ct++)it+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",$t,it].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=st.token,this._skuTokenExpiresAt=st.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(st,it){return this._transformRequestFn&&this._transformRequestFn(st,it)||{url:st}}normalizeStyleURL(st,it){if(!Dr(st))return st;const ct=Fn(st);return ct.path=`/styles/v1${ct.path}`,this._makeAPIURL(ct,this._customAccessToken||it)}normalizeGlyphsURL(st,it){if(!Dr(st))return st;const ct=Fn(st);return ct.path=`/fonts/v1${ct.path}`,this._makeAPIURL(ct,this._customAccessToken||it)}normalizeSourceURL(st,it,ct,ht){if(!Dr(st))return st;const pt=Fn(st);return pt.path=`/v4/${pt.authority}.json`,pt.params.push("secure"),ct&&pt.params.push(`language=${ct}`),ht&&pt.params.push(`worldview=${ht}`),this._makeAPIURL(pt,this._customAccessToken||it)}normalizeSpriteURL(st,it,ct,ht){const pt=Fn(st);return Dr(st)?(pt.path=`/styles/v1${pt.path}/sprite${it}${ct}`,this._makeAPIURL(pt,this._customAccessToken||ht)):(pt.path+=`${it}${ct}`,Mn(pt))}normalizeTileURL(st,it,ct){if(this._isSkuTokenExpired()&&this._createSkuToken(),st&&!Dr(st))return st;const ht=Fn(st);ht.path=ht.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${it||ct&&ht.authority!=="raster"&&ct===512?"@2x":""}${Tt.supported?".webp":"$1"}`),ht.authority==="raster"?ht.path=`/${At.RASTER_URL_PREFIX}${ht.path}`:(ht.path=ht.path.replace(/^.+\/v4\//,"/"),ht.path=`/${At.TILE_URL_VERSION}${ht.path}`);const pt=this._customAccessToken||function(yt){for(const bt of yt){const St=bt.match(/^access_token=(.*)$/);if(St)return St[1]}return null}(ht.params)||At.ACCESS_TOKEN;return At.REQUIRE_ACCESS_TOKEN&&pt&&this._skuToken&&ht.params.push(`sku=${this._skuToken}`),this._makeAPIURL(ht,pt)}canonicalizeTileURL(st,it){const ct=Fn(st);if(!ct.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!ct.path.match(/\.[\w]+$/))return st;let ht="mapbox://";ct.path.match(/^\/raster\/v1\//)?ht+=`raster/${ct.path.replace(`/${At.RASTER_URL_PREFIX}/`,"")}`:ht+=`tiles/${ct.path.replace(`/${At.TILE_URL_VERSION}/`,"")}`;let pt=ct.params;return it&&(pt=pt.filter(yt=>!yt.match(/^access_token=/))),pt.length&&(ht+=`?${pt.join("&")}`),ht}canonicalizeTileset(st,it){const ct=!!it&&Dr(it),ht=[];for(const pt of st.tiles||[])Zr(pt)?ht.push(this.canonicalizeTileURL(pt,ct)):ht.push(pt);return ht}_makeAPIURL(st,it){const ct="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",ht=Fn(At.API_URL);if(st.protocol=ht.protocol,st.authority=ht.authority,st.protocol==="http"){const pt=st.params.indexOf("secure");pt>=0&&st.params.splice(pt,1)}if(ht.path!=="/"&&(st.path=`${ht.path}${st.path}`),!At.REQUIRE_ACCESS_TOKEN)return Mn(st);if(it=it||At.ACCESS_TOKEN,!this._silenceAuthErrors){if(!it)throw new Error(`An API access token is required to use Mapbox GL. ${ct}`);if(it[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${ct}`)}return st.params=st.params.filter(pt=>pt.indexOf("access_token")===-1),st.params.push(`access_token=${it||""}`),Mn(st)}},ot.ResourceType=Vn,ot.SegmentVector=us,ot.SourceCache=Up,ot.StencilMode=h_,ot.StructArrayLayout1ui2=qs,ot.StructArrayLayout2f1f2i16=uo,ot.StructArrayLayout2i4=In,ot.StructArrayLayout2ui4=xs,ot.StructArrayLayout3f12=To,ot.StructArrayLayout3ui6=io,ot.StructArrayLayout4i8=Sn,ot.StructArrayLayout5f20=Ho,ot.Texture=py,ot.Tile=c_,ot.Transitionable=rr,ot.Uniform1f=c1,ot.Uniform1i=class extends Eu{constructor(st){super(st),this.current=0}set(st,it,ct){this.fetchUniformLocation(st,it)&&this.current!==ct&&(this.current=ct,this.gl.uniform1i(this.location,ct))}},ot.Uniform2f=class extends Eu{constructor(st){super(st),this.current=[0,0]}set(st,it,ct){this.fetchUniformLocation(st,it)&&(ct[0]===this.current[0]&&ct[1]===this.current[1]||(this.current=ct,this.gl.uniform2f(this.location,ct[0],ct[1])))}},ot.Uniform3f=class extends Eu{constructor(st){super(st),this.current=[0,0,0]}set(st,it,ct){this.fetchUniformLocation(st,it)&&(ct[0]===this.current[0]&&ct[1]===this.current[1]&&ct[2]===this.current[2]||(this.current=ct,this.gl.uniform3f(this.location,ct[0],ct[1],ct[2])))}},ot.Uniform4f=R_,ot.UniformColor=P_,ot.UniformMatrix2f=class extends Eu{constructor(st){super(st),this.current=n2}set(st,it,ct){if(this.fetchUniformLocation(st,it)){for(let ht=0;ht<4;ht++)if(ct[ht]!==this.current[ht]){this.current=ct,this.gl.uniformMatrix2fv(this.location,!1,ct);break}}}},ot.UniformMatrix3f=class extends Eu{constructor(st){super(st),this.current=r2}set(st,it,ct){if(this.fetchUniformLocation(st,it)){for(let ht=0;ht<9;ht++)if(ct[ht]!==this.current[ht]){this.current=ct,this.gl.uniformMatrix3fv(this.location,!1,ct);break}}}},ot.UniformMatrix4f=class extends Eu{constructor(st){super(st),this.current=t2}set(st,it,ct){if(this.fetchUniformLocation(st,it)){if(ct[12]!==this.current[12]||ct[0]!==this.current[0])return this.current=ct,void this.gl.uniformMatrix4fv(this.location,!1,ct);for(let ht=1;ht<16;ht++)if(ct[ht]!==this.current[ht]){this.current=ct,this.gl.uniformMatrix4fv(this.location,!1,ct);break}}}},ot.UnwrappedTileID=Lx,ot.ValidationError=qn,ot.VectorTileFeature=E1,ot.VectorTileWorkerSource=class extends ap{constructor(st,it,ct,ht,pt){super(),this.actor=st,this.layerIndex=it,this.availableImages=ct,this.loadVectorData=pt||Uw,this.loading={},this.loaded={},this.deduped=new Vw(st.scheduler),this.isSpriteLoaded=ht,this.scheduler=st.scheduler}loadTile(st,it){const ct=st.uid,ht=st&&st.request,pt=ht&&ht.collectResourceTiming,yt=this.loading[ct]=new RE(st);yt.abort=this.loadVectorData(st,(bt,St)=>{const Rt=!this.loading[ct];if(delete this.loading[ct],Rt||bt||!St)return yt.status="done",Rt||(this.loaded[ct]=yt),it(bt);const kt=St.rawData,Bt={};St.expires&&(Bt.expires=St.expires),St.cacheControl&&(Bt.cacheControl=St.cacheControl),yt.vectorTile=St.vectorTile||new qv(new M1(kt));const jt=()=>{yt.parse(yt.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ht,Yt)=>{if(Ht||!Yt)return it(Ht);const Jt={};if(pt){const or=Gm(ht);or.length>0&&(Jt.resourceTiming=JSON.parse(JSON.stringify(or)))}it(null,dr({rawTileData:kt.slice(0)},Yt,Bt,Jt))})};this.isSpriteLoaded?jt():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(jt,{type:"parseTile",isSymbolTile:st.isSymbolTile,zoom:st.tileZoom}):jt()}),this.loaded=this.loaded||{},this.loaded[ct]=yt})}reloadTile(st,it){const ct=this.loaded,ht=st.uid,pt=this;if(ct&&ct[ht]){const yt=ct[ht];yt.showCollisionBoxes=st.showCollisionBoxes,yt.enableTerrain=!!st.enableTerrain,yt.projection=st.projection,yt.tileTransform=Vp(st.tileID.canonical,st.projection);const bt=(St,Rt)=>{const kt=yt.reloadCallback;kt&&(delete yt.reloadCallback,yt.parse(yt.vectorTile,pt.layerIndex,this.availableImages,pt.actor,kt)),it(St,Rt)};yt.status==="parsing"?yt.reloadCallback=bt:yt.status==="done"&&(yt.vectorTile?yt.parse(yt.vectorTile,this.layerIndex,this.availableImages,this.actor,bt):bt())}}abortTile(st,it){const ct=st.uid,ht=this.loading[ct];ht&&(ht.abort&&ht.abort(),delete this.loading[ct]),it()}removeTile(st,it){const ct=this.loaded,ht=st.uid;ct&&ct[ht]&&delete ct[ht],it()}},ot.WritingMode=Sl,ot.ZoomDependentExpression=Ep,ot.add=Tu,ot.addDynamicAttributes=N1,ot.adjoint=function(st,it){var ct=it[0],ht=it[1],pt=it[2],yt=it[3],bt=it[4],St=it[5],Rt=it[6],kt=it[7],Bt=it[8];return st[0]=bt*Bt-St*kt,st[1]=pt*kt-ht*Bt,st[2]=ht*St-pt*bt,st[3]=St*Rt-yt*Bt,st[4]=ct*Bt-pt*Rt,st[5]=pt*yt-ct*St,st[6]=yt*kt-bt*Rt,st[7]=ht*Rt-ct*kt,st[8]=ct*bt-ht*yt,st},ot.asyncAll=cr,ot.bezier=hr,ot.bindAll=gn,ot.boundsAttributes=Cw,ot.bufferConvexPolygon=function(st,it){const ct=[];for(let ht=0;ht<st.length;ht++){const pt=lr(ht-1,-1,st.length-1),yt=lr(ht+1,-1,st.length-1),bt=st[ht],St=st[yt],Rt=st[pt].sub(bt).unit(),kt=St.sub(bt).unit(),Bt=kt.angleWithSep(Rt.x,Rt.y),jt=Rt.add(kt).unit().mult(-1*it/Math.sin(Bt/2));ct.push(bt.add(jt))}return ct},ot.cacheEntryPossiblyAdded=function(st){fn++,fn>no&&(st.getActor().send("enforceCacheSizeLimit",Bn),fn=0)},ot.calculateGlobeLabelMatrix=function(st,it){const{x:ct,y:ht}=st.point,pt=Y_(ct,ht,st.worldSize/st._pixelsPerMercatorPixel,0,0);return Lp(pt,pt,Pv(au(it)))},ot.calculateGlobeMatrix=function(st){const{x:it,y:ct}=st.point,{lng:ht,lat:pt}=st._center;return Y_(it,ct,st.worldSize,ht,pt)},ot.calculateGlobeMercatorMatrix=function(st){const it=st.pixelsPerMeter,ct=it/Ql(1,st.center.lat),ht=Xl(new Float64Array(16));return N0(ht,ht,[st.point.x,st.point.y,0]),Dp(ht,ht,[ct,ct,it]),Float32Array.from(ht)},ot.circumferenceAtLatitude=Mv,ot.clamp=Xt,ot.clearTileCache=function(st){if(!Yn())return;const it=mt.caches.delete(mn);st&&it.catch(st).then(()=>st())},ot.clipLine=sw,ot.clone=function(st){var it=new Zs(16);return it[0]=st[0],it[1]=st[1],it[2]=st[2],it[3]=st[3],it[4]=st[4],it[5]=st[5],it[6]=st[6],it[7]=st[7],it[8]=st[8],it[9]=st[9],it[10]=st[10],it[11]=st[11],it[12]=st[12],it[13]=st[13],it[14]=st[14],it[15]=st[15],it},ot.clone$1=En,ot.collisionCircleLayout=ES,ot.config=At,ot.conjugate=function(st,it){return st[0]=-it[0],st[1]=-it[1],st[2]=-it[2],st[3]=it[3],st},ot.create=function(){var st=new Zs(16);return Zs!=Float32Array&&(st[1]=0,st[2]=0,st[3]=0,st[4]=0,st[6]=0,st[7]=0,st[8]=0,st[9]=0,st[11]=0,st[12]=0,st[13]=0,st[14]=0),st[0]=1,st[5]=1,st[10]=1,st[15]=1,st},ot.create$1=k_,ot.createExpression=Gu,ot.createLayout=Yr,ot.createStyleLayer=function(st){return st.type==="custom"?new gE(st):new vE[st.type](st)},ot.cross=bv,ot.degToRad=vr,ot.distance=function(st,it){return Math.hypot(it[0]-st[0],it[1]-st[1],it[2]-st[2])},ot.div=function(st,it,ct){return st[0]=it[0]/ct[0],st[1]=it[1]/ct[1],st[2]=it[2]/ct[2],st},ot.dot=Ml,ot.earthRadius=X0,ot.ease=Tr,ot.easeCubicInOut=Cr,ot.ecefToLatLng=function([st,it,ct]){const ht=Math.hypot(st,it,ct),pt=Math.atan2(st,ct),yt=.5*Math.PI-Math.acos(-it/ht);return new Zo(Lr(pt),Lr(yt))},ot.emitValidationErrors=n1,ot.endsWith=ln,ot.enforceCacheSizeLimit=function(st){Hr(),eo&&eo.then(it=>{it.keys().then(ct=>{for(let ht=0;ht<ct.length-st;ht++)it.delete(ct[ht])})})},ot.evaluateSizeForFeature=P1,ot.evaluateSizeForZoom=Im,ot.evaluateVariableOffset=dw,ot.evented=wt,ot.exactEquals=function(st,it){return st[0]===it[0]&&st[1]===it[1]&&st[2]===it[2]&&st[3]===it[3]},ot.exactEquals$1=function(st,it){return st[0]===it[0]&&st[1]===it[1]&&st[2]===it[2]},ot.exported=Dl,ot.exported$1=Tt,ot.extend=dr,ot.extend$1=Fl,ot.fillExtrusionHeightLift=kx,ot.filterObject=cn,ot.fromMat4=function(st,it){return st[0]=it[0],st[1]=it[1],st[2]=it[2],st[3]=it[4],st[4]=it[5],st[5]=it[6],st[6]=it[8],st[7]=it[9],st[8]=it[10],st},ot.fromQuat=function(st,it){var ct=it[0],ht=it[1],pt=it[2],yt=it[3],bt=ct+ct,St=ht+ht,Rt=pt+pt,kt=ct*bt,Bt=ht*bt,jt=ht*St,Ht=pt*bt,Yt=pt*St,Jt=pt*Rt,or=yt*bt,gr=yt*St,Mr=yt*Rt;return st[0]=1-jt-Jt,st[1]=Bt+Mr,st[2]=Ht-gr,st[3]=0,st[4]=Bt-Mr,st[5]=1-kt-Jt,st[6]=Yt+or,st[7]=0,st[8]=Ht+gr,st[9]=Yt-or,st[10]=1-kt-jt,st[11]=0,st[12]=0,st[13]=0,st[14]=0,st[15]=1,st},ot.fromRotation=function(st,it){var ct=Math.sin(it),ht=Math.cos(it);return st[0]=ht,st[1]=ct,st[2]=0,st[3]=-ct,st[4]=ht,st[5]=0,st[6]=0,st[7]=0,st[8]=1,st},ot.fromScaling=I_,ot.furthestTileCorner=function(st){const it=Math.round((st+45+360)%360/90)%4;return Er[it]},ot.getAABBPointSquareDist=function(st,it,ct){let ht=0;for(let pt=0;pt<2;++pt){const yt=ct?ct[pt]:0;st[pt]>yt&&(ht+=(st[pt]-yt)*(st[pt]-yt)),it[pt]<yt&&(ht+=(yt-it[pt])*(yt-it[pt]))}return ht},ot.getAnchorAlignment=e_,ot.getAnchorJustification=n_,ot.getBounds=function(st){let it=1/0,ct=1/0,ht=-1/0,pt=-1/0;for(const yt of st)it=Math.min(it,yt.x),ct=Math.min(ct,yt.y),ht=Math.max(ht,yt.x),pt=Math.max(pt,yt.y);return{min:new er(it,ct),max:new er(ht,pt)}},ot.getColumn=yo,ot.getDefaultExportFromCjs=It,ot.getGridMatrix=function(st,it,ct,ht){const pt=it.getNorth(),yt=it.getSouth(),bt=it.getWest(),St=it.getEast(),Rt=1<<st.z,kt=St-bt,Bt=pt-yt,jt=kt/Fp,Ht=-Bt/q0[ct],Yt=[0,jt,0,Ht,0,0,pt,bt,0];if(st.z>0){const Jt=180/ht;$_(Yt,Yt,[Jt/kt+1,0,0,0,Jt/Bt+1,0,-.5*Jt/jt,.5*Jt/Ht,1])}return Yt[2]=Rt,Yt[5]=st.x,Yt[8]=st.y,Yt},ot.getImage=yr,ot.getJSON=function(st,it){return Ur(dr(st,{type:"json"}),it)},ot.getLatitudinalLod=function(st){const it=Ms-5;st=Xt(st,-it,it)/it*90;const ct=Math.pow(Math.abs(Math.sin(vr(st))),3);return Math.round(ct*(q0.length-1))},ot.getMapSessionAPI=os,ot.getPerformanceMeasurement=Gm,ot.getProjection=xw,ot.getRTLTextPluginStatus=Ct,ot.getReferrer=qr,ot.getTilePoint=function(st,{x:it,y:ct},ht=0){return new er(((it-ht)*st.scale-st.x)*lo,(ct*st.scale-st.y)*lo)},ot.getTileVec3=function(st,it,ct=0){return Em(((it.x-ct)*st.scale-st.x)*lo,(it.y*st.scale-st.y)*lo,tx(it.z,it.y))},ot.getVideo=function(st,it){const ct=mt.document.createElement("video");ct.muted=!0,ct.onloadstart=function(){it(null,ct)};for(let ht=0;ht<st.length;ht++){const pt=mt.document.createElement("source");bn(st[ht])||(ct.crossOrigin="Anonymous"),pt.src=st[ht],ct.appendChild(pt)}return{cancel:()=>{}}},ot.globeCenterToScreenPoint=function(st){const it=[0,0,0],ct=Xl(new Float64Array(16));return Lp(ct,st.pixelMatrix,st.globeMatrix),ss(it,it,ct),new er(it[0],it[1])},ot.globeDenormalizeECEF=Pv,ot.globeECEFOrigin=function(st,it){const ct=[0,0,0];return ss(ct,ct,K0(au(it.canonical))),ss(ct,ct,st),ct},ot.globeMetersToEcef=d1,ot.globeNormalizeECEF=K0,ot.globePixelsToTileUnits=function(st,it){return lo/(512*Math.pow(2,st))*p1(au(it))},ot.globePoleMatrixForTile=function(st,it,ct){const ht=Xl(new Float64Array(16)),pt=(it/(1<<st)-.5)*Math.PI*2;return h1(ht,ct.globeMatrix,pt),Float32Array.from(ht)},ot.globeTileBounds=au,ot.globeTiltAtLngLat=Q_,ot.globeToMercatorTransition=Rm,ot.globeUseCustomAntiAliasing=function(st,it,ct){const ht=Rm(ct.zoom),pt=st.style.map._antialias,yt=!!it.extStandardDerivatives,bt=it.extStandardDerivativesForceOff||st.terrain&&st.terrain.exaggeration()>0;return ht===0&&!pt&&!bt&&yt},ot.identity=Xl,ot.identity$1=j_,ot.invert=yv,ot.isFullscreen=function(){return!!mt.document.fullscreenElement||!!mt.document.webkitFullscreenElement},ot.isLngLatBehindGlobe=Av,ot.isMapAuthenticated=function(st){return gs.has(st)},ot.isMapboxURL=Dr,ot.isSafariWithAntialiasingBug=function(st){const it=st.navigator?st.navigator.userAgent:null;return!!po(st)&&it&&(it.match("Version/15.4")||it.match("Version/15.5")||it.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},ot.latFromMercatorY=As,ot.latLngToECEF=Tm,ot.len=d2,ot.length=j0,ot.length$1=function(st){return Math.hypot(st[0],st[1],st[2],st[3])},ot.lngFromMercatorX=xl,ot.loadVectorTile=Uw,ot.makeRequest=Ur,ot.mapValue=function(st,it,ct,ht,pt){return Xt((st-it)/(ct-it)*(pt-ht)+ht,ht,pt)},ot.mercatorScale=rx,ot.mercatorXfromLng=su,ot.mercatorYfromLat=lu,ot.mercatorZfromAltitude=Ql,ot.mul=u2,ot.mul$1=h2,ot.multiply=Lp,ot.multiply$1=$_,ot.multiply$2=O_,ot.nextPowerOfTwo=dn,ot.normalize=Ds,ot.normalize$1=f2,ot.normalize$2=B_,ot.number=Lo,ot.ortho=function(st,it,ct,ht,pt,yt,bt){var St=1/(it-ct),Rt=1/(ht-pt),kt=1/(yt-bt);return st[0]=-2*St,st[1]=0,st[2]=0,st[3]=0,st[4]=0,st[5]=-2*Rt,st[6]=0,st[7]=0,st[8]=0,st[9]=0,st[10]=2*kt,st[11]=0,st[12]=(it+ct)*St,st[13]=(pt+ht)*Rt,st[14]=(bt+yt)*kt,st[15]=1,st},ot.pbf=jx,ot.perspective=function(st,it,ct,ht,pt){var yt,bt=1/Math.tan(it/2);return st[0]=bt/ct,st[1]=0,st[2]=0,st[3]=0,st[4]=0,st[5]=bt,st[6]=0,st[7]=0,st[8]=0,st[9]=0,st[11]=-1,st[12]=0,st[13]=0,st[15]=0,pt!=null&&pt!==1/0?(st[10]=(pt+ht)*(yt=1/(ht-pt)),st[14]=2*pt*ht*yt):(st[10]=-1,st[14]=-2*ht),st},ot.pick=function(st,it){const ct={};for(let ht=0;ht<it.length;ht++){const pt=it[ht];pt in st&&(ct[pt]=st[pt])}return ct},ot.plugin=zt,ot.pointGeometry=Wt,ot.polesInViewport=function(st){const it=Xl(new Float64Array(16));Lp(it,st.pixelMatrix,st.globeMatrix);const ct=[0,$l,0],ht=[0,Il,0];return ss(ct,ct,it),ss(ht,ht,it),[ct[0]>0&&ct[0]<=st.width&&ct[1]>0&&ct[1]<=st.height&&!Av(st,new Zo(st.center.lat,90)),ht[0]>0&&ht[0]<=st.width&&ht[1]>0&&ht[1]<=st.height&&!Av(st,new Zo(st.center.lat,-90))]},ot.polygonContainsPoint=Np,ot.polygonIntersectsBox=cx,ot.polygonIntersectsPolygon=ox,ot.polygonizeBounds=function(st,it,ct=0,ht=!0){const pt=new er(ct,ct),yt=st.sub(pt),bt=it.add(pt),St=[yt,new er(bt.x,yt.y),bt,new er(yt.x,bt.y)];return ht&&St.push(yt.clone()),St},ot.posAttributes=H0,ot.postMapLoadEvent=Io,ot.postPerformanceEvent=Co,ot.postTurnstileEvent=vo,ot.potpack=Yv,ot.prevPowerOfTwo=function(st){return st<=1?1:Math.pow(2,Math.floor(Math.log(st)/Math.LN2))},ot.radToDeg=Lr,ot.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],ot.registerForPluginStateChange=function(st){return st({pluginStatus:gt,pluginURL:ut}),wt.on("pluginStateChange",st),st},ot.removeAuthState=function(st){gs.delete(st)},ot.renderColorRamp=zv,ot.resample=nx,ot.rotateX=vv,ot.rotateX$1=V_,ot.rotateY=h1,ot.rotateY$1=U_,ot.rotateZ=function(st,it,ct){var ht=Math.sin(ct),pt=Math.cos(ct),yt=it[0],bt=it[1],St=it[2],Rt=it[3],kt=it[4],Bt=it[5],jt=it[6],Ht=it[7];return it!==st&&(st[8]=it[8],st[9]=it[9],st[10]=it[10],st[11]=it[11],st[12]=it[12],st[13]=it[13],st[14]=it[14],st[15]=it[15]),st[0]=yt*pt+kt*ht,st[1]=bt*pt+Bt*ht,st[2]=St*pt+jt*ht,st[3]=Rt*pt+Ht*ht,st[4]=kt*pt-yt*ht,st[5]=Bt*pt-bt*ht,st[6]=jt*pt-St*ht,st[7]=Ht*pt-Rt*ht,st},ot.rotateZ$1=function(st,it,ct){ct*=.5;var ht=it[0],pt=it[1],yt=it[2],bt=it[3],St=Math.sin(ct),Rt=Math.cos(ct);return st[0]=ht*Rt+pt*St,st[1]=pt*Rt-ht*St,st[2]=yt*Rt+bt*St,st[3]=bt*Rt-yt*St,st},ot.scale=Dp,ot.scale$1=z_,ot.scale$2=_l,ot.scaleAndAdd=G0,ot.set=function(st,it,ct,ht){return st[0]=it,st[1]=ct,st[2]=ht,st},ot.setCacheLimits=function(st,it){Bn=st,no=it},ot.setColumn=function(st,it,ct){st[4*it+0]=ct[0],st[4*it+1]=ct[1],st[4*it+2]=ct[2],st[4*it+3]=ct[3]},ot.setRTLTextPlugin=function(st,it,ct=!1){if(gt===D0||gt===O0||gt===F0)throw new Error("setRTLTextPlugin cannot be called multiple times.");ut=Dl.resolveURL(st),gt=D0,Zu=it,vt(),ct||Dt()},ot.smoothstep=Qt,ot.spec=_n,ot.squaredLength=function(st){var it=st[0],ct=st[1],ht=st[2];return it*it+ct*ct+ht*ht},ot.storeAuthState=function(st,it){it?gs.add(st):gs.delete(st)},ot.sub=Yl,ot.subtract=xv,ot.symbolSize=CS,ot.tileAABB=function(st,it,ct,ht,pt,yt,bt,St,Rt){if(Rt.name==="globe")return v2(st,it,new T1(ct,ht,pt));const kt=Vp({z:ct,x:ht,y:pt},Rt);return new Os([(yt+kt.x/kt.scale)*it,it*(kt.y/kt.scale),bt],[(yt+kt.x2/kt.scale)*it,it*(kt.y2/kt.scale),St])},ot.tileCornersToBounds=f1,ot.tileTransform=Vp,ot.transformMat3=function(st,it,ct){var ht=it[0],pt=it[1],yt=it[2];return st[0]=ht*ct[0]+pt*ct[3]+yt*ct[6],st[1]=ht*ct[1]+pt*ct[4]+yt*ct[7],st[2]=ht*ct[2]+pt*ct[5]+yt*ct[8],st},ot.transformMat4=ss,ot.transformMat4$1=Op,ot.transformQuat=F_,ot.transitionTileAABBinECEF=Z_,ot.translate=N0,ot.transpose=function(st,it){if(st===it){var ct=it[1],ht=it[2],pt=it[5];st[1]=it[3],st[2]=it[6],st[3]=ct,st[5]=it[7],st[6]=ht,st[7]=pt}else st[0]=it[0],st[1]=it[3],st[2]=it[6],st[3]=it[1],st[4]=it[4],st[5]=it[7],st[6]=it[2],st[7]=it[5],st[8]=it[8];return st},ot.triggerPluginCompletionEvent=ft,ot.uniqueId=jr,ot.updateGlobeVertexNormal=function(st,it,ct,ht,pt){const yt=5*it+2;st.float32[yt+0]=ct,st.float32[yt+1]=ht,st.float32[yt+2]=pt},ot.validateCustomStyleLayer=function(st){const it=[],ct=st.id;return ct===void 0&&it.push({message:`layers.${ct}: missing required property "id"`}),st.render===void 0&&it.push({message:`layers.${ct}: missing required method "render"`}),st.renderingMode&&st.renderingMode!=="2d"&&st.renderingMode!=="3d"&&it.push({message:`layers.${ct}: property "renderingMode" must be either "2d" or "3d"`}),it},ot.validateFilter=st=>Hs(Ap(st)),ot.validateFog=st=>Hs(e1(st)),ot.validateLayer=st=>Hs(Xy(st)),ot.validateLight=st=>Hs(Jy(st)),ot.validateSource=st=>Hs(Qy(st)),ot.validateStyle=r1,ot.validateTerrain=st=>Hs(M0(st)),ot.values=sr,ot.vectorTile=S1,ot.version=xt,ot.warnOnce=Rn,ot.window=mt,ot.wrap=lr}),lt(["./shared"],function(ot){function mt(mr){if(typeof mr=="number"||typeof mr=="boolean"||typeof mr=="string"||mr==null)return JSON.stringify(mr);if(Array.isArray(mr)){let ar="[";for(const yr of mr)ar+=`${mt(yr)},`;return`${ar}]`}let tr="{";for(const ar of Object.keys(mr).sort())tr+=`${ar}:${mt(mr[ar])},`;return`${tr}}`}function xt(mr){let tr="";for(const ar of ot.refProperties)tr+=`/${mt(mr[ar])}`;return tr}class Et{constructor(tr){this.keyCache={},tr&&this.replace(tr)}replace(tr){this._layerConfigs={},this._layers={},this.update(tr,[])}update(tr,ar){for(const Ar of tr)this._layerConfigs[Ar.id]=Ar,(this._layers[Ar.id]=ot.createStyleLayer(Ar)).compileFilter(),this.keyCache[Ar.id]&&delete this.keyCache[Ar.id];for(const Ar of ar)delete this.keyCache[Ar],delete this._layerConfigs[Ar],delete this._layers[Ar];this.familiesBySource={};const yr=function(Ar,Dr){const Zr={};for(let Br=0;Br<Ar.length;Br++){const en=Dr&&Dr[Ar[Br].id]||xt(Ar[Br]);Dr&&(Dr[Ar[Br].id]=en);let Pn=Zr[en];Pn||(Pn=Zr[en]=[]),Pn.push(Ar[Br])}const Xr=[];for(const Br in Zr)Xr.push(Zr[Br]);return Xr}(ot.values(this._layerConfigs),this.keyCache);for(const Ar of yr){const Dr=Ar.map(Fn=>this._layers[Fn.id]),Zr=Dr[0];if(Zr.visibility==="none")continue;const Xr=Zr.source||"";let Br=this.familiesBySource[Xr];Br||(Br=this.familiesBySource[Xr]={});const en=Zr.sourceLayer||"_geojsonTileLayer";let Pn=Br[en];Pn||(Pn=Br[en]=[]),Pn.push(Dr)}}}class At{loadTile(tr,ar){const{uid:yr,encoding:Ar,rawImageData:Dr,padding:Zr,buildQuadTree:Xr}=tr,Br=ot.window.ImageBitmap&&Dr instanceof ot.window.ImageBitmap?this.getImageData(Dr,Zr):Dr;ar(null,new ot.DEMData(yr,Br,Ar,Zr<1,Xr))}getImageData(tr,ar){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(tr.width,tr.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=tr.width,this.offscreenCanvas.height=tr.height,this.offscreenCanvasContext.drawImage(tr,0,0,tr.width,tr.height);const yr=this.offscreenCanvasContext.getImageData(-ar,-ar,tr.width+2*ar,tr.height+2*ar);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),yr}}function Tt(mr,tr){if(mr.length!==0){Ft(mr[0],tr);for(var ar=1;ar<mr.length;ar++)Ft(mr[ar],!tr)}}function Ft(mr,tr){for(var ar=0,yr=0,Ar=0,Dr=mr.length,Zr=Dr-1;Ar<Dr;Zr=Ar++){var Xr=(mr[Ar][0]-mr[Zr][0])*(mr[Zr][1]+mr[Ar][1]),Br=ar+Xr;yr+=Math.abs(ar)>=Math.abs(Xr)?ar-Br+Xr:Xr-Br+ar,ar=Br}ar+yr>=0!=!!tr&&mr.reverse()}var Mt=ot.getDefaultExportFromCjs(function mr(tr,ar){var yr,Ar=tr&&tr.type;if(Ar==="FeatureCollection")for(yr=0;yr<tr.features.length;yr++)mr(tr.features[yr],ar);else if(Ar==="GeometryCollection")for(yr=0;yr<tr.geometries.length;yr++)mr(tr.geometries[yr],ar);else if(Ar==="Feature")mr(tr.geometry,ar);else if(Ar==="Polygon")Tt(tr.coordinates,ar);else if(Ar==="MultiPolygon")for(yr=0;yr<tr.coordinates.length;yr++)Tt(tr.coordinates[yr],ar);return tr});const Lt=ot.VectorTileFeature.prototype.toGeoJSON;var Gt={exports:{}},Pt=ot.pointGeometry,$t=ot.vectorTile.VectorTileFeature,It=Ot;function Ot(mr,tr){this.options=tr||{},this.features=mr,this.length=mr.length}function Vt(mr,tr){this.id=typeof mr.id=="number"?mr.id:void 0,this.type=mr.type,this.rawGeometry=mr.type===1?[mr.geometry]:mr.geometry,this.properties=mr.tags,this.extent=tr||4096}Ot.prototype.feature=function(mr){return new Vt(this.features[mr],this.options.extent)},Vt.prototype.loadGeometry=function(){var mr=this.rawGeometry;this.geometry=[];for(var tr=0;tr<mr.length;tr++){for(var ar=mr[tr],yr=[],Ar=0;Ar<ar.length;Ar++)yr.push(new Pt(ar[Ar][0],ar[Ar][1]));this.geometry.push(yr)}return this.geometry},Vt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var mr=this.geometry,tr=1/0,ar=-1/0,yr=1/0,Ar=-1/0,Dr=0;Dr<mr.length;Dr++)for(var Zr=mr[Dr],Xr=0;Xr<Zr.length;Xr++){var Br=Zr[Xr];tr=Math.min(tr,Br.x),ar=Math.max(ar,Br.x),yr=Math.min(yr,Br.y),Ar=Math.max(Ar,Br.y)}return[tr,yr,ar,Ar]},Vt.prototype.toGeoJSON=$t.prototype.toGeoJSON;var Ut=ot.pbf,Wt=It;function nr(mr){var tr=new Ut;return function(ar,yr){for(var Ar in ar.layers)yr.writeMessage(3,er,ar.layers[Ar])}(mr,tr),tr.finish()}function er(mr,tr){var ar;tr.writeVarintField(15,mr.version||1),tr.writeStringField(1,mr.name||""),tr.writeVarintField(5,mr.extent||4096);var yr={keys:[],values:[],keycache:{},valuecache:{}};for(ar=0;ar<mr.length;ar++)yr.feature=mr.feature(ar),tr.writeMessage(2,Kt,yr);var Ar=yr.keys;for(ar=0;ar<Ar.length;ar++)tr.writeStringField(3,Ar[ar]);var Dr=yr.values;for(ar=0;ar<Dr.length;ar++)tr.writeMessage(4,Cr,Dr[ar])}function Kt(mr,tr){var ar=mr.feature;ar.id!==void 0&&tr.writeVarintField(1,ar.id),tr.writeMessage(2,ur,mr),tr.writeVarintField(3,ar.type),tr.writeMessage(4,Er,ar)}function ur(mr,tr){var ar=mr.feature,yr=mr.keys,Ar=mr.values,Dr=mr.keycache,Zr=mr.valuecache;for(var Xr in ar.properties){var Br=ar.properties[Xr],en=Dr[Xr];if(Br!==null){en===void 0&&(yr.push(Xr),Dr[Xr]=en=yr.length-1),tr.writeVarint(en);var Pn=typeof Br;Pn!=="string"&&Pn!=="boolean"&&Pn!=="number"&&(Br=JSON.stringify(Br));var Fn=Pn+":"+Br,Mn=Zr[Fn];Mn===void 0&&(Ar.push(Br),Zr[Fn]=Mn=Ar.length-1),tr.writeVarint(Mn)}}}function vr(mr,tr){return(tr<<3)+(7&mr)}function Lr(mr){return mr<<1^mr>>31}function Er(mr,tr){for(var ar=mr.loadGeometry(),yr=mr.type,Ar=0,Dr=0,Zr=ar.length,Xr=0;Xr<Zr;Xr++){var Br=ar[Xr],en=1;yr===1&&(en=Br.length),tr.writeVarint(vr(1,en));for(var Pn=yr===3?Br.length-1:Br.length,Fn=0;Fn<Pn;Fn++){Fn===1&&yr!==1&&tr.writeVarint(vr(2,Pn-1));var Mn=Br[Fn].x-Ar,ho=Br[Fn].y-Dr;tr.writeVarint(Lr(Mn)),tr.writeVarint(Lr(ho)),Ar+=Mn,Dr+=ho}yr===3&&tr.writeVarint(vr(7,1))}}function Cr(mr,tr){var ar=typeof mr;ar==="string"?tr.writeStringField(1,mr):ar==="boolean"?tr.writeBooleanField(7,mr):ar==="number"&&(mr%1!=0?tr.writeDoubleField(3,mr):mr<0?tr.writeSVarintField(6,mr):tr.writeVarintField(5,mr))}Gt.exports=nr,Gt.exports.fromVectorTileJs=nr,Gt.exports.fromGeojsonVt=function(mr,tr){tr=tr||{};var ar={};for(var yr in mr)ar[yr]=new Wt(mr[yr].features,tr),ar[yr].name=yr,ar[yr].version=tr.version,ar[yr].extent=tr.extent;return nr({layers:ar})},Gt.exports.GeoJSONWrapper=Wt;var hr=ot.getDefaultExportFromCjs(Gt.exports);const Tr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:mr=>mr},Xt=Math.fround||(Qt=new Float32Array(1),mr=>(Qt[0]=+mr,Qt[0]));var Qt;const lr=3,cr=5,sr=6;class dr{constructor(tr){this.options=Object.assign(Object.create(Tr),tr),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(tr){const{log:ar,minZoom:yr,maxZoom:Ar}=this.options;ar&&console.time("total time");const Dr=`prepare ${tr.length} points`;ar&&console.time(Dr),this.points=tr;const Zr=[];for(let Br=0;Br<tr.length;Br++){const en=tr[Br];if(!en.geometry)continue;const[Pn,Fn]=en.geometry.coordinates,Mn=Xt(Sr(Pn)),ho=Xt(dn(Fn));Zr.push(Mn,ho,1/0,Br,-1,1),this.options.reduce&&Zr.push(0)}let Xr=this.trees[Ar+1]=this._createTree(Zr);ar&&console.timeEnd(Dr);for(let Br=Ar;Br>=yr;Br--){const en=+Date.now();Xr=this.trees[Br]=this._createTree(this._cluster(Xr,Br)),ar&&console.log("z%d: %d clusters in %dms",Br,Xr.numItems,+Date.now()-en)}return ar&&console.timeEnd("total time"),this}getClusters(tr,ar){let yr=((tr[0]+180)%360+360)%360-180;const Ar=Math.max(-90,Math.min(90,tr[1]));let Dr=tr[2]===180?180:((tr[2]+180)%360+360)%360-180;const Zr=Math.max(-90,Math.min(90,tr[3]));if(tr[2]-tr[0]>=360)yr=-180,Dr=180;else if(yr>Dr){const Fn=this.getClusters([yr,Ar,180,Zr],ar),Mn=this.getClusters([-180,Ar,Dr,Zr],ar);return Fn.concat(Mn)}const Xr=this.trees[this._limitZoom(ar)],Br=Xr.range(Sr(yr),dn(Zr),Sr(Dr),dn(Ar)),en=Xr.data,Pn=[];for(const Fn of Br){const Mn=this.stride*Fn;Pn.push(en[Mn+cr]>1?Rr(en,Mn,this.clusterProps):this.points[en[Mn+lr]])}return Pn}getChildren(tr){const ar=this._getOriginId(tr),yr=this._getOriginZoom(tr),Ar="No cluster with the specified id.",Dr=this.trees[yr];if(!Dr)throw new Error(Ar);const Zr=Dr.data;if(ar*this.stride>=Zr.length)throw new Error(Ar);const Xr=this.options.radius/(this.options.extent*Math.pow(2,yr-1)),Br=Dr.within(Zr[ar*this.stride],Zr[ar*this.stride+1],Xr),en=[];for(const Pn of Br){const Fn=Pn*this.stride;Zr[Fn+4]===tr&&en.push(Zr[Fn+cr]>1?Rr(Zr,Fn,this.clusterProps):this.points[Zr[Fn+lr]])}if(en.length===0)throw new Error(Ar);return en}getLeaves(tr,ar,yr){const Ar=[];return this._appendLeaves(Ar,tr,ar=ar||10,yr=yr||0,0),Ar}getTile(tr,ar,yr){const Ar=this.trees[this._limitZoom(tr)],Dr=Math.pow(2,tr),{extent:Zr,radius:Xr}=this.options,Br=Xr/Zr,en=(yr-Br)/Dr,Pn=(yr+1+Br)/Dr,Fn={features:[]};return this._addTileFeatures(Ar.range((ar-Br)/Dr,en,(ar+1+Br)/Dr,Pn),Ar.data,ar,yr,Dr,Fn),ar===0&&this._addTileFeatures(Ar.range(1-Br/Dr,en,1,Pn),Ar.data,Dr,yr,Dr,Fn),ar===Dr-1&&this._addTileFeatures(Ar.range(0,en,Br/Dr,Pn),Ar.data,-1,yr,Dr,Fn),Fn.features.length?Fn:null}getClusterExpansionZoom(tr){let ar=this._getOriginZoom(tr)-1;for(;ar<=this.options.maxZoom;){const yr=this.getChildren(tr);if(ar++,yr.length!==1)break;tr=yr[0].properties.cluster_id}return ar}_appendLeaves(tr,ar,yr,Ar,Dr){const Zr=this.getChildren(ar);for(const Xr of Zr){const Br=Xr.properties;if(Br&&Br.cluster?Dr+Br.point_count<=Ar?Dr+=Br.point_count:Dr=this._appendLeaves(tr,Br.cluster_id,yr,Ar,Dr):Dr<Ar?Dr++:tr.push(Xr),tr.length===yr)break}return Dr}_createTree(tr){const ar=new ot.KDBush(tr.length/this.stride|0,this.options.nodeSize,Float32Array);for(let yr=0;yr<tr.length;yr+=this.stride)ar.add(tr[yr],tr[yr+1]);return ar.finish(),ar.data=tr,ar}_addTileFeatures(tr,ar,yr,Ar,Dr,Zr){for(const Xr of tr){const Br=Xr*this.stride,en=ar[Br+cr]>1;let Pn,Fn,Mn;if(en)Pn=jr(ar,Br,this.clusterProps),Fn=ar[Br],Mn=ar[Br+1];else{const ro=this.points[ar[Br+lr]];Pn=ro.properties;const[co,vo]=ro.geometry.coordinates;Fn=Sr(co),Mn=dn(vo)}const ho={type:1,geometry:[[Math.round(this.options.extent*(Fn*Dr-yr)),Math.round(this.options.extent*(Mn*Dr-Ar))]],tags:Pn};let mo;mo=en||this.options.generateId?ar[Br+lr]:this.points[ar[Br+lr]].id,mo!==void 0&&(ho.id=mo),Zr.features.push(ho)}}_limitZoom(tr){return Math.max(this.options.minZoom,Math.min(Math.floor(+tr),this.options.maxZoom+1))}_cluster(tr,ar){const{radius:yr,extent:Ar,reduce:Dr,minPoints:Zr}=this.options,Xr=yr/(Ar*Math.pow(2,ar)),Br=tr.data,en=[],Pn=this.stride;for(let Fn=0;Fn<Br.length;Fn+=Pn){if(Br[Fn+2]<=ar)continue;Br[Fn+2]=ar;const Mn=Br[Fn],ho=Br[Fn+1],mo=tr.within(Br[Fn],Br[Fn+1],Xr),ro=Br[Fn+cr];let co=ro;for(const vo of mo){const jo=vo*Pn;Br[jo+2]>ar&&(co+=Br[jo+cr])}if(co>ro&&co>=Zr){let vo,jo=Mn*ro,Io=ho*ro,is=-1;const Co=((Fn/Pn|0)<<5)+(ar+1)+this.points.length;for(const Uo of mo){const os=Uo*Pn;if(Br[os+2]<=ar)continue;Br[os+2]=ar;const gs=Br[os+cr];jo+=Br[os]*gs,Io+=Br[os+1]*gs,Br[os+4]=Co,Dr&&(vo||(vo=this._map(Br,Fn,!0),is=this.clusterProps.length,this.clusterProps.push(vo)),Dr(vo,this._map(Br,os)))}Br[Fn+4]=Co,en.push(jo/co,Io/co,1/0,Co,-1,co),Dr&&en.push(is)}else{for(let vo=0;vo<Pn;vo++)en.push(Br[Fn+vo]);if(co>1)for(const vo of mo){const jo=vo*Pn;if(!(Br[jo+2]<=ar)){Br[jo+2]=ar;for(let Io=0;Io<Pn;Io++)en.push(Br[jo+Io])}}}}return en}_getOriginId(tr){return tr-this.points.length>>5}_getOriginZoom(tr){return(tr-this.points.length)%32}_map(tr,ar,yr){if(tr[ar+cr]>1){const Zr=this.clusterProps[tr[ar+sr]];return yr?Object.assign({},Zr):Zr}const Ar=this.points[tr[ar+lr]].properties,Dr=this.options.map(Ar);return yr&&Dr===Ar?Object.assign({},Dr):Dr}}function Rr(mr,tr,ar){return{type:"Feature",id:mr[tr+lr],properties:jr(mr,tr,ar),geometry:{type:"Point",coordinates:[(yr=mr[tr],360*(yr-.5)),Qr(mr[tr+1])]}};var yr}function jr(mr,tr,ar){const yr=mr[tr+cr],Ar=yr>=1e4?`${Math.round(yr/1e3)}k`:yr>=1e3?Math.round(yr/100)/10+"k":yr,Dr=mr[tr+sr],Zr=Dr===-1?{}:Object.assign({},ar[Dr]);return Object.assign(Zr,{cluster:!0,cluster_id:mr[tr+lr],point_count:yr,point_count_abbreviated:Ar})}function Sr(mr){return mr/360+.5}function dn(mr){const tr=Math.sin(mr*Math.PI/180),ar=.5-.25*Math.log((1+tr)/(1-tr))/Math.PI;return ar<0?0:ar>1?1:ar}function Qr(mr){const tr=(180-360*mr)*Math.PI/180;return 360*Math.atan(Math.exp(tr))/Math.PI-90}function gn(mr,tr,ar,yr){for(var Ar,Dr=yr,Zr=ar-tr>>1,Xr=ar-tr,Br=mr[tr],en=mr[tr+1],Pn=mr[ar],Fn=mr[ar+1],Mn=tr+3;Mn<ar;Mn+=3){var ho=ln(mr[Mn],mr[Mn+1],Br,en,Pn,Fn);if(ho>Dr)Ar=Mn,Dr=ho;else if(ho===Dr){var mo=Math.abs(Mn-Zr);mo<Xr&&(Ar=Mn,Xr=mo)}}Dr>yr&&(Ar-tr>3&&gn(mr,tr,Ar,yr),mr[Ar+2]=Dr,ar-Ar>3&&gn(mr,Ar,ar,yr))}function ln(mr,tr,ar,yr,Ar,Dr){var Zr=Ar-ar,Xr=Dr-yr;if(Zr!==0||Xr!==0){var Br=((mr-ar)*Zr+(tr-yr)*Xr)/(Zr*Zr+Xr*Xr);Br>1?(ar=Ar,yr=Dr):Br>0&&(ar+=Zr*Br,yr+=Xr*Br)}return(Zr=mr-ar)*Zr+(Xr=tr-yr)*Xr}function Kr(mr,tr,ar,yr){var Ar={id:mr===void 0?null:mr,type:tr,geometry:ar,tags:yr,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Dr){var Zr=Dr.geometry,Xr=Dr.type;if(Xr==="Point"||Xr==="MultiPoint"||Xr==="LineString")cn(Dr,Zr);else if(Xr==="Polygon"||Xr==="MultiLineString")for(var Br=0;Br<Zr.length;Br++)cn(Dr,Zr[Br]);else if(Xr==="MultiPolygon")for(Br=0;Br<Zr.length;Br++)for(var en=0;en<Zr[Br].length;en++)cn(Dr,Zr[Br][en])}(Ar),Ar}function cn(mr,tr){for(var ar=0;ar<tr.length;ar+=3)mr.minX=Math.min(mr.minX,tr[ar]),mr.minY=Math.min(mr.minY,tr[ar+1]),mr.maxX=Math.max(mr.maxX,tr[ar]),mr.maxY=Math.max(mr.maxY,tr[ar+1])}function En(mr,tr,ar,yr){if(tr.geometry){var Ar=tr.geometry.coordinates,Dr=tr.geometry.type,Zr=Math.pow(ar.tolerance/((1<<ar.maxZoom)*ar.extent),2),Xr=[],Br=tr.id;if(ar.promoteId?Br=tr.properties[ar.promoteId]:ar.generateId&&(Br=yr||0),Dr==="Point")yn(Ar,Xr);else if(Dr==="MultiPoint")for(var en=0;en<Ar.length;en++)yn(Ar[en],Xr);else if(Dr==="LineString")Rn(Ar,Xr,Zr,!1);else if(Dr==="MultiLineString"){if(ar.lineMetrics){for(en=0;en<Ar.length;en++)Rn(Ar[en],Xr=[],Zr,!1),mr.push(Kr(Br,"LineString",Xr,tr.properties));return}Zn(Ar,Xr,Zr,!1)}else if(Dr==="Polygon")Zn(Ar,Xr,Zr,!0);else{if(Dr!=="MultiPolygon"){if(Dr==="GeometryCollection"){for(en=0;en<tr.geometry.geometries.length;en++)En(mr,{id:Br,geometry:tr.geometry.geometries[en],properties:tr.properties},ar,yr);return}throw new Error("Input data is not a valid GeoJSON object.")}for(en=0;en<Ar.length;en++){var Pn=[];Zn(Ar[en],Pn,Zr,!0),Xr.push(Pn)}}mr.push(Kr(Br,Dr,Xr,tr.properties))}}function yn(mr,tr){tr.push(jn(mr[0])),tr.push(so(mr[1])),tr.push(0)}function Rn(mr,tr,ar,yr){for(var Ar,Dr,Zr=0,Xr=0;Xr<mr.length;Xr++){var Br=jn(mr[Xr][0]),en=so(mr[Xr][1]);tr.push(Br),tr.push(en),tr.push(0),Xr>0&&(Zr+=yr?(Ar*en-Br*Dr)/2:Math.sqrt(Math.pow(Br-Ar,2)+Math.pow(en-Dr,2))),Ar=Br,Dr=en}var Pn=tr.length-3;tr[2]=1,gn(tr,0,Pn,ar),tr[Pn+2]=1,tr.size=Math.abs(Zr),tr.start=0,tr.end=tr.size}function Zn(mr,tr,ar,yr){for(var Ar=0;Ar<mr.length;Ar++){var Dr=[];Rn(mr[Ar],Dr,ar,yr),tr.push(Dr)}}function jn(mr){return mr/360+.5}function so(mr){var tr=Math.sin(mr*Math.PI/180),ar=.5-.25*Math.log((1+tr)/(1-tr))/Math.PI;return ar<0?0:ar>1?1:ar}function Eo(mr,tr,ar,yr,Ar,Dr,Zr,Xr){if(yr/=tr,Dr>=(ar/=tr)&&Zr<yr)return mr;if(Zr<ar||Dr>=yr)return null;for(var Br=[],en=0;en<mr.length;en++){var Pn=mr[en],Fn=Pn.geometry,Mn=Pn.type,ho=Ar===0?Pn.minX:Pn.minY,mo=Ar===0?Pn.maxX:Pn.maxY;if(ho>=ar&&mo<yr)Br.push(Pn);else if(!(mo<ar||ho>=yr)){var ro=[];if(Mn==="Point"||Mn==="MultiPoint")_i(Fn,ro,ar,yr,Ar);else if(Mn==="LineString")po(Fn,ro,ar,yr,Ar,!1,Xr.lineMetrics);else if(Mn==="MultiLineString")yo(Fn,ro,ar,yr,Ar,!1);else if(Mn==="Polygon")yo(Fn,ro,ar,yr,Ar,!0);else if(Mn==="MultiPolygon")for(var co=0;co<Fn.length;co++){var vo=[];yo(Fn[co],vo,ar,yr,Ar,!0),vo.length&&ro.push(vo)}if(ro.length){if(Xr.lineMetrics&&Mn==="LineString"){for(co=0;co<ro.length;co++)Br.push(Kr(Pn.id,Mn,ro[co],Pn.tags));continue}Mn!=="LineString"&&Mn!=="MultiLineString"||(ro.length===1?(Mn="LineString",ro=ro[0]):Mn="MultiLineString"),Mn!=="Point"&&Mn!=="MultiPoint"||(Mn=ro.length===3?"Point":"MultiPoint"),Br.push(Kr(Pn.id,Mn,ro,Pn.tags))}}}return Br.length?Br:null}function _i(mr,tr,ar,yr,Ar){for(var Dr=0;Dr<mr.length;Dr+=3){var Zr=mr[Dr+Ar];Zr>=ar&&Zr<=yr&&(tr.push(mr[Dr]),tr.push(mr[Dr+1]),tr.push(mr[Dr+2]))}}function po(mr,tr,ar,yr,Ar,Dr,Zr){for(var Xr,Br,en=Mo(mr),Pn=Ar===0?Bn:no,Fn=mr.start,Mn=0;Mn<mr.length-3;Mn+=3){var ho=mr[Mn],mo=mr[Mn+1],ro=mr[Mn+2],co=mr[Mn+3],vo=mr[Mn+4],jo=Ar===0?ho:mo,Io=Ar===0?co:vo,is=!1;Zr&&(Xr=Math.sqrt(Math.pow(ho-co,2)+Math.pow(mo-vo,2))),jo<ar?Io>ar&&(Br=Pn(en,ho,mo,co,vo,ar),Zr&&(en.start=Fn+Xr*Br)):jo>yr?Io<yr&&(Br=Pn(en,ho,mo,co,vo,yr),Zr&&(en.start=Fn+Xr*Br)):mn(en,ho,mo,ro),Io<ar&&jo>=ar&&(Br=Pn(en,ho,mo,co,vo,ar),is=!0),Io>yr&&jo<=yr&&(Br=Pn(en,ho,mo,co,vo,yr),is=!0),!Dr&&is&&(Zr&&(en.end=Fn+Xr*Br),tr.push(en),en=Mo(mr)),Zr&&(Fn+=Xr)}var Co=mr.length-3;ho=mr[Co],mo=mr[Co+1],ro=mr[Co+2],(jo=Ar===0?ho:mo)>=ar&&jo<=yr&&mn(en,ho,mo,ro),Co=en.length-3,Dr&&Co>=3&&(en[Co]!==en[0]||en[Co+1]!==en[1])&&mn(en,en[0],en[1],en[2]),en.length&&tr.push(en)}function Mo(mr){var tr=[];return tr.size=mr.size,tr.start=mr.start,tr.end=mr.end,tr}function yo(mr,tr,ar,yr,Ar,Dr){for(var Zr=0;Zr<mr.length;Zr++)po(mr[Zr],tr,ar,yr,Ar,Dr,!1)}function mn(mr,tr,ar,yr){mr.push(tr),mr.push(ar),mr.push(yr)}function Bn(mr,tr,ar,yr,Ar,Dr){var Zr=(Dr-tr)/(yr-tr);return mr.push(Dr),mr.push(ar+(Ar-ar)*Zr),mr.push(1),Zr}function no(mr,tr,ar,yr,Ar,Dr){var Zr=(Dr-ar)/(Ar-ar);return mr.push(tr+(yr-tr)*Zr),mr.push(Dr),mr.push(1),Zr}function eo(mr,tr){for(var ar=[],yr=0;yr<mr.length;yr++){var Ar,Dr=mr[yr],Zr=Dr.type;if(Zr==="Point"||Zr==="MultiPoint"||Zr==="LineString")Ar=to(Dr.geometry,tr);else if(Zr==="MultiLineString"||Zr==="Polygon"){Ar=[];for(var Xr=0;Xr<Dr.geometry.length;Xr++)Ar.push(to(Dr.geometry[Xr],tr))}else if(Zr==="MultiPolygon")for(Ar=[],Xr=0;Xr<Dr.geometry.length;Xr++){for(var Br=[],en=0;en<Dr.geometry[Xr].length;en++)Br.push(to(Dr.geometry[Xr][en],tr));Ar.push(Br)}ar.push(Kr(Dr.id,Zr,Ar,Dr.tags))}return ar}function to(mr,tr){var ar=[];ar.size=mr.size,mr.start!==void 0&&(ar.start=mr.start,ar.end=mr.end);for(var yr=0;yr<mr.length;yr+=3)ar.push(mr[yr]+tr,mr[yr+1],mr[yr+2]);return ar}function Yn(mr,tr){if(mr.transformed)return mr;var ar,yr,Ar,Dr=1<<mr.z,Zr=mr.x,Xr=mr.y;for(ar=0;ar<mr.features.length;ar++){var Br=mr.features[ar],en=Br.geometry,Pn=Br.type;if(Br.geometry=[],Pn===1)for(yr=0;yr<en.length;yr+=2)Br.geometry.push(Hr(en[yr],en[yr+1],tr,Dr,Zr,Xr));else for(yr=0;yr<en.length;yr++){var Fn=[];for(Ar=0;Ar<en[yr].length;Ar+=2)Fn.push(Hr(en[yr][Ar],en[yr][Ar+1],tr,Dr,Zr,Xr));Br.geometry.push(Fn)}}return mr.transformed=!0,mr}function Hr(mr,tr,ar,yr,Ar,Dr){return[Math.round(ar*(mr*yr-Ar)),Math.round(ar*(tr*yr-Dr))]}function tn(mr,tr,ar,yr,Ar){for(var Dr=tr===Ar.maxZoom?0:Ar.tolerance/((1<<tr)*Ar.extent),Zr={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:ar,y:yr,z:tr,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Xr=0;Xr<mr.length;Xr++){Zr.numFeatures++,fn(Zr,mr[Xr],Dr,Ar);var Br=mr[Xr].minX,en=mr[Xr].minY,Pn=mr[Xr].maxX,Fn=mr[Xr].maxY;Br<Zr.minX&&(Zr.minX=Br),en<Zr.minY&&(Zr.minY=en),Pn>Zr.maxX&&(Zr.maxX=Pn),Fn>Zr.maxY&&(Zr.maxY=Fn)}return Zr}function fn(mr,tr,ar,yr){var Ar=tr.geometry,Dr=tr.type,Zr=[];if(Dr==="Point"||Dr==="MultiPoint")for(var Xr=0;Xr<Ar.length;Xr+=3)Zr.push(Ar[Xr]),Zr.push(Ar[Xr+1]),mr.numPoints++,mr.numSimplified++;else if(Dr==="LineString")Vn(Zr,Ar,mr,ar,!1,!1);else if(Dr==="MultiLineString"||Dr==="Polygon")for(Xr=0;Xr<Ar.length;Xr++)Vn(Zr,Ar[Xr],mr,ar,Dr==="Polygon",Xr===0);else if(Dr==="MultiPolygon")for(var Br=0;Br<Ar.length;Br++){var en=Ar[Br];for(Xr=0;Xr<en.length;Xr++)Vn(Zr,en[Xr],mr,ar,!0,Xr===0)}if(Zr.length){var Pn=tr.tags||null;if(Dr==="LineString"&&yr.lineMetrics){for(var Fn in Pn={},tr.tags)Pn[Fn]=tr.tags[Fn];Pn.mapbox_clip_start=Ar.start/Ar.size,Pn.mapbox_clip_end=Ar.end/Ar.size}var Mn={geometry:Zr,type:Dr==="Polygon"||Dr==="MultiPolygon"?3:Dr==="LineString"||Dr==="MultiLineString"?2:1,tags:Pn};tr.id!==null&&(Mn.id=tr.id),mr.features.push(Mn)}}function Vn(mr,tr,ar,yr,Ar,Dr){var Zr=yr*yr;if(yr>0&&tr.size<(Ar?Zr:yr))ar.numPoints+=tr.length/3;else{for(var Xr=[],Br=0;Br<tr.length;Br+=3)(yr===0||tr[Br+2]>Zr)&&(ar.numSimplified++,Xr.push(tr[Br]),Xr.push(tr[Br+1])),ar.numPoints++;Ar&&function(en,Pn){for(var Fn=0,Mn=0,ho=en.length,mo=ho-2;Mn<ho;mo=Mn,Mn+=2)Fn+=(en[Mn]-en[mo])*(en[Mn+1]+en[mo+1]);if(Fn>0===Pn)for(Mn=0,ho=en.length;Mn<ho/2;Mn+=2){var ro=en[Mn],co=en[Mn+1];en[Mn]=en[ho-2-Mn],en[Mn+1]=en[ho-1-Mn],en[ho-2-Mn]=ro,en[ho-1-Mn]=co}}(Xr,Dr),mr.push(Xr)}}function Kn(mr,tr){var ar=(tr=this.options=function(Ar,Dr){for(var Zr in Dr)Ar[Zr]=Dr[Zr];return Ar}(Object.create(this.options),tr)).debug;if(ar&&console.time("preprocess data"),tr.maxZoom<0||tr.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(tr.promoteId&&tr.generateId)throw new Error("promoteId and generateId cannot be used together.");var yr=function(Ar,Dr){var Zr=[];if(Ar.type==="FeatureCollection")for(var Xr=0;Xr<Ar.features.length;Xr++)En(Zr,Ar.features[Xr],Dr,Xr);else En(Zr,Ar.type==="Feature"?Ar:{geometry:Ar},Dr);return Zr}(mr,tr);this.tiles={},this.tileCoords=[],ar&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",tr.indexMaxZoom,tr.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),yr=function(Ar,Dr){var Zr=Dr.buffer/Dr.extent,Xr=Ar,Br=Eo(Ar,1,-1-Zr,Zr,0,-1,2,Dr),en=Eo(Ar,1,1-Zr,2+Zr,0,-1,2,Dr);return(Br||en)&&(Xr=Eo(Ar,1,-Zr,1+Zr,0,-1,2,Dr)||[],Br&&(Xr=eo(Br,1).concat(Xr)),en&&(Xr=Xr.concat(eo(en,-1)))),Xr}(yr,tr),yr.length&&this.splitTile(yr,0,0,0),ar&&(yr.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function qr(mr,tr,ar){return 32*((1<<mr)*ar+tr)+mr}function Ur(mr,tr){const ar=mr.tileID.canonical;if(!this._geoJSONIndex)return tr(null,null);const yr=this._geoJSONIndex.getTile(ar.z,ar.x,ar.y);if(!yr)return tr(null,null);const Ar=new class{constructor(Zr){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=ot.EXTENT,this.length=Zr.length,this._features=Zr}feature(Zr){return new class{constructor(Xr){this._feature=Xr,this.extent=ot.EXTENT,this.type=Xr.type,this.properties=Xr.tags,"id"in Xr&&!isNaN(Xr.id)&&(this.id=parseInt(Xr.id,10))}loadGeometry(){if(this._feature.type===1){const Xr=[];for(const Br of this._feature.geometry)Xr.push([new ot.Point(Br[0],Br[1])]);return Xr}{const Xr=[];for(const Br of this._feature.geometry){const en=[];for(const Pn of Br)en.push(new ot.Point(Pn[0],Pn[1]));Xr.push(en)}return Xr}}toGeoJSON(Xr,Br,en){return Lt.call(this,Xr,Br,en)}}(this._features[Zr])}}(yr.features);let Dr=hr(Ar);Dr.byteOffset===0&&Dr.byteLength===Dr.buffer.byteLength||(Dr=new Uint8Array(Dr)),tr(null,{vectorTile:Ar,rawData:Dr.buffer})}Kn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Kn.prototype.splitTile=function(mr,tr,ar,yr,Ar,Dr,Zr){for(var Xr=[mr,tr,ar,yr],Br=this.options,en=Br.debug;Xr.length;){yr=Xr.pop(),ar=Xr.pop(),tr=Xr.pop(),mr=Xr.pop();var Pn=1<<tr,Fn=qr(tr,ar,yr),Mn=this.tiles[Fn];if(!Mn&&(en>1&&console.time("creation"),Mn=this.tiles[Fn]=tn(mr,tr,ar,yr,Br),this.tileCoords.push({z:tr,x:ar,y:yr}),en)){en>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",tr,ar,yr,Mn.numFeatures,Mn.numPoints,Mn.numSimplified),console.timeEnd("creation"));var ho="z"+tr;this.stats[ho]=(this.stats[ho]||0)+1,this.total++}if(Mn.source=mr,Ar){if(tr===Br.maxZoom||tr===Ar)continue;var mo=1<<Ar-tr;if(ar!==Math.floor(Dr/mo)||yr!==Math.floor(Zr/mo))continue}else if(tr===Br.indexMaxZoom||Mn.numPoints<=Br.indexMaxPoints)continue;if(Mn.source=null,mr.length!==0){en>1&&console.time("clipping");var ro,co,vo,jo,Io,is,Co=.5*Br.buffer/Br.extent,Uo=.5-Co,os=.5+Co,gs=1+Co;ro=co=vo=jo=null,Io=Eo(mr,Pn,ar-Co,ar+os,0,Mn.minX,Mn.maxX,Br),is=Eo(mr,Pn,ar+Uo,ar+gs,0,Mn.minX,Mn.maxX,Br),mr=null,Io&&(ro=Eo(Io,Pn,yr-Co,yr+os,1,Mn.minY,Mn.maxY,Br),co=Eo(Io,Pn,yr+Uo,yr+gs,1,Mn.minY,Mn.maxY,Br),Io=null),is&&(vo=Eo(is,Pn,yr-Co,yr+os,1,Mn.minY,Mn.maxY,Br),jo=Eo(is,Pn,yr+Uo,yr+gs,1,Mn.minY,Mn.maxY,Br),is=null),en>1&&console.timeEnd("clipping"),Xr.push(ro||[],tr+1,2*ar,2*yr),Xr.push(co||[],tr+1,2*ar,2*yr+1),Xr.push(vo||[],tr+1,2*ar+1,2*yr),Xr.push(jo||[],tr+1,2*ar+1,2*yr+1)}}},Kn.prototype.getTile=function(mr,tr,ar){var yr=this.options,Ar=yr.extent,Dr=yr.debug;if(mr<0||mr>24)return null;var Zr=1<<mr,Xr=qr(mr,tr=(tr%Zr+Zr)%Zr,ar);if(this.tiles[Xr])return Yn(this.tiles[Xr],Ar);Dr>1&&console.log("drilling down to z%d-%d-%d",mr,tr,ar);for(var Br,en=mr,Pn=tr,Fn=ar;!Br&&en>0;)en--,Pn=Math.floor(Pn/2),Fn=Math.floor(Fn/2),Br=this.tiles[qr(en,Pn,Fn)];return Br&&Br.source?(Dr>1&&console.log("found parent tile z%d-%d-%d",en,Pn,Fn),Dr>1&&console.time("drilling down"),this.splitTile(Br.source,en,Pn,Fn,mr,tr,ar),Dr>1&&console.timeEnd("drilling down"),this.tiles[Xr]?Yn(this.tiles[Xr],Ar):null):null};class pn extends ot.VectorTileWorkerSource{constructor(tr,ar,yr,Ar,Dr){super(tr,ar,yr,Ar,Ur),Dr&&(this.loadGeoJSON=Dr)}loadData(tr,ar){const yr=tr&&tr.request,Ar=yr&&yr.collectResourceTiming;this.loadGeoJSON(tr,(Dr,Zr)=>{if(Dr||!Zr)return ar(Dr);if(typeof Zr!="object")return ar(new Error(`Input data given to '${tr.source}' is not a valid GeoJSON object.`));{Mt(Zr,!0);try{if(tr.filter){const Br=ot.createExpression(tr.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Br.result==="error")throw new Error(Br.value.map(Pn=>`${Pn.key}: ${Pn.message}`).join(", "));Zr={type:"FeatureCollection",features:Zr.features.filter(Pn=>Br.value.evaluate({zoom:0},Pn))}}this._geoJSONIndex=tr.cluster?new dr(function({superclusterOptions:Br,clusterProperties:en}){if(!en||!Br)return Br;const Pn={},Fn={},Mn={accumulated:null,zoom:0},ho={properties:null},mo=Object.keys(en);for(const ro of mo){const[co,vo]=en[ro],jo=ot.createExpression(vo),Io=ot.createExpression(typeof co=="string"?[co,["accumulated"],["get",ro]]:co);Pn[ro]=jo.value,Fn[ro]=Io.value}return Br.map=ro=>{ho.properties=ro;const co={};for(const vo of mo)co[vo]=Pn[vo].evaluate(Mn,ho);return co},Br.reduce=(ro,co)=>{ho.properties=co;for(const vo of mo)Mn.accumulated=ro[vo],ro[vo]=Fn[vo].evaluate(Mn,ho)},Br}(tr)).load(Zr.features):function(Br,en){return new Kn(Br,en)}(Zr,tr.geojsonVtOptions)}catch(Br){return ar(Br)}this.loaded={};const Xr={};if(Ar){const Br=ot.getPerformanceMeasurement(yr);Br&&(Xr.resourceTiming={},Xr.resourceTiming[tr.source]=JSON.parse(JSON.stringify(Br)))}ar(null,Xr)}})}reloadTile(tr,ar){const yr=this.loaded;return yr&&yr[tr.uid]?super.reloadTile(tr,ar):this.loadTile(tr,ar)}loadGeoJSON(tr,ar){if(tr.request)ot.getJSON(tr.request,ar);else{if(typeof tr.data!="string")return ar(new Error(`Input data given to '${tr.source}' is not a valid GeoJSON object.`));try{return ar(null,JSON.parse(tr.data))}catch{return ar(new Error(`Input data given to '${tr.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(tr,ar){try{ar(null,this._geoJSONIndex.getClusterExpansionZoom(tr.clusterId))}catch(yr){ar(yr)}}getClusterChildren(tr,ar){try{ar(null,this._geoJSONIndex.getChildren(tr.clusterId))}catch(yr){ar(yr)}}getClusterLeaves(tr,ar){try{ar(null,this._geoJSONIndex.getLeaves(tr.clusterId,tr.limit,tr.offset))}catch(yr){ar(yr)}}}class bn{constructor(tr){this.self=tr,this.actor=new ot.Actor(tr,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=ot.getProjection({name:"mercator"}),this.workerSourceTypes={vector:ot.VectorTileWorkerSource,geojson:pn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(ar,yr)=>{if(this.workerSourceTypes[ar])throw new Error(`Worker source with name "${ar}" already registered.`);this.workerSourceTypes[ar]=yr},this.self.registerRTLTextPlugin=ar=>{if(ot.plugin.isParsed())throw new Error("RTL text plugin already registered.");ot.plugin.applyArabicShaping=ar.applyArabicShaping,ot.plugin.processBidirectionalText=ar.processBidirectionalText,ot.plugin.processStyledBidirectionalText=ar.processStyledBidirectionalText}}clearCaches(tr,ar,yr){delete this.layerIndexes[tr],delete this.availableImages[tr],delete this.workerSources[tr],delete this.demWorkerSources[tr],yr()}checkIfReady(tr,ar,yr){yr()}setReferrer(tr,ar){this.referrer=ar}spriteLoaded(tr,ar){this.isSpriteLoaded[tr]=ar;for(const yr in this.workerSources[tr]){const Ar=this.workerSources[tr][yr];for(const Dr in Ar)Ar[Dr]instanceof ot.VectorTileWorkerSource&&(Ar[Dr].isSpriteLoaded=ar,Ar[Dr].fire(new ot.Event("isSpriteLoaded")))}}setImages(tr,ar,yr){this.availableImages[tr]=ar;for(const Ar in this.workerSources[tr]){const Dr=this.workerSources[tr][Ar];for(const Zr in Dr)Dr[Zr].availableImages=ar}yr()}enableTerrain(tr,ar,yr){this.terrain=ar,yr()}setProjection(tr,ar){this.projections[tr]=ot.getProjection(ar)}setLayers(tr,ar,yr){this.getLayerIndex(tr).replace(ar),yr()}updateLayers(tr,ar,yr){this.getLayerIndex(tr).update(ar.layers,ar.removedIds),yr()}loadTile(tr,ar,yr){const Ar=this.enableTerrain?ot.extend({enableTerrain:this.terrain},ar):ar;Ar.projection=this.projections[tr]||this.defaultProjection,this.getWorkerSource(tr,ar.type,ar.source).loadTile(Ar,yr)}loadDEMTile(tr,ar,yr){const Ar=this.enableTerrain?ot.extend({buildQuadTree:this.terrain},ar):ar;this.getDEMWorkerSource(tr,ar.source).loadTile(Ar,yr)}reloadTile(tr,ar,yr){const Ar=this.enableTerrain?ot.extend({enableTerrain:this.terrain},ar):ar;Ar.projection=this.projections[tr]||this.defaultProjection,this.getWorkerSource(tr,ar.type,ar.source).reloadTile(Ar,yr)}abortTile(tr,ar,yr){this.getWorkerSource(tr,ar.type,ar.source).abortTile(ar,yr)}removeTile(tr,ar,yr){this.getWorkerSource(tr,ar.type,ar.source).removeTile(ar,yr)}removeSource(tr,ar,yr){if(!this.workerSources[tr]||!this.workerSources[tr][ar.type]||!this.workerSources[tr][ar.type][ar.source])return;const Ar=this.workerSources[tr][ar.type][ar.source];delete this.workerSources[tr][ar.type][ar.source],Ar.removeSource!==void 0?Ar.removeSource(ar,yr):yr()}loadWorkerSource(tr,ar,yr){try{this.self.importScripts(ar.url),yr()}catch(Ar){yr(Ar.toString())}}syncRTLPluginState(tr,ar,yr){try{ot.plugin.setState(ar);const Ar=ot.plugin.getPluginURL();if(ot.plugin.isLoaded()&&!ot.plugin.isParsed()&&Ar!=null){this.self.importScripts(Ar);const Dr=ot.plugin.isParsed();yr(Dr?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Ar}`),Dr)}}catch(Ar){yr(Ar.toString())}}getAvailableImages(tr){let ar=this.availableImages[tr];return ar||(ar=[]),ar}getLayerIndex(tr){let ar=this.layerIndexes[tr];return ar||(ar=this.layerIndexes[tr]=new Et),ar}getWorkerSource(tr,ar,yr){if(this.workerSources[tr]||(this.workerSources[tr]={}),this.workerSources[tr][ar]||(this.workerSources[tr][ar]={}),!this.workerSources[tr][ar][yr]){const Ar={send:(Dr,Zr,Xr,Br,en,Pn)=>{this.actor.send(Dr,Zr,Xr,tr,en,Pn)},scheduler:this.actor.scheduler};this.workerSources[tr][ar][yr]=new this.workerSourceTypes[ar](Ar,this.getLayerIndex(tr),this.getAvailableImages(tr),this.isSpriteLoaded[tr])}return this.workerSources[tr][ar][yr]}getDEMWorkerSource(tr,ar){return this.demWorkerSources[tr]||(this.demWorkerSources[tr]={}),this.demWorkerSources[tr][ar]||(this.demWorkerSources[tr][ar]=new At),this.demWorkerSources[tr][ar]}enforceCacheSizeLimit(tr,ar){ot.enforceCacheSizeLimit(ar)}getWorkerPerformanceMetrics(tr,ar,yr){yr(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new bn(self)),bn}),lt(["./shared"],function(ot){function mt(gt,ut){if(Array.isArray(gt)){if(!Array.isArray(ut)||gt.length!==ut.length)return!1;for(let ft=0;ft<gt.length;ft++)if(!mt(gt[ft],ut[ft]))return!1;return!0}if(typeof gt=="object"&&gt!==null&&ut!==null){if(typeof ut!="object"||Object.keys(gt).length!==Object.keys(ut).length)return!1;for(const ft in gt)if(!mt(gt[ft],ut[ft]))return!1;return!0}return gt===ut}var xt=Et;function Et(gt){return!function(ut){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var vt,wt,Ct=new Blob([""],{type:"text/javascript"}),Dt=URL.createObjectURL(Ct);try{wt=new Worker(Dt),vt=!0}catch{vt=!1}return wt&&wt.terminate(),URL.revokeObjectURL(Dt),vt}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var vt=document.createElement("canvas");vt.width=vt.height=1;var wt=vt.getContext("2d");if(!wt)return!1;var Ct=wt.getImageData(0,0,1,1);return Ct&&Ct.width===vt.width}()?(At[ft=ut&&ut.failIfMajorPerformanceCaveat]===void 0&&(At[ft]=function(vt){var wt,Ct=function(Dt){var zt=document.createElement("canvas"),Nt=Object.create(Et.webGLContextAttributes);return Nt.failIfMajorPerformanceCaveat=Dt,zt.getContext("webgl",Nt)||zt.getContext("experimental-webgl",Nt)}(vt);if(!Ct)return!1;try{wt=Ct.createShader(Ct.VERTEX_SHADER)}catch{return!1}return!(!wt||Ct.isContextLost())&&(Ct.shaderSource(wt,"void main() {}"),Ct.compileShader(wt),Ct.getShaderParameter(wt,Ct.COMPILE_STATUS)===!0)}(ft)),At[ft]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var ft}(gt)}var At={};function Tt(gt,ut,ft){const vt=ot.window.document.createElement(gt);return ut!==void 0&&(vt.className=ut),ft&&ft.appendChild(vt),vt}function Ft(gt,ut,ft){const vt=ot.window.document.createElementNS("http://www.w3.org/2000/svg",gt);for(const wt of Object.keys(ut))vt.setAttributeNS(null,wt,ut[wt]);return ft&&ft.appendChild(vt),vt}Et.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const Mt=ot.window.document&&ot.window.document.documentElement.style,Lt=Mt&&Mt.userSelect!==void 0?"userSelect":"WebkitUserSelect";let Gt;function Pt(){Mt&&Lt&&(Gt=Mt[Lt],Mt[Lt]="none")}function $t(){Mt&&Lt&&(Mt[Lt]=Gt)}function It(gt){gt.preventDefault(),gt.stopPropagation(),ot.window.removeEventListener("click",It,!0)}function Ot(){ot.window.addEventListener("click",It,!0),ot.window.setTimeout(()=>{ot.window.removeEventListener("click",It,!0)},0)}function Vt(gt,ut){const ft=gt.getBoundingClientRect();return nr(gt,ft,ut)}function Ut(gt,ut){const ft=gt.getBoundingClientRect(),vt=[];for(let wt=0;wt<ut.length;wt++)vt.push(nr(gt,ft,ut[wt]));return vt}function Wt(gt){return ot.window.InstallTrigger!==void 0&&gt.button===2&&gt.ctrlKey&&ot.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:gt.button}function nr(gt,ut,ft){const vt=gt.offsetWidth===ut.width?1:gt.offsetWidth/ut.width;return new ot.Point((ft.clientX-ut.left)*vt,(ft.clientY-ut.top)*vt)}function er(gt,ut){var ft=ut[0],vt=ut[1],wt=ut[2],Ct=ut[3],Dt=ft*Ct-wt*vt;return Dt?(gt[0]=Ct*(Dt=1/Dt),gt[1]=-vt*Dt,gt[2]=-wt*Dt,gt[3]=ft*Dt,gt):null}function Kt(gt){const{userImage:ut}=gt;return!!(ut&&ut.render&&ut.render())&&(gt.data.replace(new Uint8Array(ut.data.buffer)),!0)}class ur extends ot.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new ot.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(ut){if(this.loaded!==ut&&(this.loaded=ut,ut)){for(const{ids:ft,callback:vt}of this.requestors)this._notify(ft,vt);this.requestors=[]}}hasImage(ut){return!!this.getImage(ut)}getImage(ut){return this.images[ut]}addImage(ut,ft){this._validate(ut,ft)&&(this.images[ut]=ft)}_validate(ut,ft){let vt=!0;return this._validateStretch(ft.stretchX,ft.data&&ft.data.width)||(this.fire(new ot.ErrorEvent(new Error(`Image "${ut}" has invalid "stretchX" value`))),vt=!1),this._validateStretch(ft.stretchY,ft.data&&ft.data.height)||(this.fire(new ot.ErrorEvent(new Error(`Image "${ut}" has invalid "stretchY" value`))),vt=!1),this._validateContent(ft.content,ft)||(this.fire(new ot.ErrorEvent(new Error(`Image "${ut}" has invalid "content" value`))),vt=!1),vt}_validateStretch(ut,ft){if(!ut)return!0;let vt=0;for(const wt of ut){if(wt[0]<vt||wt[1]<wt[0]||ft<wt[1])return!1;vt=wt[1]}return!0}_validateContent(ut,ft){return!(ut&&(ut.length!==4||ut[0]<0||ft.data.width<ut[0]||ut[1]<0||ft.data.height<ut[1]||ut[2]<0||ft.data.width<ut[2]||ut[3]<0||ft.data.height<ut[3]||ut[2]<ut[0]||ut[3]<ut[1]))}updateImage(ut,ft){ft.version=this.images[ut].version+1,this.images[ut]=ft,this.updatedImages[ut]=!0}removeImage(ut){const ft=this.images[ut];delete this.images[ut],delete this.patterns[ut],ft.userImage&&ft.userImage.onRemove&&ft.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(ut,ft){let vt=!0;if(!this.isLoaded())for(const wt of ut)this.images[wt]||(vt=!1);this.isLoaded()||vt?this._notify(ut,ft):this.requestors.push({ids:ut,callback:ft})}_notify(ut,ft){const vt={};for(const wt of ut){this.images[wt]||this.fire(new ot.Event("styleimagemissing",{id:wt}));const Ct=this.images[wt];Ct?vt[wt]={data:Ct.data.clone(),pixelRatio:Ct.pixelRatio,sdf:Ct.sdf,version:Ct.version,stretchX:Ct.stretchX,stretchY:Ct.stretchY,content:Ct.content,hasRenderCallback:!!(Ct.userImage&&Ct.userImage.render)}:ot.warnOnce(`Image "${wt}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}ft(null,vt)}getPixelSize(){const{width:ut,height:ft}=this.atlasImage;return{width:ut,height:ft}}getPattern(ut){const ft=this.patterns[ut],vt=this.getImage(ut);if(!vt)return null;if(ft&&ft.position.version===vt.version)return ft.position;if(ft)ft.position.version=vt.version;else{const wt={w:vt.data.width+2,h:vt.data.height+2,x:0,y:0},Ct=new ot.ImagePosition(wt,vt);this.patterns[ut]={bin:wt,position:Ct}}return this._updatePatternAtlas(),this.patterns[ut].position}bind(ut){const ft=ut.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ot.Texture(ut,this.atlasImage,ft.RGBA),this.atlasTexture&&this.atlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE)}_updatePatternAtlas(){const ut=[];for(const Ct in this.patterns)ut.push(this.patterns[Ct].bin);const{w:ft,h:vt}=ot.potpack(ut),wt=this.atlasImage;wt.resize({width:ft||1,height:vt||1});for(const Ct in this.patterns){const{bin:Dt}=this.patterns[Ct],zt=Dt.x+1,Nt=Dt.y+1,Zt=this.images[Ct].data,qt=Zt.width,rr=Zt.height;ot.RGBAImage.copy(Zt,wt,{x:0,y:0},{x:zt,y:Nt},{width:qt,height:rr}),ot.RGBAImage.copy(Zt,wt,{x:0,y:rr-1},{x:zt,y:Nt-1},{width:qt,height:1}),ot.RGBAImage.copy(Zt,wt,{x:0,y:0},{x:zt,y:Nt+rr},{width:qt,height:1}),ot.RGBAImage.copy(Zt,wt,{x:qt-1,y:0},{x:zt-1,y:Nt},{width:1,height:rr}),ot.RGBAImage.copy(Zt,wt,{x:0,y:0},{x:zt+qt,y:Nt},{width:1,height:rr})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(ut){for(const ft of ut){if(this.callbackDispatchedThisFrame[ft])continue;this.callbackDispatchedThisFrame[ft]=!0;const vt=this.images[ft];Kt(vt)&&this.updateImage(ft,vt)}}}const vr=new ot.Properties({anchor:new ot.DataConstantProperty(ot.spec.light.anchor),position:new class{constructor(){this.specification=ot.spec.light.position}possiblyEvaluate(gt,ut){return function([ft,vt,wt]){const Ct=ot.degToRad(vt+90),Dt=ot.degToRad(wt);return{x:ft*Math.cos(Ct)*Math.sin(Dt),y:ft*Math.sin(Ct)*Math.sin(Dt),z:ft*Math.cos(Dt),azimuthal:vt,polar:wt}}(gt.expression.evaluate(ut))}interpolate(gt,ut,ft){return{x:ot.number(gt.x,ut.x,ft),y:ot.number(gt.y,ut.y,ft),z:ot.number(gt.z,ut.z,ft),azimuthal:ot.number(gt.azimuthal,ut.azimuthal,ft),polar:ot.number(gt.polar,ut.polar,ft)}}},color:new ot.DataConstantProperty(ot.spec.light.color),intensity:new ot.DataConstantProperty(ot.spec.light.intensity)});class Lr extends ot.Evented{constructor(ut){super(),this._transitionable=new ot.Transitionable(vr),this.setLight(ut),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(ut,ft={}){if(!this._validate(ot.validateLight,ut,ft))for(const vt in ut){const wt=ut[vt];ot.endsWith(vt,"-transition")?this._transitionable.setTransition(vt.slice(0,-11),wt):this._transitionable.setValue(vt,wt)}}updateTransitions(ut){this._transitioning=this._transitionable.transitioned(ut,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(ut){this.properties=this._transitioning.possiblyEvaluate(ut)}_validate(ut,ft,vt){return(!vt||vt.validate!==!1)&&ot.emitValidationErrors(this,ut.call(ot.validateStyle,ot.extend({value:ft,style:{glyphs:!0,sprite:!0},styleSpec:ot.spec})))}}const Er=new ot.Properties({source:new ot.DataConstantProperty(ot.spec.terrain.source),exaggeration:new ot.DataConstantProperty(ot.spec.terrain.exaggeration)});let Cr=class extends ot.Evented{constructor(gt,ut){super(),this._transitionable=new ot.Transitionable(Er),this.set(gt),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=ut}get(){return this._transitionable.serialize()}set(gt){for(const ut in gt){const ft=gt[ut];ot.endsWith(ut,"-transition")?this._transitionable.setTransition(ut.slice(0,-11),ft):this._transitionable.setValue(ut,ft)}}updateTransitions(gt){this._transitioning=this._transitionable.transitioned(gt,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(gt){this.properties=this._transitioning.possiblyEvaluate(gt)}};function hr(gt,ut,ft,vt){const wt=ot.smoothstep(45,65,ft),[Ct,Dt]=Tr(gt,vt),zt=ot.length(ut);let Nt=1-Math.min(1,Math.exp((zt-Ct)/(Dt-Ct)*-6));return Nt*=Nt*Nt,Nt=Math.min(1,1.00747*Nt),Nt*wt*gt.alpha}function Tr(gt,ut){const ft=.5/Math.tan(.5*ut);return[gt.range[0]+ft,gt.range[1]+ft]}const Xt=new ot.Properties({range:new ot.DataConstantProperty(ot.spec.fog.range),color:new ot.DataConstantProperty(ot.spec.fog.color),"high-color":new ot.DataConstantProperty(ot.spec.fog["high-color"]),"space-color":new ot.DataConstantProperty(ot.spec.fog["space-color"]),"horizon-blend":new ot.DataConstantProperty(ot.spec.fog["horizon-blend"]),"star-intensity":new ot.DataConstantProperty(ot.spec.fog["star-intensity"])});class Qt extends ot.Evented{constructor(ut,ft){super(),this._transitionable=new ot.Transitionable(Xt),this.set(ut),this._transitioning=this._transitionable.untransitioned(),this._transform=ft}get state(){const ut=this._transform,ft=ut.projection.name==="globe",vt=ot.globeToMercatorTransition(ut.zoom),wt=this.properties.get("range"),Ct=[.5,3];return{range:ft?[ot.number(Ct[0],wt[0],vt),ot.number(Ct[1],wt[1],vt)]:wt,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(ut,ft={}){if(!this._validate(ot.validateFog,ut,ft)){for(const vt of Object.keys(ot.spec.fog))ut&&ut[vt]===void 0&&(ut[vt]=ot.spec.fog[vt].default);for(const vt in ut){const wt=ut[vt];ot.endsWith(vt,"-transition")?this._transitionable.setTransition(vt.slice(0,-11),wt):this._transitionable.setValue(vt,wt)}}}getOpacity(ut){if(!this._transform.projection.supportsFog)return 0;const ft=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:ot.smoothstep(45,65,ut))*ft.a}getOpacityAtLatLng(ut,ft){return this._transform.projection.supportsFog?function(vt,wt,Ct){const Dt=ot.MercatorCoordinate.fromLngLat(wt),zt=Ct.elevation?Ct.elevation.getAtPointOrZero(Dt):0,Nt=[Dt.x,Dt.y,zt];return ot.transformMat4(Nt,Nt,Ct.mercatorFogMatrix),hr(vt,Nt,Ct.pitch,Ct._fov)}(this.state,ut,ft):0}getFovAdjustedRange(ut){return this._transform.projection.supportsFog?Tr(this.state,ut):[0,1]}updateTransitions(ut){this._transitioning=this._transitionable.transitioned(ut,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(ut){this.properties=this._transitioning.possiblyEvaluate(ut)}_validate(ut,ft,vt){return(!vt||vt.validate!==!1)&&ot.emitValidationErrors(this,ut.call(ot.validateStyle,ot.extend({value:ft,style:{glyphs:!0,sprite:!0},styleSpec:ot.spec})))}}class lr{constructor(ut,ft){this.workerPool=ut,this.actors=[],this.currentActor=0,this.id=ot.uniqueId();const vt=this.workerPool.acquire(this.id);for(let wt=0;wt<vt.length;wt++){const Ct=new lr.Actor(vt[wt],ft,this.id);Ct.name=`Worker ${wt}`,this.actors.push(Ct)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(ut,ft,vt){ot.asyncAll(this.actors,(wt,Ct)=>{wt.send(ut,ft,Ct)},vt=vt||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(ut=>{ut.remove()}),this.actors=[],this.workerPool.release(this.id)}}function cr(gt,ut,ft){return ut*(ot.EXTENT/(gt.tileSize*Math.pow(2,ft-gt.tileID.overscaledZ)))}lr.Actor=ot.Actor;class sr{constructor(ut,ft,vt,wt){this.screenBounds=ut,this.cameraPoint=ft,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=vt,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,wt)}static createFromScreenPoints(ut,ft){let vt,wt;if(ut instanceof ot.Point||typeof ut[0]=="number"){const Ct=ot.Point.convert(ut);vt=[Ct],wt=ft.isPointAboveHorizon(Ct)}else{const Ct=ot.Point.convert(ut[0]),Dt=ot.Point.convert(ut[1]);vt=[Ct,Dt],wt=ot.polygonizeBounds(Ct,Dt).every(zt=>ft.isPointAboveHorizon(zt))}return new sr(vt,ft.getCameraPoint(),wt,ft)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(ut){return ot.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],ut)}bufferedCameraGeometry(ut){const ft=this.screenBounds[0],vt=this.screenBounds.length===1?this.screenBounds[0].add(new ot.Point(1,1)):this.screenBounds[1],wt=ot.polygonizeBounds(ft,vt,0,!1);return this.cameraPoint.y>vt.y&&(this.cameraPoint.x>ft.x&&this.cameraPoint.x<vt.x?wt.splice(3,0,this.cameraPoint):this.cameraPoint.x>=vt.x?wt[2]=this.cameraPoint:this.cameraPoint.x<=ft.x&&(wt[3]=this.cameraPoint)),ot.bufferConvexPolygon(wt,ut)}bufferedCameraGeometryGlobe(ut){const ft=this.screenBounds[0],vt=this.screenBounds.length===1?this.screenBounds[0].add(new ot.Point(1,1)):this.screenBounds[1],wt=ot.polygonizeBounds(ft,vt,ut),Ct=this.cameraPoint.clone();switch(3*((Ct.y>ft.y)+(Ct.y>vt.y))+((Ct.x>ft.x)+(Ct.x>vt.x))){case 0:wt[0]=Ct,wt[4]=Ct.clone();break;case 1:wt.splice(1,0,Ct);break;case 2:wt[1]=Ct;break;case 3:wt.splice(4,0,Ct);break;case 5:wt.splice(2,0,Ct);break;case 6:wt[3]=Ct;break;case 7:wt.splice(3,0,Ct);break;case 8:wt[2]=Ct}return wt}containsTile(ut,ft,vt,wt=0){const Ct=ut.queryPadding/ft._pixelsPerMercatorPixel+1,Dt=vt?this._bufferedCameraMercator(Ct,ft):this._bufferedScreenMercator(Ct,ft);let zt=ut.tileID.wrap+(Dt.unwrapped?wt:0);const Nt=Dt.polygon.map(Pr=>ot.getTilePoint(ut.tileTransform,Pr,zt));if(!ot.polygonIntersectsBox(Nt,0,0,ot.EXTENT,ot.EXTENT))return;zt=ut.tileID.wrap+(this.screenGeometryMercator.unwrapped?wt:0);const Zt=this.screenGeometryMercator.polygon.map(Pr=>ot.getTileVec3(ut.tileTransform,Pr,zt)),qt=Zt.map(Pr=>new ot.Point(Pr[0],Pr[1])),rr=ft.getFreeCameraOptions().position||new ot.MercatorCoordinate(0,0,0),pr=ot.getTileVec3(ut.tileTransform,rr,zt),xr=Zt.map(Pr=>{const ir=ot.sub(Pr,Pr,pr);return ot.normalize(ir,ir),new ot.Ray(pr,ir)}),wr=cr(ut,1,ft.zoom)*ft._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:qt,tilespaceRays:xr,bufferedTilespaceGeometry:Nt,bufferedTilespaceBounds:(br=ot.getBounds(Nt),br.min.x=ot.clamp(br.min.x,0,ot.EXTENT),br.min.y=ot.clamp(br.min.y,0,ot.EXTENT),br.max.x=ot.clamp(br.max.x,0,ot.EXTENT),br.max.y=ot.clamp(br.max.y,0,ot.EXTENT),br),tile:ut,tileID:ut.tileID,pixelToTileUnitsFactor:wr};var br}_bufferedScreenMercator(ut,ft){const vt=jr(ut);if(this._screenRaycastCache[vt])return this._screenRaycastCache[vt];{let wt;return wt=ft.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(ut),ft):{polygon:this.bufferedScreenGeometry(ut).map(Ct=>ft.pointCoordinate3D(Ct)),unwrapped:!0},this._screenRaycastCache[vt]=wt,wt}}_bufferedCameraMercator(ut,ft){const vt=jr(ut);if(this._cameraRaycastCache[vt])return this._cameraRaycastCache[vt];{let wt;return wt=ft.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(ut),ft):{polygon:this.bufferedCameraGeometry(ut).map(Ct=>ft.pointCoordinate3D(Ct)),unwrapped:!0},this._cameraRaycastCache[vt]=wt,wt}}_projectAndResample(ut,ft){const vt=function(Ct,Dt){const zt=ot.multiply([],Dt.pixelMatrix,Dt.globeMatrix),Nt=[0,-ot.GLOBE_RADIUS,0,1],Zt=[0,ot.GLOBE_RADIUS,0,1],qt=[0,0,0,1];ot.transformMat4$1(Nt,Nt,zt),ot.transformMat4$1(Zt,Zt,zt),ot.transformMat4$1(qt,qt,zt);const rr=new ot.Point(Nt[0]/Nt[3],Nt[1]/Nt[3]),pr=new ot.Point(Zt[0]/Zt[3],Zt[1]/Zt[3]),xr=ot.polygonContainsPoint(Ct,rr)&&Nt[3]<qt[3],wr=ot.polygonContainsPoint(Ct,pr)&&Zt[3]<qt[3];if(!xr&&!wr)return null;const br=function(Gr,Jr,Yr){for(let an=1;an<Gr.length;an++){const In=Rr(Jr.pointCoordinate3D(Gr[an-1]).x),rn=Rr(Jr.pointCoordinate3D(Gr[an]).x);if(Yr<0){if(In<rn)return{idx:an,t:-In/(rn-1-In)}}else if(rn<In)return{idx:an,t:(1-In)/(rn+1-In)}}return null}(Ct,Dt,xr?-1:1);if(!br)return null;const{idx:Pr,t:ir}=br;let _r=Pr>1?dr(Ct.slice(0,Pr),Dt):[],$r=Pr<Ct.length?dr(Ct.slice(Pr),Dt):[];_r=_r.map(Gr=>new ot.Point(Rr(Gr.x),Gr.y)),$r=$r.map(Gr=>new ot.Point(Rr(Gr.x),Gr.y));const Ir=[..._r];Ir.length===0&&Ir.push($r[$r.length-1]);const Vr=ot.number(Ir[Ir.length-1].y,($r.length===0?_r[0]:$r[0]).y,ir);let Wr;return Wr=xr?[new ot.Point(0,Vr),new ot.Point(0,0),new ot.Point(1,0),new ot.Point(1,Vr)]:[new ot.Point(1,Vr),new ot.Point(1,1),new ot.Point(0,1),new ot.Point(0,Vr)],Ir.push(...Wr),$r.length===0?Ir.push(_r[0]):Ir.push(...$r),{polygon:Ir.map(Gr=>new ot.MercatorCoordinate(Gr.x,Gr.y)),unwrapped:!1}}(ut,ft);if(vt)return vt;const wt=function(Ct,Dt){let zt=!1,Nt=-1/0,Zt=0;for(let rr=0;rr<Ct.length-1;rr++)Ct[rr].x>Nt&&(Nt=Ct[rr].x,Zt=rr);for(let rr=0;rr<Ct.length-1;rr++){const pr=(Zt+rr)%(Ct.length-1),xr=Ct[pr],wr=Ct[pr+1];Math.abs(xr.x-wr.x)>.5&&(xr.x<wr.x?(xr.x+=1,pr===0&&(Ct[Ct.length-1].x+=1)):(wr.x+=1,pr+1===Ct.length-1&&(Ct[0].x+=1)),zt=!0)}const qt=ot.mercatorXfromLng(Dt.center.lng);return zt&&qt<Math.abs(qt-1)&&Ct.forEach(rr=>{rr.x-=1}),{polygon:Ct,unwrapped:zt}}(dr(ut,ft).map(Ct=>new ot.Point(Rr(Ct.x),Ct.y)),ft);return{polygon:wt.polygon.map(Ct=>new ot.MercatorCoordinate(Ct.x,Ct.y)),unwrapped:wt.unwrapped}}}function dr(gt,ut){return ot.resample(gt,ft=>{const vt=ut.pointCoordinate3D(ft);ft.x=vt.x,ft.y=vt.y},1/256)}function Rr(gt){return gt<0?1+gt%1:gt%1}function jr(gt){return 100*gt|0}function Sr(gt,ut,ft,vt,wt){const Ct=function(Dt,zt){if(Dt)return wt(Dt);if(zt){gt.url&&zt.tiles&&gt.tiles&&delete gt.tiles;const Nt=ot.pick(ot.extend(zt,gt),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);zt.vector_layers&&(Nt.vectorLayers=zt.vector_layers,Nt.vectorLayerIds=Nt.vectorLayers.map(Zt=>Zt.id)),Nt.tiles=ut.canonicalizeTileset(Nt,gt.url),wt(null,Nt)}};return gt.url?ot.getJSON(ut.transformRequest(ut.normalizeSourceURL(gt.url,null,ft,vt),ot.ResourceType.Source),Ct):ot.exported.frame(()=>Ct(null,gt))}class dn{constructor(ut,ft,vt){this.bounds=ot.LngLatBounds.convert(this.validateBounds(ut)),this.minzoom=ft||0,this.maxzoom=vt||24}validateBounds(ut){return Array.isArray(ut)&&ut.length===4?[Math.max(-180,ut[0]),Math.max(-90,ut[1]),Math.min(180,ut[2]),Math.min(90,ut[3])]:[-180,-90,180,90]}contains(ut){const ft=Math.pow(2,ut.z),vt=Math.floor(ot.mercatorXfromLng(this.bounds.getWest())*ft),wt=Math.floor(ot.mercatorYfromLat(this.bounds.getNorth())*ft),Ct=Math.ceil(ot.mercatorXfromLng(this.bounds.getEast())*ft),Dt=Math.ceil(ot.mercatorYfromLat(this.bounds.getSouth())*ft);return ut.x>=vt&&ut.x<Ct&&ut.y>=wt&&ut.y<Dt}}class Qr{constructor(ut,ft,vt){this.context=ut;const wt=ut.gl;this.buffer=wt.createBuffer(),this.dynamicDraw=!!vt,this.context.unbindVAO(),ut.bindElementBuffer.set(this.buffer),wt.bufferData(wt.ELEMENT_ARRAY_BUFFER,ft.arrayBuffer,this.dynamicDraw?wt.DYNAMIC_DRAW:wt.STATIC_DRAW),this.dynamicDraw||ft.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(ut){const ft=this.context.gl;this.context.unbindVAO(),this.bind(),ft.bufferSubData(ft.ELEMENT_ARRAY_BUFFER,0,ut.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const gn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class ln{constructor(ut,ft,vt,wt){this.length=ft.length,this.attributes=vt,this.itemSize=ft.bytesPerElement,this.dynamicDraw=wt,this.context=ut;const Ct=ut.gl;this.buffer=Ct.createBuffer(),ut.bindVertexBuffer.set(this.buffer),Ct.bufferData(Ct.ARRAY_BUFFER,ft.arrayBuffer,this.dynamicDraw?Ct.DYNAMIC_DRAW:Ct.STATIC_DRAW),this.dynamicDraw||ft.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(ut){const ft=this.context.gl;this.bind(),ft.bufferSubData(ft.ARRAY_BUFFER,0,ut.arrayBuffer)}enableAttributes(ut,ft){for(let vt=0;vt<this.attributes.length;vt++){const wt=ft.attributes[this.attributes[vt].name];wt!==void 0&&ut.enableVertexAttribArray(wt)}}setVertexAttribPointers(ut,ft,vt){for(let wt=0;wt<this.attributes.length;wt++){const Ct=this.attributes[wt],Dt=ft.attributes[Ct.name];Dt!==void 0&&ut.vertexAttribPointer(Dt,Ct.components,ut[gn[Ct.type]],!1,this.itemSize,Ct.offset+this.itemSize*(vt||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Kr{constructor(ut){this.gl=ut.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(ut){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class cn extends Kr{getDefault(){return ot.Color.transparent}set(ut){const ft=this.current;(ut.r!==ft.r||ut.g!==ft.g||ut.b!==ft.b||ut.a!==ft.a||this.dirty)&&(this.gl.clearColor(ut.r,ut.g,ut.b,ut.a),this.current=ut,this.dirty=!1)}}class En extends Kr{getDefault(){return 1}set(ut){(ut!==this.current||this.dirty)&&(this.gl.clearDepth(ut),this.current=ut,this.dirty=!1)}}class yn extends Kr{getDefault(){return 0}set(ut){(ut!==this.current||this.dirty)&&(this.gl.clearStencil(ut),this.current=ut,this.dirty=!1)}}class Rn extends Kr{getDefault(){return[!0,!0,!0,!0]}set(ut){const ft=this.current;(ut[0]!==ft[0]||ut[1]!==ft[1]||ut[2]!==ft[2]||ut[3]!==ft[3]||this.dirty)&&(this.gl.colorMask(ut[0],ut[1],ut[2],ut[3]),this.current=ut,this.dirty=!1)}}class Zn extends Kr{getDefault(){return!0}set(ut){(ut!==this.current||this.dirty)&&(this.gl.depthMask(ut),this.current=ut,this.dirty=!1)}}class jn extends Kr{getDefault(){return 255}set(ut){(ut!==this.current||this.dirty)&&(this.gl.stencilMask(ut),this.current=ut,this.dirty=!1)}}class so extends Kr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(ut){const ft=this.current;(ut.func!==ft.func||ut.ref!==ft.ref||ut.mask!==ft.mask||this.dirty)&&(this.gl.stencilFunc(ut.func,ut.ref,ut.mask),this.current=ut,this.dirty=!1)}}class Eo extends Kr{getDefault(){const ut=this.gl;return[ut.KEEP,ut.KEEP,ut.KEEP]}set(ut){const ft=this.current;(ut[0]!==ft[0]||ut[1]!==ft[1]||ut[2]!==ft[2]||this.dirty)&&(this.gl.stencilOp(ut[0],ut[1],ut[2]),this.current=ut,this.dirty=!1)}}class _i extends Kr{getDefault(){return!1}set(ut){if(ut===this.current&&!this.dirty)return;const ft=this.gl;ut?ft.enable(ft.STENCIL_TEST):ft.disable(ft.STENCIL_TEST),this.current=ut,this.dirty=!1}}class po extends Kr{getDefault(){return[0,1]}set(ut){const ft=this.current;(ut[0]!==ft[0]||ut[1]!==ft[1]||this.dirty)&&(this.gl.depthRange(ut[0],ut[1]),this.current=ut,this.dirty=!1)}}class Mo extends Kr{getDefault(){return!1}set(ut){if(ut===this.current&&!this.dirty)return;const ft=this.gl;ut?ft.enable(ft.DEPTH_TEST):ft.disable(ft.DEPTH_TEST),this.current=ut,this.dirty=!1}}class yo extends Kr{getDefault(){return this.gl.LESS}set(ut){(ut!==this.current||this.dirty)&&(this.gl.depthFunc(ut),this.current=ut,this.dirty=!1)}}class mn extends Kr{getDefault(){return!1}set(ut){if(ut===this.current&&!this.dirty)return;const ft=this.gl;ut?ft.enable(ft.BLEND):ft.disable(ft.BLEND),this.current=ut,this.dirty=!1}}class Bn extends Kr{getDefault(){const ut=this.gl;return[ut.ONE,ut.ZERO]}set(ut){const ft=this.current;(ut[0]!==ft[0]||ut[1]!==ft[1]||this.dirty)&&(this.gl.blendFunc(ut[0],ut[1]),this.current=ut,this.dirty=!1)}}class no extends Kr{getDefault(){return ot.Color.transparent}set(ut){const ft=this.current;(ut.r!==ft.r||ut.g!==ft.g||ut.b!==ft.b||ut.a!==ft.a||this.dirty)&&(this.gl.blendColor(ut.r,ut.g,ut.b,ut.a),this.current=ut,this.dirty=!1)}}class eo extends Kr{getDefault(){return this.gl.FUNC_ADD}set(ut){(ut!==this.current||this.dirty)&&(this.gl.blendEquation(ut),this.current=ut,this.dirty=!1)}}class to extends Kr{getDefault(){return!1}set(ut){if(ut===this.current&&!this.dirty)return;const ft=this.gl;ut?ft.enable(ft.CULL_FACE):ft.disable(ft.CULL_FACE),this.current=ut,this.dirty=!1}}class Yn extends Kr{getDefault(){return this.gl.BACK}set(ut){(ut!==this.current||this.dirty)&&(this.gl.cullFace(ut),this.current=ut,this.dirty=!1)}}class Hr extends Kr{getDefault(){return this.gl.CCW}set(ut){(ut!==this.current||this.dirty)&&(this.gl.frontFace(ut),this.current=ut,this.dirty=!1)}}let tn,fn=class extends Kr{getDefault(){return null}set(gt){(gt!==this.current||this.dirty)&&(this.gl.useProgram(gt),this.current=gt,this.dirty=!1)}};class Vn extends Kr{getDefault(){return this.gl.TEXTURE0}set(ut){(ut!==this.current||this.dirty)&&(this.gl.activeTexture(ut),this.current=ut,this.dirty=!1)}}class Kn extends Kr{getDefault(){const ut=this.gl;return[0,0,ut.drawingBufferWidth,ut.drawingBufferHeight]}set(ut){const ft=this.current;(ut[0]!==ft[0]||ut[1]!==ft[1]||ut[2]!==ft[2]||ut[3]!==ft[3]||this.dirty)&&(this.gl.viewport(ut[0],ut[1],ut[2],ut[3]),this.current=ut,this.dirty=!1)}}class qr extends Kr{getDefault(){return null}set(ut){if(ut===this.current&&!this.dirty)return;const ft=this.gl;ft.bindFramebuffer(ft.FRAMEBUFFER,ut),this.current=ut,this.dirty=!1}}class Ur extends Kr{getDefault(){return null}set(ut){if(ut===this.current&&!this.dirty)return;const ft=this.gl;ft.bindRenderbuffer(ft.RENDERBUFFER,ut),this.current=ut,this.dirty=!1}}class pn extends Kr{getDefault(){return null}set(ut){if(ut===this.current&&!this.dirty)return;const ft=this.gl;ft.bindTexture(ft.TEXTURE_2D,ut),this.current=ut,this.dirty=!1}}class bn extends Kr{getDefault(){return null}set(ut){if(ut===this.current&&!this.dirty)return;const ft=this.gl;ft.bindBuffer(ft.ARRAY_BUFFER,ut),this.current=ut,this.dirty=!1}}class mr extends Kr{getDefault(){return null}set(ut){const ft=this.gl;ft.bindBuffer(ft.ELEMENT_ARRAY_BUFFER,ut),this.current=ut,this.dirty=!1}}class tr extends Kr{constructor(ut){super(ut),this.vao=ut.extVertexArrayObject}getDefault(){return null}set(ut){this.vao&&(ut!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(ut),this.current=ut,this.dirty=!1)}}class ar extends Kr{getDefault(){return 4}set(ut){if(ut===this.current&&!this.dirty)return;const ft=this.gl;ft.pixelStorei(ft.UNPACK_ALIGNMENT,ut),this.current=ut,this.dirty=!1}}class yr extends Kr{getDefault(){return!1}set(ut){if(ut===this.current&&!this.dirty)return;const ft=this.gl;ft.pixelStorei(ft.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ut),this.current=ut,this.dirty=!1}}class Ar extends Kr{getDefault(){return!1}set(ut){if(ut===this.current&&!this.dirty)return;const ft=this.gl;ft.pixelStorei(ft.UNPACK_FLIP_Y_WEBGL,ut),this.current=ut,this.dirty=!1}}class Dr extends Kr{constructor(ut,ft){super(ut),this.context=ut,this.parent=ft}getDefault(){return null}}class Zr extends Dr{setDirty(){this.dirty=!0}set(ut){if(ut===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const ft=this.gl;ft.framebufferTexture2D(ft.FRAMEBUFFER,ft.COLOR_ATTACHMENT0,ft.TEXTURE_2D,ut,0),this.current=ut,this.dirty=!1}}class Xr extends Dr{attachment(){return this.gl.DEPTH_ATTACHMENT}set(ut){if(ut===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const ft=this.gl;ft.framebufferRenderbuffer(ft.FRAMEBUFFER,this.attachment(),ft.RENDERBUFFER,ut),this.current=ut,this.dirty=!1}}class Br extends Xr{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class en{constructor(ut,ft,vt,wt){this.context=ut,this.width=ft,this.height=vt;const Ct=this.framebuffer=ut.gl.createFramebuffer();this.colorAttachment=new Zr(ut,Ct),wt&&(this.depthAttachment=new Xr(ut,Ct))}destroy(){const ut=this.context.gl,ft=this.colorAttachment.get();if(ft&&ut.deleteTexture(ft),this.depthAttachment){const vt=this.depthAttachment.get();vt&&ut.deleteRenderbuffer(vt)}ut.deleteFramebuffer(this.framebuffer)}}class Pn{constructor(ut,ft=!1){if(this.gl=ut,this.isWebGL2=ft,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),ft){const vt=ut;this.extVertexArrayObject={createVertexArrayOES:vt.createVertexArray.bind(ut),deleteVertexArrayOES:vt.deleteVertexArray.bind(ut),bindVertexArrayOES:vt.bindVertexArray.bind(ut)}}this.clearColor=new cn(this),this.clearDepth=new En(this),this.clearStencil=new yn(this),this.colorMask=new Rn(this),this.depthMask=new Zn(this),this.stencilMask=new jn(this),this.stencilFunc=new so(this),this.stencilOp=new Eo(this),this.stencilTest=new _i(this),this.depthRange=new po(this),this.depthTest=new Mo(this),this.depthFunc=new yo(this),this.blend=new mn(this),this.blendFunc=new Bn(this),this.blendColor=new no(this),this.blendEquation=new eo(this),this.cullFace=new to(this),this.cullFaceSide=new Yn(this),this.frontFace=new Hr(this),this.program=new fn(this),this.activeTexture=new Vn(this),this.viewport=new Kn(this),this.bindFramebuffer=new qr(this),this.bindRenderbuffer=new Ur(this),this.bindTexture=new pn(this),this.bindVertexBuffer=new bn(this),this.bindElementBuffer=new mr(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new tr(this),this.pixelStoreUnpack=new ar(this),this.pixelStoreUnpackPremultiplyAlpha=new yr(this),this.pixelStoreUnpackFlipY=new Ar(this),this.extTextureFilterAnisotropic=ut.getExtension("EXT_texture_filter_anisotropic")||ut.getExtension("MOZ_EXT_texture_filter_anisotropic")||ut.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=ut.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=ut.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=ut.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=ut.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),ft||(this.extTextureHalfFloat=ut.getExtension("OES_texture_half_float")),(ft||this.extTextureHalfFloat&&ut.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=ut.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=ft||ut.getExtension("OES_standard_derivatives"),this.extTimerQuery=ut.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=ut.getParameter(ut.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(ut,ft){return new Qr(this,ut,ft)}createVertexBuffer(ut,ft,vt){return new ln(this,ut,ft,vt)}createRenderbuffer(ut,ft,vt){const wt=this.gl,Ct=wt.createRenderbuffer();return this.bindRenderbuffer.set(Ct),wt.renderbufferStorage(wt.RENDERBUFFER,ut,ft,vt),this.bindRenderbuffer.set(null),Ct}createFramebuffer(ut,ft,vt){return new en(this,ut,ft,vt)}clear({color:ut,depth:ft,stencil:vt}){const wt=this.gl;let Ct=0;ut&&(Ct|=wt.COLOR_BUFFER_BIT,this.clearColor.set(ut),this.colorMask.set([!0,!0,!0,!0])),ft!==void 0&&(Ct|=wt.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ft),this.depthMask.set(!0)),vt!==void 0&&(Ct|=wt.STENCIL_BUFFER_BIT,this.clearStencil.set(vt),this.stencilMask.set(255)),wt.clear(Ct)}setCullFace(ut){ut.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(ut.mode),this.frontFace.set(ut.frontFace))}setDepthMode(ut){ut.func!==this.gl.ALWAYS||ut.mask?(this.depthTest.set(!0),this.depthFunc.set(ut.func),this.depthMask.set(ut.mask),this.depthRange.set(ut.range)):this.depthTest.set(!1)}setStencilMode(ut){ut.test.func!==this.gl.ALWAYS||ut.mask?(this.stencilTest.set(!0),this.stencilMask.set(ut.mask),this.stencilOp.set([ut.fail,ut.depthFail,ut.pass]),this.stencilFunc.set({func:ut.test.func,ref:ut.ref,mask:ut.test.mask})):this.stencilTest.set(!1)}setColorMode(ut){mt(ut.blendFunction,ot.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(ut.blendFunction),this.blendColor.set(ut.blendColor)),this.colorMask.set(ut.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Fn extends ot.Evented{constructor(ut,ft,vt,wt){if(super(),this.id=ut,this.dispatcher=vt,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,ot.extend(this,ot.pick(ft,["url","scheme","tileSize","promoteId"])),this._options=ot.extend({type:"vector"},ft),this._collectResourceTiming=ft.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(wt),this._tileWorkers={},this._deduped=new ot.DedupedRequest}load(ut){this._loaded=!1,this.fire(new ot.Event("dataloading",{dataType:"source"}));const ft=Array.isArray(this.map._language)?this.map._language.join():this.map._language,vt=this.map._worldview;this._tileJSONRequest=Sr(this._options,this.map._requestManager,ft,vt,(wt,Ct)=>{this._tileJSONRequest=null,this._loaded=!0,wt?(ft&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${ft}`),vt&&vt.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${vt}`),this.fire(new ot.ErrorEvent(wt))):Ct&&(ot.extend(this,Ct),Ct.bounds&&(this.tileBounds=new dn(Ct.bounds,this.minzoom,this.maxzoom)),ot.postTurnstileEvent(Ct.tiles,this.map._requestManager._customAccessToken),this.fire(new ot.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new ot.Event("data",{dataType:"source",sourceDataType:"content"}))),ut&&ut(wt)})}loaded(){return this._loaded}hasTile(ut){return!this.tileBounds||this.tileBounds.contains(ut.canonical)}onAdd(ut){this.map=ut,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(ut){return this._options.tiles=ut,this.reload(),this}setUrl(ut){return this.url=ut,this._options.url=ut,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return ot.extend({},this._options)}loadTile(ut,ft){const vt=this.map._requestManager.normalizeTileURL(ut.tileID.canonical.url(this.tiles,this.scheme)),wt={request:this.map._requestManager.transformRequest(vt,ot.ResourceType.Tile),data:void 0,uid:ut.uid,tileID:ut.tileID,tileZoom:ut.tileZoom,zoom:ut.tileID.overscaledZ,tileSize:this.tileSize*ut.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:ot.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:ut.isSymbolTile};if(wt.request.collectResourceTiming=this._collectResourceTiming,ut.actor&&ut.state!=="expired")ut.state==="loading"?ut.reloadCallback=ft:ut.request=ut.actor.send("reloadTile",wt,Ct.bind(this));else if(ut.actor=this._tileWorkers[vt]=this._tileWorkers[vt]||this.dispatcher.getActor(),this.dispatcher.ready)ut.request=ut.actor.send("loadTile",wt,Ct.bind(this),void 0,!0);else{const Dt=ot.loadVectorTile.call({deduped:this._deduped},wt,(zt,Nt)=>{zt||!Nt?Ct.call(this,zt):(wt.data={cacheControl:Nt.cacheControl,expires:Nt.expires,rawData:Nt.rawData.slice(0)},ut.actor&&ut.actor.send("loadTile",wt,Ct.bind(this),void 0,!0))},!0);ut.request={cancel:Dt}}function Ct(Dt,zt){return delete ut.request,ut.aborted?ft(null):Dt&&Dt.status!==404?ft(Dt):(zt&&zt.resourceTiming&&(ut.resourceTiming=zt.resourceTiming),this.map._refreshExpiredTiles&&zt&&ut.setExpiryData(zt),ut.loadVectorData(zt,this.map.painter),ot.cacheEntryPossiblyAdded(this.dispatcher),ft(null),void(ut.reloadCallback&&(this.loadTile(ut,ut.reloadCallback),ut.reloadCallback=null)))}}abortTile(ut){ut.request&&(ut.request.cancel(),delete ut.request),ut.actor&&ut.actor.send("abortTile",{uid:ut.uid,type:this.type,source:this.id})}unloadTile(ut){ut.unloadVectorData(),ut.actor&&ut.actor.send("removeTile",{uid:ut.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Mn extends ot.Evented{constructor(ut,ft,vt,wt){super(),this.id=ut,this.dispatcher=vt,this.setEventedParent(wt),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=ot.extend({type:"raster"},ft),ot.extend(this,ot.pick(ft,["url","scheme","tileSize"]))}load(ut){this._loaded=!1,this.fire(new ot.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Sr(this._options,this.map._requestManager,null,null,(ft,vt)=>{this._tileJSONRequest=null,this._loaded=!0,ft?this.fire(new ot.ErrorEvent(ft)):vt&&(ot.extend(this,vt),vt.bounds&&(this.tileBounds=new dn(vt.bounds,this.minzoom,this.maxzoom)),ot.postTurnstileEvent(vt.tiles),this.fire(new ot.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new ot.Event("data",{dataType:"source",sourceDataType:"content"}))),ut&&ut(ft)})}loaded(){return this._loaded}onAdd(ut){this.map=ut,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(ut){return this._options.tiles=ut,this.reload(),this}setUrl(ut){return this.url=ut,this._options.url=ut,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return ot.extend({},this._options)}hasTile(ut){return!this.tileBounds||this.tileBounds.contains(ut.canonical)}loadTile(ut,ft){const vt=ot.exported.devicePixelRatio>=2,wt=this.map._requestManager.normalizeTileURL(ut.tileID.canonical.url(this.tiles,this.scheme),vt,this.tileSize);ut.request=ot.getImage(this.map._requestManager.transformRequest(wt,ot.ResourceType.Tile),(Ct,Dt,zt,Nt)=>(delete ut.request,ut.aborted?(ut.state="unloaded",ft(null)):Ct?(ut.state="errored",ft(Ct)):Dt?(this.map._refreshExpiredTiles&&ut.setExpiryData({cacheControl:zt,expires:Nt}),ut.setTexture(Dt,this.map.painter),ut.state="loaded",ot.cacheEntryPossiblyAdded(this.dispatcher),void ft(null)):ft(null)))}static loadTileData(ut,ft,vt){ut.setTexture(ft,vt)}static unloadTileData(ut,ft){ut.texture&&ft.saveTileTexture(ut.texture)}abortTile(ut,ft){ut.request&&(ut.request.cancel(),delete ut.request),ft()}unloadTile(ut,ft){ut.texture&&this.map.painter.saveTileTexture(ut.texture),ft()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function ho(gt,ut,ft,vt,wt,Ct,Dt,zt){const Nt=[gt,ft,wt,ut,vt,Ct,1,1,1],Zt=[Dt,zt,1],qt=ot.adjoint([],Nt),[rr,pr,xr]=ot.transformMat3(Zt,Zt,ot.transpose(qt,qt));return ot.multiply$1(Nt,[rr,0,0,0,pr,0,0,0,xr],Nt)}class mo extends ot.Evented{constructor(ut,ft,vt,wt){super(),this.id=ut,this.dispatcher=vt,this.coordinates=ft.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(wt),this.options=ft,this._dirty=!1}load(ut,ft){this._loaded=ft||!1,this.fire(new ot.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=ot.getImage(this.map._requestManager.transformRequest(this.url,ot.ResourceType.Image),(vt,wt)=>{if(this._imageRequest=null,this._loaded=!0,vt)this.fire(new ot.ErrorEvent(vt));else if(wt){const{HTMLImageElement:Ct}=ot.window;this.image=wt instanceof Ct?ot.exported.getImageData(wt):wt,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,ut&&(this.coordinates=ut),this._finishLoading()}})}loaded(){return this._loaded}updateImage(ut){return this.image&&ut.url?(this._imageRequest&&ut.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=ut.url,this.load(ut.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new ot.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(ut){this.map=ut,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(ut){this.coordinates=ut,this._boundsArray=void 0;const ft=ut.map(ot.MercatorCoordinate.fromLngLat);return this.tileID=function(vt){let wt=1/0,Ct=1/0,Dt=-1/0,zt=-1/0;for(const rr of vt)wt=Math.min(wt,rr.x),Ct=Math.min(Ct,rr.y),Dt=Math.max(Dt,rr.x),zt=Math.max(zt,rr.y);const Nt=Math.max(Dt-wt,zt-Ct),Zt=Math.max(0,Math.floor(-Math.log(Nt)/Math.LN2)),qt=Math.pow(2,Zt);return new ot.CanonicalTileID(Zt,Math.floor((wt+Dt)/2*qt),Math.floor((Ct+zt)/2*qt))}(ft),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new ot.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(ut){for(const Nt in this.tiles){const Zt=this.tiles[Nt];Zt.state!=="loaded"&&(Zt.state="loaded",Zt.texture=this.texture)}if(this._boundsArray)return;const ft=ot.tileTransform(this.tileID,this.map.transform.projection),[vt,wt,Ct,Dt]=this.coordinates.map(Nt=>{const Zt=ft.projection.project(Nt[0],Nt[1]);return ot.getTilePoint(ft,Zt)._round()});this.perspectiveTransform=function(Nt,Zt,qt,rr,pr,xr,wr,br,Pr,ir){const _r=ho(0,0,Nt,0,0,Zt,Nt,Zt),$r=ho(qt,rr,pr,xr,wr,br,Pr,ir);return ot.multiply$1($r,ot.adjoint(_r,_r),$r),[$r[6]/$r[8]*Nt/ot.EXTENT,$r[7]/$r[8]*Zt/ot.EXTENT]}(this.width,this.height,vt.x,vt.y,wt.x,wt.y,Dt.x,Dt.y,Ct.x,Ct.y);const zt=this._boundsArray=new ot.StructArrayLayout4i8;zt.emplaceBack(vt.x,vt.y,0,0),zt.emplaceBack(wt.x,wt.y,ot.EXTENT,0),zt.emplaceBack(Dt.x,Dt.y,0,ot.EXTENT),zt.emplaceBack(Ct.x,Ct.y,ot.EXTENT,ot.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=ut.createVertexBuffer(zt,ot.boundsAttributes.members),this.boundsSegments=ot.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const ut=this.map.painter.context,ft=ut.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new ot.Texture(ut,this.image,ft.RGBA),this.texture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(ut)}loadTile(ut,ft){this.tileID&&this.tileID.equals(ut.tileID.canonical)?(this.tiles[String(ut.tileID.wrap)]=ut,ut.buckets={},ft(null)):(ut.state="errored",ft(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const ro={vector:Fn,raster:Mn,"raster-dem":class extends Mn{constructor(gt,ut,ft,vt){super(gt,ut,ft,vt),this.type="raster-dem",this.maxzoom=22,this._options=ot.extend({type:"raster-dem"},ut),this.encoding=ut.encoding||"mapbox"}loadTile(gt,ut){const ft=this.map._requestManager.normalizeTileURL(gt.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function vt(wt,Ct){wt&&(gt.state="errored",ut(wt)),Ct&&(gt.dem=Ct,gt.dem.onDeserialize(),gt.needsHillshadePrepare=!0,gt.needsDEMTextureUpload=!0,gt.state="loaded",ut(null))}gt.request=ot.getImage(this.map._requestManager.transformRequest(ft,ot.ResourceType.Tile),function(wt,Ct,Dt,zt){if(delete gt.request,gt.aborted)gt.state="unloaded",ut(null);else if(wt)gt.state="errored",ut(wt);else if(Ct){this.map._refreshExpiredTiles&&gt.setExpiryData({cacheControl:Dt,expires:zt});const Nt=ot.window.ImageBitmap&&Ct instanceof ot.window.ImageBitmap&&(tn==null&&(tn=ot.window.OffscreenCanvas&&new ot.window.OffscreenCanvas(1,1).getContext("2d")&&typeof ot.window.createImageBitmap=="function"),tn),Zt=1-(Ct.width-ot.prevPowerOfTwo(Ct.width))/2;Zt<1||gt.neighboringTiles||(gt.neighboringTiles=this._getNeighboringTiles(gt.tileID));const qt=Nt?Ct:ot.exported.getImageData(Ct,Zt),rr={uid:gt.uid,coord:gt.tileID,source:this.id,rawImageData:qt,encoding:this.encoding,padding:Zt};gt.actor&&gt.state!=="expired"||(gt.actor=this.dispatcher.getActor(),gt.actor.send("loadDEMTile",rr,vt.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(gt){const ut=gt.canonical,ft=Math.pow(2,ut.z),vt=(ut.x-1+ft)%ft,wt=ut.x===0?gt.wrap-1:gt.wrap,Ct=(ut.x+1+ft)%ft,Dt=ut.x+1===ft?gt.wrap+1:gt.wrap,zt={};return zt[new ot.OverscaledTileID(gt.overscaledZ,wt,ut.z,vt,ut.y).key]={backfilled:!1},zt[new ot.OverscaledTileID(gt.overscaledZ,Dt,ut.z,Ct,ut.y).key]={backfilled:!1},ut.y>0&&(zt[new ot.OverscaledTileID(gt.overscaledZ,wt,ut.z,vt,ut.y-1).key]={backfilled:!1},zt[new ot.OverscaledTileID(gt.overscaledZ,gt.wrap,ut.z,ut.x,ut.y-1).key]={backfilled:!1},zt[new ot.OverscaledTileID(gt.overscaledZ,Dt,ut.z,Ct,ut.y-1).key]={backfilled:!1}),ut.y+1<ft&&(zt[new ot.OverscaledTileID(gt.overscaledZ,wt,ut.z,vt,ut.y+1).key]={backfilled:!1},zt[new ot.OverscaledTileID(gt.overscaledZ,gt.wrap,ut.z,ut.x,ut.y+1).key]={backfilled:!1},zt[new ot.OverscaledTileID(gt.overscaledZ,Dt,ut.z,Ct,ut.y+1).key]={backfilled:!1}),zt}unloadTile(gt){gt.demTexture&&this.map.painter.saveTileTexture(gt.demTexture),gt.fbo&&(gt.fbo.destroy(),delete gt.fbo),gt.dem&&delete gt.dem,delete gt.neighboringTiles,gt.state="unloaded"}},geojson:class extends ot.Evented{constructor(gt,ut,ft,vt){super(),this.id=gt,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=ft.getActor(),this.setEventedParent(vt),this._data=ut.data,this._options=ot.extend({},ut),this._collectResourceTiming=ut.collectResourceTiming,ut.maxzoom!==void 0&&(this.maxzoom=ut.maxzoom),ut.type&&(this.type=ut.type),ut.attribution&&(this.attribution=ut.attribution),this.promoteId=ut.promoteId;const wt=ot.EXTENT/this.tileSize;this.workerOptions=ot.extend({source:this.id,cluster:ut.cluster||!1,geojsonVtOptions:{buffer:(ut.buffer!==void 0?ut.buffer:128)*wt,tolerance:(ut.tolerance!==void 0?ut.tolerance:.375)*wt,extent:ot.EXTENT,maxZoom:this.maxzoom,lineMetrics:ut.lineMetrics||!1,generateId:ut.generateId||!1},superclusterOptions:{maxZoom:ut.clusterMaxZoom!==void 0?ut.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,ut.clusterMinPoints||2),extent:ot.EXTENT,radius:(ut.clusterRadius!==void 0?ut.clusterRadius:50)*wt,log:!1,generateId:ut.generateId||!1},clusterProperties:ut.clusterProperties,filter:ut.filter},ut.workerOptions)}onAdd(gt){this.map=gt,this.setData(this._data)}setData(gt){return this._data=gt,this._updateWorkerData(),this}getClusterExpansionZoom(gt,ut){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:gt,source:this.id},ut),this}getClusterChildren(gt,ut){return this.actor.send("geojson.getClusterChildren",{clusterId:gt,source:this.id},ut),this}getClusterLeaves(gt,ut,ft,vt){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:gt,limit:ut,offset:ft},vt),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new ot.Event("dataloading",{dataType:"source"})),this._loaded=!1;const gt=ot.extend({},this.workerOptions),ut=this._data;typeof ut=="string"?(gt.request=this.map._requestManager.transformRequest(ot.exported.resolveURL(ut),ot.ResourceType.Source),gt.request.collectResourceTiming=this._collectResourceTiming):gt.data=JSON.stringify(ut),this._pendingLoad=this.actor.send(`${this.type}.loadData`,gt,(ft,vt)=>{if(this._loaded=!0,this._pendingLoad=null,ft)this.fire(new ot.ErrorEvent(ft));else{const wt={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&vt&&vt.resourceTiming&&vt.resourceTiming[this.id]&&(wt.resourceTiming=vt.resourceTiming[this.id]),this.fire(new ot.Event("data",wt)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(gt,ut){const ft=gt.actor?"reloadTile":"loadTile";gt.actor=this.actor,gt.request=this.actor.send(ft,{type:this.type,uid:gt.uid,tileID:gt.tileID,tileZoom:gt.tileZoom,zoom:gt.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:ot.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(vt,wt)=>(delete gt.request,gt.unloadVectorData(),gt.aborted?ut(null):vt?ut(vt):(gt.loadVectorData(wt,this.map.painter,ft==="reloadTile"),ut(null))),void 0,ft==="loadTile")}abortTile(gt){gt.request&&(gt.request.cancel(),delete gt.request),gt.aborted=!0}unloadTile(gt){gt.unloadVectorData(),this.actor.send("removeTile",{uid:gt.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return ot.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends mo{constructor(gt,ut,ft,vt){super(gt,ut,ft,vt),this.roundZoom=!0,this.type="video",this.options=ut}load(){this._loaded=!1;const gt=this.options;this.urls=[];for(const ut of gt.urls)this.urls.push(this.map._requestManager.transformRequest(ut,ot.ResourceType.Source).url);ot.getVideo(this.urls,(ut,ft)=>{this._loaded=!0,ut?this.fire(new ot.ErrorEvent(ut)):ft&&(this.video=ft,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(gt){if(this.video){const ut=this.video.seekable;gt<ut.start(0)||gt>ut.end(0)?this.fire(new ot.ErrorEvent(new ot.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${ut.start(0)} and ${ut.end(0)}-second mark.`))):this.video.currentTime=gt}}getVideo(){return this.video}onAdd(gt){this.map||(this.map=gt,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const gt=this.map.painter.context,ut=gt.gl;this.texture?this.video.paused||(this.texture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),ut.texSubImage2D(ut.TEXTURE_2D,0,0,0,ut.RGBA,ut.UNSIGNED_BYTE,this.video)):(this.texture=new ot.Texture(gt,this.video,ut.RGBA),this.texture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(gt)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:mo,canvas:class extends mo{constructor(gt,ut,ft,vt){super(gt,ut,ft,vt),ut.coordinates?Array.isArray(ut.coordinates)&&ut.coordinates.length===4&&!ut.coordinates.some(wt=>!Array.isArray(wt)||wt.length!==2||wt.some(Ct=>typeof Ct!="number"))||this.fire(new ot.ErrorEvent(new ot.ValidationError(`sources.${gt}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new ot.ErrorEvent(new ot.ValidationError(`sources.${gt}`,null,'missing required property "coordinates"'))),ut.animate&&typeof ut.animate!="boolean"&&this.fire(new ot.ErrorEvent(new ot.ValidationError(`sources.${gt}`,null,'optional "animate" property must be a boolean value'))),ut.canvas?typeof ut.canvas=="string"||ut.canvas instanceof ot.window.HTMLCanvasElement||this.fire(new ot.ErrorEvent(new ot.ValidationError(`sources.${gt}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new ot.ErrorEvent(new ot.ValidationError(`sources.${gt}`,null,'missing required property "canvas"'))),this.options=ut,this.animate=ut.animate===void 0||ut.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof ot.window.HTMLCanvasElement?this.options.canvas:ot.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new ot.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(gt){this.map=gt,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let gt=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,gt=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,gt=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const ut=this.map.painter.context;this.texture?(gt||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ot.Texture(ut,this.canvas,ut.gl.RGBA,{premultiply:!0}),this._prepareData(ut)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const gt of[this.canvas.width,this.canvas.height])if(isNaN(gt)||gt<=0)return!0;return!1}},custom:class extends ot.Evented{constructor(gt,ut,ft,vt){super(),this.id=gt,this.type="custom",this._dataType="raster",this._dispatcher=ft,this._implementation=ut,this.setEventedParent(vt),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new ot.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new ot.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new dn(this._implementation.bounds,this.minzoom,this.maxzoom)),ut.update=this._update.bind(this),ut.clearTiles=this._clearTiles.bind(this),ut.coveringTiles=this._coveringTiles.bind(this),ot.extend(this,ot.pick(ut,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return ot.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new ot.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new ot.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(gt){this._map=gt,this._loaded=!1,this.fire(new ot.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(gt),this.load()}onRemove(gt){this._implementation.onRemove&&this._implementation.onRemove(gt)}hasTile(gt){if(this._implementation.hasTile){const{x:ut,y:ft,z:vt}=gt.canonical;return this._implementation.hasTile({x:ut,y:ft,z:vt})}return!this.tileBounds||this.tileBounds.contains(gt.canonical)}loadTile(gt,ut){const{x:ft,y:vt,z:wt}=gt.tileID.canonical,Ct=new ot.window.AbortController;gt.request=Promise.resolve(this._implementation.loadTile({x:ft,y:vt,z:wt},{signal:Ct.signal})).then(function(Dt){return delete gt.request,gt.aborted?(gt.state="unloaded",ut(null)):Dt===void 0?(gt.state="errored",ut(null)):Dt===null?(this.loadTileData(gt,{width:this.tileSize,height:this.tileSize,data:null}),gt.state="loaded",ut(null)):function(zt){return zt instanceof ot.window.ImageData||zt instanceof ot.window.HTMLCanvasElement||zt instanceof ot.window.ImageBitmap||zt instanceof ot.window.HTMLImageElement}(Dt)?(this.loadTileData(gt,Dt),gt.state="loaded",void ut(null)):(gt.state="errored",ut(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(Dt=>{Dt.code!==20&&(gt.state="errored",ut(Dt))}),gt.request.cancel=()=>Ct.abort()}loadTileData(gt,ut){Mn.loadTileData(gt,ut,this._map.painter)}unloadTileData(gt){Mn.unloadTileData(gt,this._map.painter)}unloadTile(gt,ut){if(this.unloadTileData(gt),this._implementation.unloadTile){const{x:ft,y:vt,z:wt}=gt.tileID.canonical;this._implementation.unloadTile({x:ft,y:vt,z:wt})}ut()}abortTile(gt,ut){gt.request&&gt.request.cancel&&(gt.request.cancel(),delete gt.request),ut()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(gt=>({x:gt.canonical.x,y:gt.canonical.y,z:gt.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new ot.Event("data",{dataType:"source",sourceDataType:"content"}))}}},co=function(gt,ut,ft,vt){const wt=new ro[ut.type](gt,ut,ft,vt);if(wt.id!==gt)throw new Error(`Expected Source id to be ${gt} instead of ${wt.id}`);return ot.bindAll(["load","abort","unload","serialize","prepare"],wt),wt};function vo(gt,ut){const ft=ot.identity([]);return ot.scale(ft,ft,[.5*gt.width,.5*-gt.height,1]),ot.translate(ft,ft,[1,-1,0]),ot.multiply(ft,ft,gt.calculateProjMatrix(ut.toUnwrapped())),Float32Array.from(ft)}function jo(gt,ut,ft,vt,wt,Ct,Dt,zt=!1){const Nt=gt.tilesIn(vt,Dt,zt);Nt.sort(is);const Zt=[];for(const rr of Nt)Zt.push({wrappedTileID:rr.tile.tileID.wrapped().key,queryResults:rr.tile.queryRenderedFeatures(ut,ft,gt._state,rr,wt,Ct,vo(gt.transform,rr.tile.tileID),zt)});const qt=function(rr){const pr={},xr={};for(const wr of rr){const br=wr.queryResults,Pr=wr.wrappedTileID,ir=xr[Pr]=xr[Pr]||{};for(const _r in br){const $r=br[_r],Ir=ir[_r]=ir[_r]||{},Vr=pr[_r]=pr[_r]||[];for(const Wr of $r)Ir[Wr.featureIndex]||(Ir[Wr.featureIndex]=!0,Vr.push(Wr))}}return pr}(Zt);for(const rr in qt)qt[rr].forEach(pr=>{const xr=pr.feature,wr=xr.layer;wr&&wr.type!=="background"&&wr.type!=="sky"&&(xr.source=wr.source,wr["source-layer"]&&(xr.sourceLayer=wr["source-layer"]),xr.state=xr.id!==void 0?gt.getFeatureState(wr["source-layer"],xr.id):{})});return qt}function Io(gt,ut){const ft=gt.getRenderableIds().map(Ct=>gt.getTileByID(Ct)),vt=[],wt={};for(let Ct=0;Ct<ft.length;Ct++){const Dt=ft[Ct],zt=Dt.tileID.canonical.key;wt[zt]||(wt[zt]=!0,Dt.querySourceFeatures(vt,ut))}return vt}function is(gt,ut){const ft=gt.tileID,vt=ut.tileID;return ft.overscaledZ-vt.overscaledZ||ft.canonical.y-vt.canonical.y||ft.wrap-vt.wrap||ft.canonical.x-vt.canonical.x}function Co(){return Zu.workerClass!=null?new Zu.workerClass:new ot.window.Worker(Zu.workerUrl)}const Uo="mapboxgl_preloaded_worker_pool";class os{constructor(){this.active={}}acquire(ut){if(!this.workers)for(this.workers=[];this.workers.length<os.workerCount;)this.workers.push(new Co);return this.active[ut]=!0,this.workers.slice()}release(ut){delete this.active[ut],this.numActive()===0&&(this.workers.forEach(ft=>{ft.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Uo]}numActive(){return Object.keys(this.active).length}}let gs;function Ts(){return gs||(gs=new os),gs}function W1(gt,ut){const ft={};for(const vt in gt)vt!=="ref"&&(ft[vt]=gt[vt]);return ot.refProperties.forEach(vt=>{vt in ut&&(ft[vt]=ut[vt])}),ft}function xy(gt){gt=gt.slice();const ut=Object.create(null);for(let ft=0;ft<gt.length;ft++)ut[gt[ft].id]=gt[ft];for(let ft=0;ft<gt.length;ft++)"ref"in gt[ft]&&(gt[ft]=W1(gt[ft],ut[gt[ft].ref]));return gt}os.workerCount=2;const Bo={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Gm(gt,ut,ft){ft.push({command:Bo.addSource,args:[gt,ut[gt]]})}function np(gt,ut,ft){ut.push({command:Bo.removeSource,args:[gt]}),ft[gt]=!0}function Wm(gt,ut,ft,vt){np(gt,ft,vt),Gm(gt,ut,ft)}function Hp(gt,ut,ft){let vt;for(vt in gt[ft])if(gt[ft].hasOwnProperty(vt)&&vt!=="data"&&!mt(gt[ft][vt],ut[ft][vt]))return!1;for(vt in ut[ft])if(ut[ft].hasOwnProperty(vt)&&vt!=="data"&&!mt(gt[ft][vt],ut[ft][vt]))return!1;return!0}function El(gt,ut,ft,vt,wt,Ct){let Dt;for(Dt in ut=ut||{},gt=gt||{})gt.hasOwnProperty(Dt)&&(mt(gt[Dt],ut[Dt])||ft.push({command:Ct,args:[vt,Dt,ut[Dt],wt]}));for(Dt in ut)ut.hasOwnProperty(Dt)&&!gt.hasOwnProperty(Dt)&&(mt(gt[Dt],ut[Dt])||ft.push({command:Ct,args:[vt,Dt,ut[Dt],wt]}))}function Dl(gt){return gt.id}function Hm(gt,ut){return gt[ut.id]=ut,gt}class qm{constructor(ut,ft){this.reset(ut,ft)}reset(ut,ft){this.points=ut||[],this._distances=[0];for(let vt=1;vt<this.points.length;vt++)this._distances[vt]=this._distances[vt-1]+this.points[vt].dist(this.points[vt-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ft||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(ut){if(this.points.length===1)return this.points[0];ut=ot.clamp(ut,0,1);let ft=1,vt=this._distances[ft];const wt=ut*this.paddedLength+this.padding;for(;vt<wt&&ft<this._distances.length;)vt=this._distances[++ft];const Ct=ft-1,Dt=this._distances[Ct],zt=vt-Dt,Nt=zt>0?(wt-Dt)/zt:0;return this.points[Ct].mult(1-Nt).add(this.points[ft].mult(Nt))}}class fu{constructor(ut,ft,vt){const wt=this.boxCells=[],Ct=this.circleCells=[];this.xCellCount=Math.ceil(ut/vt),this.yCellCount=Math.ceil(ft/vt);for(let Dt=0;Dt<this.xCellCount*this.yCellCount;Dt++)wt.push([]),Ct.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=ut,this.height=ft,this.xScale=this.xCellCount/ut,this.yScale=this.yCellCount/ft,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(ut,ft,vt,wt,Ct){this._forEachCell(ft,vt,wt,Ct,this._insertBoxCell,this.boxUid++),this.boxKeys.push(ut),this.bboxes.push(ft),this.bboxes.push(vt),this.bboxes.push(wt),this.bboxes.push(Ct)}insertCircle(ut,ft,vt,wt){this._forEachCell(ft-wt,vt-wt,ft+wt,vt+wt,this._insertCircleCell,this.circleUid++),this.circleKeys.push(ut),this.circles.push(ft),this.circles.push(vt),this.circles.push(wt)}_insertBoxCell(ut,ft,vt,wt,Ct,Dt){this.boxCells[Ct].push(Dt)}_insertCircleCell(ut,ft,vt,wt,Ct,Dt){this.circleCells[Ct].push(Dt)}_query(ut,ft,vt,wt,Ct,Dt){if(vt<0||ut>this.width||wt<0||ft>this.height)return!Ct&&[];const zt=[];if(ut<=0&&ft<=0&&this.width<=vt&&this.height<=wt){if(Ct)return!0;for(let Nt=0;Nt<this.boxKeys.length;Nt++)zt.push({key:this.boxKeys[Nt],x1:this.bboxes[4*Nt],y1:this.bboxes[4*Nt+1],x2:this.bboxes[4*Nt+2],y2:this.bboxes[4*Nt+3]});for(let Nt=0;Nt<this.circleKeys.length;Nt++){const Zt=this.circles[3*Nt],qt=this.circles[3*Nt+1],rr=this.circles[3*Nt+2];zt.push({key:this.circleKeys[Nt],x1:Zt-rr,y1:qt-rr,x2:Zt+rr,y2:qt+rr})}return Dt?zt.filter(Dt):zt}return this._forEachCell(ut,ft,vt,wt,this._queryCell,zt,{hitTest:Ct,seenUids:{box:{},circle:{}}},Dt),Ct?zt.length>0:zt}_queryCircle(ut,ft,vt,wt,Ct){const Dt=ut-vt,zt=ut+vt,Nt=ft-vt,Zt=ft+vt;if(zt<0||Dt>this.width||Zt<0||Nt>this.height)return!wt&&[];const qt=[];return this._forEachCell(Dt,Nt,zt,Zt,this._queryCellCircle,qt,{hitTest:wt,circle:{x:ut,y:ft,radius:vt},seenUids:{box:{},circle:{}}},Ct),wt?qt.length>0:qt}query(ut,ft,vt,wt,Ct){return this._query(ut,ft,vt,wt,!1,Ct)}hitTest(ut,ft,vt,wt,Ct){return this._query(ut,ft,vt,wt,!0,Ct)}hitTestCircle(ut,ft,vt,wt){return this._queryCircle(ut,ft,vt,!0,wt)}_queryCell(ut,ft,vt,wt,Ct,Dt,zt,Nt){const Zt=zt.seenUids,qt=this.boxCells[Ct];if(qt!==null){const pr=this.bboxes;for(const xr of qt)if(!Zt.box[xr]){Zt.box[xr]=!0;const wr=4*xr;if(ut<=pr[wr+2]&&ft<=pr[wr+3]&&vt>=pr[wr+0]&&wt>=pr[wr+1]&&(!Nt||Nt(this.boxKeys[xr]))){if(zt.hitTest)return Dt.push(!0),!0;Dt.push({key:this.boxKeys[xr],x1:pr[wr],y1:pr[wr+1],x2:pr[wr+2],y2:pr[wr+3]})}}}const rr=this.circleCells[Ct];if(rr!==null){const pr=this.circles;for(const xr of rr)if(!Zt.circle[xr]){Zt.circle[xr]=!0;const wr=3*xr;if(this._circleAndRectCollide(pr[wr],pr[wr+1],pr[wr+2],ut,ft,vt,wt)&&(!Nt||Nt(this.circleKeys[xr]))){if(zt.hitTest)return Dt.push(!0),!0;{const br=pr[wr],Pr=pr[wr+1],ir=pr[wr+2];Dt.push({key:this.circleKeys[xr],x1:br-ir,y1:Pr-ir,x2:br+ir,y2:Pr+ir})}}}}}_queryCellCircle(ut,ft,vt,wt,Ct,Dt,zt,Nt){const Zt=zt.circle,qt=zt.seenUids,rr=this.boxCells[Ct];if(rr!==null){const xr=this.bboxes;for(const wr of rr)if(!qt.box[wr]){qt.box[wr]=!0;const br=4*wr;if(this._circleAndRectCollide(Zt.x,Zt.y,Zt.radius,xr[br+0],xr[br+1],xr[br+2],xr[br+3])&&(!Nt||Nt(this.boxKeys[wr])))return Dt.push(!0),!0}}const pr=this.circleCells[Ct];if(pr!==null){const xr=this.circles;for(const wr of pr)if(!qt.circle[wr]){qt.circle[wr]=!0;const br=3*wr;if(this._circlesCollide(xr[br],xr[br+1],xr[br+2],Zt.x,Zt.y,Zt.radius)&&(!Nt||Nt(this.circleKeys[wr])))return Dt.push(!0),!0}}}_forEachCell(ut,ft,vt,wt,Ct,Dt,zt,Nt){const Zt=this._convertToXCellCoord(ut),qt=this._convertToYCellCoord(ft),rr=this._convertToXCellCoord(vt),pr=this._convertToYCellCoord(wt);for(let xr=Zt;xr<=rr;xr++)for(let wr=qt;wr<=pr;wr++)if(Ct.call(this,ut,ft,vt,wt,this.xCellCount*wr+xr,Dt,zt,Nt))return}_convertToXCellCoord(ut){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(ut*this.xScale)))}_convertToYCellCoord(ut){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(ut*this.yScale)))}_circlesCollide(ut,ft,vt,wt,Ct,Dt){const zt=wt-ut,Nt=Ct-ft,Zt=vt+Dt;return Zt*Zt>zt*zt+Nt*Nt}_circleAndRectCollide(ut,ft,vt,wt,Ct,Dt,zt){const Nt=(Dt-wt)/2,Zt=Math.abs(ut-(wt+Nt));if(Zt>Nt+vt)return!1;const qt=(zt-Ct)/2,rr=Math.abs(ft-(Ct+qt));if(rr>qt+vt)return!1;if(Zt<=Nt||rr<=qt)return!0;const pr=Zt-Nt,xr=rr-qt;return pr*pr+xr*xr<=vt*vt}}const Ol={unknown:0,flipRequired:1,flipNotRequired:2},ap=Math.tan(85*Math.PI/180);function _n(gt,ut,ft,vt,wt,Ct,Dt){const zt=ot.create();if(ft)if(Ct.name==="globe"){const Nt=ot.calculateGlobeLabelMatrix(wt,ut);ot.multiply(zt,zt,Nt)}else{const Nt=er([],Dt);zt[0]=Nt[0],zt[1]=Nt[1],zt[4]=Nt[2],zt[5]=Nt[3],vt||ot.rotateZ(zt,zt,wt.angle)}else ot.multiply(zt,wt.labelPlaneMatrix,gt);return zt}function Fl(gt,ut,ft,vt,wt,Ct,Dt){const zt=_n(gt,ut,ft,vt,wt,Ct,Dt);return Ct.name==="globe"&&ft||(zt[2]=zt[6]=zt[10]=zt[14]=0),zt}function ls(gt,ut,ft,vt,wt,Ct,Dt){if(ft){if(Ct.name==="globe"){const zt=_n(gt,ut,ft,vt,wt,Ct,Dt);return ot.invert(zt,zt),ot.multiply(zt,gt,zt),zt}{const zt=ot.clone(gt),Nt=ot.identity([]);return Nt[0]=Dt[0],Nt[1]=Dt[1],Nt[4]=Dt[2],Nt[5]=Dt[3],ot.multiply(zt,zt,Nt),vt||ot.rotateZ(zt,zt,-wt.angle),zt}}return wt.glCoordMatrix}function vs(gt,ut,ft,vt){const wt=[gt,ut,ft,1];ft?ot.transformMat4$1(wt,wt,vt):Po(wt,wt,vt);const Ct=wt[3];return wt[0]/=Ct,wt[1]/=Ct,wt[2]/=Ct,wt}function by(gt,ut){return Math.min(.5+gt/ut*.5,1.5)}function Cl(gt,ut){const ft=gt[0]/gt[3],vt=gt[1]/gt[3];return ft>=-ut[0]&&ft<=ut[0]&&vt>=-ut[1]&&vt<=ut[1]}function Zm(gt,ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt){const qt=ft.transform,rr=vt?gt.textSizeData:gt.iconSizeData,pr=ot.evaluateSizeForZoom(rr,ft.transform.zoom),xr=qt.projection.name==="globe",wr=[256/ft.width*2+1,256/ft.height*2+1],br=vt?gt.text.dynamicLayoutVertexArray:gt.icon.dynamicLayoutVertexArray;br.clear();let Pr=null;xr&&(Pr=vt?gt.text.globeExtVertexArray:gt.icon.globeExtVertexArray);const ir=gt.lineVertexArray,_r=vt?gt.text.placedSymbolArray:gt.icon.placedSymbolArray,$r=ft.transform.width/ft.transform.height;let Ir,Vr=!1;for(let Wr=0;Wr<_r.length;Wr++){const Gr=_r.get(Wr),{numGlyphs:Jr,writingMode:Yr}=Gr;if(Yr!==ot.WritingMode.vertical||Vr||Ir===ot.WritingMode.horizontal||(Vr=!0),Ir=Yr,(Gr.hidden||Yr===ot.WritingMode.vertical)&&!Vr){Qs(Jr,br);continue}Vr=!1;const an=new ot.Point(Gr.tileAnchorX,Gr.tileAnchorY);let{x:In,y:rn,z:Sn}=qt.projection.projectTilePoint(an.x,an.y,Zt.canonical);if(Nt){const[go,Qn,uo]=Nt(an);In+=go,rn+=Qn,Sn+=uo}const un=[In,rn,Sn,1];if(ot.transformMat4$1(un,un,ut),!Cl(un,wr)){Qs(Jr,br);continue}const $n=by(ft.transform.cameraToCenterDistance,un[3]),on=ot.evaluateSizeForFeature(rr,pr,Gr),wn=Dt?on/$n:on*$n,Dn=vs(In,rn,Sn,wt);if(Dn[3]<=0){Qs(Jr,br);continue}let An={};const On=Dt?null:Nt,oo=Hn(Gr,wn,!1,zt,ut,wt,Ct,gt.glyphOffsetArray,ir,br,Pr,Dn,an,An,$r,On,qt.projection,Zt,Dt);Vr=oo.useVertical,On&&oo.needsFlipping&&(An={}),(oo.notEnoughRoom||Vr||oo.needsFlipping&&Hn(Gr,wn,!0,zt,ut,wt,Ct,gt.glyphOffsetArray,ir,br,Pr,Dn,an,An,$r,On,qt.projection,Zt,Dt).notEnoughRoom)&&Qs(Jr,br)}vt?(gt.text.dynamicLayoutVertexBuffer.updateData(br),Pr&&gt.text.globeExtVertexBuffer.updateData(Pr)):(gt.icon.dynamicLayoutVertexBuffer.updateData(br),Pr&&gt.icon.globeExtVertexBuffer.updateData(Pr))}function wy(gt,ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,qt,rr,pr,xr,wr,br){const{lineStartIndex:Pr,glyphStartIndex:ir,segment:_r}=zt,$r=ir+zt.numGlyphs,Ir=Pr+zt.lineLength,Vr=ut.getoffsetX(ir),Wr=ut.getoffsetX($r-1),Gr=Ns(gt*Vr,ft,vt,wt,Ct,Dt,_r,Pr,Ir,Nt,Zt,qt,rr,pr,!0,xr,wr,br);if(!Gr)return null;const Jr=Ns(gt*Wr,ft,vt,wt,Ct,Dt,_r,Pr,Ir,Nt,Zt,qt,rr,pr,!0,xr,wr,br);return Jr?{first:Gr,last:Jr}:null}function ku(gt,ut,ft,vt){return gt===ot.WritingMode.horizontal&&Math.abs(vt)>Math.abs(ft)?{useVertical:!0}:gt===ot.WritingMode.vertical?vt>0?{needsFlipping:!0}:null:ut!==Ol.unknown&&function(wt,Ct){return wt===0||Math.abs(Ct/wt)>ap}(ft,vt)?ut===Ol.flipRequired?{needsFlipping:!0}:null:ft<0?{needsFlipping:!0}:null}function Hn(gt,ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,qt,rr,pr,xr,wr,br,Pr,ir,_r){const $r=ut/24,Ir=gt.lineOffsetX*$r,Vr=gt.lineOffsetY*$r,{lineStartIndex:Wr,glyphStartIndex:Gr,numGlyphs:Jr,segment:Yr,writingMode:an,flipState:In}=gt,rn=Wr+gt.lineLength,Sn=un=>{if(qt){const[Dn,An,On]=un.up,oo=Zt.length;ot.updateGlobeVertexNormal(qt,oo+0,Dn,An,On),ot.updateGlobeVertexNormal(qt,oo+1,Dn,An,On),ot.updateGlobeVertexNormal(qt,oo+2,Dn,An,On),ot.updateGlobeVertexNormal(qt,oo+3,Dn,An,On)}const[$n,on,wn]=un.point;ot.addDynamicAttributes(Zt,$n,on,wn,un.angle)};if(Jr>1){const un=wy($r,zt,Ir,Vr,ft,rr,pr,gt,Nt,Ct,xr,br,!1,Pr,ir,_r);if(!un)return{notEnoughRoom:!0};if(vt&&!ft){let[$n,on,wn]=un.first.point,[Dn,An,On]=un.last.point;[$n,on]=vs($n,on,wn,Dt),[Dn,An]=vs(Dn,An,On,Dt);const oo=ku(an,In,(Dn-$n)*wr,An-on);if(gt.flipState=oo&&oo.needsFlipping?Ol.flipRequired:Ol.flipNotRequired,oo)return oo}Sn(un.first);for(let $n=Gr+1;$n<Gr+Jr-1;$n++){const on=Ns($r*zt.getoffsetX($n),Ir,Vr,ft,rr,pr,Yr,Wr,rn,Nt,Ct,xr,br,!1,!1,Pr,ir,_r);if(!on)return Zt.length-=4*($n-Gr),{notEnoughRoom:!0};Sn(on)}Sn(un.last)}else{if(vt&&!ft){const $n=vs(pr.x,pr.y,0,wt),on=Wr+Yr+1,wn=new ot.Point(Nt.getx(on),Nt.gety(on)),Dn=vs(wn.x,wn.y,0,wt),An=Dn[3]>0?Dn:Ro(pr,wn,$n,1,wt,void 0,Pr,ir.canonical),On=ku(an,In,(An[0]-$n[0])*wr,An[1]-$n[1]);if(gt.flipState=On&&On.needsFlipping?Ol.flipRequired:Ol.flipNotRequired,On)return On}const un=Ns($r*zt.getoffsetX(Gr),Ir,Vr,ft,rr,pr,Yr,Wr,rn,Nt,Ct,xr,br,!1,!1,Pr,ir,_r);if(!un)return{notEnoughRoom:!0};Sn(un)}return{}}function $o(gt,ut,ft,vt,wt){const{x:Ct,y:Dt,z:zt}=vt.projectTilePoint(gt.x,gt.y,ut);if(!wt)return vs(Ct,Dt,zt,ft);const[Nt,Zt,qt]=wt(gt);return vs(Ct+Nt,Dt+Zt,zt+qt,ft)}function Ro(gt,ut,ft,vt,wt,Ct,Dt,zt){const Nt=$o(gt.sub(ut)._unit()._add(gt),zt,wt,Dt,Ct);return ot.sub(Nt,ft,Nt),ot.normalize(Nt,Nt),ot.scaleAndAdd(Nt,ft,Nt,vt)}function Ns(gt,ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,qt,rr,pr,xr,wr,br,Pr,ir){const _r=vt?gt-ut:gt+ut;let $r=_r>0?1:-1,Ir=0;vt&&($r*=-1,Ir=Math.PI),$r<0&&(Ir+=Math.PI);let Vr=zt+Dt+($r>0?0:1)|0,Wr=wt,Gr=wt,Jr=0,Yr=0;const an=Math.abs(_r),In=[],rn=[];let Sn=Ct,un=Sn;const $n=()=>Ro(un,Sn,Gr,an-Jr+1,qt,pr,br,Pr.canonical);for(;Jr+Yr<=an;){if(Vr+=$r,Vr<zt||Vr>=Nt)return null;if(Gr=Wr,un=Sn,In.push(Gr),xr&&rn.push(un),Sn=new ot.Point(Zt.getx(Vr),Zt.gety(Vr)),Wr=rr[Vr],!Wr){const uo=$o(Sn,Pr.canonical,qt,br,pr);Wr=uo[3]>0?rr[Vr]=uo:$n()}Jr+=Yr,Yr=ot.distance(Gr,Wr)}wr&&pr&&(rr[Vr]&&(Wr=$n(),Yr=ot.distance(Gr,Wr)),rr[Vr]=Wr);const on=(an-Jr)/Yr,wn=Sn.sub(un)._mult(on)._add(un),Dn=ot.sub([],Wr,Gr),An=ot.scaleAndAdd([],Gr,Dn,on);let On=[0,0,1],oo=Dn[0],go=Dn[1];if(ir&&(On=br.upVector(Pr.canonical,wn.x,wn.y),On[0]!==0||On[1]!==0||On[2]!==1)){const uo=[On[2],0,-On[0]],Ao=ot.cross([],On,uo);ot.normalize(uo,uo),ot.normalize(Ao,Ao),oo=ot.dot(Dn,uo),go=ot.dot(Dn,Ao)}if(ft){const uo=ot.cross([],On,Dn);ot.normalize(uo,uo),ot.scaleAndAdd(An,An,uo,ft*$r)}const Qn=Ir+Math.atan2(go,oo);return In.push(An),xr&&rn.push(wn),{point:An,angle:Qn,path:In,tilePath:rn,up:On}}function Qs(gt,ut){const ft=ut.length,vt=ft+4*gt;ut.resize(vt),ut.float32.fill(-1/0,4*ft,4*vt)}function Po(gt,ut,ft){const vt=ut[0],wt=ut[1];return gt[0]=ft[0]*vt+ft[4]*wt+ft[12],gt[1]=ft[1]*vt+ft[5]*wt+ft[13],gt[3]=ft[3]*vt+ft[7]*wt+ft[15],gt}const js=100;class sp{constructor(ut,ft,vt=new fu(ut.width+200,ut.height+200,25),wt=new fu(ut.width+200,ut.height+200,25)){this.transform=ut,this.grid=vt,this.ignoredGrid=wt,this.pitchfactor=Math.cos(ut._pitch)*ut.cameraToCenterDistance,this.screenRightBoundary=ut.width+js,this.screenBottomBoundary=ut.height+js,this.gridRightBoundary=ut.width+200,this.gridBottomBoundary=ut.height+200,this.fogState=ft}placeCollisionBox(ut,ft,vt,wt,Ct,Dt,zt,Nt){let Zt=vt.projectedAnchorX,qt=vt.projectedAnchorY,rr=vt.projectedAnchorZ;const pr=vt.elevation,xr=vt.tileID,wr=ut.getProjection();if(pr&&xr){const[Wr,Gr,Jr]=wr.upVector(xr.canonical,vt.tileAnchorX,vt.tileAnchorY),Yr=wr.upVectorScale(xr.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;Zt+=Wr*pr*Yr,qt+=Gr*pr*Yr,rr+=Jr*pr*Yr}const br=this.projectAndGetPerspectiveRatio(zt,Zt,qt,rr,vt.tileID,wr.name==="globe"||!!pr||this.transform.pitch>0,wr),Pr=Dt*br.perspectiveRatio,ir=(vt.x1*ft+wt.x-vt.padding)*Pr+br.point.x,_r=(vt.y1*ft+wt.y-vt.padding)*Pr+br.point.y,$r=(vt.x2*ft+wt.x+vt.padding)*Pr+br.point.x,Ir=(vt.y2*ft+wt.y+vt.padding)*Pr+br.point.y,Vr=br.perspectiveRatio<=.55||br.occluded;return!this.isInsideGrid(ir,_r,$r,Ir)||!Ct&&this.grid.hitTest(ir,_r,$r,Ir,Nt)||Vr?{box:[],offscreen:!1,occluded:br.occluded}:{box:[ir,_r,$r,Ir],offscreen:this.isOffscreen(ir,_r,$r,Ir),occluded:!1}}placeCollisionCircles(ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,qt,rr,pr,xr,wr,br){const Pr=[],ir=this.transform.elevation,_r=ut.getProjection(),$r=ir?ir.getAtTileOffsetFunc(br,this.transform.center.lat,this.transform.worldSize,_r):null,Ir=new ot.Point(vt.tileAnchorX,vt.tileAnchorY);let{x:Vr,y:Wr,z:Gr}=_r.projectTilePoint(Ir.x,Ir.y,br.canonical);if($r){const[wn,Dn,An]=$r(Ir);Vr+=wn,Wr+=Dn,Gr+=An}const Jr=_r.name==="globe",Yr=this.projectAndGetPerspectiveRatio(zt,Vr,Wr,Gr,br,Jr||!!ir||this.transform.pitch>0,_r),{perspectiveRatio:an}=Yr,In=(rr?Dt/an:Dt*an)/ot.ONE_EM,rn=vs(Vr,Wr,Gr,Nt),Sn=Yr.signedDistanceFromCamera>0?wy(In,Ct,vt.lineOffsetX*In,vt.lineOffsetY*In,!1,rn,Ir,vt,wt,Nt,{},ir&&!rr?$r:null,rr&&!!ir,_r,br,rr):null;let un=!1,$n=!1,on=!0;if(Sn&&!Yr.occluded){const wn=.5*xr*an+wr,Dn=new ot.Point(-100,-100),An=new ot.Point(this.screenRightBoundary,this.screenBottomBoundary),On=new qm,{first:oo,last:go}=Sn,Qn=oo.path.length;let uo=[];for(let io=Qn-1;io>=1;io--)uo.push(oo.path[io]);for(let io=1;io<go.path.length;io++)uo.push(go.path[io]);const Ao=2.5*wn;Zt&&(uo=uo.map(([io,Vo,Go],Wo)=>($r&&!Jr&&(Go=$r(Wo<Qn-1?oo.tilePath[Qn-1-Wo]:go.tilePath[Wo-Qn+2])[2]),vs(io,Vo,Go,Zt))),uo.some(io=>io[3]<=0)&&(uo=[]));let To=[];if(uo.length>0){let io=1/0,Vo=-1/0,Go=1/0,Wo=-1/0;for(const Ho of uo)io=Math.min(io,Ho[0]),Go=Math.min(Go,Ho[1]),Vo=Math.max(Vo,Ho[0]),Wo=Math.max(Wo,Ho[1]);Vo>=Dn.x&&io<=An.x&&Wo>=Dn.y&&Go<=An.y&&(To=[uo.map(Ho=>new ot.Point(Ho[0],Ho[1]))],(io<Dn.x||Vo>An.x||Go<Dn.y||Wo>An.y)&&(To=ot.clipLine(To,Dn.x,Dn.y,An.x,An.y)))}for(const io of To){On.reset(io,.25*wn);let Vo=0;Vo=On.length<=.5*wn?1:Math.ceil(On.paddedLength/Ao)+1;for(let Go=0;Go<Vo;Go++){const Wo=Go/Math.max(Vo-1,1),Ho=On.lerp(Wo),Ps=Ho.x+js,xs=Ho.y+js;Pr.push(Ps,xs,wn,0);const qs=Ps-wn,Al=xs-wn,$a=Ps+wn,qo=xs+wn;if(on=on&&this.isOffscreen(qs,Al,$a,qo),$n=$n||this.isInsideGrid(qs,Al,$a,qo),!ft&&this.grid.hitTestCircle(Ps,xs,wn,pr)&&(un=!0,!qt))return{circles:[],offscreen:!1,collisionDetected:un,occluded:!1}}}}return{circles:!qt&&un||!$n?[]:Pr,offscreen:on,collisionDetected:un,occluded:Yr.occluded}}queryRenderedSymbols(ut){if(ut.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const ft=[];let vt=1/0,wt=1/0,Ct=-1/0,Dt=-1/0;for(const qt of ut){const rr=new ot.Point(qt.x+js,qt.y+js);vt=Math.min(vt,rr.x),wt=Math.min(wt,rr.y),Ct=Math.max(Ct,rr.x),Dt=Math.max(Dt,rr.y),ft.push(rr)}const zt=this.grid.query(vt,wt,Ct,Dt).concat(this.ignoredGrid.query(vt,wt,Ct,Dt)),Nt={},Zt={};for(const qt of zt){const rr=qt.key;if(Nt[rr.bucketInstanceId]===void 0&&(Nt[rr.bucketInstanceId]={}),Nt[rr.bucketInstanceId][rr.featureIndex])continue;const pr=[new ot.Point(qt.x1,qt.y1),new ot.Point(qt.x2,qt.y1),new ot.Point(qt.x2,qt.y2),new ot.Point(qt.x1,qt.y2)];ot.polygonIntersectsPolygon(ft,pr)&&(Nt[rr.bucketInstanceId][rr.featureIndex]=!0,Zt[rr.bucketInstanceId]===void 0&&(Zt[rr.bucketInstanceId]=[]),Zt[rr.bucketInstanceId].push(rr.featureIndex))}return Zt}insertCollisionBox(ut,ft,vt,wt,Ct){(ft?this.ignoredGrid:this.grid).insert({bucketInstanceId:vt,featureIndex:wt,collisionGroupID:Ct},ut[0],ut[1],ut[2],ut[3])}insertCollisionCircles(ut,ft,vt,wt,Ct){const Dt=ft?this.ignoredGrid:this.grid,zt={bucketInstanceId:vt,featureIndex:wt,collisionGroupID:Ct};for(let Nt=0;Nt<ut.length;Nt+=4)Dt.insertCircle(zt,ut[Nt],ut[Nt+1],ut[Nt+2])}projectAndGetPerspectiveRatio(ut,ft,vt,wt,Ct,Dt,zt){const Nt=[ft,vt,wt,1];let Zt=!1;wt||this.transform.pitch>0?(ot.transformMat4$1(Nt,Nt,ut),this.fogState&&Ct&&zt.name!=="globe"&&(Zt=function(pr,xr,wr,br,Pr,ir){const _r=ir.calculateFogTileMatrix(Pr),$r=[xr,wr,br];return ot.transformMat4($r,$r,_r),hr(pr,$r,ir.pitch,ir._fov)}(this.fogState,ft,vt,wt,Ct.toUnwrapped(),this.transform)>.9)):Po(Nt,Nt,ut);const qt=Nt[3];return{point:new ot.Point((Nt[0]/qt+1)/2*this.transform.width+js,(-Nt[1]/qt+1)/2*this.transform.height+js),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(zt)/qt*.5,1.5),signedDistanceFromCamera:qt,occluded:Dt&&Nt[2]>qt||Zt}}isOffscreen(ut,ft,vt,wt){return vt<js||ut>=this.screenRightBoundary||wt<js||ft>this.screenBottomBoundary}isInsideGrid(ut,ft,vt,wt){return vt>=0&&ut<this.gridRightBoundary&&wt>=0&&ft<this.gridBottomBoundary}getViewportMatrix(){const ut=ot.identity([]);return ot.translate(ut,ut,[-100,-100,0]),ut}}function pu(gt,ut,ft){const vt=ut.createTileMatrix(gt,gt.worldSize,ft.toUnwrapped());return ot.multiply(new Float32Array(16),gt.projMatrix,vt)}function Us(gt,ut,ft){if(ut.projection.name===ft.projection.name)return gt.projMatrix;const vt=ft.clone();return vt.setProjection(ut.projection),pu(vt,ut.getProjection(),gt)}function ba(gt,ut,ft){return ut.name===ft.projection.name?gt.projMatrix:pu(ft,ut,gt)}class Sy{constructor(ut,ft,vt,wt){this.opacity=ut?Math.max(0,Math.min(1,ut.opacity+(ut.placed?ft:-ft))):wt&&vt?1:0,this.placed=vt}isHidden(){return this.opacity===0&&!this.placed}}class zl{constructor(ut,ft,vt,wt,Ct,Dt=!1){this.text=new Sy(ut?ut.text:null,ft,vt,Ct),this.icon=new Sy(ut?ut.icon:null,ft,wt,Ct),this.clipped=Dt}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class lp{constructor(ut,ft,vt,wt=!1){this.text=ut,this.icon=ft,this.skipFade=vt,this.clipped=wt}}class cp{constructor(){this.invProjMatrix=ot.create(),this.viewportMatrix=ot.create(),this.circles=[]}}class Km{constructor(ut,ft,vt,wt,Ct){this.bucketInstanceId=ut,this.featureIndex=ft,this.sourceLayerIndex=vt,this.bucketIndex=wt,this.tileID=Ct}}class Ey{constructor(ut){this.crossSourceCollisions=ut,this.maxGroupID=0,this.collisionGroups={}}get(ut){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[ut]){const ft=++this.maxGroupID;this.collisionGroups[ut]={ID:ft,predicate:vt=>vt.collisionGroupID===ft}}return this.collisionGroups[ut]}}function up(gt,ut,ft,vt,wt){const{horizontalAlign:Ct,verticalAlign:Dt}=ot.getAnchorAlignment(gt),zt=-(Ct-.5)*ut,Nt=-(Dt-.5)*ft,Zt=ot.evaluateVariableOffset(gt,vt);return new ot.Point(zt+Zt[0]*wt,Nt+Zt[1]*wt)}function hp(gt,ut,ft,vt,wt){const Ct=new ot.Point(gt,ut);return ft&&Ct._rotate(vt?wt:-wt),Ct}class qp{constructor(ut,ft,vt,wt,Ct){this.transform=ut.clone(),this.projection=ut.projection.name,this.collisionIndex=new sp(this.transform,Ct),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ft,this.retainedQueryData={},this.collisionGroups=new Ey(vt),this.collisionCircleArrays={},this.prevPlacement=wt,wt&&(wt.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(ut,ft,vt,wt){const Ct=vt.getBucket(ft),Dt=vt.latestFeatureIndex;if(!Ct||!Dt||ft.id!==Ct.layerIds[0])return;const zt=Ct.layers[0].layout,Nt=vt.collisionBoxArray,Zt=Math.pow(2,this.transform.zoom-vt.tileID.overscaledZ),qt=vt.tileSize/ot.EXTENT,rr=vt.tileID.toUnwrapped();this.transform.setProjection(Ct.projection);const pr=(xr=vt.tileID,wr=Ct.getProjection(),br=this.transform,wr.name===this.projection?br.calculateProjMatrix(xr.toUnwrapped()):pu(br,wr,xr));var xr,wr,br;const Pr=zt.get("text-pitch-alignment")==="map",ir=zt.get("text-rotation-alignment")==="map";ft.compileFilter();const _r=ft.dynamicFilter(),$r=ft.dynamicFilterNeedsFeature(),Ir=this.transform.calculatePixelsToTileUnitsMatrix(vt),Vr=Fl(pr,vt.tileID.canonical,Pr,ir,this.transform,Ct.getProjection(),Ir);let Wr=null;if(Pr){const Yr=ls(pr,vt.tileID.canonical,Pr,ir,this.transform,Ct.getProjection(),Ir);Wr=ot.multiply([],this.transform.labelPlaneMatrix,Yr)}let Gr=null;_r&&vt.latestFeatureIndex&&(Gr={unwrappedTileID:rr,dynamicFilter:_r,dynamicFilterNeedsFeature:$r,featureIndex:vt.latestFeatureIndex}),this.retainedQueryData[Ct.bucketInstanceId]=new Km(Ct.bucketInstanceId,Dt,Ct.sourceLayerIndex,Ct.index,vt.tileID);const Jr={bucket:Ct,layout:zt,posMatrix:pr,textLabelPlaneMatrix:Vr,labelToScreenMatrix:Wr,clippingData:Gr,scale:Zt,textPixelRatio:qt,holdingForFade:vt.holdingForFade(),collisionBoxArray:Nt,partiallyEvaluatedTextSize:ot.evaluateSizeForZoom(Ct.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:ot.evaluateSizeForZoom(Ct.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Ct.sourceID)};if(wt)for(const Yr of Ct.sortKeyRanges){const{sortKey:an,symbolInstanceStart:In,symbolInstanceEnd:rn}=Yr;ut.push({sortKey:an,symbolInstanceStart:In,symbolInstanceEnd:rn,parameters:Jr})}else ut.push({symbolInstanceStart:0,symbolInstanceEnd:Ct.symbolInstances.length,parameters:Jr})}attemptAnchorPlacement(ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,qt,rr,pr,xr,wr,br,Pr,ir,_r){const{textOffset0:$r,textOffset1:Ir,crossTileID:Vr}=pr,Wr=[$r,Ir],Gr=up(ut,vt,wt,Wr,Ct),Jr=this.collisionIndex.placeCollisionBox(wr,Ct,ft,hp(Gr.x,Gr.y,Dt,zt,this.transform.angle),rr,Nt,Zt,qt.predicate);if(Pr){const Yr=wr.getSymbolInstanceIconSize(_r,this.transform.zoom,pr.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(wr,Yr,Pr,hp(Gr.x,Gr.y,Dt,zt,this.transform.angle),rr,Nt,Zt,qt.predicate).box.length===0)return}if(Jr.box.length>0){let Yr;return this.prevPlacement&&this.prevPlacement.variableOffsets[Vr]&&this.prevPlacement.placements[Vr]&&this.prevPlacement.placements[Vr].text&&(Yr=this.prevPlacement.variableOffsets[Vr].anchor),this.variableOffsets[Vr]={textOffset:Wr,width:vt,height:wt,anchor:ut,textScale:Ct,prevAnchor:Yr},this.markUsedJustification(wr,ut,pr,br),wr.allowVerticalPlacement&&(this.markUsedOrientation(wr,br,pr),this.placedOrientations[Vr]=br),{shift:Gr,placedGlyphBoxes:Jr}}}placeLayerBucketPart(ut,ft,vt,wt){const{bucket:Ct,layout:Dt,posMatrix:zt,textLabelPlaneMatrix:Nt,labelToScreenMatrix:Zt,clippingData:qt,textPixelRatio:rr,holdingForFade:pr,collisionBoxArray:xr,partiallyEvaluatedTextSize:wr,partiallyEvaluatedIconSize:br,collisionGroup:Pr}=ut.parameters,ir=Dt.get("text-optional"),_r=Dt.get("icon-optional"),$r=Dt.get("text-allow-overlap"),Ir=Dt.get("icon-allow-overlap"),Vr=Dt.get("text-rotation-alignment")==="map",Wr=Dt.get("text-pitch-alignment")==="map",Gr=Dt.get("icon-text-fit")!=="none",Jr=Dt.get("symbol-z-order")==="viewport-y";this.transform.setProjection(Ct.projection);let Yr=$r&&(Ir||!Ct.hasIconData()||_r),an=Ir&&($r||!Ct.hasTextData()||ir);!Ct.collisionArrays&&xr&&Ct.deserializeCollisionBoxes(xr),vt&&wt&&Ct.updateCollisionDebugBuffers(this.transform.zoom,xr);const In=(rn,Sn,un)=>{const{crossTileID:$n,numVerticalGlyphVertices:on}=rn;if(qt){const $a={zoom:this.transform.zoom,pitch:this.transform.pitch};let qo=null;if(qt.dynamicFilterNeedsFeature){const Fo=this.retainedQueryData[Ct.bucketInstanceId];qo=qt.featureIndex.loadFeature({featureIndex:rn.featureIndex,bucketIndex:Fo.bucketIndex,sourceLayerIndex:Fo.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,qt.dynamicFilter)($a,qo,this.retainedQueryData[Ct.bucketInstanceId].tileID.canonical,new ot.Point(rn.tileAnchorX,rn.tileAnchorY),this.transform.calculateDistanceTileData(qt.unwrappedTileID)))return this.placements[$n]=new lp(!1,!1,!1,!0),void ft.add($n)}if(ft.has($n))return;if(pr)return void(this.placements[$n]=new lp(!1,!1,!1));let wn=!1,Dn=!1,An=!0,On=!1,oo=!1,go=null,Qn={box:null,offscreen:null,occluded:null},uo={box:null,offscreen:null,occluded:null},Ao=null,To=null,io=null,Vo=0,Go=0,Wo=0;un.textFeatureIndex?Vo=un.textFeatureIndex:rn.useRuntimeCollisionCircles&&(Vo=rn.featureIndex),un.verticalTextFeatureIndex&&(Go=un.verticalTextFeatureIndex);const Ho=$a=>{$a.tileID=this.retainedQueryData[Ct.bucketInstanceId].tileID;const qo=this.transform.elevation;(qo||$a.elevation)&&($a.elevation=qo?qo.getAtTileOffset($a.tileID,$a.tileAnchorX,$a.tileAnchorY):0)},Ps=un.textBox;if(Ps){Ho(Ps);const $a=Fo=>{let cs=ot.WritingMode.horizontal;if(Ct.allowVerticalPlacement&&!Fo&&this.prevPlacement){const ks=this.prevPlacement.placedOrientations[$n];ks&&(this.placedOrientations[$n]=ks,cs=ks,this.markUsedOrientation(Ct,cs,rn))}return cs},qo=(Fo,cs)=>{if(Ct.allowVerticalPlacement&&on>0&&un.verticalTextBox){for(const ks of Ct.writingModes)if(ks===ot.WritingMode.vertical?(Qn=cs(),uo=Qn):Qn=Fo(),Qn&&Qn.box&&Qn.box.length)break}else Qn=Fo()};if(Dt.get("text-variable-anchor")){let Fo=Dt.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[$n]){const xa=this.prevPlacement.variableOffsets[$n];Fo.indexOf(xa.anchor)>0&&(Fo=Fo.filter(Ls=>Ls!==xa.anchor),Fo.unshift(xa.anchor))}const cs=(xa,Ls,bm)=>{const wu=Ct.getSymbolInstanceTextSize(wr,rn,this.transform.zoom,Sn),kp=(xa.x2-xa.x1)*wu+2*xa.padding,Hl=(xa.y2-xa.y1)*wu+2*xa.padding,iu=Gr&&!Ir?Ls:null;iu&&Ho(iu);let Su={box:[],offscreen:!1,occluded:!1};const wm=$r?2*Fo.length:Fo.length;for(let $p=0;$p<wm;++$p){const z0=this.attemptAnchorPlacement(Fo[$p%Fo.length],xa,kp,Hl,wu,Vr,Wr,rr,zt,Pr,$p>=Fo.length,rn,Sn,Ct,bm,iu,wr,br);if(z0&&(Su=z0.placedGlyphBoxes,Su&&Su.box&&Su.box.length)){wn=!0,go=z0.shift;break}}return Su};qo(()=>cs(Ps,un.iconBox,ot.WritingMode.horizontal),()=>{const xa=un.verticalTextBox;return xa&&Ho(xa),Ct.allowVerticalPlacement&&!(Qn&&Qn.box&&Qn.box.length)&&on>0&&xa?cs(xa,un.verticalIconBox,ot.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),Qn&&(wn=Qn.box,An=Qn.offscreen,On=Qn.occluded);const ks=$a(!(!Qn||!Qn.box));if(!wn&&this.prevPlacement){const xa=this.prevPlacement.variableOffsets[$n];xa&&(this.variableOffsets[$n]=xa,this.markUsedJustification(Ct,xa.anchor,rn,ks))}}else{const Fo=(cs,ks)=>{const xa=Ct.getSymbolInstanceTextSize(wr,rn,this.transform.zoom,Sn),Ls=this.collisionIndex.placeCollisionBox(Ct,xa,cs,new ot.Point(0,0),$r,rr,zt,Pr.predicate);return Ls&&Ls.box&&Ls.box.length&&(this.markUsedOrientation(Ct,ks,rn),this.placedOrientations[$n]=ks),Ls};qo(()=>Fo(Ps,ot.WritingMode.horizontal),()=>{const cs=un.verticalTextBox;return Ct.allowVerticalPlacement&&on>0&&cs?(Ho(cs),Fo(cs,ot.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),$a(!!(Qn&&Qn.box&&Qn.box.length))}}if(Ao=Qn,wn=Ao&&Ao.box&&Ao.box.length>0,An=Ao&&Ao.offscreen,On=Ao&&Ao.occluded,rn.useRuntimeCollisionCircles){const $a=Ct.text.placedSymbolArray.get(rn.centerJustifiedTextSymbolIndex>=0?rn.centerJustifiedTextSymbolIndex:rn.verticalPlacedTextSymbolIndex),qo=ot.evaluateSizeForFeature(Ct.textSizeData,wr,$a),Fo=Dt.get("text-padding");To=this.collisionIndex.placeCollisionCircles(Ct,$r,$a,Ct.lineVertexArray,Ct.glyphOffsetArray,qo,zt,Nt,Zt,vt,Wr,Pr.predicate,rn.collisionCircleDiameter*qo/ot.ONE_EM,Fo,this.retainedQueryData[Ct.bucketInstanceId].tileID),wn=$r||To.circles.length>0&&!To.collisionDetected,An=An&&To.offscreen,On=To.occluded}if(un.iconFeatureIndex&&(Wo=un.iconFeatureIndex),un.iconBox){const $a=qo=>{Ho(qo);const Fo=Gr&&go?hp(go.x,go.y,Vr,Wr,this.transform.angle):new ot.Point(0,0),cs=Ct.getSymbolInstanceIconSize(br,this.transform.zoom,rn.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(Ct,cs,qo,Fo,Ir,rr,zt,Pr.predicate)};uo&&uo.box&&uo.box.length&&un.verticalIconBox?(io=$a(un.verticalIconBox),Dn=io.box.length>0):(io=$a(un.iconBox),Dn=io.box.length>0),An=An&&io.offscreen,oo=io.occluded}const xs=ir||rn.numHorizontalGlyphVertices===0&&on===0,qs=_r||rn.numIconVertices===0;if(xs||qs?qs?xs||(Dn=Dn&&wn):wn=Dn&&wn:Dn=wn=Dn&&wn,wn&&Ao&&Ao.box&&this.collisionIndex.insertCollisionBox(Ao.box,Dt.get("text-ignore-placement"),Ct.bucketInstanceId,uo&&uo.box&&Go?Go:Vo,Pr.ID),Dn&&io&&this.collisionIndex.insertCollisionBox(io.box,Dt.get("icon-ignore-placement"),Ct.bucketInstanceId,Wo,Pr.ID),To&&(wn&&this.collisionIndex.insertCollisionCircles(To.circles,Dt.get("text-ignore-placement"),Ct.bucketInstanceId,Vo,Pr.ID),vt)){const $a=Ct.bucketInstanceId;let qo=this.collisionCircleArrays[$a];qo===void 0&&(qo=this.collisionCircleArrays[$a]=new cp);for(let Fo=0;Fo<To.circles.length;Fo+=4)qo.circles.push(To.circles[Fo+0]),qo.circles.push(To.circles[Fo+1]),qo.circles.push(To.circles[Fo+2]),qo.circles.push(To.collisionDetected?1:0)}const Al=Ct.projection.name!=="globe";Yr=Yr&&(Al||!On),an=an&&(Al||!oo),this.placements[$n]=new lp(wn||Yr,Dn||an,An||Ct.justReloaded),ft.add($n)};if(Jr){const rn=Ct.getSortedSymbolIndexes(this.transform.angle);for(let Sn=rn.length-1;Sn>=0;--Sn){const un=rn[Sn];In(Ct.symbolInstances.get(un),un,Ct.collisionArrays[un])}}else for(let rn=ut.symbolInstanceStart;rn<ut.symbolInstanceEnd;rn++)In(Ct.symbolInstances.get(rn),rn,Ct.collisionArrays[rn]);if(vt&&Ct.bucketInstanceId in this.collisionCircleArrays){const rn=this.collisionCircleArrays[Ct.bucketInstanceId];ot.invert(rn.invProjMatrix,zt),rn.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ct.justReloaded=!1}markUsedJustification(ut,ft,vt,wt){const{leftJustifiedTextSymbolIndex:Ct,centerJustifiedTextSymbolIndex:Dt,rightJustifiedTextSymbolIndex:zt,verticalPlacedTextSymbolIndex:Nt,crossTileID:Zt}=vt,qt=ot.getAnchorJustification(ft),rr=wt===ot.WritingMode.vertical?Nt:qt==="left"?Ct:qt==="center"?Dt:qt==="right"?zt:-1;Ct>=0&&(ut.text.placedSymbolArray.get(Ct).crossTileID=rr>=0&&Ct!==rr?0:Zt),Dt>=0&&(ut.text.placedSymbolArray.get(Dt).crossTileID=rr>=0&&Dt!==rr?0:Zt),zt>=0&&(ut.text.placedSymbolArray.get(zt).crossTileID=rr>=0&&zt!==rr?0:Zt),Nt>=0&&(ut.text.placedSymbolArray.get(Nt).crossTileID=rr>=0&&Nt!==rr?0:Zt)}markUsedOrientation(ut,ft,vt){const wt=ft===ot.WritingMode.horizontal||ft===ot.WritingMode.horizontalOnly?ft:0,Ct=ft===ot.WritingMode.vertical?ft:0,{leftJustifiedTextSymbolIndex:Dt,centerJustifiedTextSymbolIndex:zt,rightJustifiedTextSymbolIndex:Nt,verticalPlacedTextSymbolIndex:Zt}=vt,qt=ut.text.placedSymbolArray;Dt>=0&&(qt.get(Dt).placedOrientation=wt),zt>=0&&(qt.get(zt).placedOrientation=wt),Nt>=0&&(qt.get(Nt).placedOrientation=wt),Zt>=0&&(qt.get(Zt).placedOrientation=Ct)}commit(ut){this.commitTime=ut,this.zoomAtLastRecencyCheck=this.transform.zoom;const ft=this.prevPlacement;let vt=!1;this.prevZoomAdjustment=ft?ft.zoomAdjustment(this.transform.zoom):0;const wt=ft?ft.symbolFadeChange(ut):1,Ct=ft?ft.opacities:{},Dt=ft?ft.variableOffsets:{},zt=ft?ft.placedOrientations:{};for(const Nt in this.placements){const Zt=this.placements[Nt],qt=Ct[Nt];qt?(this.opacities[Nt]=new zl(qt,wt,Zt.text,Zt.icon,null,Zt.clipped),vt=vt||Zt.text!==qt.text.placed||Zt.icon!==qt.icon.placed):(this.opacities[Nt]=new zl(null,wt,Zt.text,Zt.icon,Zt.skipFade,Zt.clipped),vt=vt||Zt.text||Zt.icon)}for(const Nt in Ct){const Zt=Ct[Nt];if(!this.opacities[Nt]){const qt=new zl(Zt,wt,!1,!1);qt.isHidden()||(this.opacities[Nt]=qt,vt=vt||Zt.text.placed||Zt.icon.placed)}}for(const Nt in Dt)this.variableOffsets[Nt]||!this.opacities[Nt]||this.opacities[Nt].isHidden()||(this.variableOffsets[Nt]=Dt[Nt]);for(const Nt in zt)this.placedOrientations[Nt]||!this.opacities[Nt]||this.opacities[Nt].isHidden()||(this.placedOrientations[Nt]=zt[Nt]);vt?this.lastPlacementChangeTime=ut:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=ft?ft.lastPlacementChangeTime:ut)}updateLayerOpacities(ut,ft){const vt=new Set;for(const wt of ft){const Ct=wt.getBucket(ut);Ct&&wt.latestFeatureIndex&&ut.id===Ct.layerIds[0]&&this.updateBucketOpacities(Ct,vt,wt.collisionBoxArray)}}updateBucketOpacities(ut,ft,vt){ut.hasTextData()&&ut.text.opacityVertexArray.clear(),ut.hasIconData()&&ut.icon.opacityVertexArray.clear(),ut.hasIconCollisionBoxData()&&ut.iconCollisionBox.collisionVertexArray.clear(),ut.hasTextCollisionBoxData()&&ut.textCollisionBox.collisionVertexArray.clear();const wt=ut.layers[0].layout,Ct=!!ut.layers[0].dynamicFilter(),Dt=new zl(null,0,!1,!1,!0),zt=wt.get("text-allow-overlap"),Nt=wt.get("icon-allow-overlap"),Zt=wt.get("text-variable-anchor"),qt=wt.get("text-rotation-alignment")==="map",rr=wt.get("text-pitch-alignment")==="map",pr=wt.get("icon-text-fit")!=="none",xr=new zl(null,0,zt&&(Nt||!ut.hasIconData()||wt.get("icon-optional")),Nt&&(zt||!ut.hasTextData()||wt.get("text-optional")),!0);!ut.collisionArrays&&vt&&(ut.hasIconCollisionBoxData()||ut.hasTextCollisionBoxData())&&ut.deserializeCollisionBoxes(vt);const wr=(Pr,ir,_r)=>{for(let $r=0;$r<ir/4;$r++)Pr.opacityVertexArray.emplaceBack(_r)};let br=0;for(let Pr=0;Pr<ut.symbolInstances.length;Pr++){const ir=ut.symbolInstances.get(Pr),{numHorizontalGlyphVertices:_r,numVerticalGlyphVertices:$r,crossTileID:Ir,numIconVertices:Vr}=ir,Wr=ft.has(Ir);let Gr=this.opacities[Ir];Wr?Gr=Dt:Gr||(Gr=xr,this.opacities[Ir]=Gr),ft.add(Ir);const Jr=_r>0||$r>0,Yr=Vr>0,an=this.placedOrientations[Ir],In=an===ot.WritingMode.vertical,rn=an===ot.WritingMode.horizontal||an===ot.WritingMode.horizontalOnly;if(!Jr&&!Yr||Gr.isHidden()||br++,Jr){const Sn=dp(Gr.text);wr(ut.text,_r,In?rs:Sn),wr(ut.text,$r,rn?rs:Sn);const un=Gr.text.isHidden(),{leftJustifiedTextSymbolIndex:$n,centerJustifiedTextSymbolIndex:on,rightJustifiedTextSymbolIndex:wn,verticalPlacedTextSymbolIndex:Dn}=ir,An=ut.text.placedSymbolArray,On=un||In?1:0;$n>=0&&(An.get($n).hidden=On),on>=0&&(An.get(on).hidden=On),wn>=0&&(An.get(wn).hidden=On),Dn>=0&&(An.get(Dn).hidden=un||rn?1:0);const oo=this.variableOffsets[Ir];oo&&this.markUsedJustification(ut,oo.anchor,ir,an);const go=this.placedOrientations[Ir];go&&(this.markUsedJustification(ut,"left",ir,go),this.markUsedOrientation(ut,go,ir))}if(Yr){const Sn=dp(Gr.icon),{placedIconSymbolIndex:un,verticalPlacedIconSymbolIndex:$n}=ir,on=ut.icon.placedSymbolArray,wn=Gr.icon.isHidden()?1:0;un>=0&&(wr(ut.icon,Vr,In?rs:Sn),on.get(un).hidden=wn),$n>=0&&(wr(ut.icon,ir.numVerticalIconVertices,rn?rs:Sn),on.get($n).hidden=wn)}if(ut.hasIconCollisionBoxData()||ut.hasTextCollisionBoxData()){const Sn=ut.collisionArrays[Pr];if(Sn){let un=new ot.Point(0,0),$n=!0;if(Sn.textBox||Sn.verticalTextBox){if(Zt){const wn=this.variableOffsets[Ir];wn?(un=up(wn.anchor,wn.width,wn.height,wn.textOffset,wn.textScale),qt&&un._rotate(rr?this.transform.angle:-this.transform.angle)):$n=!1}Ct&&($n=!Gr.clipped),Sn.textBox&&$u(ut.textCollisionBox.collisionVertexArray,Gr.text.placed,!$n||In,un.x,un.y),Sn.verticalTextBox&&$u(ut.textCollisionBox.collisionVertexArray,Gr.text.placed,!$n||rn,un.x,un.y)}const on=$n&&!!(!rn&&Sn.verticalIconBox);Sn.iconBox&&$u(ut.iconCollisionBox.collisionVertexArray,Gr.icon.placed,on,pr?un.x:0,pr?un.y:0),Sn.verticalIconBox&&$u(ut.iconCollisionBox.collisionVertexArray,Gr.icon.placed,!on,pr?un.x:0,pr?un.y:0)}}}if(ut.fullyClipped=br===0,ut.sortFeatures(this.transform.angle),this.retainedQueryData[ut.bucketInstanceId]&&(this.retainedQueryData[ut.bucketInstanceId].featureSortOrder=ut.featureSortOrder),ut.hasTextData()&&ut.text.opacityVertexBuffer&&ut.text.opacityVertexBuffer.updateData(ut.text.opacityVertexArray),ut.hasIconData()&&ut.icon.opacityVertexBuffer&&ut.icon.opacityVertexBuffer.updateData(ut.icon.opacityVertexArray),ut.hasIconCollisionBoxData()&&ut.iconCollisionBox.collisionVertexBuffer&&ut.iconCollisionBox.collisionVertexBuffer.updateData(ut.iconCollisionBox.collisionVertexArray),ut.hasTextCollisionBoxData()&&ut.textCollisionBox.collisionVertexBuffer&&ut.textCollisionBox.collisionVertexBuffer.updateData(ut.textCollisionBox.collisionVertexArray),ut.bucketInstanceId in this.collisionCircleArrays){const Pr=this.collisionCircleArrays[ut.bucketInstanceId];ut.placementInvProjMatrix=Pr.invProjMatrix,ut.placementViewportMatrix=Pr.viewportMatrix,ut.collisionCircleArray=Pr.circles,delete this.collisionCircleArrays[ut.bucketInstanceId]}}symbolFadeChange(ut){return this.fadeDuration===0?1:(ut-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(ut){return Math.max(0,(this.transform.zoom-ut)/1.5)}hasTransitions(ut){return this.stale||ut-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(ut,ft){const vt=this.zoomAtLastRecencyCheck===ft?1-this.zoomAdjustment(ft):1;return this.zoomAtLastRecencyCheck=ft,this.commitTime+this.fadeDuration*vt>ut}setStale(){this.stale=!0}}function $u(gt,ut,ft,vt,wt){gt.emplaceBack(ut?1:0,ft?1:0,vt||0,wt||0),gt.emplaceBack(ut?1:0,ft?1:0,vt||0,wt||0),gt.emplaceBack(ut?1:0,ft?1:0,vt||0,wt||0),gt.emplaceBack(ut?1:0,ft?1:0,vt||0,wt||0)}const $s=Math.pow(2,25),as=Math.pow(2,24),Xm=Math.pow(2,17),Ym=Math.pow(2,16),Is=Math.pow(2,9),Gs=Math.pow(2,8),Cy=Math.pow(2,1);function dp(gt){if(gt.opacity===0&&!gt.placed)return 0;if(gt.opacity===1&&gt.placed)return 4294967295;const ut=gt.placed?1:0,ft=Math.floor(127*gt.opacity);return ft*$s+ut*as+ft*Xm+ut*Ym+ft*Is+ut*Gs+ft*Cy+ut}const rs=0;class fp{constructor(ut){this._sortAcrossTiles=ut.layout.get("symbol-z-order")!=="viewport-y"&&ut.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(ut,ft,vt,wt,Ct){const Dt=this._bucketParts;for(;this._currentTileIndex<ut.length;)if(ft.getBucketParts(Dt,wt,ut[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,Ct())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Dt.sort((zt,Nt)=>zt.sortKey-Nt.sortKey));this._currentPartIndex<Dt.length;){const zt=Dt[this._currentPartIndex];if(ft.placeLayerBucketPart(zt,this._seenCrossTileIDs,vt,zt.symbolInstanceStart===0),this._currentPartIndex++,Ct())return!0}return!1}}class Qm{constructor(ut,ft,vt,wt,Ct,Dt,zt,Nt){this.placement=new qp(ut,Ct,Dt,zt,Nt),this._currentPlacementIndex=ft.length-1,this._forceFullPlacement=vt,this._showCollisionBoxes=wt,this._done=!1}isDone(){return this._done}continuePlacement(ut,ft,vt){const wt=ot.exported.now(),Ct=()=>{const Dt=ot.exported.now()-wt;return!this._forceFullPlacement&&Dt>2};for(;this._currentPlacementIndex>=0;){const Dt=ft[ut[this._currentPlacementIndex]],zt=this.placement.collisionIndex.transform.zoom;if(Dt.type==="symbol"&&(!Dt.minzoom||Dt.minzoom<=zt)&&(!Dt.maxzoom||Dt.maxzoom>zt)){if(this._inProgressLayer||(this._inProgressLayer=new fp(Dt)),this._inProgressLayer.continuePlacement(vt[Dt.source],this.placement,this._showCollisionBoxes,Dt,Ct))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(ut){return this.placement.commit(ut),this.placement}}const mu=512/ot.EXTENT/2;class Ss{constructor(ut,ft,vt){this.tileID=ut,this.bucketInstanceId=vt,this.index=new ot.KDBush(ft.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const wt=ut.canonical.x*ot.EXTENT,Ct=ut.canonical.y*ot.EXTENT;for(let Dt=0;Dt<ft.length;Dt++){const{key:zt,crossTileID:Nt,tileAnchorX:Zt,tileAnchorY:qt}=ft.get(Dt),rr=Math.floor((wt+Zt)*mu),pr=Math.floor((Ct+qt)*mu);this.index.add(rr,pr),this.keys.push(zt),this.crossTileIDs.push(Nt)}this.index.finish()}findMatches(ut,ft,vt){const wt=this.tileID.canonical.z<ft.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ft.canonical.z),Ct=mu/Math.pow(2,ft.canonical.z-this.tileID.canonical.z),Dt=ft.canonical.x*ot.EXTENT,zt=ft.canonical.y*ot.EXTENT;for(let Nt=0;Nt<ut.length;Nt++){const Zt=ut.get(Nt);if(Zt.crossTileID)continue;const{key:qt,tileAnchorX:rr,tileAnchorY:pr}=Zt,xr=Math.floor((Dt+rr)*Ct),wr=Math.floor((zt+pr)*Ct),br=this.index.range(xr-wt,wr-wt,xr+wt,wr+wt);for(const Pr of br){const ir=this.crossTileIDs[Pr];if(this.keys[Pr]===qt&&!vt.has(ir)){vt.add(ir),Zt.crossTileID=ir;break}}}}}class Jm{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class _g{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(ut){const ft=Math.round((ut-this.lng)/360);if(ft!==0)for(const vt in this.indexes){const wt=this.indexes[vt],Ct={};for(const Dt in wt){const zt=wt[Dt];zt.tileID=zt.tileID.unwrapTo(zt.tileID.wrap+ft),Ct[zt.tileID.key]=zt}this.indexes[vt]=Ct}this.lng=ut}addBucket(ut,ft,vt){if(this.indexes[ut.overscaledZ]&&this.indexes[ut.overscaledZ][ut.key]){if(this.indexes[ut.overscaledZ][ut.key].bucketInstanceId===ft.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(ut.overscaledZ,this.indexes[ut.overscaledZ][ut.key])}for(let Ct=0;Ct<ft.symbolInstances.length;Ct++)ft.symbolInstances.get(Ct).crossTileID=0;this.usedCrossTileIDs[ut.overscaledZ]||(this.usedCrossTileIDs[ut.overscaledZ]=new Set);const wt=this.usedCrossTileIDs[ut.overscaledZ];for(const Ct in this.indexes){const Dt=this.indexes[Ct];if(Number(Ct)>ut.overscaledZ)for(const zt in Dt){const Nt=Dt[zt];Nt.tileID.isChildOf(ut)&&Nt.findMatches(ft.symbolInstances,ut,wt)}else{const zt=Dt[ut.scaledTo(Number(Ct)).key];zt&&zt.findMatches(ft.symbolInstances,ut,wt)}}for(let Ct=0;Ct<ft.symbolInstances.length;Ct++){const Dt=ft.symbolInstances.get(Ct);Dt.crossTileID||(Dt.crossTileID=vt.generate(),wt.add(Dt.crossTileID))}return this.indexes[ut.overscaledZ]===void 0&&(this.indexes[ut.overscaledZ]={}),this.indexes[ut.overscaledZ][ut.key]=new Ss(ut,ft.symbolInstances,ft.bucketInstanceId),!0}removeBucketCrossTileIDs(ut,ft){for(const vt of ft.crossTileIDs)this.usedCrossTileIDs[ut].delete(vt)}removeStaleBuckets(ut){let ft=!1;for(const vt in this.indexes){const wt=this.indexes[vt];for(const Ct in wt)ut[wt[Ct].bucketInstanceId]||(this.removeBucketCrossTileIDs(vt,wt[Ct]),delete wt[Ct],ft=!0)}return ft}}class Bl{constructor(){this.layerIndexes={},this.crossTileIDs=new Jm,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(ut,ft,vt,wt){let Ct=this.layerIndexes[ut.id];Ct===void 0&&(Ct=this.layerIndexes[ut.id]=new _g);let Dt=!1;const zt={};wt.name!=="globe"&&Ct.handleWrapJump(vt);for(const Nt of ft){const Zt=Nt.getBucket(ut);Zt&&ut.id===Zt.layerIds[0]&&(Zt.bucketInstanceId||(Zt.bucketInstanceId=++this.maxBucketInstanceId),Ct.addBucket(Nt.tileID,Zt,this.crossTileIDs)&&(Dt=!0),zt[Zt.bucketInstanceId]=!0)}return Ct.removeStaleBuckets(zt)&&(Dt=!0),Dt}pruneUnusedLayers(ut){const ft={};ut.forEach(vt=>{ft[vt]=!0});for(const vt in this.layerIndexes)ft[vt]||delete this.layerIndexes[vt]}}const ru=(gt,ut)=>ot.emitValidationErrors(gt,ut&&ut.filter(ft=>ft.identifier!=="source.canvas")),Zp=ot.pick(Bo,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),H1=ot.pick(Bo,["setCenter","setZoom","setBearing","setPitch"]),e0={version:8,layers:[],sources:{}},Iu={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Tl extends ot.Evented{constructor(ut,ft={}){super(),this.map=ut,this.dispatcher=new lr(Ts(),this),this.imageManager=new ur,this.imageManager.setEventedParent(this),this.glyphManager=new ot.GlyphManager(ut._requestManager,ft.localFontFamily?ot.LocalGlyphMode.all:ft.localIdeographFontFamily?ot.LocalGlyphMode.ideographs:ot.LocalGlyphMode.none,ft.localFontFamily||ft.localIdeographFontFamily),this.crossTileSymbolIndex=new Bl,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",ot.getReferrer());const vt=this;this._rtlTextPluginCallback=Tl.registerForPluginStateChange(wt=>{vt.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:wt.pluginStatus,pluginURL:wt.pluginURL},(Ct,Dt)=>{if(ot.triggerPluginCompletionEvent(Ct),Dt&&Dt.every(zt=>zt))for(const zt in vt._sourceCaches){const Nt=vt._sourceCaches[zt],Zt=Nt.getSource().type;Zt!=="vector"&&Zt!=="geojson"||Nt.reload()}})}),this.on("data",wt=>{if(wt.dataType!=="source"||wt.sourceDataType!=="metadata")return;const Ct=this.getSource(wt.sourceId);if(Ct&&Ct.vectorLayerIds)for(const Dt in this._layers){const zt=this._layers[Dt];zt.source===Ct.id&&this._validateLayer(zt)}})}loadURL(ut,ft={}){this.fire(new ot.Event("dataloading",{dataType:"style"}));const vt=typeof ft.validate=="boolean"?ft.validate:!ot.isMapboxURL(ut);ut=this.map._requestManager.normalizeStyleURL(ut,ft.accessToken);const wt=this.map._requestManager.transformRequest(ut,ot.ResourceType.Style);this._request=ot.getJSON(wt,(Ct,Dt)=>{this._request=null,Ct?this.fire(new ot.ErrorEvent(Ct)):Dt&&this._load(Dt,vt)})}loadJSON(ut,ft={}){this.fire(new ot.Event("dataloading",{dataType:"style"})),this._request=ot.exported.frame(()=>{this._request=null,this._load(ut,ft.validate!==!1)})}loadEmpty(){this.fire(new ot.Event("dataloading",{dataType:"style"})),this._load(e0,!1)}_updateLayerCount(ut,ft){const vt=ft?1:-1;ut.is3D()&&(this._num3DLayers+=vt),ut.type==="circle"&&(this._numCircleLayers+=vt),ut.type==="symbol"&&(this._numSymbolLayers+=vt)}_load(ut,ft){if(ft&&ru(this,ot.validateStyle(ut)))return;this._loaded=!0,this.stylesheet=ot.clone$1(ut),this._updateMapProjection();for(const wt in ut.sources)this.addSource(wt,ut.sources[wt],{validate:!1});this._changed=!1,ut.sprite?this._loadSprite(ut.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(ut.glyphs);const vt=xy(this.stylesheet.layers);this._order=vt.map(wt=>wt.id),this._layers={},this._serializedLayers={};for(const wt of vt){const Ct=ot.createStyleLayer(wt);Ct.setEventedParent(this,{layer:{id:Ct.id}}),this._layers[Ct.id]=Ct,this._serializedLayers[Ct.id]=Ct.serialize(),this._updateLayerCount(Ct,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Lr(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new ot.Event("data",{dataType:"style"})),this.fire(new ot.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(ut){ut?this.stylesheet.projection=ut:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(ut){this._spriteRequest=function(ft,vt,wt){let Ct,Dt,zt;const Nt=ot.exported.devicePixelRatio>1?"@2x":"";let Zt=ot.getJSON(vt.transformRequest(vt.normalizeSpriteURL(ft,Nt,".json"),ot.ResourceType.SpriteJSON),(pr,xr)=>{Zt=null,zt||(zt=pr,Ct=xr,rr())}),qt=ot.getImage(vt.transformRequest(vt.normalizeSpriteURL(ft,Nt,".png"),ot.ResourceType.SpriteImage),(pr,xr)=>{qt=null,zt||(zt=pr,Dt=xr,rr())});function rr(){if(zt)wt(zt);else if(Ct&&Dt){const pr=ot.exported.getImageData(Dt),xr={};for(const wr in Ct){const{width:br,height:Pr,x:ir,y:_r,sdf:$r,pixelRatio:Ir,stretchX:Vr,stretchY:Wr,content:Gr}=Ct[wr],Jr=new ot.RGBAImage({width:br,height:Pr});ot.RGBAImage.copy(pr,Jr,{x:ir,y:_r},{x:0,y:0},{width:br,height:Pr}),xr[wr]={data:Jr,pixelRatio:Ir,sdf:$r,stretchX:Vr,stretchY:Wr,content:Gr}}wt(null,xr)}}return{cancel(){Zt&&(Zt.cancel(),Zt=null),qt&&(qt.cancel(),qt=null)}}}(ut,this.map._requestManager,(ft,vt)=>{if(this._spriteRequest=null,ft)this.fire(new ot.ErrorEvent(ft));else if(vt)for(const wt in vt)this.imageManager.addImage(wt,vt[wt]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new ot.Event("data",{dataType:"style"}))})}_validateLayer(ut){const ft=this.getSource(ut.source);if(!ft)return;const vt=ut.sourceLayer;vt&&(ft.type==="geojson"||ft.vectorLayerIds&&ft.vectorLayerIds.indexOf(vt)===-1)&&this.fire(new ot.ErrorEvent(new Error(`Source layer "${vt}" does not exist on source "${ft.id}" as specified by style layer "${ut.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const ut in this._sourceCaches)if(!this._sourceCaches[ut].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(ut){const ft=[];for(const vt of ut){const wt=this._layers[vt];wt.type!=="custom"&&ft.push(wt.serialize())}return ft}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const ut in this._sourceCaches)if(this._sourceCaches[ut].hasTransition())return!0;for(const ut in this._layers)if(this._layers[ut].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(ut){return!!this.terrain&&(typeof ut.isLayerDraped=="function"?ut.isLayerDraped():Iu[ut.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(ut){if(!this._loaded)return;const ft=this._changed;if(this._changed){const wt=Object.keys(this._updatedLayers),Ct=Object.keys(this._removedLayers);(wt.length||Ct.length)&&this._updateWorkerLayers(wt,Ct);for(const Dt in this._updatedSources){const zt=this._updatedSources[Dt];zt==="reload"?this._reloadSource(Dt):zt==="clear"&&this._clearSource(Dt)}this._updateTilesForChangedImages();for(const Dt in this._updatedPaintProps)this._layers[Dt].updateTransitions(ut);this.light.updateTransitions(ut),this.fog&&this.fog.updateTransitions(ut),this._resetUpdates()}const vt={};for(const wt in this._sourceCaches){const Ct=this._sourceCaches[wt];vt[wt]=Ct.used,Ct.used=!1}for(const wt of this._order){const Ct=this._layers[wt];if(Ct.recalculate(ut,this._availableImages),!Ct.isHidden(ut.zoom)){const zt=this._getLayerSourceCache(Ct);zt&&(zt.used=!0)}const Dt=this.map.painter;if(Dt){const zt=Ct.getProgramIds();if(!zt)continue;const Nt=Ct.getProgramConfiguration(ut.zoom);for(const Zt of zt)Dt.useProgram(Zt,Nt)}}for(const wt in vt){const Ct=this._sourceCaches[wt];vt[wt]!==Ct.used&&Ct.getSource().fire(new ot.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Ct.getSource().id}))}this.light.recalculate(ut),this.terrain&&this.terrain.recalculate(ut),this.fog&&this.fog.recalculate(ut),this.z=ut.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),ft&&this.fire(new ot.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const ut=Object.keys(this._changedImages);if(ut.length){for(const ft in this._sourceCaches)this._sourceCaches[ft].reloadTilesForDependencies(["icons","patterns"],ut);this._changedImages={}}}_updateWorkerLayers(ut,ft){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ut),removedIds:ft})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(ut){if(this._checkLoaded(),ru(this,ot.validateStyle(ut)))return!1;(ut=ot.clone$1(ut)).layers=xy(ut.layers);const ft=function(wt,Ct){if(!wt)return[{command:Bo.setStyle,args:[Ct]}];let Dt=[];try{if(!mt(wt.version,Ct.version))return[{command:Bo.setStyle,args:[Ct]}];mt(wt.center,Ct.center)||Dt.push({command:Bo.setCenter,args:[Ct.center]}),mt(wt.zoom,Ct.zoom)||Dt.push({command:Bo.setZoom,args:[Ct.zoom]}),mt(wt.bearing,Ct.bearing)||Dt.push({command:Bo.setBearing,args:[Ct.bearing]}),mt(wt.pitch,Ct.pitch)||Dt.push({command:Bo.setPitch,args:[Ct.pitch]}),mt(wt.sprite,Ct.sprite)||Dt.push({command:Bo.setSprite,args:[Ct.sprite]}),mt(wt.glyphs,Ct.glyphs)||Dt.push({command:Bo.setGlyphs,args:[Ct.glyphs]}),mt(wt.transition,Ct.transition)||Dt.push({command:Bo.setTransition,args:[Ct.transition]}),mt(wt.light,Ct.light)||Dt.push({command:Bo.setLight,args:[Ct.light]}),mt(wt.fog,Ct.fog)||Dt.push({command:Bo.setFog,args:[Ct.fog]}),mt(wt.projection,Ct.projection)||Dt.push({command:Bo.setProjection,args:[Ct.projection]});const zt={},Nt=[];(function(rr,pr,xr,wr){let br;for(br in pr=pr||{},rr=rr||{})rr.hasOwnProperty(br)&&(pr.hasOwnProperty(br)||np(br,xr,wr));for(br in pr){if(!pr.hasOwnProperty(br))continue;const Pr=pr[br];rr.hasOwnProperty(br)?mt(rr[br],Pr)||(rr[br].type==="geojson"&&Pr.type==="geojson"&&Hp(rr,pr,br)?xr.push({command:Bo.setGeoJSONSourceData,args:[br,Pr.data]}):Wm(br,pr,xr,wr)):Gm(br,pr,xr)}})(wt.sources,Ct.sources,Nt,zt);const Zt=[];wt.layers&&wt.layers.forEach(rr=>{rr.source&&zt[rr.source]?Dt.push({command:Bo.removeLayer,args:[rr.id]}):Zt.push(rr)});let qt=wt.terrain;qt&&zt[qt.source]&&(Dt.push({command:Bo.setTerrain,args:[void 0]}),qt=void 0),Dt=Dt.concat(Nt),mt(qt,Ct.terrain)||Dt.push({command:Bo.setTerrain,args:[Ct.terrain]}),function(rr,pr,xr){pr=pr||[];const wr=(rr=rr||[]).map(Dl),br=pr.map(Dl),Pr=rr.reduce(Hm,{}),ir=pr.reduce(Hm,{}),_r=wr.slice(),$r=Object.create(null);let Ir,Vr,Wr,Gr,Jr,Yr,an;for(Ir=0,Vr=0;Ir<wr.length;Ir++)Wr=wr[Ir],ir.hasOwnProperty(Wr)?Vr++:(xr.push({command:Bo.removeLayer,args:[Wr]}),_r.splice(_r.indexOf(Wr,Vr),1));for(Ir=0,Vr=0;Ir<br.length;Ir++)Wr=br[br.length-1-Ir],_r[_r.length-1-Ir]!==Wr&&(Pr.hasOwnProperty(Wr)?(xr.push({command:Bo.removeLayer,args:[Wr]}),_r.splice(_r.lastIndexOf(Wr,_r.length-Vr),1)):Vr++,Yr=_r[_r.length-Ir],xr.push({command:Bo.addLayer,args:[ir[Wr],Yr]}),_r.splice(_r.length-Ir,0,Wr),$r[Wr]=!0);for(Ir=0;Ir<br.length;Ir++)if(Wr=br[Ir],Gr=Pr[Wr],Jr=ir[Wr],!$r[Wr]&&!mt(Gr,Jr))if(mt(Gr.source,Jr.source)&&mt(Gr["source-layer"],Jr["source-layer"])&&mt(Gr.type,Jr.type)){for(an in El(Gr.layout,Jr.layout,xr,Wr,null,Bo.setLayoutProperty),El(Gr.paint,Jr.paint,xr,Wr,null,Bo.setPaintProperty),mt(Gr.filter,Jr.filter)||xr.push({command:Bo.setFilter,args:[Wr,Jr.filter]}),mt(Gr.minzoom,Jr.minzoom)&&mt(Gr.maxzoom,Jr.maxzoom)||xr.push({command:Bo.setLayerZoomRange,args:[Wr,Jr.minzoom,Jr.maxzoom]}),Gr)Gr.hasOwnProperty(an)&&an!=="layout"&&an!=="paint"&&an!=="filter"&&an!=="metadata"&&an!=="minzoom"&&an!=="maxzoom"&&(an.indexOf("paint.")===0?El(Gr[an],Jr[an],xr,Wr,an.slice(6),Bo.setPaintProperty):mt(Gr[an],Jr[an])||xr.push({command:Bo.setLayerProperty,args:[Wr,an,Jr[an]]}));for(an in Jr)Jr.hasOwnProperty(an)&&!Gr.hasOwnProperty(an)&&an!=="layout"&&an!=="paint"&&an!=="filter"&&an!=="metadata"&&an!=="minzoom"&&an!=="maxzoom"&&(an.indexOf("paint.")===0?El(Gr[an],Jr[an],xr,Wr,an.slice(6),Bo.setPaintProperty):mt(Gr[an],Jr[an])||xr.push({command:Bo.setLayerProperty,args:[Wr,an,Jr[an]]}))}else xr.push({command:Bo.removeLayer,args:[Wr]}),Yr=_r[_r.lastIndexOf(Wr)+1],xr.push({command:Bo.addLayer,args:[Jr,Yr]})}(Zt,Ct.layers,Dt)}catch(zt){console.warn("Unable to compute style diff:",zt),Dt=[{command:Bo.setStyle,args:[Ct]}]}return Dt}(this.serialize(),ut).filter(wt=>!(wt.command in H1));if(ft.length===0)return!1;const vt=ft.filter(wt=>!(wt.command in Zp));if(vt.length>0)throw new Error(`Unimplemented: ${vt.map(wt=>wt.command).join(", ")}.`);return ft.forEach(wt=>{wt.command!=="setTransition"&&wt.command!=="setProjection"&&this[wt.command].apply(this,wt.args)}),this.stylesheet=ut,this._updateMapProjection(),!0}addImage(ut,ft){return this.getImage(ut)?this.fire(new ot.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(ut,ft),this._afterImageUpdated(ut),this)}updateImage(ut,ft){this.imageManager.updateImage(ut,ft)}getImage(ut){return this.imageManager.getImage(ut)}removeImage(ut){return this.getImage(ut)?(this.imageManager.removeImage(ut),this._afterImageUpdated(ut),this):this.fire(new ot.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(ut){this._availableImages=this.imageManager.listImages(),this._changedImages[ut]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new ot.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(ut,ft,vt={}){if(this._checkLoaded(),this.getSource(ut)!==void 0)throw new Error("There is already a source with this ID");if(!ft.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(ft).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(ft.type)>=0&&this._validate(ot.validateSource,`sources.${ut}`,ft,null,vt))return;this.map&&this.map._collectResourceTiming&&(ft.collectResourceTiming=!0);const wt=co(ut,ft,this.dispatcher,this);wt.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(ut),source:wt.serialize(),sourceId:ut}));const Ct=Dt=>{const zt=(Dt?"symbol:":"other:")+ut,Nt=this._sourceCaches[zt]=new ot.SourceCache(zt,wt,Dt);(Dt?this._symbolSourceCaches:this._otherSourceCaches)[ut]=Nt,Nt.style=this,Nt.onAdd(this.map)};Ct(!1),ft.type!=="vector"&&ft.type!=="geojson"||Ct(!0),wt.onAdd&&wt.onAdd(this.map),this._changed=!0}removeSource(ut){this._checkLoaded();const ft=this.getSource(ut);if(!ft)throw new Error("There is no source with this ID");for(const wt in this._layers)if(this._layers[wt].source===ut)return this.fire(new ot.ErrorEvent(new Error(`Source "${ut}" cannot be removed while layer "${wt}" is using it.`)));if(this.terrain&&this.terrain.get().source===ut)return this.fire(new ot.ErrorEvent(new Error(`Source "${ut}" cannot be removed while terrain is using it.`)));const vt=this._getSourceCaches(ut);for(const wt of vt)delete this._sourceCaches[wt.id],delete this._updatedSources[wt.id],wt.fire(new ot.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:wt.getSource().id})),wt.setEventedParent(null),wt.clearTiles();return delete this._otherSourceCaches[ut],delete this._symbolSourceCaches[ut],ft.setEventedParent(null),ft.onRemove&&ft.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(ut,ft){this._checkLoaded(),this.getSource(ut).setData(ft),this._changed=!0}getSource(ut){const ft=this._getSourceCache(ut);return ft&&ft.getSource()}_getSources(){const ut=[];for(const ft in this._otherSourceCaches){const vt=this._getSourceCache(ft);vt&&ut.push(vt.getSource())}return ut}addLayer(ut,ft,vt={}){this._checkLoaded();const wt=ut.id;if(this.getLayer(wt))return void this.fire(new ot.ErrorEvent(new Error(`Layer with id "${wt}" already exists on this map`)));let Ct;if(ut.type==="custom"){if(ru(this,ot.validateCustomStyleLayer(ut)))return;Ct=ot.createStyleLayer(ut)}else{if(typeof ut.source=="object"&&(this.addSource(wt,ut.source),ut=ot.clone$1(ut),ut=ot.extend(ut,{source:wt})),this._validate(ot.validateLayer,`layers.${wt}`,ut,{arrayIndex:-1},vt))return;Ct=ot.createStyleLayer(ut),this._validateLayer(Ct),Ct.setEventedParent(this,{layer:{id:wt}}),this._serializedLayers[Ct.id]=Ct.serialize(),this._updateLayerCount(Ct,!0)}const Dt=ft?this._order.indexOf(ft):this._order.length;if(ft&&Dt===-1)return void this.fire(new ot.ErrorEvent(new Error(`Layer with id "${ft}" does not exist on this map.`)));this._order.splice(Dt,0,wt),this._layerOrderChanged=!0,this._layers[wt]=Ct;const zt=this._getLayerSourceCache(Ct);if(this._removedLayers[wt]&&Ct.source&&zt&&Ct.type!=="custom"){const Nt=this._removedLayers[wt];delete this._removedLayers[wt],Nt.type!==Ct.type?this._updatedSources[Ct.source]="clear":(this._updatedSources[Ct.source]="reload",zt.pause())}this._updateLayer(Ct),Ct.onAdd&&Ct.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(ut,ft){if(this._checkLoaded(),this._changed=!0,!this._layers[ut])return void this.fire(new ot.ErrorEvent(new Error(`The layer '${ut}' does not exist in the map's style and cannot be moved.`)));if(ut===ft)return;const vt=this._order.indexOf(ut);this._order.splice(vt,1);const wt=ft?this._order.indexOf(ft):this._order.length;ft&&wt===-1?this.fire(new ot.ErrorEvent(new Error(`Layer with id "${ft}" does not exist on this map.`))):(this._order.splice(wt,0,ut),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(ut){this._checkLoaded();const ft=this._layers[ut];if(!ft)return void this.fire(new ot.ErrorEvent(new Error(`The layer '${ut}' does not exist in the map's style and cannot be removed.`)));ft.setEventedParent(null),this._updateLayerCount(ft,!1);const vt=this._order.indexOf(ut);this._order.splice(vt,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ut]=ft,delete this._layers[ut],delete this._serializedLayers[ut],delete this._updatedLayers[ut],delete this._updatedPaintProps[ut],ft.onRemove&&ft.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(ut){return this._layers[ut]}hasLayer(ut){return ut in this._layers}hasLayerType(ut){for(const ft in this._layers)if(this._layers[ft].type===ut)return!0;return!1}setLayerZoomRange(ut,ft,vt){this._checkLoaded();const wt=this.getLayer(ut);wt?wt.minzoom===ft&&wt.maxzoom===vt||(ft!=null&&(wt.minzoom=ft),vt!=null&&(wt.maxzoom=vt),this._updateLayer(wt)):this.fire(new ot.ErrorEvent(new Error(`The layer '${ut}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(ut,ft,vt={}){this._checkLoaded();const wt=this.getLayer(ut);if(wt){if(!mt(wt.filter,ft))return ft==null?(wt.filter=void 0,void this._updateLayer(wt)):void(this._validate(ot.validateFilter,`layers.${wt.id}.filter`,ft,{layerType:wt.type},vt)||(wt.filter=ot.clone$1(ft),this._updateLayer(wt)))}else this.fire(new ot.ErrorEvent(new Error(`The layer '${ut}' does not exist in the map's style and cannot be filtered.`)))}getFilter(ut){const ft=this.getLayer(ut);return ft&&ot.clone$1(ft.filter)}setLayoutProperty(ut,ft,vt,wt={}){this._checkLoaded();const Ct=this.getLayer(ut);Ct?mt(Ct.getLayoutProperty(ft),vt)||(Ct.setLayoutProperty(ft,vt,wt),this._updateLayer(Ct)):this.fire(new ot.ErrorEvent(new Error(`The layer '${ut}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(ut,ft){const vt=this.getLayer(ut);if(vt)return vt.getLayoutProperty(ft);this.fire(new ot.ErrorEvent(new Error(`The layer '${ut}' does not exist in the map's style.`)))}setPaintProperty(ut,ft,vt,wt={}){this._checkLoaded();const Ct=this.getLayer(ut);Ct?mt(Ct.getPaintProperty(ft),vt)||(Ct.setPaintProperty(ft,vt,wt)&&this._updateLayer(Ct),this._changed=!0,this._updatedPaintProps[ut]=!0):this.fire(new ot.ErrorEvent(new Error(`The layer '${ut}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(ut,ft){const vt=this.getLayer(ut);return vt&&vt.getPaintProperty(ft)}setFeatureState(ut,ft){this._checkLoaded();const vt=ut.source,wt=ut.sourceLayer,Ct=this.getSource(vt);if(!Ct)return void this.fire(new ot.ErrorEvent(new Error(`The source '${vt}' does not exist in the map's style.`)));const Dt=Ct.type;if(Dt==="geojson"&&wt)return void this.fire(new ot.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(Dt==="vector"&&!wt)return void this.fire(new ot.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));ut.id===void 0&&this.fire(new ot.ErrorEvent(new Error("The feature id parameter must be provided.")));const zt=this._getSourceCaches(vt);for(const Nt of zt)Nt.setFeatureState(wt,ut.id,ft)}removeFeatureState(ut,ft){this._checkLoaded();const vt=ut.source,wt=this.getSource(vt);if(!wt)return void this.fire(new ot.ErrorEvent(new Error(`The source '${vt}' does not exist in the map's style.`)));const Ct=wt.type,Dt=Ct==="vector"?ut.sourceLayer:void 0;if(Ct==="vector"&&!Dt)return void this.fire(new ot.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(ft&&typeof ut.id!="string"&&typeof ut.id!="number")return void this.fire(new ot.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const zt=this._getSourceCaches(vt);for(const Nt of zt)Nt.removeFeatureState(Dt,ut.id,ft)}getFeatureState(ut){this._checkLoaded();const ft=ut.source,vt=ut.sourceLayer,wt=this.getSource(ft);if(wt){if(wt.type!=="vector"||vt)return ut.id===void 0&&this.fire(new ot.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(ft)[0].getFeatureState(vt,ut.id);this.fire(new ot.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new ot.ErrorEvent(new Error(`The source '${ft}' does not exist in the map's style.`)))}getTransition(){return ot.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const ut={};for(const ft in this._sourceCaches){const vt=this._sourceCaches[ft].getSource();ut[vt.id]||(ut[vt.id]=vt.serialize())}return ot.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:ut,layers:this._serializeLayers(this._order)},ft=>ft!==void 0)}_updateLayer(ut){this._updatedLayers[ut.id]=!0;const ft=this._getLayerSourceCache(ut);ut.source&&!this._updatedSources[ut.source]&&ft&&ft.getSource().type!=="raster"&&(this._updatedSources[ut.source]="reload",ft.pause()),this._changed=!0,ut.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(ut){const ft=Dt=>this._layers[Dt].type==="fill-extrusion",vt={},wt=[];for(let Dt=this._order.length-1;Dt>=0;Dt--){const zt=this._order[Dt];if(ft(zt)){vt[zt]=Dt;for(const Nt of ut){const Zt=Nt[zt];if(Zt)for(const qt of Zt)wt.push(qt)}}}wt.sort((Dt,zt)=>zt.intersectionZ-Dt.intersectionZ);const Ct=[];for(let Dt=this._order.length-1;Dt>=0;Dt--){const zt=this._order[Dt];if(ft(zt))for(let Nt=wt.length-1;Nt>=0;Nt--){const Zt=wt[Nt].feature;if(vt[Zt.layer.id]<Dt)break;Ct.push(Zt),wt.pop()}else for(const Nt of ut){const Zt=Nt[zt];if(Zt)for(const qt of Zt)Ct.push(qt.feature)}}return Ct}queryRenderedFeatures(ut,ft,vt){ft&&ft.filter&&this._validate(ot.validateFilter,"queryRenderedFeatures.filter",ft.filter,null,ft);const wt={};if(ft&&ft.layers){if(!Array.isArray(ft.layers))return this.fire(new ot.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const Nt of ft.layers){const Zt=this._layers[Nt];if(!Zt)return this.fire(new ot.ErrorEvent(new Error(`The layer '${Nt}' does not exist in the map's style and cannot be queried for features.`))),[];wt[Zt.source]=!0}}const Ct=[];ft.availableImages=this._availableImages;const Dt=ft&&ft.layers?ft.layers.some(Nt=>{const Zt=this.getLayer(Nt);return Zt&&Zt.is3D()}):this.has3DLayers(),zt=sr.createFromScreenPoints(ut,vt);for(const Nt in this._sourceCaches){const Zt=this._sourceCaches[Nt].getSource().id;ft.layers&&!wt[Zt]||Ct.push(jo(this._sourceCaches[Nt],this._layers,this._serializedLayers,zt,ft,vt,Dt,!!this.map._showQueryGeometry))}return this.placement&&Ct.push(function(Nt,Zt,qt,rr,pr,xr,wr){const br={},Pr=xr.queryRenderedSymbols(rr),ir=[];for(const _r of Object.keys(Pr).map(Number))ir.push(wr[_r]);ir.sort(is);for(const _r of ir){const $r=_r.featureIndex.lookupSymbolFeatures(Pr[_r.bucketInstanceId],Zt,_r.bucketIndex,_r.sourceLayerIndex,pr.filter,pr.layers,pr.availableImages,Nt);for(const Ir in $r){const Vr=br[Ir]=br[Ir]||[],Wr=$r[Ir];Wr.sort((Gr,Jr)=>{const Yr=_r.featureSortOrder;if(Yr){const an=Yr.indexOf(Gr.featureIndex);return Yr.indexOf(Jr.featureIndex)-an}return Jr.featureIndex-Gr.featureIndex});for(const Gr of Wr)Vr.push(Gr)}}for(const _r in br)br[_r].forEach($r=>{const Ir=$r.feature,Vr=qt(Nt[_r]);if(!Vr)return;const Wr=Vr.getFeatureState(Ir.layer["source-layer"],Ir.id);Ir.source=Ir.layer.source,Ir.layer["source-layer"]&&(Ir.sourceLayer=Ir.layer["source-layer"]),Ir.state=Wr});return br}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),zt.screenGeometry,ft,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Ct)}querySourceFeatures(ut,ft){ft&&ft.filter&&this._validate(ot.validateFilter,"querySourceFeatures.filter",ft.filter,null,ft);const vt=this._getSourceCaches(ut);let wt=[];for(const Ct of vt)wt=wt.concat(Io(Ct,ft));return wt}addSourceType(ut,ft,vt){return Tl.getSourceType(ut)?vt(new Error(`A source type called "${ut}" already exists.`)):(Tl.setSourceType(ut,ft),ft.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:ut,url:ft.workerSourceURL},vt):vt(null,null))}getLight(){return this.light.getLight()}setLight(ut,ft={}){this._checkLoaded();const vt=this.light.getLight();let wt=!1;for(const Dt in ut)if(!mt(ut[Dt],vt[Dt])){wt=!0;break}if(!wt)return;const Ct=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(ut,ft),this.light.updateTransitions(Ct)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(ut,ft=1){if(this._checkLoaded(),!ut)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let vt=ut;if(ft===1){if(typeof vt.source=="object"){const wt="terrain-dem-src";this.addSource(wt,vt.source),vt=ot.clone$1(vt),vt=ot.extend(vt,{source:wt})}if(this._validate(ot.validateTerrain,"terrain",vt))return}if(!this.terrain||this.terrain&&ft!==this.terrain.drapeRenderMode){if(!vt)return;this._createTerrain(vt,ft)}else{const wt=this.terrain,Ct=wt.get();for(const Dt of Object.keys(ot.spec.terrain))!vt.hasOwnProperty(Dt)&&ot.spec.terrain[Dt].default&&(vt[Dt]=ot.spec.terrain[Dt].default);for(const Dt in vt)if(!mt(vt[Dt],Ct[Dt])){wt.set(vt),this.stylesheet.terrain=vt;const zt=this._setTransitionParameters({duration:0});wt.updateTransitions(zt);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(ut){const ft=this.fog=new Qt(ut,this.map.transform);this.stylesheet.fog=ut;const vt=this._setTransitionParameters({duration:0});ft.updateTransitions(vt)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const ut of this.map._markers)ut._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(ut){if(this._checkLoaded(),!ut)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const ft=this.fog,vt=ft.get();Object.keys(ut).length===0&&ft.set(ut);for(const wt in ut)if(!mt(ut[wt],vt[wt])){ft.set(ut),this.stylesheet.fog=ut;const Ct=this._setTransitionParameters({duration:0});ft.updateTransitions(Ct);break}}else this._createFog(ut);this._markersNeedUpdate=!0}_setTransitionParameters(ut){return{now:ot.exported.now(),transition:ot.extend(ut,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const ut=this._order.filter(vt=>this.isLayerDraped(this._layers[vt])),ft=this._order.filter(vt=>!this.isLayerDraped(this._layers[vt]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...ut),this._drapedFirstOrder.push(...ft)}_createTerrain(ut,ft){const vt=this.terrain=new Cr(ut,ft);this.stylesheet.terrain=ut,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const wt=this._setTransitionParameters({duration:0});vt.updateTransitions(wt)}_force3DLayerUpdate(){for(const ut in this._layers){const ft=this._layers[ut];ft.type==="fill-extrusion"&&this._updateLayer(ft)}}_forceSymbolLayerUpdate(){for(const ut in this._layers){const ft=this._layers[ut];ft.type==="symbol"&&this._updateLayer(ft)}}_validate(ut,ft,vt,wt,Ct={}){return(!Ct||Ct.validate!==!1)&&ru(this,ut.call(ot.validateStyle,ot.extend({key:ft,style:this.serialize(),value:vt,styleSpec:ot.spec},wt)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),ot.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const ut in this._layers)this._layers[ut].setEventedParent(null);for(const ut in this._sourceCaches)this._sourceCaches[ut].clearTiles(),this._sourceCaches[ut].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(ut){const ft=this._getSourceCaches(ut);for(const vt of ft)vt.clearTiles()}_reloadSource(ut){const ft=this._getSourceCaches(ut);for(const vt of ft)vt.resume(),vt.reload()}_reloadSources(){for(const ut of this._getSources())ut.reload&&ut.reload()}_updateSources(ut){for(const ft in this._sourceCaches)this._sourceCaches[ft].update(ut)}_generateCollisionBoxes(){for(const ut in this._sourceCaches){const ft=this._sourceCaches[ut];ft.resume(),ft.reload()}}_updatePlacement(ut,ft,vt,wt,Ct=!1){let Dt=!1,zt=!1;const Nt={};for(const Zt of this._order){const qt=this._layers[Zt];if(qt.type!=="symbol")continue;if(!Nt[qt.source]){const pr=this._getLayerSourceCache(qt);if(!pr)continue;Nt[qt.source]=pr.getRenderableIds(!0).map(xr=>pr.getTileByID(xr)).sort((xr,wr)=>wr.tileID.overscaledZ-xr.tileID.overscaledZ||(xr.tileID.isLessThan(wr.tileID)?-1:1))}const rr=this.crossTileSymbolIndex.addLayer(qt,Nt[qt.source],ut.center.lng,ut.projection);Dt=Dt||rr}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),Ct=Ct||this._layerOrderChanged||vt===0,this._layerOrderChanged&&this.fire(new ot.Event("neworder")),(Ct||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(ot.exported.now(),ut.zoom))&&(this.pauseablePlacement=new Qm(ut,this._order,Ct,ft,vt,wt,this.placement,this.fog&&ut.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Nt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(ot.exported.now()),zt=!0),Dt&&this.pauseablePlacement.placement.setStale()),zt||Dt)for(const Zt of this._order){const qt=this._layers[Zt];qt.type==="symbol"&&this.placement.updateLayerOpacities(qt,Nt[qt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(ot.exported.now())}_releaseSymbolFadeTiles(){for(const ut in this._sourceCaches)this._sourceCaches[ut].releaseSymbolFadeTiles()}getImages(ut,ft,vt){this.imageManager.getImages(ft.icons,vt),this._updateTilesForChangedImages();const wt=Ct=>{Ct&&Ct.setDependencies(ft.tileID.key,ft.type,ft.icons)};wt(this._otherSourceCaches[ft.source]),wt(this._symbolSourceCaches[ft.source])}getGlyphs(ut,ft,vt){this.glyphManager.getGlyphs(ft.stacks,vt)}getResource(ut,ft,vt){return ot.makeRequest(ft,vt)}_getSourceCache(ut){return this._otherSourceCaches[ut]}_getLayerSourceCache(ut){return ut.type==="symbol"?this._symbolSourceCaches[ut.source]:this._otherSourceCaches[ut.source]}_getSourceCaches(ut){const ft=[];return this._otherSourceCaches[ut]&&ft.push(this._otherSourceCaches[ut]),this._symbolSourceCaches[ut]&&ft.push(this._symbolSourceCaches[ut]),ft}_isSourceCacheLoaded(ut){const ft=this._getSourceCaches(ut);return ft.length===0?(this.fire(new ot.ErrorEvent(new Error(`There is no source with ID '${ut}'`))),!1):ft.every(vt=>vt.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Tl.getSourceType=function(gt){return ro[gt]},Tl.setSourceType=function(gt,ut){ro[gt]=ut},Tl.registerForPluginStateChange=ot.registerForPluginStateChange;var t0=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,gu="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Nl=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,pp=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Vl=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let Kp={},Lu={};const mp=[];Du(t0,mp),Du(Nl,mp),Du(pp,mp),Du(Vl,mp),Kp=No("",Nl),Lu=No(Vl,pp);const Ty=No(`
#if __VERSION__ >=300
#define varying in
#define gl_FragColor glFragColor
#define texture2D texture
#define textureCube texture
out vec4 glFragColor;
#endif
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
#if __VERSION__ >=300
#define attribute in
#define varying out
#define texture2D texture
#endif
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),Xp=t0,r0=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var n0={background:No(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:No(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:No(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:No("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:No(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:No(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:No("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:No("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:No("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:No(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:No(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:No(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:No(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:No(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:No(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:No(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:No(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:No(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:No(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:No(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:No(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:No(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:No(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:No(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=wireframeOffset;
#endif
v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:No(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:No(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gu),skyboxGradient:No(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gu),skyboxCapture:No(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:No(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:No(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function Du(gt,ut){const ft=gt.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let vt of ft)if(vt=vt.trim(),vt[0]==="#"&&vt.includes("if")&&!vt.includes("endif")){vt=vt.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const wt=vt.split(" ");for(const Ct of wt)ut.includes(Ct)||ut.push(Ct)}}function No(gt,ut){const ft=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,vt=ut.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),wt={},Ct=[...mp];return Du(gt,Ct),Du(ut,Ct),{fragmentSource:gt=gt.replace(ft,(Dt,zt,Nt,Zt,qt)=>(wt[qt]=!0,zt==="define"?`
#ifndef HAS_UNIFORM_u_${qt}
varying ${Nt} ${Zt} ${qt};
#else
uniform ${Nt} ${Zt} u_${qt};
#endif
`:`
#ifdef HAS_UNIFORM_u_${qt}
    ${Nt} ${Zt} ${qt} = u_${qt};
#endif
`)),vertexSource:ut=ut.replace(ft,(Dt,zt,Nt,Zt,qt)=>{const rr=Zt==="float"?"vec2":"vec4",pr=qt.match(/color/)?"color":rr;return wt[qt]?zt==="define"?`
#ifndef HAS_UNIFORM_u_${qt}
uniform lowp float u_${qt}_t;
attribute ${Nt} ${rr} a_${qt};
varying ${Nt} ${Zt} ${qt};
#else
uniform ${Nt} ${Zt} u_${qt};
#endif
`:pr==="vec4"?`
#ifndef HAS_UNIFORM_u_${qt}
    ${qt} = a_${qt};
#else
    ${Nt} ${Zt} ${qt} = u_${qt};
#endif
`:`
#ifndef HAS_UNIFORM_u_${qt}
    ${qt} = unpack_mix_${pr}(a_${qt}, u_${qt}_t);
#else
    ${Nt} ${Zt} ${qt} = u_${qt};
#endif
`:zt==="define"?`
#ifndef HAS_UNIFORM_u_${qt}
uniform lowp float u_${qt}_t;
attribute ${Nt} ${rr} a_${qt};
#else
uniform ${Nt} ${Zt} u_${qt};
#endif
`:pr==="vec4"?`
#ifndef HAS_UNIFORM_u_${qt}
    ${Nt} ${Zt} ${qt} = a_${qt};
#else
    ${Nt} ${Zt} ${qt} = u_${qt};
#endif
`:`
#ifndef HAS_UNIFORM_u_${qt}
    ${Nt} ${Zt} ${qt} = unpack_mix_${pr}(a_${qt}, u_${qt}_t);
#else
    ${Nt} ${Zt} ${qt} = u_${qt};
#endif
`}),staticAttributes:vt,usedDefines:Ct}}class q1{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(ut,ft,vt,wt,Ct,Dt,zt){this.context=ut;let Nt=this.boundPaintVertexBuffers.length!==wt.length;for(let qt=0;!Nt&&qt<wt.length;qt++)this.boundPaintVertexBuffers[qt]!==wt[qt]&&(Nt=!0);let Zt=this.boundDynamicVertexBuffers.length!==zt.length;for(let qt=0;!Zt&&qt<zt.length;qt++)this.boundDynamicVertexBuffers[qt]!==zt[qt]&&(Zt=!0);if(!ut.extVertexArrayObject||!this.vao||this.boundProgram!==ft||this.boundLayoutVertexBuffer!==vt||Nt||Zt||this.boundIndexBuffer!==Ct||this.boundVertexOffset!==Dt)this.freshBind(ft,vt,wt,Ct,Dt,zt);else{ut.bindVertexArrayOES.set(this.vao);for(const qt of zt)qt&&qt.bind();Ct&&Ct.dynamicDraw&&Ct.bind()}}freshBind(ut,ft,vt,wt,Ct,Dt){let zt;const Nt=ut.numAttributes,Zt=this.context,qt=Zt.gl;if(Zt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Zt.extVertexArrayObject.createVertexArrayOES(),Zt.bindVertexArrayOES.set(this.vao),zt=0,this.boundProgram=ut,this.boundLayoutVertexBuffer=ft,this.boundPaintVertexBuffers=vt,this.boundIndexBuffer=wt,this.boundVertexOffset=Ct,this.boundDynamicVertexBuffers=Dt;else{zt=Zt.currentNumAttributes||0;for(let rr=Nt;rr<zt;rr++)qt.disableVertexAttribArray(rr)}ft.enableAttributes(qt,ut),ft.bind(),ft.setVertexAttribPointers(qt,ut,Ct);for(const rr of vt)rr.enableAttributes(qt,ut),rr.bind(),rr.setVertexAttribPointers(qt,ut,Ct);for(const rr of Dt)rr&&(rr.enableAttributes(qt,ut),rr.bind(),rr.setVertexAttribPointers(qt,ut,Ct));wt&&wt.bind(),Zt.currentNumAttributes=Nt}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function i0(gt,ut){const ft=Math.pow(2,ut.canonical.z),vt=ut.canonical.y;return[new ot.MercatorCoordinate(0,vt/ft).toLngLat().lat,new ot.MercatorCoordinate(0,(vt+1)/ft).toLngLat().lat]}function Ry(gt,ut,ft,vt,wt,Ct,Dt){const zt=gt.context,Nt=zt.gl,Zt=ft.fbo;if(!Zt)return;gt.prepareDrawTile();const qt=gt.useProgram("hillshade");zt.activeTexture.set(Nt.TEXTURE0),Nt.bindTexture(Nt.TEXTURE_2D,Zt.colorAttachment.get());const rr=((br,Pr,ir,_r)=>{const $r=ir.paint.get("hillshade-shadow-color"),Ir=ir.paint.get("hillshade-highlight-color"),Vr=ir.paint.get("hillshade-accent-color");let Wr=ir.paint.get("hillshade-illumination-direction")*(Math.PI/180);ir.paint.get("hillshade-illumination-anchor")==="viewport"&&(Wr-=br.transform.angle);const Gr=!br.options.moving;return{u_matrix:_r||br.transform.calculateProjMatrix(Pr.tileID.toUnwrapped(),Gr),u_image:0,u_latrange:i0(0,Pr.tileID),u_light:[ir.paint.get("hillshade-exaggeration"),Wr],u_shadow:$r,u_highlight:Ir,u_accent:Vr}})(gt,ft,vt,gt.terrain?ut.projMatrix:null);gt.prepareDrawProgram(zt,qt,ut.toUnwrapped());const{tileBoundsBuffer:pr,tileBoundsIndexBuffer:xr,tileBoundsSegments:wr}=gt.getTileBoundsBuffers(ft);qt.draw(zt,Nt.TRIANGLES,wt,Ct,Dt,ot.CullFaceMode.disabled,rr,vt.id,pr,xr,wr)}function o0(gt,ut,ft){if(!ut.needsDEMTextureUpload)return;const vt=gt.context,wt=vt.gl;vt.pixelStoreUnpackPremultiplyAlpha.set(!1),ut.demTexture=ut.demTexture||gt.getTileTexture(ft.stride);const Ct=ft.getPixels();ut.demTexture?ut.demTexture.update(Ct,{premultiply:!1}):ut.demTexture=new ot.Texture(vt,Ct,wt.RGBA,{premultiply:!1}),ut.needsDEMTextureUpload=!1}function Py(gt,ut,ft,vt,wt,Ct){const Dt=gt.context,zt=Dt.gl;if(!ut.dem)return;const Nt=ut.dem;if(Dt.activeTexture.set(zt.TEXTURE1),o0(gt,ut,Nt),!ut.demTexture)return;ut.demTexture.bind(zt.NEAREST,zt.CLAMP_TO_EDGE);const Zt=Nt.dim;Dt.activeTexture.set(zt.TEXTURE0);let qt=ut.fbo;if(!qt){const wr=new ot.Texture(Dt,{width:Zt,height:Zt,data:null},zt.RGBA);wr.bind(zt.LINEAR,zt.CLAMP_TO_EDGE),qt=ut.fbo=Dt.createFramebuffer(Zt,Zt,!0),qt.colorAttachment.set(wr.texture)}Dt.bindFramebuffer.set(qt.framebuffer),Dt.viewport.set([0,0,Zt,Zt]);const{tileBoundsBuffer:rr,tileBoundsIndexBuffer:pr,tileBoundsSegments:xr}=gt.getMercatorTileBoundsBuffers();gt.useProgram("hillshadePrepare").draw(Dt,zt.TRIANGLES,vt,wt,Ct,ot.CullFaceMode.disabled,((wr,br)=>{const Pr=br.stride,ir=ot.create();return ot.ortho(ir,0,ot.EXTENT,-ot.EXTENT,0,0,1),ot.translate(ir,ir,[0,-ot.EXTENT,0]),{u_matrix:ir,u_image:1,u_dimension:[Pr,Pr],u_zoom:wr.overscaledZ,u_unpack:br.unpackVector}})(ut.tileID,Nt),ft.id,rr,pr,xr),ut.needsHillshadePrepare=!1}const a0=gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_image0:new ot.Uniform1i(gt),u_skirt_height:new ot.Uniform1f(gt)}),Ou=(gt,ut)=>({u_matrix:gt,u_image0:0,u_skirt_height:ut}),Yp=(gt,ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,qt,rr,pr,xr,wr)=>({u_proj_matrix:Float32Array.from(gt),u_globe_matrix:ut,u_normalize_matrix:Float32Array.from(vt),u_merc_matrix:ft,u_zoom_transition:wt,u_merc_center:Ct,u_image0:0,u_frustum_tl:Dt,u_frustum_tr:zt,u_frustum_br:Nt,u_frustum_bl:Zt,u_globe_pos:qt,u_globe_radius:rr,u_viewport:pr,u_grid_matrix:wr?Float32Array.from(wr):new Float32Array(9),u_skirt_height:xr});function Fu(gt,ut){return gt!=null&&ut!=null&&!(!gt.hasData()||!ut.hasData())&&gt.demTexture!=null&&ut.demTexture!=null&&gt.tileID.key!==ut.tileID.key}const Ul=new class{constructor(){this.operations={}}newMorphing(gt,ut,ft,vt,wt){if(gt in this.operations){const Ct=this.operations[gt];Ct.to.tileID.key!==ft.tileID.key&&(Ct.queued=ft)}else this.operations[gt]={startTime:vt,phase:0,duration:wt,from:ut,to:ft,queued:null}}getMorphValuesForProxy(gt){if(!(gt in this.operations))return null;const ut=this.operations[gt];return{from:ut.from,to:ut.to,phase:ut.phase}}update(gt){for(const ut in this.operations){const ft=this.operations[ut];for(ft.phase=(gt-ft.startTime)/ft.duration;ft.phase>=1||!this._validOp(ft);)if(!this._nextOp(ft,gt)){delete this.operations[ut];break}}}_nextOp(gt,ut){return!!gt.queued&&(gt.from=gt.to,gt.to=gt.queued,gt.queued=null,gt.phase=0,gt.startTime=ut,!0)}_validOp(gt){return gt.from.hasData()&&gt.to.hasData()}},yu={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Qp(gt){return 6*Math.pow(1.5,22-gt)}function Ay(gt,ut){const ft=1<<gt.z;return!ut&&(gt.x===0||gt.x===ft-1)||gt.y===0||gt.y===ft-1}const gp=gt=>({u_matrix:gt});function s0(gt,ut,ft,vt,wt){if(wt>0){const Ct=ot.exported.now(),Dt=(Ct-gt.timeAdded)/wt,zt=ut?(Ct-ut.timeAdded)/wt:-1,Nt=ft.getSource(),Zt=vt.coveringZoomLevel({tileSize:Nt.tileSize,roundZoom:Nt.roundZoom}),qt=!ut||Math.abs(ut.tileID.overscaledZ-Zt)>Math.abs(gt.tileID.overscaledZ-Zt),rr=qt&&gt.refreshedUponExpiration?1:ot.clamp(qt?Dt:1-zt,0,1);return gt.refreshedUponExpiration&&Dt>=1&&(gt.refreshedUponExpiration=!1),ut?{opacity:1,mix:1-rr}:{opacity:rr,mix:0}}return{opacity:1,mix:0}}class l0 extends ot.SourceCache{constructor(ut){const ft={type:"raster-dem",maxzoom:ut.transform.maxZoom},vt=new lr(Ts(),null),wt=co("mock-dem",ft,vt,ut.style);super("mock-dem",wt,!1),wt.setEventedParent(this),this._sourceLoaded=!0}_loadTile(ut,ft){ut.state="loaded",ft(null)}}class Jp extends ot.SourceCache{constructor(ut){const ft=co("proxy",{type:"geojson",maxzoom:ut.transform.maxZoom},new lr(Ts(),null),ut.style);super("proxy",ft,!1),ft.setEventedParent(this),this.map=this.getSource().map=ut,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(ut,ft,vt){if(ut.freezeTileCoverage)return;this.transform=ut;const wt=ut.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((Ct,Dt)=>{if(Ct[Dt.key]="",!this._tiles[Dt.key]){const zt=new ot.Tile(Dt,this._source.tileSize*Dt.overscaleFactor(),ut.tileZoom);zt.state="loaded",this._tiles[Dt.key]=zt}return Ct},{});for(const Ct in this._tiles)Ct in wt||(this.freeFBO(Ct),this._tiles[Ct].unloadVectorData(),delete this._tiles[Ct])}freeFBO(ut){const ft=this.proxyCachedFBO[ut];if(ft!==void 0){const vt=Object.values(ft);this.renderCachePool.push(...vt),delete this.proxyCachedFBO[ut]}}deallocRenderCache(){this.renderCache.forEach(ut=>ut.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class em extends ot.OverscaledTileID{constructor(ut,ft,vt){super(ut.overscaledZ,ut.wrap,ut.canonical.z,ut.canonical.x,ut.canonical.y),this.proxyTileKey=ft,this.projMatrix=vt}}class c0 extends ot.Elevation{constructor(ut,ft){super(),this.painter=ut,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[vt,wt,Ct]=function(Nt){const Zt=new ot.StructArrayLayout2i4,qt=new ot.StructArrayLayout3ui6,rr=131;Zt.reserve(17161),qt.reserve(33800);const pr=ot.EXTENT/128,xr=ot.EXTENT+pr/2,wr=xr+pr;for(let Pr=-pr;Pr<wr;Pr+=pr)for(let ir=-pr;ir<wr;ir+=pr){const _r=ir<0||ir>xr||Pr<0||Pr>xr?24575:0,$r=ot.clamp(Math.round(ir),0,ot.EXTENT),Ir=ot.clamp(Math.round(Pr),0,ot.EXTENT);Zt.emplaceBack($r+_r,Ir)}const br=(Pr,ir)=>{const _r=ir*rr+Pr;qt.emplaceBack(_r+1,_r,_r+rr),qt.emplaceBack(_r+rr,_r+rr+1,_r+1)};for(let Pr=1;Pr<129;Pr++)for(let ir=1;ir<129;ir++)br(ir,Pr);return[0,129].forEach(Pr=>{for(let ir=0;ir<130;ir++)br(ir,Pr),br(Pr,ir)}),[Zt,qt,32768]}(),Dt=ut.context;this.gridBuffer=Dt.createVertexBuffer(vt,ot.posAttributes.members),this.gridIndexBuffer=Dt.createIndexBuffer(wt),this.gridSegments=ot.SegmentVector.simpleSegment(0,0,vt.length,wt.length),this.gridNoSkirtSegments=ot.SegmentVector.simpleSegment(0,0,vt.length,Ct),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Jp(ft.map),this.orthoMatrix=ot.create(),ot.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,ot.EXTENT,0,ot.EXTENT,0,1);const zt=Dt.gl;this._overlapStencilMode=new ot.StencilMode({func:zt.GEQUAL,mask:255},0,255,zt.KEEP,zt.KEEP,zt.REPLACE),this._previousZoom=ut.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=ft,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new l0(ft.map)}set style(ut){ut.on("data",this._onStyleDataEvent.bind(this)),ut.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=ut,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(ut,ft,vt){if(ut&&ut.terrain){this._style!==ut&&(this.style=ut),this.enabled=!0;const wt=ut.terrain.properties;this.sourceCache=ut.terrain.drapeRenderMode===0?this._mockSourceCache:ut._getSourceCache(wt.get("source")),this._exaggeration=wt.get("exaggeration");const Ct=()=>{this.sourceCache.used&&ot.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const Dt=this.getScaledDemTileSize();this.sourceCache.update(ft,Dt,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,Ct(),this._initializing=!0),Ct(),ft.updateElevation(!0,vt),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(ft),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(ut){this._findCoveringTileCache[ut]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const ut=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||ut.efficiency!==100&&ot.warnOnce(`Terrain render cache efficiency is not optimal (${ut.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${ut.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(ut){ut.coord&&ut.dataType==="source"?this._clearRenderCacheForTile(ut.sourceCacheId,ut.coord):ut.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const ut in this._style._sourceCaches)this._style._sourceCaches[ut].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(ut=>ut.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const ut=2*this.proxySourceCache.getSource().tileSize;return[ut,ut]}set useVertexMorphing(ut){this._useVertexMorphing=ut}updateTileBinding(ut){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const ft=this.proxySourceCache,vt=this.painter.transform;this._initializing&&(this._initializing=vt._centerAltitude===0&&this.getAtPointOrZero(ot.MercatorCoordinate.fromLngLat(vt.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const wt=this.proxyCoords=ft.getIds().map(Nt=>{const Zt=ft.getTileByID(Nt).tileID;return Zt.projMatrix=vt.calculateProjMatrix(Zt.toUnwrapped()),Zt});(function(Nt,Zt){const qt=Zt.transform.pointCoordinate(Zt.transform.getCameraPoint()),rr=new ot.Point(qt.x,qt.y);Nt.sort((pr,xr)=>{if(xr.overscaledZ-pr.overscaledZ)return xr.overscaledZ-pr.overscaledZ;const wr=new ot.Point(pr.canonical.x+(1<<pr.canonical.z)*pr.wrap,pr.canonical.y),br=new ot.Point(xr.canonical.x+(1<<xr.canonical.z)*xr.wrap,xr.canonical.y),Pr=rr.mult(1<<pr.canonical.z);return Pr.x-=.5,Pr.y-=.5,Pr.distSqr(wr)-Pr.distSqr(br)})})(wt,this.painter),this._previousZoom=vt.zoom;const Ct=this.proxyToSource||{};this.proxyToSource={},wt.forEach(Nt=>{this.proxyToSource[Nt.key]={}}),this.terrainTileForTile={};const Dt=this._style._sourceCaches;for(const Nt in Dt){const Zt=Dt[Nt];if(!Zt.used||(Zt!==this.sourceCache&&this.resetTileLookupCache(Zt.id),this._setupProxiedCoordsForOrtho(Zt,ut[Nt],Ct),Zt.usedForTerrain))continue;const qt=ut[Nt];Zt.getSource().reparseOverscaled&&this._assignTerrainTiles(qt)}this.proxiedCoords[ft.id]=wt.map(Nt=>new em(Nt,Nt.key,this.orthoMatrix)),this._assignTerrainTiles(wt),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(Ct),this.renderingToTexture=!1,this._updateTimestamp=ot.exported.now();const zt={};this._visibleDemTiles=[];for(const Nt of this.proxyCoords){const Zt=this.terrainTileForTile[Nt.key];if(!Zt)continue;const qt=Zt.tileID.key;qt in zt||(this._visibleDemTiles.push(Zt),zt[qt]=qt)}}_assignTerrainTiles(ut){this._initializing||ut.forEach(ft=>{if(this.terrainTileForTile[ft.key])return;const vt=this._findTileCoveringTileID(ft,this.sourceCache);vt&&(this.terrainTileForTile[ft.key]=vt)})}_prepareDEMTextures(){const ut=this.painter.context,ft=ut.gl;for(const vt in this.terrainTileForTile){const wt=this.terrainTileForTile[vt],Ct=wt.dem;!Ct||wt.demTexture&&!wt.needsDEMTextureUpload||(ut.activeTexture.set(ft.TEXTURE1),o0(this.painter,wt,Ct))}}_prepareDemTileUniforms(ut,ft,vt,wt){if(!ft||ft.demTexture==null)return!1;const Ct=ut.tileID.canonical,Dt=Math.pow(2,ft.tileID.canonical.z-Ct.z),zt=wt||"";return vt[`u_dem_tl${zt}`]=[Ct.x*Dt%1,Ct.y*Dt%1],vt[`u_dem_scale${zt}`]=Dt,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const ut=this.painter.context,ft=ut.gl;if(!this._emptyDepthBufferTexture){const vt=new ot.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new ot.Texture(ut,vt,ft.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let ut=0;const ft=this._visibleDemTiles.reduce((vt,wt)=>{if(!wt.dem)return vt;const Ct=wt.dem.tree.minimums[0];return Ct>0&&ut++,vt+Ct},0);return ut?ft/ut:0}_updateEmptyDEMTexture(){const ut=this.painter.context,ft=ut.gl;ut.activeTexture.set(ft.TEXTURE2);const vt=this._getLoadedAreaMinimum(),wt=new ot.RGBAImage({width:1,height:1},new Uint8Array(ot.DEMData.pack(vt,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let Ct=this._emptyDEMTexture;return Ct?Ct.update(wt,{premultiply:!1}):Ct=this._emptyDEMTexture=new ot.Texture(ut,wt,ft.RGBA,{premultiply:!1}),Ct}setupElevationDraw(ut,ft,vt){const wt=this.painter.context,Ct=wt.gl,Dt=(zt=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:ot.DEMData.getUnpackVector(zt),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var zt;Dt.u_dem_size=this.sourceCache.getSource().tileSize,Dt.u_exaggeration=this.exaggeration();let Nt=null,Zt=null,qt=1;if(vt&&vt.morphing&&this._useVertexMorphing){const rr=vt.morphing.srcDemTile,pr=vt.morphing.dstDemTile;qt=vt.morphing.phase,rr&&pr&&(this._prepareDemTileUniforms(ut,rr,Dt,"_prev")&&(Zt=rr),this._prepareDemTileUniforms(ut,pr,Dt)&&(Nt=pr))}if(Zt&&Nt?(wt.activeTexture.set(Ct.TEXTURE2),Nt.demTexture.bind(Ct.NEAREST,Ct.CLAMP_TO_EDGE,Ct.NEAREST),wt.activeTexture.set(Ct.TEXTURE4),Zt.demTexture.bind(Ct.NEAREST,Ct.CLAMP_TO_EDGE,Ct.NEAREST),Dt.u_dem_lerp=qt):(Nt=this.terrainTileForTile[ut.tileID.key],wt.activeTexture.set(Ct.TEXTURE2),(this._prepareDemTileUniforms(ut,Nt,Dt)?Nt.demTexture:this.emptyDEMTexture).bind(Ct.NEAREST,Ct.CLAMP_TO_EDGE)),wt.activeTexture.set(Ct.TEXTURE3),vt&&vt.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(Ct.NEAREST,Ct.CLAMP_TO_EDGE),this._depthFBO&&(Dt.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(Ct.NEAREST,Ct.CLAMP_TO_EDGE),Dt.u_depth_size_inv=[1,1]),vt&&vt.useMeterToDem&&Nt){const rr=(1<<Nt.tileID.canonical.z)*ot.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;Dt.u_meter_to_dem=rr}if(vt&&vt.labelPlaneMatrixInv&&(Dt.u_label_plane_matrix_inv=vt.labelPlaneMatrixInv),ft.setTerrainUniformValues(wt,Dt),this.painter.transform.projection.name==="globe"){const rr=this.globeUniformValues(this.painter.transform,ut.tileID.canonical,vt&&vt.useDenormalizedUpVectorScale);ft.setGlobeUniformValues(wt,rr)}}globeUniformValues(ut,ft,vt){const wt=ut.projection;return{u_tile_tl_up:wt.upVector(ft,0,0),u_tile_tr_up:wt.upVector(ft,ot.EXTENT,0),u_tile_br_up:wt.upVector(ft,ot.EXTENT,ot.EXTENT),u_tile_bl_up:wt.upVector(ft,0,ot.EXTENT),u_tile_up_scale:vt?ot.globeMetersToEcef(1):wt.upVectorScale(ft,ut.center.lat,ut.worldSize).metersToTile}}renderToBackBuffer(ut){const ft=this.painter,vt=this.painter.context;ut.length!==0&&(vt.bindFramebuffer.set(null),vt.viewport.set([0,0,ft.width,ft.height]),ft.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(wt,Ct,Dt,zt,Nt){if(wt.transform.projection.name==="globe")(function(Zt,qt,rr,pr,xr){const wr=Zt.context,br=wr.gl;let Pr,ir;const _r=Zt.options.showTerrainWireframe?2:0,$r=Zt.transform,Ir=ot.globeUseCustomAntiAliasing(Zt,wr,$r),Vr=($n,on)=>{if(ir===$n)return;const wn=[yu[$n],"PROJECTION_GLOBE_VIEW"];Ir&&wn.push("CUSTOM_ANTIALIASING"),on&&wn.push(yu[_r]),Pr=Zt.useProgram("globeRaster",null,wn),ir=$n},Wr=Zt.colorModeForRenderPass(),Gr=new ot.DepthMode(br.LEQUAL,ot.DepthMode.ReadWrite,Zt.depthRangeFor3D);Ul.update(xr);const Jr=ot.calculateGlobeMercatorMatrix($r),Yr=[ot.mercatorXfromLng($r.center.lng),ot.mercatorYfromLat($r.center.lat)],an=_r?[!1,!0]:[!1],In=Zt.globeSharedBuffers,rn=[$r.width*ot.exported.devicePixelRatio,$r.height*ot.exported.devicePixelRatio],Sn=Float32Array.from($r.globeMatrix),un={useDenormalizedUpVectorScale:!0};if(an.forEach($n=>{const on=Zt.transform,wn=Qp(on.zoom)*qt.exaggeration();ir=-1;const Dn=$n?br.LINES:br.TRIANGLES;for(const An of pr){const On=rr.getTile(An),oo=ot.StencilMode.disabled,go=qt.prevTerrainTileForTile[An.key],Qn=qt.terrainTileForTile[An.key];Fu(go,Qn)&&Ul.newMorphing(An.key,go,Qn,xr,250),wr.activeTexture.set(br.TEXTURE0),On.texture.bind(br.LINEAR,br.CLAMP_TO_EDGE);const uo=Ul.getMorphValuesForProxy(An.key),Ao=uo?1:0;uo&&ot.extend$1(un,{morphing:{srcDemTile:uo.from,dstDemTile:uo.to,phase:ot.easeCubicInOut(uo.phase)}});const To=ot.tileCornersToBounds(An.canonical),io=ot.getLatitudinalLod(To.getCenter().lat),Vo=ot.getGridMatrix(An.canonical,To,io,on.worldSize/on._pixelsPerMercatorPixel),Go=ot.globeNormalizeECEF(ot.globeTileBounds(An.canonical)),Wo=Yp(on.projMatrix,Sn,Jr,Go,ot.globeToMercatorTransition(on.zoom),Yr,on.frustumCorners.TL,on.frustumCorners.TR,on.frustumCorners.BR,on.frustumCorners.BL,on.globeCenterInViewSpace,on.globeRadius,rn,wn,Vo);if(Vr(Ao,$n),qt.setupElevationDraw(On,Pr,un),Zt.prepareDrawProgram(wr,Pr,An.toUnwrapped()),In){const[Ho,Ps,xs]=$n?In.getWirefameBuffers(Zt.context,io):In.getGridBuffers(io,wn!==0);Pr.draw(wr,Dn,Gr,oo,Wr,ot.CullFaceMode.backCCW,Wo,"globe_raster",Ho,Ps,xs)}}}),In){const $n=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Ir&&$n.push("CUSTOM_ANTIALIASING"),Pr=Zt.useProgram("globeRaster",null,$n);for(const on of pr){const{x:wn,y:Dn,z:An}=on.canonical,On=Dn===0,oo=Dn===(1<<An)-1,[go,Qn,uo,Ao]=In.getPoleBuffers(An);if(Ao&&(On||oo)){const To=rr.getTile(on);wr.activeTexture.set(br.TEXTURE0),To.texture.bind(br.LINEAR,br.CLAMP_TO_EDGE);let io=ot.globePoleMatrixForTile(An,wn,$r);const Vo=ot.globeNormalizeECEF(ot.globeTileBounds(on.canonical)),Go=(Wo,Ho)=>Wo.draw(wr,br.TRIANGLES,Gr,ot.StencilMode.disabled,Wr,ot.CullFaceMode.disabled,Yp($r.projMatrix,io,io,Vo,0,Yr,$r.frustumCorners.TL,$r.frustumCorners.TR,$r.frustumCorners.BR,$r.frustumCorners.BL,$r.globeCenterInViewSpace,$r.globeRadius,rn,0),"globe_pole_raster",Ho,uo,Ao);qt.setupElevationDraw(To,Pr,un),Zt.prepareDrawProgram(wr,Pr,on.toUnwrapped()),On&&Go(Pr,go),oo&&(io=ot.scale(ot.create(),io,[1,-1,1]),Go(Pr,Qn))}}}})(wt,Ct,Dt,zt,Nt);else{const Zt=wt.context,qt=Zt.gl;let rr,pr;const xr=wt.options.showTerrainWireframe?2:0,wr=($r,Ir)=>{if(pr===$r)return;const Vr=[yu[$r]];Ir&&Vr.push(yu[xr]),rr=wt.useProgram("terrainRaster",null,Vr),pr=$r},br=wt.colorModeForRenderPass(),Pr=new ot.DepthMode(qt.LEQUAL,ot.DepthMode.ReadWrite,wt.depthRangeFor3D);Ul.update(Nt);const ir=wt.transform,_r=Qp(ir.zoom)*Ct.exaggeration();(xr?[!1,!0]:[!1]).forEach($r=>{pr=-1;const Ir=$r?qt.LINES:qt.TRIANGLES,[Vr,Wr]=$r?Ct.getWirefameBuffer():[Ct.gridIndexBuffer,Ct.gridSegments];for(const Gr of zt){const Jr=Dt.getTile(Gr),Yr=ot.StencilMode.disabled,an=Ct.prevTerrainTileForTile[Gr.key],In=Ct.terrainTileForTile[Gr.key];Fu(an,In)&&Ul.newMorphing(Gr.key,an,In,Nt,250),Zt.activeTexture.set(qt.TEXTURE0),Jr.texture.bind(qt.LINEAR,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST);const rn=Ul.getMorphValuesForProxy(Gr.key),Sn=rn?1:0;let un;rn&&(un={morphing:{srcDemTile:rn.from,dstDemTile:rn.to,phase:ot.easeCubicInOut(rn.phase)}});const $n=Ou(Gr.projMatrix,Ay(Gr.canonical,ir.renderWorldCopies)?_r/10:_r);wr(Sn,$r),Ct.setupElevationDraw(Jr,rr,un),wt.prepareDrawProgram(Zt,rr,Gr.toUnwrapped()),rr.draw(Zt,Ir,Pr,Yr,br,ot.CullFaceMode.backCCW,$n,"terrain_raster",Ct.gridBuffer,Vr,Wr)}})}}(ft,this,this.proxySourceCache,ut,this._updateTimestamp),this.renderingToTexture=!0,ft.gpuTimingDeferredRenderEnd(),ut.splice(0,ut.length))}renderBatch(ut){if(this._drapedRenderBatches.length===0)return ut+1;this.renderingToTexture=!0;const ft=this.painter,vt=this.painter.context,wt=this.proxySourceCache,Ct=this.proxiedCoords[wt.id],Dt=this._drapedRenderBatches.shift(),zt=[],Nt=ft.style.order;let Zt=0;for(const qt of Ct){const rr=wt.getTileByID(qt.proxyTileKey),pr=wt.proxyCachedFBO[qt.key]?wt.proxyCachedFBO[qt.key][ut]:void 0,xr=pr!==void 0?wt.renderCache[pr]:this.pool[Zt++],wr=pr!==void 0;if(rr.texture=xr.tex,wr&&!xr.dirty){zt.push(rr.tileID);continue}let br;vt.bindFramebuffer.set(xr.fb.framebuffer),this.renderedToTile=!1,xr.dirty&&(vt.clear({color:ot.Color.transparent,stencil:0}),xr.dirty=!1);for(let Pr=Dt.start;Pr<=Dt.end;++Pr){const ir=ft.style._layers[Nt[Pr]];if(ir.isHidden(ft.transform.zoom))continue;const _r=ft.style._getLayerSourceCache(ir),$r=_r?this.proxyToSource[qt.key][_r.id]:[qt];if(!$r)continue;const Ir=$r;vt.viewport.set([0,0,xr.fb.width,xr.fb.height]),br!==(_r?_r.id:null)&&(this._setupStencil(xr,$r,ir,_r),br=_r?_r.id:null),ft.renderLayer(ft,_r,ir,Ir)}this.renderedToTile?(xr.dirty=!0,zt.push(rr.tileID)):wr||--Zt,Zt===5&&(Zt=0,this.renderToBackBuffer(zt))}return this.renderToBackBuffer(zt),this.renderingToTexture=!1,vt.bindFramebuffer.set(null),vt.viewport.set([0,0,ft.width,ft.height]),Dt.end+1}postRender(){}renderCacheEfficiency(ut){const ft=ut.order.length;if(ft===0)return{efficiency:100};let vt,wt=0,Ct=0,Dt=!1;for(let zt=0;zt<ft;++zt){const Nt=ut._layers[ut.order[zt]];this._style.isLayerDraped(Nt)?(Dt&&++wt,++Ct):Dt||(Dt=!0,vt=Nt.id)}return Ct===0?{efficiency:100}:{efficiency:100*(1-wt/Ct),firstUndrapedLayer:vt}}getMinElevationBelowMSL(){let ut=0;return this._visibleDemTiles.filter(ft=>ft.dem).forEach(ft=>{ut=Math.min(ut,ft.dem.tree.minimums[0])}),ut===0?ut:(ut-30)*this._exaggeration}raycast(ut,ft,vt){if(!this._visibleDemTiles)return null;const wt=this._visibleDemTiles.filter(Ct=>Ct.dem).map(Ct=>{const Dt=Ct.tileID,zt=1<<Dt.overscaledZ,{x:Nt,y:Zt}=Dt.canonical,qt=Nt/zt,rr=(Nt+1)/zt,pr=Zt/zt,xr=(Zt+1)/zt;return{minx:qt,miny:pr,maxx:rr,maxy:xr,t:Ct.dem.tree.raycastRoot(qt,pr,rr,xr,ut,ft,vt),tile:Ct}});wt.sort((Ct,Dt)=>(Ct.t!==null?Ct.t:Number.MAX_VALUE)-(Dt.t!==null?Dt.t:Number.MAX_VALUE));for(const Ct of wt){if(Ct.t==null)return null;const Dt=Ct.tile.dem.tree.raycast(Ct.minx,Ct.miny,Ct.maxx,Ct.maxy,ut,ft,vt);if(Dt!=null)return Dt}return null}_createFBO(){const ut=this.painter.context,ft=ut.gl,vt=this.drapeBufferSize;ut.activeTexture.set(ft.TEXTURE0);const wt=new ot.Texture(ut,{width:vt[0],height:vt[1],data:null},ft.RGBA);wt.bind(ft.LINEAR,ft.CLAMP_TO_EDGE);const Ct=ut.createFramebuffer(vt[0],vt[1],!1);return Ct.colorAttachment.set(wt.texture),Ct.depthAttachment=new Br(ut,Ct.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=ut.createRenderbuffer(ut.gl.DEPTH_STENCIL,vt[0],vt[1]),this._stencilRef=0,Ct.depthAttachment.set(this._sharedDepthStencil),ut.clear({stencil:0})):Ct.depthAttachment.set(this._sharedDepthStencil),ut.extTextureFilterAnisotropic&&!ut.extTextureFilterAnisotropicForceOff&&ft.texParameterf(ft.TEXTURE_2D,ut.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ut.extTextureFilterAnisotropicMax),{fb:Ct,tex:wt,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const ut in this._style._sourceCaches)if(this._style._sourceCaches[ut].hasTransition())return!0;return this._style.order.some(ut=>{const ft=this._style._layers[ut],vt=ft.isHidden(this.painter.transform.zoom);return ft.type==="custom"?!vt&&ft.shouldRedrape():!vt&&ft.hasTransition()})}_clearLineLayersFromRenderCache(){let ut=!1;for(const vt of this._style._getSources())if(vt instanceof Fn){ut=!0;break}if(!ut)return;const ft={};for(let vt=0;vt<this._style.order.length;++vt){const wt=this._style._layers[this._style.order[vt]],Ct=this._style._getLayerSourceCache(wt);if(Ct&&!ft[Ct.id]&&!wt.isHidden(this.painter.transform.zoom)&&wt.type==="line"&&wt.widthExpression()instanceof ot.ZoomDependentExpression){ft[Ct.id]=!0;for(const Dt of this.proxyCoords){const zt=this.proxyToSource[Dt.key][Ct.id];if(zt)for(const Nt of zt)this._clearRenderCacheForTile(Ct.id,Nt)}}}}_clearRasterLayersFromRenderCache(){let ut=!1;for(const vt in this._style._sourceCaches)if(this._style._sourceCaches[vt]._source instanceof Mn){ut=!0;break}if(!ut)return;const ft={};for(let vt=0;vt<this._style.order.length;++vt){const wt=this._style._layers[this._style.order[vt]],Ct=this._style._getLayerSourceCache(wt);if(!Ct||ft[Ct.id]||wt.isHidden(this.painter.transform.zoom)||wt.type!=="raster")continue;const Dt=wt.paint.get("raster-fade-duration");for(const zt of this.proxyCoords){const Nt=this.proxyToSource[zt.key][Ct.id];if(Nt)for(const Zt of Nt){const qt=s0(Ct.getTile(Zt),Ct.findLoadedParent(Zt,0),Ct,this.painter.transform,Dt);(qt.opacity!==1||qt.mix!==0)&&this._clearRenderCacheForTile(Ct.id,Zt)}}}}_setupDrapedRenderBatches(){const ut=this._style.order,ft=ut.length;if(ft===0)return;const vt=[];let wt,Ct=0,Dt=this._style._layers[ut[Ct]];for(;!this._style.isLayerDraped(Dt)&&Dt.isHidden(this.painter.transform.zoom)&&++Ct<ft;)Dt=this._style._layers[ut[Ct]];for(;Ct<ft;++Ct){const zt=this._style._layers[ut[Ct]];zt.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(zt)?wt===void 0&&(wt=Ct):wt!==void 0&&(vt.push({start:wt,end:Ct-1}),wt=void 0))}wt!==void 0&&vt.push({start:wt,end:Ct-1}),this._drapedRenderBatches=vt}_setupRenderCache(ut){const ft=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,ft.renderCache.length>ft.renderCachePool.length){const Dt=Object.values(ft.proxyCachedFBO);ft.proxyCachedFBO={};for(let zt=0;zt<Dt.length;++zt){const Nt=Object.values(Dt[zt]);ft.renderCachePool.push(...Nt)}}return}this._clearRasterLayersFromRenderCache();const vt=this.proxyCoords,wt=this._tilesDirty;for(let Dt=vt.length-1;Dt>=0;Dt--){const zt=vt[Dt];if(ft.getTileByID(zt.key),ft.proxyCachedFBO[zt.key]!==void 0){const Nt=ut[zt.key],Zt=this.proxyToSource[zt.key];let qt=0;for(const rr in Zt){const pr=Zt[rr],xr=Nt[rr];if(!xr||xr.length!==pr.length||pr.some((wr,br)=>wr!==xr[br]||wt[rr]&&wt[rr].hasOwnProperty(wr.key))){qt=-1;break}++qt}for(const rr in ft.proxyCachedFBO[zt.key])ft.renderCache[ft.proxyCachedFBO[zt.key][rr]].dirty=qt<0||qt!==Object.values(Nt).length}}const Ct=[...this._drapedRenderBatches];Ct.sort((Dt,zt)=>zt.end-zt.start-(Dt.end-Dt.start));for(const Dt of Ct)for(const zt of vt){if(ft.proxyCachedFBO[zt.key])continue;let Nt=ft.renderCachePool.pop();Nt===void 0&&ft.renderCache.length<50&&(Nt=ft.renderCache.length,ft.renderCache.push(this._createFBO())),Nt!==void 0&&(ft.proxyCachedFBO[zt.key]={},ft.proxyCachedFBO[zt.key][Dt.start]=Nt,ft.renderCache[Nt].dirty=!0)}this._tilesDirty={}}_setupStencil(ut,ft,vt,wt){if(!wt||!this._sourceTilesOverlap[wt.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const Ct=this.painter.context,Dt=Ct.gl;if(ft.length<=1)return void(this._overlapStencilType=!1);let zt;if(vt.isTileClipped())zt=ft.length,this._overlapStencilMode.test={func:Dt.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(ft[0].overscaledZ>ft[ft.length-1].overscaledZ))return void(this._overlapStencilType=!1);zt=1,this._overlapStencilMode.test={func:Dt.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+zt>255&&(Ct.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=zt,this._overlapStencilMode.ref=this._stencilRef,vt.isTileClipped()&&this._renderTileClippingMasks(ft,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(ut){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[ut.key]),this._overlapStencilMode):ot.StencilMode.disabled}_renderTileClippingMasks(ut,ft){const vt=this.painter,wt=this.painter.context,Ct=wt.gl;vt._tileClippingMaskIDs={},wt.setColorMode(ot.ColorMode.disabled),wt.setDepthMode(ot.DepthMode.disabled);const Dt=vt.useProgram("clippingMask");for(const zt of ut){const Nt=vt._tileClippingMaskIDs[zt.key]=--ft;Dt.draw(wt,Ct.TRIANGLES,ot.DepthMode.disabled,new ot.StencilMode({func:Ct.ALWAYS,mask:0},Nt,255,Ct.KEEP,Ct.KEEP,Ct.REPLACE),ot.ColorMode.disabled,ot.CullFaceMode.disabled,gp(zt.projMatrix),"$clipping",vt.tileExtentBuffer,vt.quadTriangleIndexBuffer,vt.tileExtentSegments)}}pointCoordinate(ut){const ft=this.painter.transform;if(ut.x<0||ut.x>ft.width||ut.y<0||ut.y>ft.height)return null;const vt=[ut.x,ut.y,1,1];ot.transformMat4$1(vt,vt,ft.pixelMatrixInverse),ot.scale$1(vt,vt,1/vt[3]),vt[0]/=ft.worldSize,vt[1]/=ft.worldSize;const wt=ft._camera.position,Ct=ot.mercatorZfromAltitude(1,ft.center.lat),Dt=[wt[0],wt[1],wt[2]/Ct,0],zt=ot.subtract([],vt.slice(0,3),Dt);ot.normalize(zt,zt);const Nt=this.raycast(Dt,zt,this._exaggeration);return Nt!==null&&Nt?(ot.scaleAndAdd(Dt,Dt,zt,Nt),Dt[3]=Dt[2],Dt[2]*=Ct,Dt):null}drawDepth(){const ut=this.painter,ft=ut.context,vt=this.proxySourceCache,wt=Math.ceil(ut.width),Ct=Math.ceil(ut.height);if(!this._depthFBO||this._depthFBO.width===wt&&this._depthFBO.height===Ct||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const Dt=ft.gl,zt=ft.createFramebuffer(wt,Ct,!0);ft.activeTexture.set(Dt.TEXTURE0);const Nt=new ot.Texture(ft,{width:wt,height:Ct,data:null},Dt.RGBA);Nt.bind(Dt.NEAREST,Dt.CLAMP_TO_EDGE),zt.colorAttachment.set(Nt.texture);const Zt=ft.createRenderbuffer(ft.gl.DEPTH_COMPONENT16,wt,Ct);zt.depthAttachment.set(Zt),this._depthFBO=zt,this._depthTexture=Nt}ft.bindFramebuffer.set(this._depthFBO.framebuffer),ft.viewport.set([0,0,wt,Ct]),function(Dt,zt,Nt,Zt){if(Dt.transform.projection.name==="globe")return;const qt=Dt.context,rr=qt.gl;qt.clear({depth:1});const pr=Dt.useProgram("terrainDepth"),xr=new ot.DepthMode(rr.LESS,ot.DepthMode.ReadWrite,Dt.depthRangeFor3D);for(const wr of Zt){const br=Nt.getTile(wr),Pr=Ou(wr.projMatrix,0);zt.setupElevationDraw(br,pr),pr.draw(qt,rr.TRIANGLES,xr,ot.StencilMode.disabled,ot.ColorMode.unblended,ot.CullFaceMode.backCCW,Pr,"terrain_depth",zt.gridBuffer,zt.gridIndexBuffer,zt.gridNoSkirtSegments)}}(ut,this,vt,this.proxyCoords)}_setupProxiedCoordsForOrtho(ut,ft,vt){if(ut.getSource()instanceof mo)return this._setupProxiedCoordsForImageSource(ut,ft,vt);this._findCoveringTileCache[ut.id]=this._findCoveringTileCache[ut.id]||{};const wt=this.proxiedCoords[ut.id]=[],Ct=this.proxyCoords;for(let zt=0;zt<Ct.length;zt++){const Nt=Ct[zt],Zt=this._findTileCoveringTileID(Nt,ut);if(Zt){const qt=this._createProxiedId(Nt,Zt,vt[Nt.key]&&vt[Nt.key][ut.id]);wt.push(qt),this.proxyToSource[Nt.key][ut.id]=[qt]}}let Dt=!1;for(let zt=0;zt<ft.length;zt++){const Nt=ut.getTile(ft[zt]);if(!Nt||!Nt.hasData())continue;const Zt=this._findTileCoveringTileID(Nt.tileID,this.proxySourceCache);if(Zt&&Zt.tileID.canonical.z!==Nt.tileID.canonical.z){const qt=this.proxyToSource[Zt.tileID.key][ut.id],rr=this._createProxiedId(Zt.tileID,Nt,vt[Zt.tileID.key]&&vt[Zt.tileID.key][ut.id]);qt?qt.splice(qt.length-1,0,rr):this.proxyToSource[Zt.tileID.key][ut.id]=[rr],wt.push(rr),Dt=!0}}this._sourceTilesOverlap[ut.id]=Dt}_setupProxiedCoordsForImageSource(ut,ft,vt){if(!ut.getSource().loaded())return;const wt=this.proxiedCoords[ut.id]=[],Ct=this.proxyCoords,Dt=ut.getSource(),zt=new ot.Point(Dt.tileID.x,Dt.tileID.y)._div(1<<Dt.tileID.z),Nt=Dt.coordinates.map(ot.MercatorCoordinate.fromLngLat).reduce((qt,rr)=>(qt.min.x=Math.min(qt.min.x,rr.x-zt.x),qt.min.y=Math.min(qt.min.y,rr.y-zt.y),qt.max.x=Math.max(qt.max.x,rr.x-zt.x),qt.max.y=Math.max(qt.max.y,rr.y-zt.y),qt),{min:new ot.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new ot.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),Zt=(qt,rr)=>{const pr=qt.wrap+qt.canonical.x/(1<<qt.canonical.z),xr=qt.canonical.y/(1<<qt.canonical.z),wr=ot.EXTENT/(1<<qt.canonical.z),br=rr.wrap+rr.canonical.x/(1<<rr.canonical.z),Pr=rr.canonical.y/(1<<rr.canonical.z);return pr+wr<br+Nt.min.x||pr>br+Nt.max.x||xr+wr<Pr+Nt.min.y||xr>Pr+Nt.max.y};for(let qt=0;qt<Ct.length;qt++){const rr=Ct[qt];for(let pr=0;pr<ft.length;pr++){const xr=ut.getTile(ft[pr]);if(!xr||!xr.hasData()||Zt(rr,xr.tileID))continue;const wr=this._createProxiedId(rr,xr,vt[rr.key]&&vt[rr.key][ut.id]),br=this.proxyToSource[rr.key][ut.id];br?br.push(wr):this.proxyToSource[rr.key][ut.id]=[wr],wt.push(wr)}}}_createProxiedId(ut,ft,vt){let wt=this.orthoMatrix;if(vt){const Ct=vt.find(Dt=>Dt.key===ft.tileID.key);if(Ct)return Ct}if(ft.tileID.key!==ut.key){const Ct=ut.canonical.z-ft.tileID.canonical.z;let Dt,zt,Nt;wt=ot.create();const Zt=ft.tileID.wrap-ut.wrap<<ut.overscaledZ;Ct>0?(Dt=ot.EXTENT>>Ct,zt=Dt*((ft.tileID.canonical.x<<Ct)-ut.canonical.x+Zt),Nt=Dt*((ft.tileID.canonical.y<<Ct)-ut.canonical.y)):(Dt=ot.EXTENT<<-Ct,zt=ot.EXTENT*(ft.tileID.canonical.x-(ut.canonical.x+Zt<<-Ct)),Nt=ot.EXTENT*(ft.tileID.canonical.y-(ut.canonical.y<<-Ct))),ot.ortho(wt,0,Dt,0,Dt,0,1),ot.translate(wt,wt,[zt,Nt,0])}return new em(ft.tileID,ut.key,wt)}_findTileCoveringTileID(ut,ft){let vt=ft.getTile(ut);if(vt&&vt.hasData())return vt;const wt=this._findCoveringTileCache[ft.id],Ct=wt[ut.key];if(vt=Ct?ft.getTileByID(Ct):null,vt&&vt.hasData()||Ct===null)return vt;let Dt=vt?vt.tileID:ut,zt=Dt.overscaledZ;const Nt=ft.getSource().minzoom,Zt=[];if(!Ct){const rr=ft.getSource().maxzoom;if(ut.canonical.z>=rr){const pr=ut.canonical.z-rr;ft.getSource().reparseOverscaled?(zt=Math.max(ut.canonical.z+2,ft.transform.tileZoom),Dt=new ot.OverscaledTileID(zt,ut.wrap,rr,ut.canonical.x>>pr,ut.canonical.y>>pr)):pr!==0&&(zt=rr,Dt=new ot.OverscaledTileID(zt,ut.wrap,rr,ut.canonical.x>>pr,ut.canonical.y>>pr))}Dt.key!==ut.key&&(Zt.push(Dt.key),vt=ft.getTile(Dt))}const qt=rr=>{Zt.forEach(pr=>{wt[pr]=rr}),Zt.length=0};for(zt-=1;zt>=Nt&&(!vt||!vt.hasData());zt--){vt&&qt(vt.tileID.key);const rr=Dt.calculateScaledKey(zt);if(vt=ft.getTileByID(rr),vt&&vt.hasData())break;const pr=wt[rr];if(pr===null)break;pr===void 0?Zt.push(rr):vt=ft.getTileByID(pr)}return qt(vt?vt.tileID.key:null),vt&&vt.hasData()?vt:null}findDEMTileFor(ut){return this.enabled?this._findTileCoveringTileID(ut,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(ut,ft){let vt=this._tilesDirty[ut];vt||(vt=this._tilesDirty[ut]={}),vt[ft.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const ut=function(ft){let vt=0;const wt=new ot.StructArrayLayout2ui4,Ct=131;for(let Dt=1;Dt<129;Dt++){for(let zt=1;zt<129;zt++)vt=Dt*Ct+zt,wt.emplaceBack(vt,vt+1),wt.emplaceBack(vt,vt+Ct),wt.emplaceBack(vt+1,vt+Ct),Dt===128&&wt.emplaceBack(vt+Ct,vt+Ct+1);wt.emplaceBack(vt+1,vt+1+Ct)}return wt}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(ut),this.wireframeSegments=ot.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,ut.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Lo{static cacheKey(ut,ft,vt,wt){let Ct=`${ft}${wt?wt.cacheKey:""}`;for(const Dt of vt)ut.usedDefines.includes(Dt)&&(Ct+=`/${Dt}`);return Ct}constructor(ut,ft,vt,wt,Ct,Dt){const zt=ut.gl;this.program=zt.createProgram();const Nt=function(ir){const _r=[];for(let $r=0;$r<ir.length;$r++){if(ir[$r]===null)continue;const Ir=ir[$r].split(" ");_r.push(Ir.pop())}return _r}(vt.staticAttributes),Zt=wt?wt.getBinderAttributes():[],qt=Nt.concat(Zt);let rr=wt?wt.defines():[];rr=rr.concat(Dt.map(ir=>`#define ${ir}`));const pr=ut.isWebGL2?`#version 300 es
`:"",xr=pr+rr.concat(ut.extStandardDerivatives&&pr.length===0?`#extension GL_OES_standard_derivatives : enable
`.concat(r0):r0,r0,Xp,Ty.fragmentSource,Lu.fragmentSource,vt.fragmentSource).join(`
`),wr=pr+rr.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,Xp,Ty.vertexSource,Lu.vertexSource,Kp.vertexSource,vt.vertexSource).join(`
`),br=zt.createShader(zt.FRAGMENT_SHADER);if(zt.isContextLost())return void(this.failedToCreate=!0);zt.shaderSource(br,xr),zt.compileShader(br),zt.attachShader(this.program,br);const Pr=zt.createShader(zt.VERTEX_SHADER);if(zt.isContextLost())this.failedToCreate=!0;else{zt.shaderSource(Pr,wr),zt.compileShader(Pr),zt.attachShader(this.program,Pr),this.attributes={},this.numAttributes=qt.length;for(let ir=0;ir<this.numAttributes;ir++)qt[ir]&&(zt.bindAttribLocation(this.program,ir,qt[ir]),this.attributes[qt[ir]]=ir);zt.linkProgram(this.program),zt.deleteShader(Pr),zt.deleteShader(br),this.fixedUniforms=Ct(ut),this.binderUniforms=wt?wt.getUniforms(ut):[],Dt.includes("TERRAIN")&&(this.terrainUniforms=(ir=>({u_dem:new ot.Uniform1i(ir),u_dem_prev:new ot.Uniform1i(ir),u_dem_unpack:new ot.Uniform4f(ir),u_dem_tl:new ot.Uniform2f(ir),u_dem_scale:new ot.Uniform1f(ir),u_dem_tl_prev:new ot.Uniform2f(ir),u_dem_scale_prev:new ot.Uniform1f(ir),u_dem_size:new ot.Uniform1f(ir),u_dem_lerp:new ot.Uniform1f(ir),u_exaggeration:new ot.Uniform1f(ir),u_depth:new ot.Uniform1i(ir),u_depth_size_inv:new ot.Uniform2f(ir),u_meter_to_dem:new ot.Uniform1f(ir),u_label_plane_matrix_inv:new ot.UniformMatrix4f(ir)}))(ut)),Dt.includes("GLOBE")&&(this.globeUniforms=(ir=>({u_tile_tl_up:new ot.Uniform3f(ir),u_tile_tr_up:new ot.Uniform3f(ir),u_tile_br_up:new ot.Uniform3f(ir),u_tile_bl_up:new ot.Uniform3f(ir),u_tile_up_scale:new ot.Uniform1f(ir)}))(ut)),Dt.includes("FOG")&&(this.fogUniforms=(ir=>({u_fog_matrix:new ot.UniformMatrix4f(ir),u_fog_range:new ot.Uniform2f(ir),u_fog_color:new ot.Uniform4f(ir),u_fog_horizon_blend:new ot.Uniform1f(ir),u_fog_temporal_offset:new ot.Uniform1f(ir),u_frustum_tl:new ot.Uniform3f(ir),u_frustum_tr:new ot.Uniform3f(ir),u_frustum_br:new ot.Uniform3f(ir),u_frustum_bl:new ot.Uniform3f(ir),u_globe_pos:new ot.Uniform3f(ir),u_globe_radius:new ot.Uniform1f(ir),u_globe_transition:new ot.Uniform1f(ir),u_is_globe:new ot.Uniform1i(ir),u_viewport:new ot.Uniform2f(ir)}))(ut))}}setTerrainUniformValues(ut,ft){if(!this.terrainUniforms)return;const vt=this.terrainUniforms;if(!this.failedToCreate){ut.program.set(this.program);for(const wt in ft)vt[wt]&&vt[wt].set(this.program,wt,ft[wt])}}setGlobeUniformValues(ut,ft){if(!this.globeUniforms)return;const vt=this.globeUniforms;if(!this.failedToCreate){ut.program.set(this.program);for(const wt in ft)vt[wt]&&vt[wt].set(this.program,wt,ft[wt])}}setFogUniformValues(ut,ft){if(!this.fogUniforms)return;const vt=this.fogUniforms;if(!this.failedToCreate){ut.program.set(this.program);for(const wt in ft)vt[wt].set(this.program,wt,ft[wt])}}draw(ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,qt,rr,pr,xr,wr,br){const Pr=ut.gl;if(this.failedToCreate)return;ut.program.set(this.program),ut.setDepthMode(vt),ut.setStencilMode(wt),ut.setColorMode(Ct),ut.setCullFace(Dt);for(const _r of Object.keys(this.fixedUniforms))this.fixedUniforms[_r].set(this.program,_r,zt[_r]);wr&&wr.setUniforms(this.program,ut,this.binderUniforms,pr,{zoom:xr});const ir={[Pr.LINES]:2,[Pr.TRIANGLES]:3,[Pr.LINE_STRIP]:1}[ft];for(const _r of rr.get()){const $r=_r.vaos||(_r.vaos={});($r[Nt]||($r[Nt]=new q1)).bind(ut,this,Zt,wr?wr.getPaintVertexBuffers():[],qt,_r.vertexOffset,br||[]),Pr.drawElements(ft,_r.primitiveLength*ir,Pr.UNSIGNED_SHORT,_r.primitiveOffset*ir*2)}}}function yp(gt,ut){const ft=Math.pow(2,ut.tileID.overscaledZ),vt=ut.tileSize*Math.pow(2,gt.transform.tileZoom)/ft,wt=vt*(ut.tileID.canonical.x+ut.tileID.wrap*ft),Ct=vt*ut.tileID.canonical.y;return{u_image:0,u_texsize:ut.imageAtlasTexture.size,u_tile_units_to_pixels:1/cr(ut,1,gt.transform.tileZoom),u_pixel_coord_upper:[wt>>16,Ct>>16],u_pixel_coord_lower:[65535&wt,65535&Ct]}}const My=ot.create(),u0=(gt,ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,qt)=>{const rr=ut.style.light,pr=rr.properties.get("position"),xr=[pr.x,pr.y,pr.z],wr=ot.create$1();rr.properties.get("anchor")==="viewport"&&(ot.fromRotation(wr,-ut.transform.angle),ot.transformMat3(xr,xr,wr));const br=rr.properties.get("color"),Pr=ut.transform,ir={u_matrix:gt,u_lightpos:xr,u_lightintensity:rr.properties.get("intensity"),u_lightcolor:[br.r,br.g,br.b],u_vertical_gradient:+ft,u_opacity:vt,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:My,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:wt,u_edge_radius:Ct};return Pr.projection.name==="globe"&&(ir.u_tile_id=[Dt.canonical.x,Dt.canonical.y,1<<Dt.canonical.z],ir.u_zoom_transition=Nt,ir.u_inv_rot_matrix=qt,ir.u_merc_center=Zt,ir.u_up_dir=Pr.projection.upVector(new ot.CanonicalTileID(0,0,0),Zt[0]*ot.EXTENT,Zt[1]*ot.EXTENT),ir.u_height_lift=zt),ir},ky=(gt,ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,qt,rr)=>{const pr=u0(gt,ut,ft,vt,wt,Ct,Dt,Nt,Zt,qt,rr),xr={u_height_factor:-Math.pow(2,Dt.overscaledZ)/zt.tileSize/8};return ot.extend(pr,yp(ut,zt),xr)},vu=gt=>({u_matrix:gt}),h0=(gt,ut,ft)=>ot.extend(vu(gt),yp(ut,ft)),Z1=(gt,ut)=>({u_matrix:gt,u_world:ut}),K1=(gt,ut,ft,vt)=>ot.extend(h0(gt,ut,ft),{u_world:vt}),X1=ot.create(),d0=(gt,ut,ft,vt,wt,Ct)=>{const Dt=gt.transform,zt=Dt.projection.name==="globe";let Nt;if(Ct.paint.get("circle-pitch-alignment")==="map")if(zt){const qt=ot.globePixelsToTileUnits(Dt.zoom,ut.canonical)*Dt._pixelsPerMercatorPixel;Nt=Float32Array.from([qt,0,0,qt])}else Nt=Dt.calculatePixelsToTileUnitsMatrix(ft);else Nt=new Float32Array([Dt.pixelsToGLUnits[0],0,0,Dt.pixelsToGLUnits[1]]);const Zt={u_camera_to_center_distance:Dt.cameraToCenterDistance,u_matrix:gt.translatePosMatrix(ut.projMatrix,ft,Ct.paint.get("circle-translate"),Ct.paint.get("circle-translate-anchor")),u_device_pixel_ratio:ot.exported.devicePixelRatio,u_extrude_scale:Nt,u_inv_rot_matrix:X1,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(zt){Zt.u_inv_rot_matrix=vt,Zt.u_merc_center=wt,Zt.u_tile_id=[ut.canonical.x,ut.canonical.y,1<<ut.canonical.z],Zt.u_zoom_transition=ot.globeToMercatorTransition(Dt.zoom);const qt=wt[0]*ot.EXTENT,rr=wt[1]*ot.EXTENT;Zt.u_up_dir=Dt.projection.upVector(new ot.CanonicalTileID(0,0,0),qt,rr)}return Zt},f0=gt=>{const ut=[];return gt.paint.get("circle-pitch-alignment")==="map"&&ut.push("PITCH_WITH_MAP"),gt.paint.get("circle-pitch-scale")==="map"&&ut.push("SCALE_WITH_MAP"),ut},p0=(gt,ut,ft,vt)=>{const wt=ot.EXTENT/ft.tileSize;return{u_matrix:gt,u_camera_to_center_distance:ut.getCameraToCenterDistance(vt),u_extrude_scale:[ut.pixelsToGLUnits[0]/wt,ut.pixelsToGLUnits[1]/wt]}},tm=(gt,ut,ft=1)=>({u_matrix:gt,u_color:ut,u_overlay:0,u_overlay_scale:ft}),$y=ot.create(),Iy=(gt,ut,ft,vt,wt,Ct,Dt)=>{const zt=gt.transform,Nt=zt.projection.name==="globe",Zt=Nt?ot.globePixelsToTileUnits(zt.zoom,ut.canonical)*zt._pixelsPerMercatorPixel:cr(ft,1,Ct),qt={u_matrix:ut.projMatrix,u_extrude_scale:Zt,u_intensity:Dt,u_inv_rot_matrix:$y,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(Nt){qt.u_inv_rot_matrix=vt,qt.u_merc_center=wt,qt.u_tile_id=[ut.canonical.x,ut.canonical.y,1<<ut.canonical.z],qt.u_zoom_transition=ot.globeToMercatorTransition(zt.zoom);const rr=wt[0]*ot.EXTENT,pr=wt[1]*ot.EXTENT;qt.u_up_dir=zt.projection.upVector(new ot.CanonicalTileID(0,0,0),rr,pr)}return qt},Y1=(gt,ut,ft,vt,wt,Ct,Dt)=>{const zt=gt.transform,Nt=zt.calculatePixelsToTileUnitsMatrix(ut);return{u_matrix:m0(gt,ut,ft,vt),u_pixels_to_tile_units:Nt,u_device_pixel_ratio:Ct,u_units_to_pixels:[1/zt.pixelsToGLUnits[0],1/zt.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:wt,u_texsize:_p(ft)?ut.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:zu(ut,gt.transform),u_alpha_discard_threshold:0,u_trim_offset:Dt}},vp=(gt,ut,ft,vt,wt)=>{const Ct=gt.transform;return{u_matrix:m0(gt,ut,ft,vt),u_texsize:ut.imageAtlasTexture.size,u_pixels_to_tile_units:Ct.calculatePixelsToTileUnitsMatrix(ut),u_device_pixel_ratio:wt,u_image:0,u_tile_units_to_pixels:zu(ut,Ct),u_units_to_pixels:[1/Ct.pixelsToGLUnits[0],1/Ct.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function zu(gt,ut){return 1/cr(gt,1,ut.tileZoom)}function m0(gt,ut,ft,vt){return gt.translatePosMatrix(vt||ut.tileID.projMatrix,ut,ft.paint.get("line-translate"),ft.paint.get("line-translate-anchor"))}function _p(gt){const ut=gt.paint.get("line-dasharray").value;return ut.value||ut.kind!=="constant"}const g0=(gt,ut,ft,vt,wt,Ct)=>{return{u_matrix:gt,u_tl_parent:ut,u_scale_parent:ft,u_fade_t:vt.mix,u_opacity:vt.opacity*wt.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:wt.paint.get("raster-brightness-min"),u_brightness_high:wt.paint.get("raster-brightness-max"),u_saturation_factor:(zt=wt.paint.get("raster-saturation"),zt>0?1-1/(1.001-zt):-zt),u_contrast_factor:(Dt=wt.paint.get("raster-contrast"),Dt>0?1/(1-Dt):1+Dt),u_spin_weights:Rl(wt.paint.get("raster-hue-rotate")),u_perspective_transform:Ct};var Dt,zt};function Rl(gt){gt*=Math.PI/180;const ut=Math.sin(gt),ft=Math.cos(gt);return[(2*ft+1)/3,(-Math.sqrt(3)*ut-ft+1)/3,(Math.sqrt(3)*ut-ft+1)/3]}const rm=ot.create(),y0=(gt,ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,qt,rr,pr,xr,wr,br)=>{const Pr=wt.transform,ir={u_is_size_zoom_constant:+(gt==="constant"||gt==="source"),u_is_size_feature_constant:+(gt==="constant"||gt==="camera"),u_size_t:ut?ut.uSizeT:0,u_size:ut?ut.uSize:0,u_camera_to_center_distance:Pr.cameraToCenterDistance,u_rotate_symbol:+ft,u_aspect_ratio:Pr.width/Pr.height,u_fade_change:wt.options.fadeDuration?wt.symbolFadeChange:1,u_matrix:Ct,u_label_plane_matrix:Dt,u_coord_matrix:zt,u_is_text:+Nt,u_pitch_with_map:+vt,u_texsize:Zt,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:rm,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:rm,u_up_vector:[0,-1,0]};return br.name==="globe"&&(ir.u_tile_id=[qt.canonical.x,qt.canonical.y,1<<qt.canonical.z],ir.u_zoom_transition=rr,ir.u_inv_rot_matrix=xr,ir.u_merc_center=pr,ir.u_camera_forward=Pr._camera.forward(),ir.u_ecef_origin=ot.globeECEFOrigin(Pr.globeMatrix,qt.toUnwrapped()),ir.u_tile_matrix=Float32Array.from(Pr.globeMatrix),ir.u_up_vector=wr),ir},im=(gt,ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,qt,rr,pr,xr,wr,br,Pr)=>ot.extend(y0(gt,ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,rr,pr,xr,wr,br,Pr),{u_gamma_scale:vt?wt.transform.cameraToCenterDistance*Math.cos(wt.terrain?0:wt.transform._pitch):1,u_device_pixel_ratio:ot.exported.devicePixelRatio,u_is_halo:+qt}),Ly=(gt,ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,qt,rr,pr,xr,wr,br)=>ot.extend(im(gt,ut,ft,vt,wt,Ct,Dt,zt,!0,Nt,!0,qt,rr,pr,xr,wr,br),{u_texsize_icon:Zt,u_texture_icon:1}),v0=(gt,ut,ft)=>({u_matrix:gt,u_opacity:ut,u_color:ft}),Q1=(gt,ut,ft,vt,wt)=>ot.extend(function(Ct,Dt,zt){const Nt=Dt.imageManager.getPattern(Ct.toString()),{width:Zt,height:qt}=Dt.imageManager.getPixelSize(),rr=Math.pow(2,zt.tileID.overscaledZ),pr=zt.tileSize*Math.pow(2,Dt.transform.tileZoom)/rr,xr=pr*(zt.tileID.canonical.x+zt.tileID.wrap*rr),wr=pr*zt.tileID.canonical.y;return{u_image:0,u_pattern_tl:Nt.tl,u_pattern_br:Nt.br,u_texsize:[Zt,qt],u_pattern_size:Nt.displaySize,u_tile_units_to_pixels:1/cr(zt,1,Dt.transform.tileZoom),u_pixel_coord_upper:[xr>>16,wr>>16],u_pixel_coord_lower:[65535&xr,65535&wr]}}(vt,ft,wt),{u_matrix:gt,u_opacity:ut}),_0={fillExtrusion:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_lightpos:new ot.Uniform3f(gt),u_lightintensity:new ot.Uniform1f(gt),u_lightcolor:new ot.Uniform3f(gt),u_vertical_gradient:new ot.Uniform1f(gt),u_opacity:new ot.Uniform1f(gt),u_edge_radius:new ot.Uniform1f(gt),u_ao:new ot.Uniform2f(gt),u_tile_id:new ot.Uniform3f(gt),u_zoom_transition:new ot.Uniform1f(gt),u_inv_rot_matrix:new ot.UniformMatrix4f(gt),u_merc_center:new ot.Uniform2f(gt),u_up_dir:new ot.Uniform3f(gt),u_height_lift:new ot.Uniform1f(gt)}),fillExtrusionPattern:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_lightpos:new ot.Uniform3f(gt),u_lightintensity:new ot.Uniform1f(gt),u_lightcolor:new ot.Uniform3f(gt),u_vertical_gradient:new ot.Uniform1f(gt),u_height_factor:new ot.Uniform1f(gt),u_edge_radius:new ot.Uniform1f(gt),u_ao:new ot.Uniform2f(gt),u_tile_id:new ot.Uniform3f(gt),u_zoom_transition:new ot.Uniform1f(gt),u_inv_rot_matrix:new ot.UniformMatrix4f(gt),u_merc_center:new ot.Uniform2f(gt),u_up_dir:new ot.Uniform3f(gt),u_height_lift:new ot.Uniform1f(gt),u_image:new ot.Uniform1i(gt),u_texsize:new ot.Uniform2f(gt),u_pixel_coord_upper:new ot.Uniform2f(gt),u_pixel_coord_lower:new ot.Uniform2f(gt),u_tile_units_to_pixels:new ot.Uniform1f(gt),u_opacity:new ot.Uniform1f(gt)}),fill:gt=>({u_matrix:new ot.UniformMatrix4f(gt)}),fillPattern:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_image:new ot.Uniform1i(gt),u_texsize:new ot.Uniform2f(gt),u_pixel_coord_upper:new ot.Uniform2f(gt),u_pixel_coord_lower:new ot.Uniform2f(gt),u_tile_units_to_pixels:new ot.Uniform1f(gt)}),fillOutline:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_world:new ot.Uniform2f(gt)}),fillOutlinePattern:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_world:new ot.Uniform2f(gt),u_image:new ot.Uniform1i(gt),u_texsize:new ot.Uniform2f(gt),u_pixel_coord_upper:new ot.Uniform2f(gt),u_pixel_coord_lower:new ot.Uniform2f(gt),u_tile_units_to_pixels:new ot.Uniform1f(gt)}),circle:gt=>({u_camera_to_center_distance:new ot.Uniform1f(gt),u_extrude_scale:new ot.UniformMatrix2f(gt),u_device_pixel_ratio:new ot.Uniform1f(gt),u_matrix:new ot.UniformMatrix4f(gt),u_inv_rot_matrix:new ot.UniformMatrix4f(gt),u_merc_center:new ot.Uniform2f(gt),u_tile_id:new ot.Uniform3f(gt),u_zoom_transition:new ot.Uniform1f(gt),u_up_dir:new ot.Uniform3f(gt)}),collisionBox:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_camera_to_center_distance:new ot.Uniform1f(gt),u_extrude_scale:new ot.Uniform2f(gt)}),collisionCircle:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_inv_matrix:new ot.UniformMatrix4f(gt),u_camera_to_center_distance:new ot.Uniform1f(gt),u_viewport_size:new ot.Uniform2f(gt)}),debug:gt=>({u_color:new ot.UniformColor(gt),u_matrix:new ot.UniformMatrix4f(gt),u_overlay:new ot.Uniform1i(gt),u_overlay_scale:new ot.Uniform1f(gt)}),clippingMask:gt=>({u_matrix:new ot.UniformMatrix4f(gt)}),heatmap:gt=>({u_extrude_scale:new ot.Uniform1f(gt),u_intensity:new ot.Uniform1f(gt),u_matrix:new ot.UniformMatrix4f(gt),u_inv_rot_matrix:new ot.UniformMatrix4f(gt),u_merc_center:new ot.Uniform2f(gt),u_tile_id:new ot.Uniform3f(gt),u_zoom_transition:new ot.Uniform1f(gt),u_up_dir:new ot.Uniform3f(gt)}),heatmapTexture:gt=>({u_image:new ot.Uniform1i(gt),u_color_ramp:new ot.Uniform1i(gt),u_opacity:new ot.Uniform1f(gt)}),hillshade:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_image:new ot.Uniform1i(gt),u_latrange:new ot.Uniform2f(gt),u_light:new ot.Uniform2f(gt),u_shadow:new ot.UniformColor(gt),u_highlight:new ot.UniformColor(gt),u_accent:new ot.UniformColor(gt)}),hillshadePrepare:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_image:new ot.Uniform1i(gt),u_dimension:new ot.Uniform2f(gt),u_zoom:new ot.Uniform1f(gt),u_unpack:new ot.Uniform4f(gt)}),line:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_pixels_to_tile_units:new ot.UniformMatrix2f(gt),u_device_pixel_ratio:new ot.Uniform1f(gt),u_units_to_pixels:new ot.Uniform2f(gt),u_dash_image:new ot.Uniform1i(gt),u_gradient_image:new ot.Uniform1i(gt),u_image_height:new ot.Uniform1f(gt),u_texsize:new ot.Uniform2f(gt),u_tile_units_to_pixels:new ot.Uniform1f(gt),u_alpha_discard_threshold:new ot.Uniform1f(gt),u_trim_offset:new ot.Uniform2f(gt)}),linePattern:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_texsize:new ot.Uniform2f(gt),u_pixels_to_tile_units:new ot.UniformMatrix2f(gt),u_device_pixel_ratio:new ot.Uniform1f(gt),u_image:new ot.Uniform1i(gt),u_units_to_pixels:new ot.Uniform2f(gt),u_tile_units_to_pixels:new ot.Uniform1f(gt),u_alpha_discard_threshold:new ot.Uniform1f(gt)}),raster:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_tl_parent:new ot.Uniform2f(gt),u_scale_parent:new ot.Uniform1f(gt),u_fade_t:new ot.Uniform1f(gt),u_opacity:new ot.Uniform1f(gt),u_image0:new ot.Uniform1i(gt),u_image1:new ot.Uniform1i(gt),u_brightness_low:new ot.Uniform1f(gt),u_brightness_high:new ot.Uniform1f(gt),u_saturation_factor:new ot.Uniform1f(gt),u_contrast_factor:new ot.Uniform1f(gt),u_spin_weights:new ot.Uniform3f(gt),u_perspective_transform:new ot.Uniform2f(gt)}),symbolIcon:gt=>({u_is_size_zoom_constant:new ot.Uniform1i(gt),u_is_size_feature_constant:new ot.Uniform1i(gt),u_size_t:new ot.Uniform1f(gt),u_size:new ot.Uniform1f(gt),u_camera_to_center_distance:new ot.Uniform1f(gt),u_rotate_symbol:new ot.Uniform1i(gt),u_aspect_ratio:new ot.Uniform1f(gt),u_fade_change:new ot.Uniform1f(gt),u_matrix:new ot.UniformMatrix4f(gt),u_label_plane_matrix:new ot.UniformMatrix4f(gt),u_coord_matrix:new ot.UniformMatrix4f(gt),u_is_text:new ot.Uniform1i(gt),u_pitch_with_map:new ot.Uniform1i(gt),u_texsize:new ot.Uniform2f(gt),u_tile_id:new ot.Uniform3f(gt),u_zoom_transition:new ot.Uniform1f(gt),u_inv_rot_matrix:new ot.UniformMatrix4f(gt),u_merc_center:new ot.Uniform2f(gt),u_camera_forward:new ot.Uniform3f(gt),u_tile_matrix:new ot.UniformMatrix4f(gt),u_up_vector:new ot.Uniform3f(gt),u_ecef_origin:new ot.Uniform3f(gt),u_texture:new ot.Uniform1i(gt)}),symbolSDF:gt=>({u_is_size_zoom_constant:new ot.Uniform1i(gt),u_is_size_feature_constant:new ot.Uniform1i(gt),u_size_t:new ot.Uniform1f(gt),u_size:new ot.Uniform1f(gt),u_camera_to_center_distance:new ot.Uniform1f(gt),u_rotate_symbol:new ot.Uniform1i(gt),u_aspect_ratio:new ot.Uniform1f(gt),u_fade_change:new ot.Uniform1f(gt),u_matrix:new ot.UniformMatrix4f(gt),u_label_plane_matrix:new ot.UniformMatrix4f(gt),u_coord_matrix:new ot.UniformMatrix4f(gt),u_is_text:new ot.Uniform1i(gt),u_pitch_with_map:new ot.Uniform1i(gt),u_texsize:new ot.Uniform2f(gt),u_texture:new ot.Uniform1i(gt),u_gamma_scale:new ot.Uniform1f(gt),u_device_pixel_ratio:new ot.Uniform1f(gt),u_tile_id:new ot.Uniform3f(gt),u_zoom_transition:new ot.Uniform1f(gt),u_inv_rot_matrix:new ot.UniformMatrix4f(gt),u_merc_center:new ot.Uniform2f(gt),u_camera_forward:new ot.Uniform3f(gt),u_tile_matrix:new ot.UniformMatrix4f(gt),u_up_vector:new ot.Uniform3f(gt),u_ecef_origin:new ot.Uniform3f(gt),u_is_halo:new ot.Uniform1i(gt)}),symbolTextAndIcon:gt=>({u_is_size_zoom_constant:new ot.Uniform1i(gt),u_is_size_feature_constant:new ot.Uniform1i(gt),u_size_t:new ot.Uniform1f(gt),u_size:new ot.Uniform1f(gt),u_camera_to_center_distance:new ot.Uniform1f(gt),u_rotate_symbol:new ot.Uniform1i(gt),u_aspect_ratio:new ot.Uniform1f(gt),u_fade_change:new ot.Uniform1f(gt),u_matrix:new ot.UniformMatrix4f(gt),u_label_plane_matrix:new ot.UniformMatrix4f(gt),u_coord_matrix:new ot.UniformMatrix4f(gt),u_is_text:new ot.Uniform1i(gt),u_pitch_with_map:new ot.Uniform1i(gt),u_texsize:new ot.Uniform2f(gt),u_texsize_icon:new ot.Uniform2f(gt),u_texture:new ot.Uniform1i(gt),u_texture_icon:new ot.Uniform1i(gt),u_gamma_scale:new ot.Uniform1f(gt),u_device_pixel_ratio:new ot.Uniform1f(gt),u_is_halo:new ot.Uniform1i(gt)}),background:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_opacity:new ot.Uniform1f(gt),u_color:new ot.UniformColor(gt)}),backgroundPattern:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_opacity:new ot.Uniform1f(gt),u_image:new ot.Uniform1i(gt),u_pattern_tl:new ot.Uniform2f(gt),u_pattern_br:new ot.Uniform2f(gt),u_texsize:new ot.Uniform2f(gt),u_pattern_size:new ot.Uniform2f(gt),u_pixel_coord_upper:new ot.Uniform2f(gt),u_pixel_coord_lower:new ot.Uniform2f(gt),u_tile_units_to_pixels:new ot.Uniform1f(gt)}),terrainRaster:a0,terrainDepth:a0,skybox:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_sun_direction:new ot.Uniform3f(gt),u_cubemap:new ot.Uniform1i(gt),u_opacity:new ot.Uniform1f(gt),u_temporal_offset:new ot.Uniform1f(gt)}),skyboxGradient:gt=>({u_matrix:new ot.UniformMatrix4f(gt),u_color_ramp:new ot.Uniform1i(gt),u_center_direction:new ot.Uniform3f(gt),u_radius:new ot.Uniform1f(gt),u_opacity:new ot.Uniform1f(gt),u_temporal_offset:new ot.Uniform1f(gt)}),skyboxCapture:gt=>({u_matrix_3f:new ot.UniformMatrix3f(gt),u_sun_direction:new ot.Uniform3f(gt),u_sun_intensity:new ot.Uniform1f(gt),u_color_tint_r:new ot.Uniform4f(gt),u_color_tint_m:new ot.Uniform4f(gt),u_luminance:new ot.Uniform1f(gt)}),globeRaster:gt=>({u_proj_matrix:new ot.UniformMatrix4f(gt),u_globe_matrix:new ot.UniformMatrix4f(gt),u_normalize_matrix:new ot.UniformMatrix4f(gt),u_merc_matrix:new ot.UniformMatrix4f(gt),u_zoom_transition:new ot.Uniform1f(gt),u_merc_center:new ot.Uniform2f(gt),u_image0:new ot.Uniform1i(gt),u_grid_matrix:new ot.UniformMatrix3f(gt),u_skirt_height:new ot.Uniform1f(gt),u_frustum_tl:new ot.Uniform3f(gt),u_frustum_tr:new ot.Uniform3f(gt),u_frustum_br:new ot.Uniform3f(gt),u_frustum_bl:new ot.Uniform3f(gt),u_globe_pos:new ot.Uniform3f(gt),u_globe_radius:new ot.Uniform1f(gt),u_viewport:new ot.Uniform2f(gt)}),globeAtmosphere:gt=>({u_frustum_tl:new ot.Uniform3f(gt),u_frustum_tr:new ot.Uniform3f(gt),u_frustum_br:new ot.Uniform3f(gt),u_frustum_bl:new ot.Uniform3f(gt),u_horizon:new ot.Uniform1f(gt),u_transition:new ot.Uniform1f(gt),u_fadeout_range:new ot.Uniform1f(gt),u_color:new ot.Uniform4f(gt),u_high_color:new ot.Uniform4f(gt),u_space_color:new ot.Uniform4f(gt),u_star_intensity:new ot.Uniform1f(gt),u_star_density:new ot.Uniform1f(gt),u_star_size:new ot.Uniform1f(gt),u_temporal_offset:new ot.Uniform1f(gt),u_horizon_angle:new ot.Uniform1f(gt),u_rotation_matrix:new ot.UniformMatrix4f(gt)})};let om;function xp(gt,ut,ft,vt,wt,Ct,Dt){const zt=gt.context,Nt=zt.gl,Zt=gt.transform,qt=gt.useProgram("collisionBox"),rr=[];let pr=0,xr=0;for(let Ir=0;Ir<vt.length;Ir++){const Vr=vt[Ir],Wr=ut.getTile(Vr),Gr=Wr.getBucket(ft);if(!Gr)continue;const Jr=Us(Vr,Gr,Zt);let Yr=Jr;wt[0]===0&&wt[1]===0||(Yr=gt.translatePosMatrix(Jr,Wr,wt,Ct));const an=Dt?Gr.textCollisionBox:Gr.iconCollisionBox,In=Gr.collisionCircleArray;if(In.length>0){const rn=ot.create(),Sn=Yr;ot.mul(rn,Gr.placementInvProjMatrix,Zt.glCoordMatrix),ot.mul(rn,rn,Gr.placementViewportMatrix),rr.push({circleArray:In,circleOffset:xr,transform:Sn,invTransform:rn,projection:Gr.getProjection()}),pr+=In.length/4,xr=pr}an&&(gt.terrain&&gt.terrain.setupElevationDraw(Wr,qt),qt.draw(zt,Nt.LINES,ot.DepthMode.disabled,ot.StencilMode.disabled,gt.colorModeForRenderPass(),ot.CullFaceMode.disabled,p0(Yr,Zt,Wr,Gr.getProjection()),ft.id,an.layoutVertexBuffer,an.indexBuffer,an.segments,null,Zt.zoom,null,[an.collisionVertexBuffer,an.collisionVertexBufferExt]))}if(!Dt||!rr.length)return;const wr=gt.useProgram("collisionCircle"),br=new ot.StructArrayLayout2f1f2i16;br.resize(4*pr),br._trim();let Pr=0;for(const Ir of rr)for(let Vr=0;Vr<Ir.circleArray.length/4;Vr++){const Wr=4*Vr,Gr=Ir.circleArray[Wr+0],Jr=Ir.circleArray[Wr+1],Yr=Ir.circleArray[Wr+2],an=Ir.circleArray[Wr+3];br.emplace(Pr++,Gr,Jr,Yr,an,0),br.emplace(Pr++,Gr,Jr,Yr,an,1),br.emplace(Pr++,Gr,Jr,Yr,an,2),br.emplace(Pr++,Gr,Jr,Yr,an,3)}(!om||om.length<2*pr)&&(om=function(Ir){const Vr=2*Ir,Wr=new ot.StructArrayLayout3ui6;Wr.resize(Vr),Wr._trim();for(let Gr=0;Gr<Vr;Gr++){const Jr=6*Gr;Wr.uint16[Jr+0]=4*Gr+0,Wr.uint16[Jr+1]=4*Gr+1,Wr.uint16[Jr+2]=4*Gr+2,Wr.uint16[Jr+3]=4*Gr+2,Wr.uint16[Jr+4]=4*Gr+3,Wr.uint16[Jr+5]=4*Gr+0}return Wr}(pr));const ir=zt.createIndexBuffer(om,!0),_r=zt.createVertexBuffer(br,ot.collisionCircleLayout.members,!0);for(const Ir of rr){const Vr={u_matrix:Ir.transform,u_inv_matrix:Ir.invTransform,u_camera_to_center_distance:($r=Zt).getCameraToCenterDistance(Ir.projection),u_viewport_size:[$r.width,$r.height]};wr.draw(zt,Nt.TRIANGLES,ot.DepthMode.disabled,ot.StencilMode.disabled,gt.colorModeForRenderPass(),ot.CullFaceMode.disabled,Vr,ft.id,_r,ir,ot.SegmentVector.simpleSegment(0,2*Ir.circleOffset,Ir.circleArray.length,Ir.circleArray.length/2),null,Zt.zoom)}var $r;_r.destroy(),ir.destroy()}const Dy=ot.create();function x0({width:gt,height:ut,anchor:ft,textOffset:vt,textScale:wt},Ct){const{horizontalAlign:Dt,verticalAlign:zt}=ot.getAnchorAlignment(ft),Nt=-(Dt-.5)*gt,Zt=-(zt-.5)*ut,qt=ot.evaluateVariableOffset(ft,vt);return new ot.Point((Nt/wt+qt[0])*Ct,(Zt/wt+qt[1])*Ct)}function J1(gt,ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,qt){const rr=gt.text.placedSymbolArray,pr=gt.text.dynamicLayoutVertexArray,xr=gt.icon.dynamicLayoutVertexArray,wr={},br=gt.getProjection(),Pr=ba(zt,br,Ct),ir=Ct.elevation,_r=br.upVectorScale(zt.canonical,Ct.center.lat,Ct.worldSize).metersToTile;pr.clear();for(let $r=0;$r<rr.length;$r++){const Ir=rr.get($r),{tileAnchorX:Vr,tileAnchorY:Wr,numGlyphs:Gr}=Ir,Jr=Ir.hidden||!Ir.crossTileID||gt.allowVerticalPlacement&&!Ir.placedOrientation?null:vt[Ir.crossTileID];if(Jr){let Yr=0,an=0,In=0;if(ir){const On=ir?ir.getAtTileOffset(zt,Vr,Wr):0,[oo,go,Qn]=br.upVector(zt.canonical,Vr,Wr);Yr=On*oo*_r,an=On*go*_r,In=On*Qn*_r}let[rn,Sn,un,$n]=vs(Ir.projectedAnchorX+Yr,Ir.projectedAnchorY+an,Ir.projectedAnchorZ+In,ft?Pr:Dt);const on=by(Ct.getCameraToCenterDistance(br),$n);let wn=wt.evaluateSizeForFeature(gt.textSizeData,Zt,Ir)*on/ot.ONE_EM;ft&&(wn*=gt.tilePixelRatio/Nt);const Dn=x0(Jr,wn);ft?({x:rn,y:Sn,z:un}=br.projectTilePoint(Vr+Dn.x,Wr+Dn.y,zt.canonical),[rn,Sn,un]=vs(rn+Yr,Sn+an,un+In,Dt)):(ut&&Dn._rotate(-Ct.angle),rn+=Dn.x,Sn+=Dn.y,un=0);const An=gt.allowVerticalPlacement&&Ir.placedOrientation===ot.WritingMode.vertical?Math.PI/2:0;for(let On=0;On<Gr;On++)ot.addDynamicAttributes(pr,rn,Sn,un,An);qt&&Ir.associatedIconIndex>=0&&(wr[Ir.associatedIconIndex]={x:rn,y:Sn,z:un,angle:An})}else Qs(Gr,pr)}if(qt){xr.clear();const $r=gt.icon.placedSymbolArray;for(let Ir=0;Ir<$r.length;Ir++){const Vr=$r.get(Ir),{numGlyphs:Wr}=Vr,Gr=wr[Ir];if(Vr.hidden||!Gr)Qs(Wr,xr);else{const{x:Jr,y:Yr,z:an,angle:In}=Gr;for(let rn=0;rn<Wr;rn++)ot.addDynamicAttributes(xr,Jr,Yr,an,In)}}gt.icon.dynamicLayoutVertexBuffer.updateData(xr)}gt.text.dynamicLayoutVertexBuffer.updateData(pr)}function b0(gt,ut,ft){return ft.iconsInText&&ut?"symbolTextAndIcon":gt?"symbolSDF":"symbolIcon"}function Oy(gt,ut,ft,vt,wt,Ct,Dt,zt,Nt,Zt,qt,rr){const pr=gt.context,xr=pr.gl,wr=gt.transform,br=zt==="map",Pr=Nt==="map",ir=br&&ft.layout.get("symbol-placement")!=="point",_r=br&&!Pr&&!ir,$r=ft.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Ir=!1;const Vr=gt.depthModeForSublayer(0,ot.DepthMode.ReadOnly),Wr=[ot.mercatorXfromLng(wr.center.lng),ot.mercatorYfromLat(wr.center.lat)],Gr=ft.layout.get("text-variable-anchor"),Jr=wr.projection.name==="globe",Yr=[],an=[0,-1,0];let In=an;!Jr&&!wr.mercatorFromTransition||br||(In=function(rn){const Sn=rn._camera.getWorldToCamera(rn.worldSize,1),un=ot.multiply([],Sn,rn.globeMatrix);ot.invert(un,un);const $n=[0,0,0],on=[0,1,0,0];return ot.transformMat4$1(on,on,un),$n[0]=on[0],$n[1]=on[1],$n[2]=on[2],ot.normalize($n,$n),$n}(wr));for(const rn of vt){const Sn=ut.getTile(rn),un=Sn.getBucket(ft);if(!un||un.projection.name==="mercator"&&Jr)continue;const $n=wt?un.text:un.icon;if(!$n||un.fullyClipped||!$n.segments.get().length)continue;const on=$n.programConfigurations.get(ft.id),wn=wt||un.sdfIcons,Dn=wt?un.textSizeData:un.iconSizeData,An=Pr||wr.pitch!==0,On=ot.evaluateSizeForZoom(Dn,wr.zoom);let oo,go,Qn,uo,Ao=[0,0],To=null;if(wt)go=Sn.glyphAtlasTexture,Qn=xr.LINEAR,oo=Sn.glyphAtlasTexture.size,un.iconsInText&&(Ao=Sn.imageAtlasTexture.size,To=Sn.imageAtlasTexture,uo=An||gt.options.rotating||gt.options.zooming||Dn.kind==="composite"||Dn.kind==="camera"?xr.LINEAR:xr.NEAREST);else{const Hl=ft.layout.get("icon-size").constantOr(0)!==1||un.iconsNeedLinear;go=Sn.imageAtlasTexture,Qn=wn||gt.options.rotating||gt.options.zooming||Hl||An?xr.LINEAR:xr.NEAREST,oo=Sn.imageAtlasTexture.size}const io=un.projection.name==="globe",Vo=io?In:an,Go=io?ot.globeToMercatorTransition(wr.zoom):0,Wo=ba(rn,un.getProjection(),wr),Ho=wr.calculatePixelsToTileUnitsMatrix(Sn),Ps=_n(Wo,Sn.tileID.canonical,Pr,br,wr,un.getProjection(),Ho),xs=gt.terrain&&Pr&&ir?ot.invert(ot.create(),Ps):Dy,qs=ls(Wo,Sn.tileID.canonical,Pr,br,wr,un.getProjection(),Ho),Al=Gr&&un.hasTextData(),$a=ft.layout.get("icon-text-fit")!=="none"&&Al&&un.hasIconData();if(ir){const Hl=wr.elevation,iu=Hl?Hl.getAtTileOffsetFunc(rn,wr.center.lat,wr.worldSize,un.getProjection()):null,Su=Fl(Wo,Sn.tileID.canonical,Pr,br,wr,un.getProjection(),Ho);Zm(un,Wo,gt,wt,Su,qs,Pr,Zt,iu,rn)}const qo=ir||wt&&Gr||$a,Fo=gt.translatePosMatrix(Wo,Sn,Ct,Dt),cs=qo?Dy:Ps,ks=gt.translatePosMatrix(qs,Sn,Ct,Dt,!0),xa=un.getProjection().createInversionMatrix(wr,rn.canonical),Ls=[];gt.terrainRenderModeElevated()&&Pr&&Ls.push("PITCH_WITH_MAP_TERRAIN"),io&&Ls.push("PROJECTION_GLOBE_VIEW"),qo&&Ls.push("PROJECTED_POS_ON_VIEWPORT");const bm=wn&&ft.paint.get(wt?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let wu;wu=wn?un.iconsInText?Ly(Dn.kind,On,_r,Pr,gt,Fo,cs,ks,oo,Ao,rn,Go,Wr,xa,Vo,un.getProjection()):im(Dn.kind,On,_r,Pr,gt,Fo,cs,ks,wt,oo,!0,rn,Go,Wr,xa,Vo,un.getProjection()):y0(Dn.kind,On,_r,Pr,gt,Fo,cs,ks,wt,oo,rn,Go,Wr,xa,Vo,un.getProjection());const kp={program:gt.useProgram(b0(wn,wt,un),on,Ls),buffers:$n,uniformValues:wu,atlasTexture:go,atlasTextureIcon:To,atlasInterpolation:Qn,atlasInterpolationIcon:uo,isSDF:wn,hasHalo:bm,tile:Sn,labelPlaneMatrixInv:xs};if($r&&un.canOverlap){Ir=!0;const Hl=$n.segments.get();for(const iu of Hl)Yr.push({segments:new ot.SegmentVector([iu]),sortKey:iu.sortKey,state:kp})}else Yr.push({segments:$n.segments,sortKey:0,state:kp})}Ir&&Yr.sort((rn,Sn)=>rn.sortKey-Sn.sortKey);for(const rn of Yr){const Sn=rn.state;if(gt.terrain&&gt.terrain.setupElevationDraw(Sn.tile,Sn.program,{useDepthForOcclusion:!Jr,labelPlaneMatrixInv:Sn.labelPlaneMatrixInv}),pr.activeTexture.set(xr.TEXTURE0),Sn.atlasTexture.bind(Sn.atlasInterpolation,xr.CLAMP_TO_EDGE),Sn.atlasTextureIcon&&(pr.activeTexture.set(xr.TEXTURE1),Sn.atlasTextureIcon&&Sn.atlasTextureIcon.bind(Sn.atlasInterpolationIcon,xr.CLAMP_TO_EDGE)),Sn.isSDF){const un=Sn.uniformValues;Sn.hasHalo&&(un.u_is_halo=1,bp(Sn.buffers,rn.segments,ft,gt,Sn.program,Vr,qt,rr,un)),un.u_is_halo=0}bp(Sn.buffers,rn.segments,ft,gt,Sn.program,Vr,qt,rr,Sn.uniformValues)}}function bp(gt,ut,ft,vt,wt,Ct,Dt,zt,Nt){const Zt=vt.context,qt=[gt.dynamicLayoutVertexBuffer,gt.opacityVertexBuffer,gt.globeExtVertexBuffer];wt.draw(Zt,Zt.gl.TRIANGLES,Ct,Dt,zt,ot.CullFaceMode.disabled,Nt,ft.id,gt.layoutVertexBuffer,gt.indexBuffer,ut,ft.paint,vt.transform.zoom,gt.programConfigurations.get(ft.id),qt)}function Fy(gt,ut,ft,vt,wt,Ct,Dt){const zt=gt.context.gl,Nt=ft.paint.get("fill-pattern"),Zt=Nt&&Nt.constantOr(1);let qt,rr,pr,xr,wr;Dt?(rr=Zt&&!ft.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",qt=zt.LINES):(rr=Zt?"fillPattern":"fill",qt=zt.TRIANGLES);for(const br of vt){const Pr=ut.getTile(br);if(Zt&&!Pr.patternsLoaded())continue;const ir=Pr.getBucket(ft);if(!ir)continue;gt.prepareDrawTile();const _r=ir.programConfigurations.get(ft.id),$r=gt.useProgram(rr,_r);Zt&&(gt.context.activeTexture.set(zt.TEXTURE0),Pr.imageAtlasTexture.bind(zt.LINEAR,zt.CLAMP_TO_EDGE),_r.updatePaintBuffers());const Ir=Nt.constantOr(null);if(Ir&&Pr.imageAtlas){const Wr=Pr.imageAtlas.patternPositions[Ir.toString()];Wr&&_r.setConstantPatternPositions(Wr)}const Vr=gt.translatePosMatrix(br.projMatrix,Pr,ft.paint.get("fill-translate"),ft.paint.get("fill-translate-anchor"));if(Dt){xr=ir.indexBuffer2,wr=ir.segments2;const Wr=gt.terrain&&gt.terrain.renderingToTexture?gt.terrain.drapeBufferSize:[zt.drawingBufferWidth,zt.drawingBufferHeight];pr=rr==="fillOutlinePattern"&&Zt?K1(Vr,gt,Pr,Wr):Z1(Vr,Wr)}else xr=ir.indexBuffer,wr=ir.segments,pr=Zt?h0(Vr,gt,Pr):vu(Vr);gt.prepareDrawProgram(gt.context,$r,br.toUnwrapped()),$r.draw(gt.context,qt,wt,gt.stencilModeForClipping(br),Ct,ot.CullFaceMode.disabled,pr,ft.id,ir.layoutVertexBuffer,xr,wr,ft.paint,gt.transform.zoom,_r)}}function am(gt,ut,ft,vt,wt,Ct,Dt){const zt=gt.context,Nt=zt.gl,Zt=gt.transform,qt=ft.paint.get("fill-extrusion-pattern"),rr=qt.constantOr(1),pr=ft.paint.get("fill-extrusion-opacity"),xr=[ft.paint.get("fill-extrusion-ambient-occlusion-intensity"),ft.paint.get("fill-extrusion-ambient-occlusion-radius")],wr=ft.layout.get("fill-extrusion-edge-radius"),br=wr>0&&!ft.paint.get("fill-extrusion-rounded-roof"),Pr=br?0:wr,ir=Zt.projection.name==="globe"?ot.fillExtrusionHeightLift():0,_r=Zt.projection.name==="globe",$r=_r?ot.globeToMercatorTransition(Zt.zoom):0,Ir=[ot.mercatorXfromLng(Zt.center.lng),ot.mercatorYfromLat(Zt.center.lat)],Vr=[];_r&&Vr.push("PROJECTION_GLOBE_VIEW"),xr[0]>0&&Vr.push("FAUX_AO"),br&&Vr.push("ZERO_ROOF_RADIUS");for(const Wr of vt){const Gr=ut.getTile(Wr),Jr=Gr.getBucket(ft);if(!Jr||Jr.projection.name!==Zt.projection.name)continue;const Yr=Jr.programConfigurations.get(ft.id),an=gt.useProgram(rr?"fillExtrusionPattern":"fillExtrusion",Yr,Vr);if(gt.terrain){const wn=gt.terrain;if(gt.style.terrainSetForDrapingOnly())wn.setupElevationDraw(Gr,an,{useMeterToDem:!0});else{if(!Jr.enableTerrain)continue;if(wn.setupElevationDraw(Gr,an,{useMeterToDem:!0}),zy(zt,ut,Wr,Jr,ft,wn),!Jr.centroidVertexBuffer){const Dn=an.attributes.a_centroid_pos;Dn!==void 0&&Nt.vertexAttrib2f(Dn,0,0)}}}rr&&(gt.context.activeTexture.set(Nt.TEXTURE0),Gr.imageAtlasTexture.bind(Nt.LINEAR,Nt.CLAMP_TO_EDGE),Yr.updatePaintBuffers());const In=qt.constantOr(null);if(In&&Gr.imageAtlas){const wn=Gr.imageAtlas.patternPositions[In.toString()];wn&&Yr.setConstantPatternPositions(wn)}const rn=gt.translatePosMatrix(Wr.projMatrix,Gr,ft.paint.get("fill-extrusion-translate"),ft.paint.get("fill-extrusion-translate-anchor")),Sn=Zt.projection.createInversionMatrix(Zt,Wr.canonical),un=ft.paint.get("fill-extrusion-vertical-gradient"),$n=rr?ky(rn,gt,un,pr,xr,Pr,Wr,Gr,ir,$r,Ir,Sn):u0(rn,gt,un,pr,xr,Pr,Wr,ir,$r,Ir,Sn);gt.prepareDrawProgram(zt,an,Wr.toUnwrapped());const on=[];gt.terrain&&on.push(Jr.centroidVertexBuffer),_r&&on.push(Jr.layoutVertexExtBuffer),an.draw(zt,zt.gl.TRIANGLES,wt,Ct,Dt,ot.CullFaceMode.backCCW,$n,ft.id,Jr.layoutVertexBuffer,Jr.indexBuffer,Jr.segments,ft.paint,gt.transform.zoom,Yr,on)}}function zy(gt,ut,ft,vt,wt,Ct){const Dt=[ir=>{let _r=ir.canonical.x-1,$r=ir.wrap;return _r<0&&(_r=(1<<ir.canonical.z)-1,$r--),new ot.OverscaledTileID(ir.overscaledZ,$r,ir.canonical.z,_r,ir.canonical.y)},ir=>{let _r=ir.canonical.x+1,$r=ir.wrap;return _r===1<<ir.canonical.z&&(_r=0,$r++),new ot.OverscaledTileID(ir.overscaledZ,$r,ir.canonical.z,_r,ir.canonical.y)},ir=>new ot.OverscaledTileID(ir.overscaledZ,ir.wrap,ir.canonical.z,ir.canonical.x,(ir.canonical.y===0?1<<ir.canonical.z:ir.canonical.y)-1),ir=>new ot.OverscaledTileID(ir.overscaledZ,ir.wrap,ir.canonical.z,ir.canonical.x,ir.canonical.y===(1<<ir.canonical.z)-1?0:ir.canonical.y+1)],zt=ir=>{const _r=ut.getSource().minzoom,$r=Vr=>{const Wr=ut.getTileByID(Vr);if(Wr&&Wr.hasData())return Wr.getBucket(wt)},Ir=[0,-1,1];for(const Vr of Ir){if(ir.overscaledZ+Vr<_r)continue;const Wr=$r(ir.calculateScaledKey(ir.overscaledZ+Vr));if(Wr)return Wr}},Nt=[0,0,0],Zt=(ir,_r)=>(Nt[0]=Math.min(ir.min.y,_r.min.y),Nt[1]=Math.max(ir.max.y,_r.max.y),Nt[2]=ot.EXTENT-_r.min.x>ir.max.x?_r.min.x-ot.EXTENT:ir.max.x,Nt),qt=(ir,_r)=>(Nt[0]=Math.min(ir.min.x,_r.min.x),Nt[1]=Math.max(ir.max.x,_r.max.x),Nt[2]=ot.EXTENT-_r.min.y>ir.max.y?_r.min.y-ot.EXTENT:ir.max.y,Nt),rr=[(ir,_r)=>Zt(ir,_r),(ir,_r)=>Zt(_r,ir),(ir,_r)=>qt(ir,_r),(ir,_r)=>qt(_r,ir)],pr=new ot.Point(0,0);let xr,wr,br;const Pr=(ir,_r,$r,Ir,Vr)=>{const Wr=[[Ir?$r:ir,Ir?ir:$r,0],[Ir?$r:_r,Ir?_r:$r,0]],Gr=Vr<0?ot.EXTENT+Vr:Vr,Jr=[Ir?Gr:(ir+_r)/2,Ir?(ir+_r)/2:Gr,0];return $r===0&&Vr<0||$r!==0&&Vr>0?Ct.getForTilePoints(br,[Jr],!0,wr):Wr.push(Jr),Ct.getForTilePoints(ft,Wr,!0,xr),Math.max(Wr[0][2],Wr[1][2],Jr[2])/Ct.exaggeration()};for(let ir=0;ir<4;ir++){const _r=(ir<2?1:5)-ir,$r=vt.borders[ir];if($r.length===0)continue;const Ir=br=Dt[ir](ft),Vr=zt(Ir);if(!(Vr&&Vr instanceof ot.FillExtrusionBucket&&Vr.enableTerrain)||vt.borderDoneWithNeighborZ[ir]===Vr.canonical.z&&Vr.borderDoneWithNeighborZ[_r]===vt.canonical.z||(wr=Ct.findDEMTileFor(Ir),!wr||!wr.dem))continue;if(!xr){const Yr=Ct.findDEMTileFor(ft);if(!Yr||!Yr.dem)return;xr=Yr}const Wr=Vr.borders[_r];let Gr=0;const Jr=Vr.borderDoneWithNeighborZ[_r]!==vt.canonical.z;if(vt.canonical.z===Vr.canonical.z){for(let Yr=0;Yr<$r.length;Yr++){const an=vt.featuresOnBorder[$r[Yr]],In=an.borders[ir];let rn;for(;Gr<Wr.length&&(rn=Vr.featuresOnBorder[Wr[Gr]],!(rn.borders[_r][1]>In[0]+3));)Jr&&Vr.encodeCentroid(void 0,rn,!1),Gr++;if(rn&&Gr<Wr.length){const Sn=Gr;let un=0;for(;!(rn.borders[_r][0]>In[1]-3)&&(un++,++Gr!==Wr.length);)rn=Vr.featuresOnBorder[Wr[Gr]];if(rn=Vr.featuresOnBorder[Wr[Sn]],an.intersectsCount()>1||rn.intersectsCount()>1||un!==1){un!==1&&(Gr=Sn),vt.encodeCentroid(void 0,an,!1),Jr&&Vr.encodeCentroid(void 0,rn,!1);continue}const $n=rr[ir](an,rn),on=ir%2?ot.EXTENT-1:0;pr.x=Pr($n[0],Math.min(ot.EXTENT-1,$n[1]),on,ir<2,$n[2]),pr.y=0,vt.encodeCentroid(pr,an,!1),Jr&&Vr.encodeCentroid(pr,rn,!1)}else vt.encodeCentroid(void 0,an,!1)}vt.borderDoneWithNeighborZ[ir]=Vr.canonical.z,vt.needsCentroidUpdate=!0,Jr&&(Vr.borderDoneWithNeighborZ[_r]=vt.canonical.z,Vr.needsCentroidUpdate=!0)}else{for(const Yr of $r)vt.encodeCentroid(void 0,vt.featuresOnBorder[Yr],!1);if(Jr){for(const Yr of Wr)Vr.encodeCentroid(void 0,Vr.featuresOnBorder[Yr],!1);Vr.borderDoneWithNeighborZ[_r]=vt.canonical.z,Vr.needsCentroidUpdate=!0}vt.borderDoneWithNeighborZ[ir]=Vr.canonical.z,vt.needsCentroidUpdate=!0}}(vt.needsCentroidUpdate||!vt.centroidVertexBuffer&&vt.centroidVertexArray.length!==0)&&vt.uploadCentroid(gt)}const Bu=new ot.Color(1,0,0,1),ev=new ot.Color(0,1,0,1),tv=new ot.Color(0,0,1,1),rv=new ot.Color(1,0,1,1),nv=new ot.Color(0,1,1,1);function iv(gt,ut,ft){const vt=gt.context,wt=gt.transform,Ct=vt.gl,Dt=wt.projection.name==="globe",zt=Dt?["PROJECTION_GLOBE_VIEW"]:null;let Nt=ft.projMatrix;if(Dt&&ot.globeToMercatorTransition(wt.zoom)>0){const an=ot.transitionTileAABBinECEF(ft.canonical,wt),In=ot.globeDenormalizeECEF(an);Nt=ot.multiply(new Float32Array(16),wt.globeMatrix,In),ot.multiply(Nt,wt.projMatrix,Nt)}const Zt=gt.useProgram("debug",null,zt),qt=ut.getTileByID(ft.key);gt.terrain&&gt.terrain.setupElevationDraw(qt,Zt);const rr=ot.DepthMode.disabled,pr=ot.StencilMode.disabled,xr=gt.colorModeForRenderPass(),wr="$debug";vt.activeTexture.set(Ct.TEXTURE0),gt.emptyTexture.bind(Ct.LINEAR,Ct.CLAMP_TO_EDGE),Dt?qt._makeGlobeTileDebugBuffers(gt.context,wt):qt._makeDebugTileBoundsBuffers(gt.context,wt.projection);const br=qt._tileDebugBuffer||gt.debugBuffer,Pr=qt._tileDebugIndexBuffer||gt.debugIndexBuffer,ir=qt._tileDebugSegments||gt.debugSegments;Zt.draw(vt,Ct.LINE_STRIP,rr,pr,xr,ot.CullFaceMode.disabled,tm(Nt,ot.Color.red),wr,br,Pr,ir,null,null,null,[qt._globeTileDebugBorderBuffer]);const _r=qt.latestRawTileData,$r=Math.floor((_r&&_r.byteLength||0)/1024),Ir=ut.getTile(ft).tileSize,Vr=512/Math.min(Ir,512)*(ft.overscaledZ/wt.zoom)*.5;let Wr=ft.canonical.toString();ft.overscaledZ!==ft.canonical.z&&(Wr+=` => ${ft.overscaledZ}`),Wr+=` ${$r}kb`,function(an,In){an.initDebugOverlayCanvas();const rn=an.debugOverlayCanvas,Sn=an.context.gl,un=an.debugOverlayCanvas.getContext("2d");un.clearRect(0,0,rn.width,rn.height),un.shadowColor="white",un.shadowBlur=2,un.lineWidth=1.5,un.strokeStyle="white",un.textBaseline="top",un.font="bold 36px Open Sans, sans-serif",un.fillText(In,5,5),un.strokeText(In,5,5),an.debugOverlayTexture.update(rn),an.debugOverlayTexture.bind(Sn.LINEAR,Sn.CLAMP_TO_EDGE)}(gt,Wr);const Gr=qt._tileDebugTextBuffer||gt.debugBuffer,Jr=qt._tileDebugTextIndexBuffer||gt.quadTriangleIndexBuffer,Yr=qt._tileDebugTextSegments||gt.debugSegments;Zt.draw(vt,Ct.TRIANGLES,rr,pr,ot.ColorMode.alphaBlended,ot.CullFaceMode.disabled,tm(Nt,ot.Color.transparent,Vr),wr,Gr,Jr,Yr,null,null,null,[qt._globeTileDebugTextBuffer])}function By(gt,ut,ft,vt){Nu(gt,0,ut+ft/2,gt.transform.width,ft,vt)}function sm(gt,ut,ft,vt){Nu(gt,ut-ft/2,0,ft,gt.transform.height,vt)}function Nu(gt,ut,ft,vt,wt,Ct){const Dt=gt.context,zt=Dt.gl;zt.enable(zt.SCISSOR_TEST),zt.scissor(ut*ot.exported.devicePixelRatio,ft*ot.exported.devicePixelRatio,vt*ot.exported.devicePixelRatio,wt*ot.exported.devicePixelRatio),Dt.clear({color:Ct}),zt.disable(zt.SCISSOR_TEST)}const Ny=ot.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:jy}=Ny;function Gl(gt,ut,ft,vt){gt.emplaceBack(ut,ft,vt)}class lm{constructor(ut){this.vertexArray=new ot.StructArrayLayout3f12,this.indices=new ot.StructArrayLayout3ui6,Gl(this.vertexArray,-1,-1,1),Gl(this.vertexArray,1,-1,1),Gl(this.vertexArray,-1,1,1),Gl(this.vertexArray,1,1,1),Gl(this.vertexArray,-1,-1,-1),Gl(this.vertexArray,1,-1,-1),Gl(this.vertexArray,-1,1,-1),Gl(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=ut.createVertexBuffer(this.vertexArray,jy),this.indexBuffer=ut.createIndexBuffer(this.indices),this.segment=ot.SegmentVector.simpleSegment(0,0,36,12)}}function Ws(gt,ut,ft,vt,wt,Ct){const Dt=gt.gl,zt=ut.paint.get("sky-atmosphere-color"),Nt=ut.paint.get("sky-atmosphere-halo-color"),Zt=ut.paint.get("sky-atmosphere-sun-intensity"),qt=((rr,pr,xr,wr,br)=>({u_matrix_3f:rr,u_sun_direction:pr,u_sun_intensity:xr,u_color_tint_r:[wr.r,wr.g,wr.b,wr.a],u_color_tint_m:[br.r,br.g,br.b,br.a],u_luminance:5e-5}))(ot.fromMat4(ot.create$1(),vt),wt,Zt,zt,Nt);Dt.framebufferTexture2D(Dt.FRAMEBUFFER,Dt.COLOR_ATTACHMENT0,Dt.TEXTURE_CUBE_MAP_POSITIVE_X+Ct,ut.skyboxTexture,0),ft.draw(gt,Dt.TRIANGLES,ot.DepthMode.disabled,ot.StencilMode.disabled,ot.ColorMode.unblended,ot.CullFaceMode.frontCW,qt,"skyboxCapture",ut.skyboxGeometry.vertexBuffer,ut.skyboxGeometry.indexBuffer,ut.skyboxGeometry.segment)}const wp=ot.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Vy{constructor(ut){const ft=new ot.StructArrayLayout5f20;ft.emplaceBack(-1,1,1,0,0),ft.emplaceBack(1,1,1,1,0),ft.emplaceBack(1,-1,1,1,1),ft.emplaceBack(-1,-1,1,0,1);const vt=new ot.StructArrayLayout3ui6;vt.emplaceBack(0,1,2),vt.emplaceBack(2,3,0),this.vertexBuffer=ut.createVertexBuffer(ft,wp.members),this.indexBuffer=ut.createIndexBuffer(vt),this.segments=ot.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const _u={symbol:function(gt,ut,ft,vt,wt){if(gt.renderPass!=="translucent")return;const Ct=ot.StencilMode.disabled,Dt=gt.colorModeForRenderPass();ft.layout.get("text-variable-anchor")&&function(zt,Nt,Zt,qt,rr,pr,xr){const wr=Nt.transform,br=rr==="map",Pr=pr==="map";for(const ir of zt){const _r=qt.getTile(ir),$r=_r.getBucket(Zt);if(!$r||!$r.text||!$r.text.segments.get().length)continue;const Ir=ot.evaluateSizeForZoom($r.textSizeData,wr.zoom),Vr=ba(ir,$r.getProjection(),wr),Wr=wr.calculatePixelsToTileUnitsMatrix(_r),Gr=_n(Vr,_r.tileID.canonical,Pr,br,wr,$r.getProjection(),Wr),Jr=Zt.layout.get("icon-text-fit")!=="none"&&$r.hasIconData();if(Ir){const Yr=Math.pow(2,wr.zoom-_r.tileID.overscaledZ);J1($r,br,Pr,xr,ot.symbolSize,wr,Gr,ir,Yr,Ir,Jr)}}}(vt,gt,ft,ut,ft.layout.get("text-rotation-alignment"),ft.layout.get("text-pitch-alignment"),wt),ft.paint.get("icon-opacity").constantOr(1)!==0&&Oy(gt,ut,ft,vt,!1,ft.paint.get("icon-translate"),ft.paint.get("icon-translate-anchor"),ft.layout.get("icon-rotation-alignment"),ft.layout.get("icon-pitch-alignment"),ft.layout.get("icon-keep-upright"),Ct,Dt),ft.paint.get("text-opacity").constantOr(1)!==0&&Oy(gt,ut,ft,vt,!0,ft.paint.get("text-translate"),ft.paint.get("text-translate-anchor"),ft.layout.get("text-rotation-alignment"),ft.layout.get("text-pitch-alignment"),ft.layout.get("text-keep-upright"),Ct,Dt),ut.map.showCollisionBoxes&&(xp(gt,ut,ft,vt,ft.paint.get("text-translate"),ft.paint.get("text-translate-anchor"),!0),xp(gt,ut,ft,vt,ft.paint.get("icon-translate"),ft.paint.get("icon-translate-anchor"),!1))},circle:function(gt,ut,ft,vt){if(gt.renderPass!=="translucent")return;const wt=ft.paint.get("circle-opacity"),Ct=ft.paint.get("circle-stroke-width"),Dt=ft.paint.get("circle-stroke-opacity"),zt=ft.layout.get("circle-sort-key").constantOr(1)!==void 0;if(wt.constantOr(1)===0&&(Ct.constantOr(1)===0||Dt.constantOr(1)===0))return;const Nt=gt.context,Zt=Nt.gl,qt=gt.transform,rr=gt.depthModeForSublayer(0,ot.DepthMode.ReadOnly),pr=ot.StencilMode.disabled,xr=gt.colorModeForRenderPass(),wr=qt.projection.name==="globe",br=[ot.mercatorXfromLng(qt.center.lng),ot.mercatorYfromLat(qt.center.lat)],Pr=[];for(let _r=0;_r<vt.length;_r++){const $r=vt[_r],Ir=ut.getTile($r),Vr=Ir.getBucket(ft);if(!Vr||Vr.projection.name!==qt.projection.name)continue;const Wr=Vr.programConfigurations.get(ft.id),Gr=f0(ft);wr&&Gr.push("PROJECTION_GLOBE_VIEW");const Jr=gt.useProgram("circle",Wr,Gr),Yr=Vr.layoutVertexBuffer,an=Vr.globeExtVertexBuffer,In=Vr.indexBuffer,rn=qt.projection.createInversionMatrix(qt,$r.canonical),Sn={programConfiguration:Wr,program:Jr,layoutVertexBuffer:Yr,globeExtVertexBuffer:an,indexBuffer:In,uniformValues:d0(gt,$r,Ir,rn,br,ft),tile:Ir};if(zt){const un=Vr.segments.get();for(const $n of un)Pr.push({segments:new ot.SegmentVector([$n]),sortKey:$n.sortKey,state:Sn})}else Pr.push({segments:Vr.segments,sortKey:0,state:Sn})}zt&&Pr.sort((_r,$r)=>_r.sortKey-$r.sortKey);const ir={useDepthForOcclusion:!wr};for(const _r of Pr){const{programConfiguration:$r,program:Ir,layoutVertexBuffer:Vr,globeExtVertexBuffer:Wr,indexBuffer:Gr,uniformValues:Jr,tile:Yr}=_r.state,an=_r.segments;gt.terrain&&gt.terrain.setupElevationDraw(Yr,Ir,ir),gt.prepareDrawProgram(Nt,Ir,Yr.tileID.toUnwrapped()),Ir.draw(Nt,Zt.TRIANGLES,rr,pr,xr,ot.CullFaceMode.disabled,Jr,ft.id,Vr,Gr,an,ft.paint,qt.zoom,$r,[Wr])}},heatmap:function(gt,ut,ft,vt){if(ft.paint.get("heatmap-opacity")!==0)if(gt.renderPass==="offscreen"){const wt=gt.context,Ct=wt.gl,Dt=ot.StencilMode.disabled,zt=new ot.ColorMode([Ct.ONE,Ct.ONE],ot.Color.transparent,[!0,!0,!0,!0]);(function(xr,wr,br,Pr){const ir=xr.gl,_r=wr.width*Pr,$r=wr.height*Pr;xr.activeTexture.set(ir.TEXTURE1),xr.viewport.set([0,0,_r,$r]);let Ir=br.heatmapFbo;if(!Ir||Ir&&(Ir.width!==_r||Ir.height!==$r)){Ir&&Ir.destroy();const Vr=ir.createTexture();ir.bindTexture(ir.TEXTURE_2D,Vr),ir.texParameteri(ir.TEXTURE_2D,ir.TEXTURE_WRAP_S,ir.CLAMP_TO_EDGE),ir.texParameteri(ir.TEXTURE_2D,ir.TEXTURE_WRAP_T,ir.CLAMP_TO_EDGE),ir.texParameteri(ir.TEXTURE_2D,ir.TEXTURE_MIN_FILTER,ir.LINEAR),ir.texParameteri(ir.TEXTURE_2D,ir.TEXTURE_MAG_FILTER,ir.LINEAR),Ir=br.heatmapFbo=xr.createFramebuffer(_r,$r,!1),function(Wr,Gr,Jr,Yr,an,In){const rn=Wr.gl;rn.texImage2D(rn.TEXTURE_2D,0,Wr.isWebGL2&&Wr.extRenderToTextureHalfFloat?rn.RGBA16F:rn.RGBA,an,In,0,rn.RGBA,Wr.extRenderToTextureHalfFloat?Wr.isWebGL2?rn.HALF_FLOAT:Wr.extTextureHalfFloat.HALF_FLOAT_OES:rn.UNSIGNED_BYTE,null),Yr.colorAttachment.set(Jr)}(xr,0,Vr,Ir,_r,$r)}else ir.bindTexture(ir.TEXTURE_2D,Ir.colorAttachment.get()),xr.bindFramebuffer.set(Ir.framebuffer)})(wt,gt,ft,gt.transform.projection.name==="globe"?.5:.25),wt.clear({color:ot.Color.transparent});const Nt=gt.transform,Zt=Nt.projection.name==="globe",qt=Zt?["PROJECTION_GLOBE_VIEW"]:null,rr=Zt?ot.CullFaceMode.frontCCW:ot.CullFaceMode.disabled,pr=[ot.mercatorXfromLng(Nt.center.lng),ot.mercatorYfromLat(Nt.center.lat)];for(let xr=0;xr<vt.length;xr++){const wr=vt[xr];if(ut.hasRenderableParent(wr))continue;const br=ut.getTile(wr),Pr=br.getBucket(ft);if(!Pr||Pr.projection.name!==Nt.projection.name)continue;const ir=Pr.programConfigurations.get(ft.id),_r=gt.useProgram("heatmap",ir,qt),{zoom:$r}=gt.transform;gt.terrain&&gt.terrain.setupElevationDraw(br,_r),gt.prepareDrawProgram(wt,_r,wr.toUnwrapped());const Ir=Nt.projection.createInversionMatrix(Nt,wr.canonical);_r.draw(wt,Ct.TRIANGLES,ot.DepthMode.disabled,Dt,zt,rr,Iy(gt,wr,br,Ir,pr,$r,ft.paint.get("heatmap-intensity")),ft.id,Pr.layoutVertexBuffer,Pr.indexBuffer,Pr.segments,ft.paint,gt.transform.zoom,ir,Zt?[Pr.globeExtVertexBuffer]:null)}wt.viewport.set([0,0,gt.width,gt.height])}else gt.renderPass==="translucent"&&(gt.context.setColorMode(gt.colorModeForRenderPass()),function(wt,Ct){const Dt=wt.context,zt=Dt.gl,Nt=Ct.heatmapFbo;if(!Nt)return;Dt.activeTexture.set(zt.TEXTURE0),zt.bindTexture(zt.TEXTURE_2D,Nt.colorAttachment.get()),Dt.activeTexture.set(zt.TEXTURE1);let Zt=Ct.colorRampTexture;Zt||(Zt=Ct.colorRampTexture=new ot.Texture(Dt,Ct.colorRamp,zt.RGBA)),Zt.bind(zt.LINEAR,zt.CLAMP_TO_EDGE),wt.useProgram("heatmapTexture").draw(Dt,zt.TRIANGLES,ot.DepthMode.disabled,ot.StencilMode.disabled,wt.colorModeForRenderPass(),ot.CullFaceMode.disabled,((qt,rr,pr,xr)=>({u_image:0,u_color_ramp:1,u_opacity:rr.paint.get("heatmap-opacity")}))(0,Ct),Ct.id,wt.viewportBuffer,wt.quadTriangleIndexBuffer,wt.viewportSegments,Ct.paint,wt.transform.zoom)}(gt,ft))},line:function(gt,ut,ft,vt){if(gt.renderPass!=="translucent")return;const wt=ft.paint.get("line-opacity"),Ct=ft.paint.get("line-width");if(wt.constantOr(1)===0||Ct.constantOr(1)===0)return;const Dt=gt.depthModeForSublayer(0,ot.DepthMode.ReadOnly),zt=gt.colorModeForRenderPass(),Nt=gt.terrain&&gt.terrain.renderingToTexture?1:ot.exported.devicePixelRatio,Zt=ft.paint.get("line-dasharray"),qt=Zt.constantOr(1),rr=ft.layout.get("line-cap"),pr=ft.paint.get("line-pattern"),xr=pr.constantOr(1),wr=ft.paint.get("line-gradient"),br=xr?"linePattern":"line",Pr=gt.context,ir=Pr.gl,_r=(Ir=>{const Vr=[];_p(Ir)&&Vr.push("RENDER_LINE_DASH"),Ir.paint.get("line-gradient")&&Vr.push("RENDER_LINE_GRADIENT");const Wr=Ir.paint.get("line-trim-offset");Wr[0]===0&&Wr[1]===0||Vr.push("RENDER_LINE_TRIM_OFFSET");const Gr=Ir.paint.get("line-pattern").constantOr(1),Jr=Ir.paint.get("line-opacity").constantOr(1)!==1;return!Gr&&Jr&&Vr.push("RENDER_LINE_ALPHA_DISCARD"),Vr})(ft);let $r=_r.includes("RENDER_LINE_ALPHA_DISCARD");gt.terrain&&gt.terrain.clipOrMaskOverlapStencilType()&&($r=!1);for(const Ir of vt){const Vr=ut.getTile(Ir);if(xr&&!Vr.patternsLoaded())continue;const Wr=Vr.getBucket(ft);if(!Wr)continue;gt.prepareDrawTile();const Gr=Wr.programConfigurations.get(ft.id),Jr=gt.useProgram(br,Gr,_r),Yr=pr.constantOr(null);if(Yr&&Vr.imageAtlas){const wn=Vr.imageAtlas.patternPositions[Yr.toString()];wn&&Gr.setConstantPatternPositions(wn)}const an=Zt.constantOr(null),In=rr.constantOr(null);if(!xr&&an&&In&&Vr.lineAtlas){const wn=Vr.lineAtlas.getDash(an,In);wn&&Gr.setConstantPatternPositions(wn)}let[rn,Sn]=ft.paint.get("line-trim-offset");(In==="round"||In==="square")&&rn!==Sn&&(rn===0&&(rn-=1),Sn===1&&(Sn+=1));const un=gt.terrain?Ir.projMatrix:null,$n=xr?vp(gt,Vr,ft,un,Nt):Y1(gt,Vr,ft,un,Wr.lineClipsArray.length,Nt,[rn,Sn]);if(wr){const wn=Wr.gradients[ft.id];let Dn=wn.texture;if(ft.gradientVersion!==wn.version){let An=256;if(ft.stepInterpolant){const On=ut.getSource().maxzoom,oo=Ir.canonical.z===On?Math.ceil(1<<gt.transform.maxZoom-Ir.canonical.z):1;An=ot.clamp(ot.nextPowerOfTwo(Wr.maxLineLength/ot.EXTENT*1024*oo),256,Pr.maxTextureSize)}wn.gradient=ot.renderColorRamp({expression:ft.gradientExpression(),evaluationKey:"lineProgress",resolution:An,image:wn.gradient||void 0,clips:Wr.lineClipsArray}),wn.texture?wn.texture.update(wn.gradient):wn.texture=new ot.Texture(Pr,wn.gradient,ir.RGBA),wn.version=ft.gradientVersion,Dn=wn.texture}Pr.activeTexture.set(ir.TEXTURE1),Dn.bind(ft.stepInterpolant?ir.NEAREST:ir.LINEAR,ir.CLAMP_TO_EDGE)}qt&&(Pr.activeTexture.set(ir.TEXTURE0),Vr.lineAtlasTexture.bind(ir.LINEAR,ir.REPEAT),Gr.updatePaintBuffers()),xr&&(Pr.activeTexture.set(ir.TEXTURE0),Vr.imageAtlasTexture.bind(ir.LINEAR,ir.CLAMP_TO_EDGE),Gr.updatePaintBuffers()),gt.prepareDrawProgram(Pr,Jr,Ir.toUnwrapped());const on=wn=>{Jr.draw(Pr,ir.TRIANGLES,Dt,wn,zt,ot.CullFaceMode.disabled,$n,ft.id,Wr.layoutVertexBuffer,Wr.indexBuffer,Wr.segments,ft.paint,gt.transform.zoom,Gr,[Wr.layoutVertexBuffer2])};if($r){const wn=gt.stencilModeForClipping(Ir).ref;wn===0&&gt.terrain&&Pr.clear({stencil:0});const Dn={func:ir.EQUAL,mask:255};$n.u_alpha_discard_threshold=.8,on(new ot.StencilMode(Dn,wn,255,ir.KEEP,ir.KEEP,ir.INVERT)),$n.u_alpha_discard_threshold=0,on(new ot.StencilMode(Dn,wn,255,ir.KEEP,ir.KEEP,ir.KEEP))}else on(gt.stencilModeForClipping(Ir))}$r&&(gt.resetStencilClippingMasks(),gt.terrain&&Pr.clear({stencil:0}))},fill:function(gt,ut,ft,vt){const wt=ft.paint.get("fill-color"),Ct=ft.paint.get("fill-opacity");if(Ct.constantOr(1)===0)return;const Dt=gt.colorModeForRenderPass(),zt=ft.paint.get("fill-pattern"),Nt=gt.opaquePassEnabledForLayer()&&!zt.constantOr(1)&&wt.constantOr(ot.Color.transparent).a===1&&Ct.constantOr(0)===1?"opaque":"translucent";if(gt.renderPass===Nt){const Zt=gt.depthModeForSublayer(1,gt.renderPass==="opaque"?ot.DepthMode.ReadWrite:ot.DepthMode.ReadOnly);Fy(gt,ut,ft,vt,Zt,Dt,!1)}if(gt.renderPass==="translucent"&&ft.paint.get("fill-antialias")){const Zt=gt.depthModeForSublayer(ft.getPaintProperty("fill-outline-color")?2:0,ot.DepthMode.ReadOnly);Fy(gt,ut,ft,vt,Zt,Dt,!0)}},"fill-extrusion":function(gt,ut,ft,vt){const wt=ft.paint.get("fill-extrusion-opacity");if(wt!==0&&gt.renderPass==="translucent"){const Ct=new ot.DepthMode(gt.context.gl.LEQUAL,ot.DepthMode.ReadWrite,gt.depthRangeFor3D);if(wt!==1||ft.paint.get("fill-extrusion-pattern").constantOr(1))am(gt,ut,ft,vt,Ct,ot.StencilMode.disabled,ot.ColorMode.disabled),am(gt,ut,ft,vt,Ct,gt.stencilModeFor3D(),gt.colorModeForRenderPass()),gt.resetStencilClippingMasks();else{const Dt=gt.colorModeForRenderPass();am(gt,ut,ft,vt,Ct,ot.StencilMode.disabled,Dt)}}},hillshade:function(gt,ut,ft,vt){if(gt.renderPass!=="offscreen"&&gt.renderPass!=="translucent")return;const wt=gt.context,Ct=gt.depthModeForSublayer(0,ot.DepthMode.ReadOnly),Dt=gt.colorModeForRenderPass(),zt=gt.terrain&&gt.terrain.renderingToTexture,[Nt,Zt]=gt.renderPass!=="translucent"||zt?[{},vt]:gt.stencilConfigForOverlap(vt);for(const qt of Zt){const rr=ut.getTile(qt);if(rr.needsHillshadePrepare&&gt.renderPass==="offscreen")Py(gt,rr,ft,Ct,ot.StencilMode.disabled,Dt);else if(gt.renderPass==="translucent"){const pr=zt&&gt.terrain?gt.terrain.stencilModeForRTTOverlap(qt):Nt[qt.overscaledZ];Ry(gt,qt,rr,ft,Ct,pr,Dt)}}wt.viewport.set([0,0,gt.width,gt.height]),gt.resetStencilClippingMasks()},raster:function(gt,ut,ft,vt,wt,Ct){if(gt.renderPass!=="translucent"||ft.paint.get("raster-opacity")===0||!vt.length)return;const Dt=gt.context,zt=Dt.gl,Nt=ut.getSource(),Zt=gt.useProgram("raster"),qt=gt.colorModeForRenderPass(),rr=gt.terrain&&gt.terrain.renderingToTexture,[pr,xr]=Nt instanceof mo||rr?[{},vt]:gt.stencilConfigForOverlap(vt),wr=xr[xr.length-1].overscaledZ,br=!gt.options.moving;for(const Pr of xr){const ir=rr?ot.DepthMode.disabled:gt.depthModeForSublayer(Pr.overscaledZ-wr,ft.paint.get("raster-opacity")===1?ot.DepthMode.ReadWrite:ot.DepthMode.ReadOnly,zt.LESS),_r=Pr.toUnwrapped(),$r=ut.getTile(Pr);if(rr&&(!$r||!$r.hasData()))continue;const Ir=rr?Pr.projMatrix:gt.transform.calculateProjMatrix(_r,br),Vr=gt.terrain&&rr?gt.terrain.stencilModeForRTTOverlap(Pr):pr[Pr.overscaledZ],Wr=Ct?0:ft.paint.get("raster-fade-duration");$r.registerFadeDuration(Wr);const Gr=ut.findLoadedParent(Pr,0),Jr=s0($r,Gr,ut,gt.transform,Wr);let Yr,an;gt.terrain&&gt.terrain.prepareDrawTile();const In=ft.paint.get("raster-resampling")==="nearest"?zt.NEAREST:zt.LINEAR;Dt.activeTexture.set(zt.TEXTURE0),$r.texture.bind(In,zt.CLAMP_TO_EDGE),Dt.activeTexture.set(zt.TEXTURE1),Gr?(Gr.texture.bind(In,zt.CLAMP_TO_EDGE),Yr=Math.pow(2,Gr.tileID.overscaledZ-$r.tileID.overscaledZ),an=[$r.tileID.canonical.x*Yr%1,$r.tileID.canonical.y*Yr%1]):$r.texture.bind(In,zt.CLAMP_TO_EDGE),$r.texture.useMipmap&&Dt.extTextureFilterAnisotropic&&gt.transform.pitch>20&&zt.texParameterf(zt.TEXTURE_2D,Dt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Dt.extTextureFilterAnisotropicMax);const rn=g0(Ir,an||[0,0],Yr||1,Jr,ft,Nt instanceof mo?Nt.perspectiveTransform:[0,0]);if(gt.prepareDrawProgram(Dt,Zt,_r),Nt instanceof mo)Nt.boundsBuffer&&Nt.boundsSegments&&Zt.draw(Dt,zt.TRIANGLES,ir,ot.StencilMode.disabled,qt,ot.CullFaceMode.disabled,rn,ft.id,Nt.boundsBuffer,gt.quadTriangleIndexBuffer,Nt.boundsSegments);else{const{tileBoundsBuffer:Sn,tileBoundsIndexBuffer:un,tileBoundsSegments:$n}=gt.getTileBoundsBuffers($r);Zt.draw(Dt,zt.TRIANGLES,ir,Vr,qt,ot.CullFaceMode.disabled,rn,ft.id,Sn,un,$n)}}gt.resetStencilClippingMasks()},background:function(gt,ut,ft,vt){const wt=ft.paint.get("background-color"),Ct=ft.paint.get("background-opacity");if(Ct===0)return;const Dt=gt.context,zt=Dt.gl,Nt=gt.transform,Zt=Nt.tileSize,qt=ft.paint.get("background-pattern");if(gt.isPatternMissing(qt))return;const rr=!qt&&wt.a===1&&Ct===1&&gt.opaquePassEnabledForLayer()?"opaque":"translucent";if(gt.renderPass!==rr)return;const pr=ot.StencilMode.disabled,xr=gt.depthModeForSublayer(0,rr==="opaque"?ot.DepthMode.ReadWrite:ot.DepthMode.ReadOnly),wr=gt.colorModeForRenderPass(),br=gt.useProgram(qt?"backgroundPattern":"background");let Pr,ir=vt;ir||(Pr=gt.getBackgroundTiles(),ir=Object.values(Pr).map(_r=>_r.tileID)),qt&&(Dt.activeTexture.set(zt.TEXTURE0),gt.imageManager.bind(gt.context));for(const _r of ir){const $r=_r.toUnwrapped(),Ir=vt?_r.projMatrix:gt.transform.calculateProjMatrix($r);gt.prepareDrawTile();const Vr=ut?ut.getTile(_r):Pr?Pr[_r.key]:new ot.Tile(_r,Zt,Nt.zoom,gt),Wr=qt?Q1(Ir,Ct,gt,qt,{tileID:_r,tileSize:Zt}):v0(Ir,Ct,wt);gt.prepareDrawProgram(Dt,br,$r);const{tileBoundsBuffer:Gr,tileBoundsIndexBuffer:Jr,tileBoundsSegments:Yr}=gt.getTileBoundsBuffers(Vr);br.draw(Dt,zt.TRIANGLES,xr,pr,wr,ot.CullFaceMode.disabled,Wr,ft.id,Gr,Jr,Yr)}},sky:function(gt,ut,ft){const vt=gt.transform,wt=vt.projection.name==="mercator"||vt.projection.name==="globe"?1:ot.smoothstep(7,8,vt.zoom),Ct=ft.paint.get("sky-opacity")*wt;if(Ct===0)return;const Dt=gt.context,zt=ft.paint.get("sky-type"),Nt=new ot.DepthMode(Dt.gl.LEQUAL,ot.DepthMode.ReadOnly,[0,1]),Zt=gt.frameCounter/1e3%1;zt==="atmosphere"?gt.renderPass==="offscreen"?ft.needsSkyboxCapture(gt)&&(function(qt,rr,pr,xr){const wr=qt.context,br=wr.gl;let Pr=rr.skyboxFbo;if(!Pr){Pr=rr.skyboxFbo=wr.createFramebuffer(32,32,!1),rr.skyboxGeometry=new lm(wr),rr.skyboxTexture=wr.gl.createTexture(),br.bindTexture(br.TEXTURE_CUBE_MAP,rr.skyboxTexture),br.texParameteri(br.TEXTURE_CUBE_MAP,br.TEXTURE_WRAP_S,br.CLAMP_TO_EDGE),br.texParameteri(br.TEXTURE_CUBE_MAP,br.TEXTURE_WRAP_T,br.CLAMP_TO_EDGE),br.texParameteri(br.TEXTURE_CUBE_MAP,br.TEXTURE_MIN_FILTER,br.LINEAR),br.texParameteri(br.TEXTURE_CUBE_MAP,br.TEXTURE_MAG_FILTER,br.LINEAR);for(let Ir=0;Ir<6;++Ir)br.texImage2D(br.TEXTURE_CUBE_MAP_POSITIVE_X+Ir,0,br.RGBA,32,32,0,br.RGBA,br.UNSIGNED_BYTE,null)}wr.bindFramebuffer.set(Pr.framebuffer),wr.viewport.set([0,0,32,32]);const ir=rr.getCenter(qt,!0),_r=qt.useProgram("skyboxCapture"),$r=new Float64Array(16);ot.identity($r),ot.rotateY($r,$r,.5*-Math.PI),Ws(wr,rr,_r,$r,ir,0),ot.identity($r),ot.rotateY($r,$r,.5*Math.PI),Ws(wr,rr,_r,$r,ir,1),ot.identity($r),ot.rotateX($r,$r,.5*-Math.PI),Ws(wr,rr,_r,$r,ir,2),ot.identity($r),ot.rotateX($r,$r,.5*Math.PI),Ws(wr,rr,_r,$r,ir,3),ot.identity($r),Ws(wr,rr,_r,$r,ir,4),ot.identity($r),ot.rotateY($r,$r,Math.PI),Ws(wr,rr,_r,$r,ir,5),wr.viewport.set([0,0,qt.width,qt.height])}(gt,ft),ft.markSkyboxValid(gt)):gt.renderPass==="sky"&&function(qt,rr,pr,xr,wr){const br=qt.context,Pr=br.gl,ir=qt.transform,_r=qt.useProgram("skybox");br.activeTexture.set(Pr.TEXTURE0),Pr.bindTexture(Pr.TEXTURE_CUBE_MAP,rr.skyboxTexture);const $r=((Ir,Vr,Wr,Gr,Jr)=>({u_matrix:Ir,u_sun_direction:Vr,u_cubemap:0,u_opacity:Gr,u_temporal_offset:Jr}))(ir.skyboxMatrix,rr.getCenter(qt,!1),0,xr,wr);qt.prepareDrawProgram(br,_r),_r.draw(br,Pr.TRIANGLES,pr,ot.StencilMode.disabled,qt.colorModeForRenderPass(),ot.CullFaceMode.backCW,$r,"skybox",rr.skyboxGeometry.vertexBuffer,rr.skyboxGeometry.indexBuffer,rr.skyboxGeometry.segment)}(gt,ft,Nt,Ct,Zt):zt==="gradient"&&gt.renderPass==="sky"&&function(qt,rr,pr,xr,wr){const br=qt.context,Pr=br.gl,ir=qt.transform,_r=qt.useProgram("skyboxGradient");rr.skyboxGeometry||(rr.skyboxGeometry=new lm(br)),br.activeTexture.set(Pr.TEXTURE0);let $r=rr.colorRampTexture;$r||($r=rr.colorRampTexture=new ot.Texture(br,rr.colorRamp,Pr.RGBA)),$r.bind(Pr.LINEAR,Pr.CLAMP_TO_EDGE);const Ir=((Vr,Wr,Gr,Jr,Yr)=>({u_matrix:Vr,u_color_ramp:0,u_center_direction:Wr,u_radius:ot.degToRad(Gr),u_opacity:Jr,u_temporal_offset:Yr}))(ir.skyboxMatrix,rr.getCenter(qt,!1),rr.paint.get("sky-gradient-radius"),xr,wr);qt.prepareDrawProgram(br,_r),_r.draw(br,Pr.TRIANGLES,pr,ot.StencilMode.disabled,qt.colorModeForRenderPass(),ot.CullFaceMode.backCW,Ir,"skyboxGradient",rr.skyboxGeometry.vertexBuffer,rr.skyboxGeometry.indexBuffer,rr.skyboxGeometry.segment)}(gt,ft,Nt,Ct,Zt)},debug:function(gt,ut,ft){for(let vt=0;vt<ft.length;vt++)iv(gt,ut,ft[vt])},custom:function(gt,ut,ft,vt){const wt=gt.context,Ct=ft.implementation;if(!gt.transform.projection.unsupportedLayers||!gt.transform.projection.unsupportedLayers.includes("custom")||gt.terrain&&(gt.terrain.renderingToTexture||gt.renderPass==="offscreen")&&ft.isLayerDraped()){if(gt.renderPass==="offscreen"){const Dt=Ct.prerender;if(Dt){if(gt.setCustomLayerDefaults(),wt.setColorMode(gt.colorModeForRenderPass()),gt.transform.projection.name==="globe"){const zt=gt.transform.pointMerc;Dt.call(Ct,wt.gl,gt.transform.customLayerMatrix(),gt.transform.getProjection(),gt.transform.globeToMercatorMatrix(),ot.globeToMercatorTransition(gt.transform.zoom),[zt.x,zt.y],gt.transform.pixelsPerMeterRatio)}else Dt.call(Ct,wt.gl,gt.transform.customLayerMatrix());wt.setDirty(),gt.setBaseState()}}else if(gt.renderPass==="translucent"){if(gt.terrain&&gt.terrain.renderingToTexture){const zt=Ct.renderToTile;if(zt){const Nt=vt[0].canonical,Zt=new ot.MercatorCoordinate(Nt.x+vt[0].wrap*(1<<Nt.z),Nt.y,Nt.z);wt.setDepthMode(ot.DepthMode.disabled),wt.setStencilMode(ot.StencilMode.disabled),wt.setColorMode(gt.colorModeForRenderPass()),gt.setCustomLayerDefaults(),zt.call(Ct,wt.gl,Zt),wt.setDirty(),gt.setBaseState()}return}gt.setCustomLayerDefaults(),wt.setColorMode(gt.colorModeForRenderPass()),wt.setStencilMode(ot.StencilMode.disabled);const Dt=Ct.renderingMode==="3d"?new ot.DepthMode(gt.context.gl.LEQUAL,ot.DepthMode.ReadWrite,gt.depthRangeFor3D):gt.depthModeForSublayer(0,ot.DepthMode.ReadOnly);if(wt.setDepthMode(Dt),gt.transform.projection.name==="globe"){const zt=gt.transform.pointMerc;Ct.render(wt.gl,gt.transform.customLayerMatrix(),gt.transform.getProjection(),gt.transform.globeToMercatorMatrix(),ot.globeToMercatorTransition(gt.transform.zoom),[zt.x,zt.y],gt.transform.pixelsPerMeterRatio)}else Ct.render(wt.gl,gt.transform.customLayerMatrix());wt.setDirty(),gt.setBaseState(),wt.bindFramebuffer.set(null)}}else ot.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class ju{constructor(ut,ft,vt=!1){this.context=new Pn(ut,vt),this.transform=ft,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=ot.SourceCache.maxUnderzooming+ot.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(ut,ft){const vt=!!ut&&!!ut.terrain&&this.transform.projection.supportsTerrain;if(!(vt||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new c0(this,ut));const wt=this._terrain;this.transform.elevation=vt?wt:null,wt.update(ut,this.transform,ft)}_updateFog(ut){const ft=ut.fog;if(!ft||this.transform.projection.name==="globe"||ft.getOpacity(this.transform.pitch)<1||ft.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[vt,wt]=ft.getFovAdjustedRange(this.transform._fov);if(vt>wt)return void(this.transform.fogCullDistSq=null);const Ct=vt+.78*(wt-vt);this.transform.fogCullDistSq=Ct*Ct}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(ut,ft){if(this.width=ut*ot.exported.devicePixelRatio,this.height=ft*ot.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const vt of this.style.order)this.style._layers[vt].resize()}setup(){const ut=this.context,ft=new ot.StructArrayLayout2i4;ft.emplaceBack(0,0),ft.emplaceBack(ot.EXTENT,0),ft.emplaceBack(0,ot.EXTENT),ft.emplaceBack(ot.EXTENT,ot.EXTENT),this.tileExtentBuffer=ut.createVertexBuffer(ft,ot.posAttributes.members),this.tileExtentSegments=ot.SegmentVector.simpleSegment(0,0,4,2);const vt=new ot.StructArrayLayout2i4;vt.emplaceBack(0,0),vt.emplaceBack(ot.EXTENT,0),vt.emplaceBack(0,ot.EXTENT),vt.emplaceBack(ot.EXTENT,ot.EXTENT),this.debugBuffer=ut.createVertexBuffer(vt,ot.posAttributes.members),this.debugSegments=ot.SegmentVector.simpleSegment(0,0,4,5);const wt=new ot.StructArrayLayout2i4;wt.emplaceBack(-1,-1),wt.emplaceBack(1,-1),wt.emplaceBack(-1,1),wt.emplaceBack(1,1),this.viewportBuffer=ut.createVertexBuffer(wt,ot.posAttributes.members),this.viewportSegments=ot.SegmentVector.simpleSegment(0,0,4,2);const Ct=new ot.StructArrayLayout4i8;Ct.emplaceBack(0,0,0,0),Ct.emplaceBack(ot.EXTENT,0,ot.EXTENT,0),Ct.emplaceBack(0,ot.EXTENT,0,ot.EXTENT),Ct.emplaceBack(ot.EXTENT,ot.EXTENT,ot.EXTENT,ot.EXTENT),this.mercatorBoundsBuffer=ut.createVertexBuffer(Ct,ot.boundsAttributes.members),this.mercatorBoundsSegments=ot.SegmentVector.simpleSegment(0,0,4,2);const Dt=new ot.StructArrayLayout3ui6;Dt.emplaceBack(0,1,2),Dt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=ut.createIndexBuffer(Dt);const zt=new ot.StructArrayLayout1ui2;for(const Zt of[0,1,3,2,0])zt.emplaceBack(Zt);this.debugIndexBuffer=ut.createIndexBuffer(zt),this.emptyTexture=new ot.Texture(ut,new ot.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),ut.gl.RGBA),this.identityMat=ot.create();const Nt=this.context.gl;this.stencilClearMode=new ot.StencilMode({func:Nt.ALWAYS,mask:0},0,255,Nt.ZERO,Nt.ZERO,Nt.ZERO),this.loadTimeStamps.push(ot.window.performance.now()),this.atmosphereBuffer=new Vy(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(ut){return ut._makeTileBoundsBuffers(this.context,this.transform.projection),ut._tileBoundsBuffer?{tileBoundsBuffer:ut._tileBoundsBuffer,tileBoundsIndexBuffer:ut._tileBoundsIndexBuffer,tileBoundsSegments:ut._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const ut=this.context,ft=ut.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(ut,ft.TRIANGLES,ot.DepthMode.disabled,this.stencilClearMode,ot.ColorMode.disabled,ot.CullFaceMode.disabled,gp(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(ut,ft,vt){if(!ft||this.currentStencilSource===ft.id||!ut.isTileClipped()||!vt||vt.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let zt=!1;for(const Nt of vt)if(this._tileClippingMaskIDs[Nt.key]===void 0){zt=!0;break}if(!zt)return}this.currentStencilSource=ft.id;const wt=this.context,Ct=wt.gl;this.nextStencilID+vt.length>256&&this.clearStencil(),wt.setColorMode(ot.ColorMode.disabled),wt.setDepthMode(ot.DepthMode.disabled);const Dt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const zt of vt){const Nt=ft.getTile(zt),Zt=this._tileClippingMaskIDs[zt.key]=this.nextStencilID++,{tileBoundsBuffer:qt,tileBoundsIndexBuffer:rr,tileBoundsSegments:pr}=this.getTileBoundsBuffers(Nt);Dt.draw(wt,Ct.TRIANGLES,ot.DepthMode.disabled,new ot.StencilMode({func:Ct.ALWAYS,mask:0},Zt,255,Ct.KEEP,Ct.KEEP,Ct.REPLACE),ot.ColorMode.disabled,ot.CullFaceMode.disabled,gp(zt.projMatrix),"$clipping",qt,rr,pr)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const ut=this.nextStencilID++,ft=this.context.gl;return new ot.StencilMode({func:ft.NOTEQUAL,mask:255},ut,255,ft.KEEP,ft.KEEP,ft.REPLACE)}stencilModeForClipping(ut){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(ut);const ft=this.context.gl;return new ot.StencilMode({func:ft.EQUAL,mask:255},this._tileClippingMaskIDs[ut.key],0,ft.KEEP,ft.KEEP,ft.REPLACE)}stencilConfigForOverlap(ut){const ft=this.context.gl,vt=ut.sort((Dt,zt)=>zt.overscaledZ-Dt.overscaledZ),wt=vt[vt.length-1].overscaledZ,Ct=vt[0].overscaledZ-wt+1;if(Ct>1){this.currentStencilSource=void 0,this.nextStencilID+Ct>256&&this.clearStencil();const Dt={};for(let zt=0;zt<Ct;zt++)Dt[zt+wt]=new ot.StencilMode({func:ft.GEQUAL,mask:255},zt+this.nextStencilID,255,ft.KEEP,ft.KEEP,ft.REPLACE);return this.nextStencilID+=Ct,[Dt,vt]}return[{[wt]:ot.StencilMode.disabled},vt]}colorModeForRenderPass(){const ut=this.context.gl;return this._showOverdrawInspector?new ot.ColorMode([ut.CONSTANT_COLOR,ut.ONE],new ot.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ot.ColorMode.unblended:ot.ColorMode.alphaBlended}depthModeForSublayer(ut,ft,vt){if(!this.opaquePassEnabledForLayer())return ot.DepthMode.disabled;const wt=1-((1+this.currentLayer)*this.numSublayers+ut)*this.depthEpsilon;return new ot.DepthMode(vt||this.context.gl.LEQUAL,ft,[wt,wt])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(ut,ft){this.style=ut,this.options=ft,this.imageManager=ut.imageManager,this.glyphManager=ut.glyphManager,this.symbolFadeChange=ut.placement.symbolFadeChange(ot.exported.now()),this.imageManager.beginFrame();const vt=this.style.order,wt=this.style._sourceCaches;for(const Zt in wt){const qt=wt[Zt];qt.used&&qt.prepare(this.context)}const Ct={},Dt={},zt={};for(const Zt in wt){const qt=wt[Zt];Ct[Zt]=qt.getVisibleCoordinates(),Dt[Zt]=Ct[Zt].slice().reverse(),zt[Zt]=qt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Zt=0;Zt<vt.length;Zt++)if(this.style._layers[vt[Zt]].is3D()){this.opaquePassCutoff=Zt;break}if(this.terrain&&(this.terrain.updateTileBinding(zt),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new ot.GlobeSharedBuffers(this.context)),!ot.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const Zt of vt){const qt=this.style._layers[Zt],rr=ut._getLayerSourceCache(qt);if(!qt.hasOffscreenPass()||qt.isHidden(this.transform.zoom))continue;const pr=rr?Dt[rr.id]:void 0;(qt.type==="custom"||qt.isSky()||pr&&pr.length)&&this.renderLayer(this,rr,qt,pr)}this.depthRangeFor3D=[0,1-(ut.order.length+2)*this.numSublayers*this.depthEpsilon];const Nt=this.terrain;if(Nt&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&Nt.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:ft.showOverdrawInspector?ot.Color.black:ot.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ft.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=vt.length-1;this.currentLayer>=0;this.currentLayer--){const Zt=this.style._layers[vt[this.currentLayer]],qt=ut._getLayerSourceCache(Zt);if(Zt.isSky())continue;const rr=qt?Dt[qt.id]:void 0;this._renderTileClippingMasks(Zt,qt,rr),this.renderLayer(this,qt,Zt,rr)}if(this.style.fog&&this.transform.projection.supportsFog&&function(Zt,qt){const rr=Zt.context,pr=rr.gl,xr=Zt.transform,wr=new ot.DepthMode(pr.LEQUAL,ot.DepthMode.ReadOnly,[0,1]),br=Zt.useProgram("globeAtmosphere",null,xr.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),Pr=ot.globeToMercatorTransition(xr.zoom),ir=qt.properties.get("color").toArray01(),_r=qt.properties.get("high-color").toArray01(),$r=qt.properties.get("space-color").toArray01PremultipliedAlpha(),Ir=ot.identity$1([]);ot.rotateY$1(Ir,Ir,-ot.degToRad(xr._center.lng)),ot.rotateX$1(Ir,Ir,ot.degToRad(xr._center.lat)),ot.rotateZ$1(Ir,Ir,xr.angle),ot.rotateX$1(Ir,Ir,-xr._pitch);const Vr=ot.fromQuat(new Float32Array(16),Ir),Wr=ot.mapValue(qt.properties.get("star-intensity"),0,1,0,.25),Gr=5e-4,Jr=ot.mapValue(qt.properties.get("horizon-blend"),0,1,Gr,.25),Yr=ot.globeUseCustomAntiAliasing(Zt,rr,xr)&&Jr===Gr?xr.worldSize/(2*Math.PI*1.025)-1:xr.globeRadius,an=Zt.frameCounter/1e3%1,In=ot.length(xr.globeCenterInViewSpace),rn=Math.sqrt(Math.pow(In,2)-Math.pow(Yr,2)),Sn=Math.acos(rn/In),un=((on,wn,Dn,An,On,oo,go,Qn,uo,Ao,To,io,Vo,Go)=>({u_frustum_tl:on,u_frustum_tr:wn,u_frustum_br:Dn,u_frustum_bl:An,u_horizon:On,u_transition:oo,u_fadeout_range:go,u_color:Qn,u_high_color:uo,u_space_color:Ao,u_star_intensity:To,u_star_size:5*ot.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:io,u_horizon_angle:Vo,u_rotation_matrix:Go}))(xr.frustumCorners.TL,xr.frustumCorners.TR,xr.frustumCorners.BR,xr.frustumCorners.BL,xr.frustumCorners.horizon,Pr,Jr,ir,_r,$r,Wr,an,Sn,Vr);Zt.prepareDrawProgram(rr,br);const $n=Zt.atmosphereBuffer;$n&&br.draw(rr,pr.TRIANGLES,wr,ot.StencilMode.disabled,ot.ColorMode.alphaBlended,ot.CullFaceMode.backCW,un,"skybox",$n.vertexBuffer,$n.indexBuffer,$n.segments)}(this,this.style.fog),this.renderPass="sky",(ot.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<vt.length;this.currentLayer++){const Zt=this.style._layers[vt[this.currentLayer]],qt=ut._getLayerSourceCache(Zt);Zt.isSky()&&this.renderLayer(this,qt,Zt,qt?Dt[qt.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<vt.length;){const Zt=this.style._layers[vt[this.currentLayer]],qt=ut._getLayerSourceCache(Zt);if(Zt.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(Zt)){if(Zt.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const rr=qt?(Zt.type==="symbol"?zt:Dt)[qt.id]:void 0;this._renderTileClippingMasks(Zt,qt,qt?Ct[qt.id]:void 0),this.renderLayer(this,qt,Zt,rr),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let Zt=null;ot.values(this.style._layers).forEach(qt=>{const rr=ut._getLayerSourceCache(qt);rr&&!qt.isHidden(this.transform.zoom)&&(!Zt||Zt.getSource().maxzoom<rr.getSource().maxzoom)&&(Zt=rr)}),Zt&&this.options.showTileBoundaries&&_u.debug(this,Zt,Zt.getVisibleCoordinates())}this.options.showPadding&&function(Zt){const qt=Zt.transform.padding;By(Zt,Zt.transform.height-(qt.top||0),3,Bu),By(Zt,qt.bottom||0,3,ev),sm(Zt,qt.left||0,3,tv),sm(Zt,Zt.transform.width-(qt.right||0),3,rv);const rr=Zt.transform.centerPoint;(function(pr,xr,wr,br){Nu(pr,xr-1,wr-10,2,20,br),Nu(pr,xr-10,wr-1,20,2,br)})(Zt,rr.x,Zt.transform.height-rr.y,nv)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(ot.window.performance.now()),this.saveCanvasCopy())}renderLayer(ut,ft,vt,wt){vt.isHidden(this.transform.zoom)||(vt.type==="background"||vt.type==="sky"||vt.type==="custom"||wt&&wt.length)&&(this.id=vt.id,this.gpuTimingStart(vt),(!ut.transform.projection.unsupportedLayers||!ut.transform.projection.unsupportedLayers.includes(vt.type)||ut.terrain&&vt.type==="custom")&&_u[vt.type](ut,ft,vt,wt,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(ut){if(!this.options.gpuTiming)return;const ft=this.context.extTimerQuery;let vt=this.gpuTimers[ut.id];vt||(vt=this.gpuTimers[ut.id]={calls:0,cpuTime:0,query:ft.createQueryEXT()}),vt.calls++,ft.beginQueryEXT(ft.TIME_ELAPSED_EXT,vt.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const ut=this.context.extTimerQuery,ft=ut.createQueryEXT();this.deferredRenderGpuTimeQueries.push(ft),ut.beginQueryEXT(ut.TIME_ELAPSED_EXT,ft)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const ut=this.context.extTimerQuery;ut.endQueryEXT(ut.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const ut=this.context.extTimerQuery;ut.endQueryEXT(ut.TIME_ELAPSED_EXT)}collectGpuTimers(){const ut=this.gpuTimers;return this.gpuTimers={},ut}collectDeferredRenderGpuQueries(){const ut=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],ut}queryGpuTimers(ut){const ft={};for(const vt in ut){const wt=ut[vt],Ct=this.context.extTimerQuery,Dt=Ct.getQueryObjectEXT(wt.query,Ct.QUERY_RESULT_EXT)/1e6;Ct.deleteQueryEXT(wt.query),ft[vt]=Dt}return ft}queryGpuTimeDeferredRender(ut){if(!this.options.gpuTimingDeferredRender)return 0;const ft=this.context.extTimerQuery;let vt=0;for(const wt of ut)vt+=ft.getQueryObjectEXT(wt,ft.QUERY_RESULT_EXT)/1e6,ft.deleteQueryEXT(wt);return vt}translatePosMatrix(ut,ft,vt,wt,Ct){if(!vt[0]&&!vt[1])return ut;const Dt=Ct?wt==="map"?this.transform.angle:0:wt==="viewport"?-this.transform.angle:0;if(Dt){const Zt=Math.sin(Dt),qt=Math.cos(Dt);vt=[vt[0]*qt-vt[1]*Zt,vt[0]*Zt+vt[1]*qt]}const zt=[Ct?vt[0]:cr(ft,vt[0],this.transform.zoom),Ct?vt[1]:cr(ft,vt[1],this.transform.zoom),0],Nt=new Float32Array(16);return ot.translate(Nt,ut,zt),Nt}saveTileTexture(ut){const ft=this._tileTextures[ut.size[0]];ft?ft.push(ut):this._tileTextures[ut.size[0]]=[ut]}getTileTexture(ut){const ft=this._tileTextures[ut];return ft&&ft.length>0?ft.pop():null}isPatternMissing(ut){return ut===null||ut!==void 0&&!this.imageManager.getPattern(ut.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const ut=this.terrain&&this.terrain.renderingToTexture,ft=this.terrain&&this.terrain.exaggeration()===0,vt=this.style&&this.style.fog,wt=[];return this.terrainRenderModeElevated()&&wt.push("TERRAIN"),this.transform.projection.name==="globe"&&wt.push("GLOBE"),ft&&wt.push("ZERO_EXAGGERATION"),vt&&!ut&&vt.getOpacity(this.transform.pitch)!==0&&wt.push("FOG"),ut&&wt.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&wt.push("OVERDRAW_INSPECTOR"),wt}useProgram(ut,ft,vt){this.cache=this.cache||{};const wt=vt||[],Ct=this.currentGlobalDefines().concat(wt),Dt=Lo.cacheKey(n0[ut],ut,Ct,ft);return this.cache[Dt]||(this.cache[Dt]=new Lo(this.context,ut,n0[ut],ft,_0[ut],Ct)),this.cache[Dt]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const ut=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(ut.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=ot.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ot.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(ut,ft,vt){if(this.terrain&&this.terrain.renderingToTexture)return;const wt=this.style.fog;if(wt){const Ct=wt.getOpacity(this.transform.pitch),Dt=((zt,Nt,Zt,qt,rr,pr,xr,wr,br,Pr,ir)=>{const _r=zt.transform,$r=Nt.properties.get("color").toArray01();$r[3]=qt;const Ir=zt.frameCounter/1e3%1;return{u_fog_matrix:Zt?_r.calculateFogTileMatrix(Zt):zt.identityMat,u_fog_range:Nt.getFovAdjustedRange(_r._fov),u_fog_color:$r,u_fog_horizon_blend:Nt.properties.get("horizon-blend"),u_fog_temporal_offset:Ir,u_frustum_tl:rr,u_frustum_tr:pr,u_frustum_br:xr,u_frustum_bl:wr,u_globe_pos:br,u_globe_radius:Pr,u_viewport:ir,u_globe_transition:ot.globeToMercatorTransition(_r.zoom),u_is_globe:+(_r.projection.name==="globe")}})(this,wt,vt,Ct,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*ot.exported.devicePixelRatio,this.transform.height*ot.exported.devicePixelRatio]);ft.setFogUniformValues(ut,Dt)}}setTileLoadedFlag(ut){this.tileLoaded=ut}saveCanvasCopy(){const ut=this.canvasCopy();ut&&(this.frameCopies.push(ut),this.tileLoaded=!1)}canvasCopy(){const ut=this.context.gl,ft=ut.createTexture();return ut.bindTexture(ut.TEXTURE_2D,ft),ut.copyTexImage2D(ut.TEXTURE_2D,0,ut.RGBA,0,0,ut.drawingBufferWidth,ut.drawingBufferHeight,0),ft}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const ut=this.style&&this.style.fog;return!!ut&&ut.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const ut=this._backgroundTiles,ft=this._backgroundTiles={},vt=this.transform.coveringTiles({tileSize:512});for(const wt of vt)ft[wt.key]=ut[wt.key]||new ot.Tile(wt,512,this.transform.tileZoom,this);return ft}clearBackgroundTiles(){this._backgroundTiles={}}}class cm{constructor(ut=0,ft=0,vt=0,wt=0){if(isNaN(ut)||ut<0||isNaN(ft)||ft<0||isNaN(vt)||vt<0||isNaN(wt)||wt<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=ut,this.bottom=ft,this.left=vt,this.right=wt}interpolate(ut,ft,vt){return ft.top!=null&&ut.top!=null&&(this.top=ot.number(ut.top,ft.top,vt)),ft.bottom!=null&&ut.bottom!=null&&(this.bottom=ot.number(ut.bottom,ft.bottom,vt)),ft.left!=null&&ut.left!=null&&(this.left=ot.number(ut.left,ft.left,vt)),ft.right!=null&&ut.right!=null&&(this.right=ot.number(ut.right,ft.right,vt)),this}getCenter(ut,ft){const vt=ot.clamp((this.left+ut-this.right)/2,0,ut),wt=ot.clamp((this.top+ft-this.bottom)/2,0,ft);return new ot.Point(vt,wt)}equals(ut){return this.top===ut.top&&this.bottom===ut.bottom&&this.left===ut.left&&this.right===ut.right}clone(){return new cm(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function um(gt,ut){const ft=ot.getColumn(gt,3);ot.fromQuat(gt,ut),ot.setColumn(gt,3,ft)}function Do(gt,ut){const ft=ot.identity$1([]);return ot.rotateZ$1(ft,ft,-ut),ot.rotateX$1(ft,ft,-gt),ft}function Sp(gt,ut){const ft=[gt[0],gt[1],0],vt=[ut[0],ut[1],0];if(ot.length(ft)>=1e-15){const Dt=ot.normalize([],ft);ot.scale$2(vt,Dt,ot.dot(vt,Dt)),ut[0]=vt[0],ut[1]=vt[1]}const wt=ot.cross([],ut,gt);if(ot.len(wt)<1e-15)return null;const Ct=Math.atan2(-wt[1],wt[0]);return Do(Math.atan2(Math.sqrt(gt[0]*gt[0]+gt[1]*gt[1]),-gt[2]),Ct)}class Uy{constructor(ut,ft){this.position=ut,this.orientation=ft}get position(){return this._position}set position(ut){if(ut){const ft=ut instanceof ot.MercatorCoordinate?ut:new ot.MercatorCoordinate(ut[0],ut[1],ut[2]);this._renderWorldCopies&&(ft.x=ot.wrap(ft.x,0,1)),this._position=ft}else this._position=null}lookAtPoint(ut,ft){if(this.orientation=null,!this.position)return;const vt=this.position,wt=this._elevation?this._elevation.getAtPointOrZero(ot.MercatorCoordinate.fromLngLat(ut)):0,Ct=ot.MercatorCoordinate.fromLngLat(ut,wt),Dt=[Ct.x-vt.x,Ct.y-vt.y,Ct.z-vt.z];ft||(ft=[0,0,1]),ft[2]=Math.abs(ft[2]),this.orientation=Sp(Dt,ft)}setPitchBearing(ut,ft){this.orientation=Do(ot.degToRad(ut),ot.degToRad(-ft))}}class hm{constructor(ut,ft){this._transform=ot.identity([]),this.orientation=ft,this.position=ut}get mercatorPosition(){const ut=this.position;return new ot.MercatorCoordinate(ut[0],ut[1],ut[2])}get position(){const ut=ot.getColumn(this._transform,3);return[ut[0],ut[1],ut[2]]}set position(ut){var ft;ut&&ot.setColumn(this._transform,3,[(ft=ut)[0],ft[1],ft[2],1])}get orientation(){return this._orientation}set orientation(ut){this._orientation=ut||ot.identity$1([]),ut&&um(this._transform,this._orientation)}getPitchBearing(){const ut=this.forward(),ft=this.right();return{bearing:Math.atan2(-ft[1],ft[0]),pitch:Math.atan2(Math.sqrt(ut[0]*ut[0]+ut[1]*ut[1]),-ut[2])}}setPitchBearing(ut,ft){this._orientation=Do(ut,ft),um(this._transform,this._orientation)}forward(){const ut=ot.getColumn(this._transform,2);return[-ut[0],-ut[1],-ut[2]]}up(){const ut=ot.getColumn(this._transform,1);return[-ut[0],-ut[1],-ut[2]]}right(){const ut=ot.getColumn(this._transform,0);return[ut[0],ut[1],ut[2]]}getCameraToWorld(ut,ft){const vt=new Float64Array(16);return ot.invert(vt,this.getWorldToCamera(ut,ft)),vt}getWorldToCameraPosition(ut,ft,vt){const wt=this.position;ot.scale$2(wt,wt,-ut);const Ct=new Float64Array(16);return ot.fromScaling(Ct,[vt,vt,vt]),ot.translate(Ct,Ct,wt),Ct[10]*=ft,Ct}getWorldToCamera(ut,ft){const vt=new Float64Array(16),wt=new Float64Array(4),Ct=this.position;return ot.conjugate(wt,this._orientation),ot.scale$2(Ct,Ct,-ut),ot.fromQuat(vt,wt),ot.translate(vt,vt,Ct),vt[1]*=-1,vt[5]*=-1,vt[9]*=-1,vt[13]*=-1,vt[8]*=ft,vt[9]*=ft,vt[10]*=ft,vt[11]*=ft,vt}getCameraToClipPerspective(ut,ft,vt,wt){const Ct=new Float64Array(16);return ot.perspective(Ct,ut,ft,vt,wt),Ct}getDistanceToElevation(ut,ft=!1){const vt=ut===0?0:ot.mercatorZfromAltitude(ut,ft?ot.latFromMercatorY(this.position[1]):this.position[1]),wt=this.forward();return(vt-this.position[2])/wt[2]}clone(){return new hm([...this.position],[...this.orientation])}}function Vu(gt,ut){const ft=dm(gt.projection,gt.zoom,gt.width,gt.height),vt=function(Ct,Dt,zt,Nt,Zt){const qt=new ot.LngLat(zt.lng-180*Wl,zt.lat),rr=new ot.LngLat(zt.lng+180*Wl,zt.lat),pr=Ct.project(qt.lng,qt.lat),xr=Ct.project(rr.lng,rr.lat),wr=-Math.atan2(xr.y-pr.y,xr.x-pr.x),br=ot.MercatorCoordinate.fromLngLat(zt);br.y=ot.clamp(br.y,-1+Wl,1-Wl);const Pr=br.toLngLat(),ir=Ct.project(Pr.lng,Pr.lat),_r=ot.MercatorCoordinate.fromLngLat(Pr);_r.x+=Wl;const $r=_r.toLngLat(),Ir=Ct.project($r.lng,$r.lat),Vr=fm(Ir.x-ir.x,Ir.y-ir.y,wr),Wr=ot.MercatorCoordinate.fromLngLat(Pr);Wr.y+=Wl;const Gr=Wr.toLngLat(),Jr=Ct.project(Gr.lng,Gr.lat),Yr=fm(Jr.x-ir.x,Jr.y-ir.y,wr),an=Math.abs(Vr.x)/Math.abs(Yr.y),In=ot.identity([]);ot.rotateZ(In,In,-wr*(1-(Zt?0:Nt)));const rn=ot.identity([]);return ot.scale(rn,rn,[1,1-(1-an)*Nt,1]),rn[4]=-Yr.x/Yr.y*Nt,ot.rotateZ(rn,rn,wr),ot.multiply(rn,In,rn),rn}(gt.projection,0,gt.center,ft,ut),wt=Gy(gt);return ot.scale(vt,vt,[wt,wt,1]),vt}function Gy(gt){const ut=gt.projection,ft=dm(gt.projection,gt.zoom,gt.width,gt.height),vt=Wy(ut,gt.center),wt=Wy(ut,ot.LngLat.convert(ut.center));return Math.pow(2,vt*ft+(1-ft)*wt)}function dm(gt,ut,ft,vt,wt=1/0){const Ct=gt.range;if(!Ct)return 0;const Dt=Math.min(wt,Math.max(ft,vt)),zt=Math.log(Dt/1024)/Math.LN2;return ot.smoothstep(Ct[0]+zt,Ct[1]+zt,ut)}const Wl=1/4e4;function Wy(gt,ut){const ft=ot.clamp(ut.lat,-ot.MAX_MERCATOR_LATITUDE,ot.MAX_MERCATOR_LATITUDE),vt=new ot.LngLat(ut.lng-180*Wl,ft),wt=new ot.LngLat(ut.lng+180*Wl,ft),Ct=gt.project(vt.lng,ft),Dt=gt.project(wt.lng,ft),zt=ot.MercatorCoordinate.fromLngLat(vt),Nt=ot.MercatorCoordinate.fromLngLat(wt),Zt=Dt.x-Ct.x,qt=Dt.y-Ct.y,rr=Nt.x-zt.x,pr=Nt.y-zt.y,xr=Math.sqrt((rr*rr+pr*pr)/(Zt*Zt+qt*qt));return Math.log(xr)/Math.LN2}function fm(gt,ut,ft){const vt=Math.cos(ft),wt=Math.sin(ft);return{x:gt*vt-ut*wt,y:gt*wt+ut*vt}}class Uu{constructor(ut,ft,vt,wt,Ct,Dt,zt){this.tileSize=512,this._renderWorldCopies=Ct===void 0||Ct,this._minZoom=ut||0,this._maxZoom=ft||22,this._minPitch=vt??0,this._maxPitch=wt??60,this.setProjection(Dt),this.setMaxBounds(zt),this.width=0,this.height=0,this._center=new ot.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new cm,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new hm,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const ut=new Uu(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return ut._elevation=this._elevation,ut._centerAltitude=this._centerAltitude,ut._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,ut.tileSize=this.tileSize,ut.mercatorFromTransition=this.mercatorFromTransition,ut.width=this.width,ut.height=this.height,ut.cameraElevationReference=this.cameraElevationReference,ut._center=this._center,ut._setZoom(this.zoom),ut._seaLevelZoom=this._seaLevelZoom,ut.angle=this.angle,ut._fov=this._fov,ut._pitch=this._pitch,ut._nearZ=this._nearZ,ut._farZ=this._farZ,ut._averageElevation=this._averageElevation,ut._unmodified=this._unmodified,ut._edgeInsets=this._edgeInsets.clone(),ut._camera=this._camera.clone(),ut._calcMatrices(),ut.freezeTileCoverage=this.freezeTileCoverage,ut.frustumCorners=this.frustumCorners,ut}get elevation(){return this._elevation}set elevation(ut){this._elevation!==ut&&(this._elevation=ut,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(ut,ft=!1){const vt=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||vt)&&this._updateCameraOnTerrain(),(ut||vt)&&this._constrainCamera(ft),this._calcMatrices()}getProjection(){return ot.pick(this.projection,["name","center","parallels"])}setProjection(ut){this.projectionOptions=ut||{name:"mercator"};const ft=this.projection?this.getProjection():void 0;this.projection=ot.getProjection(this.projectionOptions);const vt=!mt(ft,this.getProjection());return vt&&this._calcMatrices(),this.mercatorFromTransition=!1,vt}setMercatorFromTransition(){const ut=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=ot.getProjection({name:"mercator"});const ft=ut!==this.projection.name;return ft&&this._calcMatrices(),ft}get minZoom(){return this._minZoom}set minZoom(ut){this._minZoom!==ut&&(this._minZoom=ut,this.zoom=Math.max(this.zoom,ut))}get maxZoom(){return this._maxZoom}set maxZoom(ut){this._maxZoom!==ut&&(this._maxZoom=ut,this.zoom=Math.min(this.zoom,ut))}get minPitch(){return this._minPitch}set minPitch(ut){this._minPitch!==ut&&(this._minPitch=ut,this.pitch=Math.max(this.pitch,ut))}get maxPitch(){return this._maxPitch}set maxPitch(ut){this._maxPitch!==ut&&(this._maxPitch=ut,this.pitch=Math.min(this.pitch,ut))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(ut){ut===void 0?ut=!0:ut===null&&(ut=!1),this._renderWorldCopies=ut}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const ut=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(ut))}get cameraWorldSize(){const ut=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(ut))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return ot.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new ot.Point(this.width,this.height)}get bearing(){return ot.wrap(this.rotation,-180,180)}set bearing(ut){this.rotation=ut}get rotation(){return-this.angle/Math.PI*180}set rotation(ut){const ft=-ut*Math.PI/180;var vt;this.angle!==ft&&(this._unmodified=!1,this.angle=ft,this._calcMatrices(),this.rotationMatrix=(vt=new ot.ARRAY_TYPE(4),ot.ARRAY_TYPE!=Float32Array&&(vt[1]=0,vt[2]=0),vt[0]=1,vt[3]=1,vt),function(wt,Ct,Dt){var zt=Ct[0],Nt=Ct[1],Zt=Ct[2],qt=Ct[3],rr=Math.sin(Dt),pr=Math.cos(Dt);wt[0]=zt*pr+Zt*rr,wt[1]=Nt*pr+qt*rr,wt[2]=zt*-rr+Zt*pr,wt[3]=Nt*-rr+qt*pr}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(ut){const ft=ot.clamp(ut,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==ft&&(this._unmodified=!1,this._pitch=ft,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const ut=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/ut)}set fov(ut){ut=Math.max(.01,Math.min(60,ut)),this._fov!==ut&&(this._unmodified=!1,this._fov=ot.degToRad(ut),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(ut){this._averageElevation=ut,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(ut){const ft=Math.min(Math.max(ut,this.minZoom),this.maxZoom);this._zoom!==ft&&(this._unmodified=!1,this._setZoom(ft),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(ut){this._zoom=ut,this.scale=this.zoomScale(ut),this.tileZoom=Math.floor(ut),this.zoomFraction=ut-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const ut=this._elevation;this._centerAltitude=ut.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=ut.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const ut=this._elevation,ft=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],vt=this.horizonLineFromTop();let wt=0,Ct=0;for(let Dt=0;Dt<ft.length;Dt++){const zt=new ot.Point(ft[Dt][0]*this.width,vt+ft[Dt][1]*(this.height-vt)),Nt=ut.pointCoordinate(zt);if(!Nt)continue;const Zt=1/Math.hypot(Nt[0]-this._camera.position[0],Nt[1]-this._camera.position[1]);wt+=Nt[3]*Zt,Ct+=Zt}return Ct===0?NaN:wt/Ct}get center(){return this._center}set center(ut){ut.lat===this._center.lat&&ut.lng===this._center.lng||(this._unmodified=!1,this._center=ut,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const ut=this._seaLevelZoom,ft=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),vt=this.pixelsPerMeter/this.worldSize*ft,wt=this._mercatorZfromZoom(ut),Ct=this._mercatorZfromZoom(this._maxZoom),Dt=Math.max(wt-vt,Ct);this._setZoom(this._zoomFromMercatorZ(Dt))}get padding(){return this._edgeInsets.toJSON()}set padding(ut){this._edgeInsets.equals(ut)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ut,1),this._calcMatrices())}computeZoomRelativeTo(ut){const ft=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,ut.toAltitude()));let vt;vt=ut.z<this._camera.position[2]?[ft.x,ft.y,ft.z]:[ut.x,ut.y,ut.z];const wt=ot.length(ot.sub([],this._camera.position,vt));return ot.clamp(this._zoomFromMercatorZ(wt),this._minZoom,this._maxZoom)}setFreeCameraOptions(ut){if(!this.height||!ut.position&&!ut.orientation)return;this._updateCameraState();let ft=!1;if(ut.orientation&&!ot.exactEquals(ut.orientation,this._camera.orientation)&&(ft=this._setCameraOrientation(ut.orientation)),ut.position){const vt=[ut.position.x,ut.position.y,ut.position.z];ot.exactEquals$1(vt,this._camera.position)||(this._setCameraPosition(vt),ft=!0)}ft&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const ut=this._camera.position,ft=new Uy;return ft.position=new ot.MercatorCoordinate(ut[0],ut[1],ut[2]),ft.orientation=this._camera.orientation,ft._elevation=this.elevation,ft._renderWorldCopies=this.renderWorldCopies,ft}_setCameraOrientation(ut){if(!ot.length$1(ut))return!1;ot.normalize$1(ut,ut);const ft=ot.transformQuat([],[0,0,-1],ut),vt=ot.transformQuat([],[0,-1,0],ut);if(vt[2]<0)return!1;const wt=Sp(ft,vt);return!!wt&&(this._camera.orientation=wt,!0)}_setCameraPosition(ut){const ft=this.zoomScale(this.minZoom)*this.tileSize,vt=this.zoomScale(this.maxZoom)*this.tileSize,wt=this.cameraToCenterDistance;ut[2]=ot.clamp(ut[2],wt/vt,wt/ft),this._camera.position=ut}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(ut){return this._edgeInsets.equals(ut)}interpolatePadding(ut,ft,vt){this._unmodified=!1,this._edgeInsets.interpolate(ut,ft,vt),this._constrain(),this._calcMatrices()}coveringZoomLevel(ut){const ft=(ut.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/ut.tileSize));return Math.max(0,ft)}getVisibleUnwrappedCoordinates(ut){const ft=[new ot.UnwrappedTileID(0,ut)];if(this.renderWorldCopies){const vt=this.pointCoordinate(new ot.Point(0,0)),wt=this.pointCoordinate(new ot.Point(this.width,0)),Ct=this.pointCoordinate(new ot.Point(this.width,this.height)),Dt=this.pointCoordinate(new ot.Point(0,this.height)),zt=Math.floor(Math.min(vt.x,wt.x,Ct.x,Dt.x)),Nt=Math.floor(Math.max(vt.x,wt.x,Ct.x,Dt.x)),Zt=1;for(let qt=zt-Zt;qt<=Nt+Zt;qt++)qt!==0&&ft.push(new ot.UnwrappedTileID(qt,ut))}return ft}coveringTiles(ut){let ft=this.coveringZoomLevel(ut);const vt=ft,wt=this.elevation&&!ut.isTerrainDEM,Ct=this.projection.name==="mercator";if(ut.minzoom!==void 0&&ft<ut.minzoom)return[];ut.maxzoom!==void 0&&ft>ut.maxzoom&&(ft=ut.maxzoom);const Dt=this.locationCoordinate(this.center),zt=this.center.lat,Nt=1<<ft,Zt=[Nt*Dt.x,Nt*Dt.y,0],qt=this.projection.name==="globe",rr=!qt,pr=ot.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ft,rr),xr=qt?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),wr=Nt*ot.mercatorZfromAltitude(1,this.center.lat),br=this._camera.position[2]/ot.mercatorZfromAltitude(1,this.center.lat),Pr=[Nt*xr.x,Nt*xr.y,br*(rr?1:wr)],ir=this.cameraToCenterDistance/ut.tileSize*(ut.roundZoom?1:.502),_r=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?ft:0,$r=ut.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Ir=ut.isTerrainDEM?-$r:this._elevation?this._elevation.getMinElevationBelowMSL():0,Vr=this.projection.isReprojectedInTileSpace?Gy(this):1,Wr=on=>{const Dn=new ot.MercatorCoordinate(on.x+25e-6,on.y,on.z),An=new ot.MercatorCoordinate(on.x,on.y+25e-6,on.z),On=on.toLngLat(),oo=Dn.toLngLat(),go=An.toLngLat(),Qn=this.locationCoordinate(On),uo=this.locationCoordinate(oo),Ao=this.locationCoordinate(go),To=Math.hypot(uo.x-Qn.x,uo.y-Qn.y),io=Math.hypot(Ao.x-Qn.x,Ao.y-Qn.y);return Math.sqrt(To*io)*Vr/25e-6},Gr=on=>{const wn=$r,Dn=Ir;return{aabb:ot.tileAABB(this,Nt,0,0,0,on,Dn,wn,this.projection),zoom:0,x:0,y:0,minZ:Dn,maxZ:wn,wrap:on,fullyVisible:!1}},Jr=[];let Yr=[];const an=ft,In=ut.reparseOverscaled?vt:ft,rn=on=>on*on,Sn=rn((br-this._centerAltitude)*wr),un=on=>{if(!this._elevation||!on.tileID||!Ct)return;const wn=this._elevation.getMinMaxForTile(on.tileID),Dn=on.aabb;wn?(Dn.min[2]=wn.min,Dn.max[2]=wn.max,Dn.center[2]=(Dn.min[2]+Dn.max[2])/2):(on.shouldSplit=$n(on),on.shouldSplit||(Dn.min[2]=Dn.max[2]=Dn.center[2]=this._centerAltitude))},$n=on=>{if(on.zoom<_r)return!0;if(on.zoom===an)return!1;if(on.shouldSplit!=null)return on.shouldSplit;const wn=on.aabb.distanceX(Pr),Dn=on.aabb.distanceY(Pr);let An=Sn,On=1;if(qt){An=rn(on.aabb.distanceZ(Pr));const Qn=Math.pow(2,on.zoom),uo=ot.latFromMercatorY((on.y+1)/Qn),Ao=ot.latFromMercatorY(on.y/Qn),To=Math.min(Math.max(zt,uo),Ao),io=ot.circumferenceAtLatitude(To)/ot.circumferenceAtLatitude(zt);if(On=To===zt?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,io/this._mercatorScaleRatio),this.zoom<=ot.GLOBE_ZOOM_THRESHOLD_MIN&&on.zoom===an-1&&io>=.9)return!0}else if(wt&&(An=rn(on.aabb.distanceZ(Pr)*wr)),this.projection.isReprojectedInTileSpace&&vt<=5){const Qn=Math.pow(2,on.zoom),uo=Wr(new ot.MercatorCoordinate((on.x+.5)/Qn,(on.y+.5)/Qn));On=uo>.85?1:uo}const oo=wn*wn+Dn*Dn+An,go=rn((1<<an-on.zoom)*ir*On*((Qn,uo)=>{if(uo*rn(.707)<Qn)return 1;const Ao=Math.sqrt(uo/Qn);return Ao/(1.4144271570014144+(Math.pow(1.1,Ao-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(An,Sn),oo));return oo<go};if(this.renderWorldCopies)for(let on=1;on<=3;on++)Jr.push(Gr(-on)),Jr.push(Gr(on));for(Jr.push(Gr(0));Jr.length>0;){const on=Jr.pop(),wn=on.x,Dn=on.y;let An=on.fullyVisible;if(!An){const On=on.aabb.intersects(pr);if(On===0)continue;An=On===2}if(on.zoom!==an&&$n(on))for(let On=0;On<4;On++){const oo=(wn<<1)+On%2,go=(Dn<<1)+(On>>1),Qn={aabb:Ct?on.aabb.quadrant(On):ot.tileAABB(this,Nt,on.zoom+1,oo,go,on.wrap,on.minZ,on.maxZ,this.projection),zoom:on.zoom+1,x:oo,y:go,wrap:on.wrap,fullyVisible:An,tileID:void 0,shouldSplit:void 0,minZ:on.minZ,maxZ:on.maxZ};wt&&!qt&&(Qn.tileID=new ot.OverscaledTileID(on.zoom+1===an?In:on.zoom+1,on.wrap,on.zoom+1,oo,go),un(Qn)),Jr.push(Qn)}else{const On=on.zoom===an?In:on.zoom;if(ut.minzoom&&ut.minzoom>On)continue;const oo=Zt[0]-(.5+wn+(on.wrap<<on.zoom))*(1<<ft-on.zoom),go=Zt[1]-.5-Dn,Qn=on.tileID?on.tileID:new ot.OverscaledTileID(On,on.wrap,on.zoom,wn,Dn);Yr.push({tileID:Qn,distanceSq:oo*oo+go*go})}}if(this.fogCullDistSq){const on=this.fogCullDistSq,wn=this.horizonLineFromTop();Yr=Yr.filter(Dn=>{const An=[0,0,0,1],On=[ot.EXTENT,ot.EXTENT,0,1],oo=this.calculateFogTileMatrix(Dn.tileID.toUnwrapped());ot.transformMat4$1(An,An,oo),ot.transformMat4$1(On,On,oo);const go=ot.getAABBPointSquareDist(An,On);if(go===0)return!0;let Qn=!1;const uo=this._elevation;if(uo&&go>on&&wn!==0){const Ao=this.calculateProjMatrix(Dn.tileID.toUnwrapped());let To;ut.isTerrainDEM||(To=uo.getMinMaxForTile(Dn.tileID)),To||(To={min:Ir,max:$r});const io=ot.furthestTileCorner(this.rotation),Vo=[io[0]*ot.EXTENT,io[1]*ot.EXTENT,To.max];ot.transformMat4(Vo,Vo,Ao),Qn=(1-Vo[1])*this.height*.5<wn}return go<on||Qn})}return Yr.sort((on,wn)=>on.distanceSq-wn.distanceSq).map(on=>on.tileID)}resize(ut,ft){this.width=ut,this.height=ft,this.pixelsToGLUnits=[2/ut,-2/ft],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(ut){return Math.pow(2,ut)}scaleZoom(ut){return Math.log(ut)/Math.LN2}project(ut){const ft=ot.clamp(ut.lat,-ot.MAX_MERCATOR_LATITUDE,ot.MAX_MERCATOR_LATITUDE),vt=this.projection.project(ut.lng,ft);return new ot.Point(vt.x*this.worldSize,vt.y*this.worldSize)}unproject(ut){return this.projection.unproject(ut.x/this.worldSize,ut.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/ot.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(ut,ft){let vt,wt;const Ct=this.centerPoint;if(this.projection.name==="globe"){const zt=this.worldSize;vt=(ft.x-Ct.x)/zt,wt=(ft.y-Ct.y)/zt}else{const zt=this.pointCoordinate(ft),Nt=this.pointCoordinate(Ct);vt=zt.x-Nt.x,wt=zt.y-Nt.y}const Dt=this.locationCoordinate(ut);this.setLocation(new ot.MercatorCoordinate(Dt.x-vt,Dt.y-wt))}setLocation(ut){this.center=this.coordinateLocation(ut),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(ut){return this.projection.locationPoint(this,ut)}locationPoint3D(ut){return this.projection.locationPoint(this,ut,!0)}pointLocation(ut){return this.coordinateLocation(this.pointCoordinate(ut))}pointLocation3D(ut){return this.coordinateLocation(this.pointCoordinate3D(ut))}locationCoordinate(ut,ft){const vt=ft?ot.mercatorZfromAltitude(ft,ut.lat):void 0,wt=this.projection.project(ut.lng,ut.lat);return new ot.MercatorCoordinate(wt.x,wt.y,vt)}coordinateLocation(ut){return this.projection.unproject(ut.x,ut.y)}pointRayIntersection(ut,ft){const vt=ft??this._centerAltitude,wt=[ut.x,ut.y,0,1],Ct=[ut.x,ut.y,1,1];ot.transformMat4$1(wt,wt,this.pixelMatrixInverse),ot.transformMat4$1(Ct,Ct,this.pixelMatrixInverse);const Dt=Ct[3];ot.scale$1(wt,wt,1/wt[3]),ot.scale$1(Ct,Ct,1/Dt);const zt=wt[2],Nt=Ct[2];return{p0:wt,p1:Ct,t:zt===Nt?0:(vt-zt)/(Nt-zt)}}screenPointToMercatorRay(ut){const ft=[ut.x,ut.y,0,1],vt=[ut.x,ut.y,1,1];return ot.transformMat4$1(ft,ft,this.pixelMatrixInverse),ot.transformMat4$1(vt,vt,this.pixelMatrixInverse),ot.scale$1(ft,ft,1/ft[3]),ot.scale$1(vt,vt,1/vt[3]),ft[2]=ot.mercatorZfromAltitude(ft[2],this._center.lat)*this.worldSize,vt[2]=ot.mercatorZfromAltitude(vt[2],this._center.lat)*this.worldSize,ot.scale$1(ft,ft,1/this.worldSize),ot.scale$1(vt,vt,1/this.worldSize),new ot.Ray([ft[0],ft[1],ft[2]],ot.normalize([],ot.sub([],vt,ft)))}rayIntersectionCoordinate(ut){const{p0:ft,p1:vt,t:wt}=ut,Ct=ot.mercatorZfromAltitude(ft[2],this._center.lat),Dt=ot.mercatorZfromAltitude(vt[2],this._center.lat);return new ot.MercatorCoordinate(ot.number(ft[0],vt[0],wt)/this.worldSize,ot.number(ft[1],vt[1],wt)/this.worldSize,ot.number(Ct,Dt,wt))}pointCoordinate(ut,ft=this._centerAltitude){return this.projection.pointCoordinate(this,ut.x,ut.y,ft)}pointCoordinate3D(ut){if(!this.elevation)return this.pointCoordinate(ut);let ft=this.projection.pointCoordinate3D(this,ut.x,ut.y);if(ft)return new ot.MercatorCoordinate(ft[0],ft[1],ft[2]);let vt=0,wt=this.horizonLineFromTop();if(ut.y>wt)return this.pointCoordinate(ut);const Ct=.02*wt,Dt=ut.clone();for(let zt=0;zt<10&&wt-vt>Ct;zt++){Dt.y=ot.number(vt,wt,.66);const Nt=this.projection.pointCoordinate3D(this,Dt.x,Dt.y);Nt?(wt=Dt.y,ft=Nt):vt=Dt.y}return ft?new ot.MercatorCoordinate(ft[0],ft[1],ft[2]):this.pointCoordinate(ut)}isPointAboveHorizon(ut){return this.projection.isPointAboveHorizon(this,ut)}isPointOnSurface(ut){if(ut.y<0||ut.y>this.height||ut.x<0||ut.x>this.width)return!1;if(this.elevation||this.zoom>=ot.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(ut);const ft=this.pointCoordinate(ut);return ft.y>=0&&ft.y<=1}_coordinatePoint(ut,ft){const vt=ft&&this.elevation?this.elevation.getAtPointOrZero(ut,this._centerAltitude):this._centerAltitude,wt=[ut.x*this.worldSize,ut.y*this.worldSize,vt+ut.toAltitude(),1];return ot.transformMat4$1(wt,wt,this.pixelMatrix),wt[3]>0?new ot.Point(wt[0]/wt[3],wt[1]/wt[3]):new ot.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:ut,left:ft}=this._edgeInsets,vt=this.height-this._edgeInsets.bottom,wt=this.width-this._edgeInsets.right,Ct=this.pointLocation3D(new ot.Point(ft,ut)),Dt=this.pointLocation3D(new ot.Point(wt,ut)),zt=this.pointLocation3D(new ot.Point(wt,vt)),Nt=this.pointLocation3D(new ot.Point(ft,vt));let Zt=Math.min(Ct.lng,Dt.lng,zt.lng,Nt.lng),qt=Math.max(Ct.lng,Dt.lng,zt.lng,Nt.lng),rr=Math.min(Ct.lat,Dt.lat,zt.lat,Nt.lat),pr=Math.max(Ct.lat,Dt.lat,zt.lat,Nt.lat);const xr=Math.pow(2,-this.zoom)/16*270,wr=this.projection.name==="globe"?1:4,br=(Pr,ir,_r,$r,Ir)=>{const Vr=(Pr+_r)/2,Wr=(ir+$r)/2,Gr=new ot.Point(Vr,Wr),{lng:Jr,lat:Yr}=this.pointLocation3D(Gr),an=Math.max(0,Zt-Jr,rr-Yr,Jr-qt,Yr-pr);Zt=Math.min(Zt,Jr),qt=Math.max(qt,Jr),rr=Math.min(rr,Yr),pr=Math.max(pr,Yr),(Ir<wr||an>xr)&&(br(Pr,ir,Vr,Wr,Ir+1),br(Vr,Wr,_r,$r,Ir+1))};if(br(ft,ut,wt,ut,1),br(wt,ut,wt,vt,1),br(wt,vt,ft,vt,1),br(ft,vt,ft,ut,1),this.projection.name==="globe"){const[Pr,ir]=ot.polesInViewport(this);Pr?(pr=90,qt=180,Zt=-180):ir&&(rr=-90,qt=180,Zt=-180)}return new ot.LngLatBounds(new ot.LngLat(Zt,rr),new ot.LngLat(qt,pr))}_getBoundsRectangular(ut,ft){const{top:vt,left:wt}=this._edgeInsets,Ct=this.height-this._edgeInsets.bottom,Dt=this.width-this._edgeInsets.right,zt=new ot.Point(wt,vt),Nt=new ot.Point(Dt,vt),Zt=new ot.Point(Dt,Ct),qt=new ot.Point(wt,Ct);let rr=this.pointCoordinate(zt,ut),pr=this.pointCoordinate(Nt,ut);const xr=this.pointCoordinate(Zt,ft),wr=this.pointCoordinate(qt,ft),br=(Pr,ir)=>(ir.y-Pr.y)/(ir.x-Pr.x);return rr.y>1&&pr.y>=0?rr=new ot.MercatorCoordinate((1-wr.y)/br(wr,rr)+wr.x,1):rr.y<0&&pr.y<=1&&(rr=new ot.MercatorCoordinate(-wr.y/br(wr,rr)+wr.x,0)),pr.y>1&&rr.y>=0?pr=new ot.MercatorCoordinate((1-xr.y)/br(xr,pr)+xr.x,1):pr.y<0&&rr.y<=1&&(pr=new ot.MercatorCoordinate(-xr.y/br(xr,pr)+xr.x,0)),new ot.LngLatBounds().extend(this.coordinateLocation(rr)).extend(this.coordinateLocation(pr)).extend(this.coordinateLocation(wr)).extend(this.coordinateLocation(xr))}_getBoundsRectangularTerrain(){const ut=this.elevation;if(!ut.visibleDemTiles.length||ut.isUsingMockSource())return this._getBoundsRectangular(0,0);const ft=ut.visibleDemTiles.reduce((vt,wt)=>{if(wt.dem){const Ct=wt.dem.tree;vt.min=Math.min(vt.min,Ct.minimums[0]),vt.max=Math.max(vt.max,Ct.maximums[0])}return vt},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(ft.min*ut.exaggeration(),ft.max*ut.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(ut=!0){const ft=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,vt=this.height/2-ft*(1-this._horizonShift);return ut?Math.max(0,vt):vt}getMaxBounds(){return this.maxBounds}setMaxBounds(ut){this.maxBounds=ut,this.minLat=-ot.MAX_MERCATOR_LATITUDE,this.maxLat=ot.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,ut&&(this.minLat=ut.getSouth(),this.maxLat=ut.getNorth(),this.minLng=ut.getWest(),this.maxLng=ut.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=ot.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=ot.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=ot.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=ot.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(ut,ft){return this.projection.createTileMatrix(this,ft,ut)}calculateDistanceTileData(ut){const ft=ut.key,vt=this._distanceTileDataCache;if(vt[ft])return vt[ft];const wt=ut.canonical,Ct=1/this.height,Dt=this.cameraWorldSize,zt=Dt/this.zoomScale(wt.z),Nt=(wt.x+Math.pow(2,wt.z)*ut.wrap)*zt,Zt=wt.y*zt,qt=this.point;qt.x*=Dt/this.worldSize,qt.y*=Dt/this.worldSize;const rr=this.angle,pr=Math.sin(-rr),xr=-Math.cos(-rr);return vt[ft]={bearing:[pr,xr],center:[(qt.x-Nt)*Ct,(qt.y-Zt)*Ct],scale:zt/ot.EXTENT*Ct},vt[ft]}calculateFogTileMatrix(ut){const ft=ut.key,vt=this._fogTileMatrixCache;if(vt[ft])return vt[ft];const wt=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,ut);return ot.multiply(wt,this.worldToFogMatrix,wt),vt[ft]=new Float32Array(wt),vt[ft]}calculateProjMatrix(ut,ft=!1){const vt=ut.key,wt=ft?this._alignedProjMatrixCache:this._projMatrixCache;if(wt[vt])return wt[vt];const Ct=this.calculatePosMatrix(ut,this.worldSize);return ot.multiply(Ct,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:ft?this.alignedProjMatrix:this.projMatrix,Ct),wt[vt]=new Float32Array(Ct),wt[vt]}calculatePixelsToTileUnitsMatrix(ut){const ft=ut.tileID.key,vt=this._pixelsToTileUnitsCache;if(vt[ft])return vt[ft];const wt=function(Ct,Dt){const{scale:zt}=Ct.tileTransform,Nt=zt*ot.EXTENT/(Ct.tileSize*Math.pow(2,Dt.zoom-Ct.tileID.overscaledZ+Ct.tileID.canonical.z));return Zt=new Float32Array(4),pr=(qt=Dt.inverseAdjustmentMatrix)[1],xr=qt[2],wr=qt[3],Pr=(rr=[Nt,Nt])[1],Zt[0]=qt[0]*(br=rr[0]),Zt[1]=pr*br,Zt[2]=xr*Pr,Zt[3]=wr*Pr,Zt;var Zt,qt,rr,pr,xr,wr,br,Pr}(ut,this);return vt[ft]=wt,vt[ft]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const ut=1/this.worldSize,ft=ot.fromScaling([],[ut,ut,ut]);return ot.multiply(ft,ft,this.globeMatrix),ft}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const ut=this._elevation;this._updateCameraState();const ft=ot.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,vt=this._computeCameraPosition(ft),wt=this._camera.forward(),Ct=ot.mercatorZfromAltitude(1,this._center.lat);vt[2]/=Ct,wt[2]/=Ct,ot.normalize(wt,wt);const Dt=ut.raycast(vt,wt,ut.exaggeration());if(Dt){const zt=ot.scaleAndAdd([],vt,wt,Dt),Nt=new ot.MercatorCoordinate(zt[0],zt[1],ot.mercatorZfromAltitude(zt[2],ot.latFromMercatorY(zt[1]))),Zt=(Nt.z+ot.length([Nt.x-vt[0],Nt.y-vt[1],Nt.z-vt[2]*Ct]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(Zt),this._centerAltitude=Nt.toAltitude(),this._center=this.coordinateLocation(Nt),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(ut=!1){if(!this._elevation)return;const ft=this._elevation,vt=ot.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,wt=this._computeCameraPosition(vt),Ct=ft.getAtPointOrZero(new ot.MercatorCoordinate(...wt)),Dt=this.pixelsPerMeter/this.worldSize*Ct,zt=this._minimumHeightOverTerrain(),Nt=wt[2]-Dt;if(Nt<=zt)if(Nt<0||ut){const Zt=this.locationCoordinate(this._center,this._centerAltitude),qt=[wt[0],wt[1],Zt.z-wt[2]],rr=ot.length(qt);qt[2]-=(zt-Nt)/this._pixelsPerMercatorPixel;const pr=ot.length(qt);if(pr===0)return;ot.scale$2(qt,qt,rr/pr*this._pixelsPerMercatorPixel),this._camera.position=[wt[0],wt[1],Zt.z*this._pixelsPerMercatorPixel-qt[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const ut=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||ut){const pr=this.center;return pr.lat=ot.clamp(pr.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!ut)&&(pr.lng=ot.clamp(pr.lng,this.minLng,this.maxLng)),this.center=pr,void(this._constraining=!1)}const ft=this._unmodified,{x:vt,y:wt}=this.point;let Ct=0,Dt=vt,zt=wt;const Nt=this.width/2,Zt=this.height/2,qt=this.worldMinY*this.scale,rr=this.worldMaxY*this.scale;if(wt-Zt<qt&&(zt=qt+Zt),wt+Zt>rr&&(zt=rr-Zt),rr-qt<this.height&&(Ct=Math.max(Ct,this.height/(rr-qt)),zt=(rr+qt)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const pr=this.worldMinX*this.scale,xr=this.worldMaxX*this.scale,wr=this.worldSize/2-(pr+xr)/2;Dt=(vt+wr+this.worldSize)%this.worldSize-wr,Dt-Nt<pr&&(Dt=pr+Nt),Dt+Nt>xr&&(Dt=xr-Nt),xr-pr<this.width&&(Ct=Math.max(Ct,this.width/(xr-pr)),Dt=(xr+pr)/2)}Dt===vt&&zt===wt||(this.center=this.unproject(new ot.Point(Dt,zt))),Ct&&(this.zoom+=this.scaleZoom(Ct)),this._constrainCamera(),this._unmodified=ft,this._constraining=!1}_minZoomForBounds(){let ut=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(ut=Math.max(ut,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),ut}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const ut=this.centerOffset,ft=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=ot.mercatorZfromAltitude(1,this.center.lat)/ot.mercatorZfromAltitude(1,ot.GLOBE_SCALE_MATCH_LATITUDE));const vt=dm(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,vt),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const wt=this.projection.zAxisUnit==="meters"?ft:1,Ct=this._camera.getWorldToCamera(this.worldSize,wt),Dt=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);Dt[8]=2*-ut.x/this.width,Dt[9]=2*ut.y/this.height;let zt=ot.mul([],Dt,Ct);if(this.projection.isReprojectedInTileSpace){const Wr=this.locationCoordinate(this.center),Gr=ot.identity([]);ot.translate(Gr,Gr,[Wr.x*this.worldSize,Wr.y*this.worldSize,0]),ot.multiply(Gr,Gr,Vu(this)),ot.translate(Gr,Gr,[-Wr.x*this.worldSize,-Wr.y*this.worldSize,0]),ot.multiply(zt,zt,Gr),this.inverseAdjustmentMatrix=function(Jr){const Yr=Vu(Jr,!0);return er([],[Yr[0],Yr[1],Yr[4],Yr[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=ot.scale([],zt,[this.worldSize,this.worldSize,this.worldSize/wt,1]),this.projMatrix=zt,this.invProjMatrix=ot.invert(new Float64Array(16),this.projMatrix);const Nt=ot.invert([],Dt);this.frustumCorners=ot.FrustumCorners.fromInvProjectionMatrix(Nt,this.horizonLineFromTop(),this.height);const Zt=new Float32Array(16);ot.identity(Zt),ot.scale(Zt,Zt,[1,-1,1]),ot.rotateX(Zt,Zt,this._pitch),ot.rotateZ(Zt,Zt,this.angle);const qt=ot.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),rr=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;qt[8]=2*-ut.x/this.width,qt[9]=2*(ut.y+rr)/this.height,this.skyboxMatrix=ot.multiply(Zt,qt,Zt);const pr=this.point,xr=pr.x,wr=pr.y,br=this.width%2/2,Pr=this.height%2/2,ir=Math.cos(this.angle),_r=Math.sin(this.angle),$r=xr-Math.round(xr)+ir*br+_r*Pr,Ir=wr-Math.round(wr)+ir*Pr+_r*br,Vr=new Float64Array(zt);if(ot.translate(Vr,Vr,[$r>.5?$r-1:$r,Ir>.5?Ir-1:Ir,0]),this.alignedProjMatrix=Vr,zt=ot.create(),ot.scale(zt,zt,[this.width/2,-this.height/2,1]),ot.translate(zt,zt,[1,-1,0]),this.labelPlaneMatrix=zt,zt=ot.create(),ot.scale(zt,zt,[1,-1,1]),ot.translate(zt,zt,[-1,-1,0]),ot.scale(zt,zt,[2/this.width,2/this.height,1]),this.glCoordMatrix=zt,this.pixelMatrix=ot.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},zt=ot.invert(new Float64Array(16),this.pixelMatrix),!zt)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=zt,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=ot.calculateGlobeMatrix(this);const Wr=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=ot.transformMat4(Wr,Wr,Ct),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=zt;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const ut=this.cameraWorldSizeForFog,ft=this.cameraPixelsPerMeter,vt=this._camera.position,wt=1/this.height/this._pixelsPerMercatorPixel,Ct=[ut,ut,ft];ot.scale$2(Ct,Ct,wt),ot.scale$2(vt,vt,-1),ot.multiply$2(vt,vt,Ct);const Dt=ot.create();ot.translate(Dt,Dt,vt),ot.scale(Dt,Dt,Ct),this.mercatorFogMatrix=Dt,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(ut,ft,wt)}_computeCameraPosition(ut){const ft=(ut=ut||this.pixelsPerMeter)/this.pixelsPerMeter,vt=this._camera.forward(),wt=this.point,Ct=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*ft-ut/this.worldSize*this._centerAltitude;return[wt.x/this.worldSize-vt[0]*Ct,wt.y/this.worldSize-vt[1]*Ct,ut/this.worldSize*this._centerAltitude-vt[2]*Ct]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(ut){const ft=this._maxCameraBoundsDistance()*Math.cos(this._pitch),vt=this._camera.position[2],wt=ut[2];let Ct=1;this.projection.wrap&&(this.center=this.center.wrap()),wt>0&&(Ct=Math.min((ft-vt)/wt,1)),this._camera.position=ot.scaleAndAdd([],this._camera.position,ut,Ct),this._updateStateFromCamera()}_updateStateFromCamera(){const ut=this._camera.position,ft=this._camera.forward(),{pitch:vt,bearing:wt}=this._camera.getPitchBearing(),Ct=ot.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,Dt=this._mercatorZfromZoom(this._maxZoom)*Math.cos(ot.degToRad(this._maxPitch)),zt=Math.max((ut[2]-Ct)/Math.cos(vt),Dt),Nt=this._zoomFromMercatorZ(zt);ot.scaleAndAdd(ut,ut,ft,zt),this._pitch=ot.clamp(vt,ot.degToRad(this.minPitch),ot.degToRad(this.maxPitch)),this.angle=ot.wrap(wt,-Math.PI,Math.PI),this._setZoom(ot.clamp(Nt,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new ot.MercatorCoordinate(ut[0],ut[1],ut[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(ut){return Math.pow(2,ut)*this.tileSize}_mercatorZfromZoom(ut){return this.cameraToCenterDistance/this._worldSizeFromZoom(ut)}_minimumHeightOverTerrain(){const ut=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(ut)}_zoomFromMercatorZ(ut){return this.scaleZoom(this.cameraToCenterDistance/(ut*this.tileSize))}zoomFromMercatorZAdjusted(ut){let ft=0,vt=ot.GLOBE_ZOOM_THRESHOLD_MAX,wt=0,Ct=1/0;for(;vt-ft>1e-6&&vt>ft;){const Dt=ft+.5*(vt-ft),zt=this.tileSize*Math.pow(2,Dt),Nt=this.getCameraToCenterDistance(this.projection,Dt,zt),Zt=this.scaleZoom(Nt/(ut*this.tileSize)),qt=Math.abs(Dt-Zt);qt<Ct&&(Ct=qt,wt=Dt),Dt<Zt?ft=Dt:vt=Dt}return wt}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(ot.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(ut,ft){const vt=Math.min(ut.x,ft.x),wt=Math.max(ut.x,ft.x),Ct=Math.min(ut.y,ft.y),Dt=Math.max(ut.y,ft.y);if(Ct<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const zt=[new ot.Point(vt,Ct),new ot.Point(wt,Dt),new ot.Point(vt,Dt),new ot.Point(wt,Ct)],Nt=this.renderWorldCopies?-3:0,Zt=this.renderWorldCopies?4:1;for(const qt of zt){const rr=this.pointRayIntersection(qt);if(rr.t<0)return!0;const pr=this.rayIntersectionCoordinate(rr);if(pr.x<Nt||pr.y<0||pr.x>Zt||pr.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+ot.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new ot.Point(0,0),new ot.Point(this.width,this.height))}zoomDeltaToMovement(ut,ft){const vt=ot.length(ot.sub([],this._camera.position,ut)),wt=this._zoomFromMercatorZ(vt)+ft;return vt-this._mercatorZfromZoom(wt)}getCameraPoint(){if(this.projection.name==="globe"){const ut=function([ft,vt,wt],Ct){const Dt=[ft,vt,wt,1];ot.transformMat4$1(Dt,Dt,Ct);const zt=Dt[3]=Math.max(Dt[3],1e-6);return Dt[0]/=zt,Dt[1]/=zt,Dt[2]/=zt,Dt}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new ot.Point(ut[0],ut[1])}{const ut=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new ot.Point(0,ut))}}getCameraToCenterDistance(ut,ft=this.zoom,vt=this.worldSize){const wt=dm(ut,ft,this.width,this.height,1024),Ct=ut.pixelSpaceConversion(this.center.lat,vt,wt);return .5/Math.tan(.5*this._fov)*this.height*Ct}getWorldToCameraMatrix(){const ut=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&ot.multiply(ut,ut,this.globeMatrix),ut}}function Gu(gt,ut){let ft=!1,vt=null;const wt=()=>{vt=null,ft&&(gt(),vt=setTimeout(wt,ut),ft=!1)};return()=>(ft=!0,vt||wt(),vt)}class w0{constructor(ut){this._hashName=ut&&encodeURIComponent(ut),ot.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Gu(this._updateHashUnthrottled.bind(this),300)}addTo(ut){return this._map=ut,ot.window.addEventListener("hashchange",this._onHashChange,!1),ut.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),ot.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const ut=this._map;if(!ut)return"";const ft=Ep(ut);if(this._hashName){const vt=this._hashName;let wt=!1;const Ct=ot.window.location.hash.slice(1).split("&").map(Dt=>{const zt=Dt.split("=")[0];return zt===vt?(wt=!0,`${zt}=${ft}`):Dt}).filter(Dt=>Dt);return wt||Ct.push(`${vt}=${ft}`),`#${Ct.join("&")}`}return`#${ft}`}_getCurrentHash(){const ut=ot.window.location.hash.replace("#","");if(this._hashName){let ft;return ut.split("&").map(vt=>vt.split("=")).forEach(vt=>{vt[0]===this._hashName&&(ft=vt)}),(ft&&ft[1]||"").split("/")}return ut.split("/")}_onHashChange(){const ut=this._map;if(!ut)return!1;const ft=this._getCurrentHash();if(ft.length>=3&&!ft.some(vt=>isNaN(vt))){const vt=ut.dragRotate.isEnabled()&&ut.touchZoomRotate.isEnabled()?+(ft[3]||0):ut.getBearing();return ut.jumpTo({center:[+ft[2],+ft[1]],zoom:+ft[0],bearing:vt,pitch:+(ft[4]||0)}),!0}return!1}_updateHashUnthrottled(){const ut=ot.window.location.href.replace(/(#.+)?$/,this.getHashString());ot.window.history.replaceState(ot.window.history.state,null,ut)}}function Ep(gt,ut){const ft=gt.getCenter(),vt=Math.round(100*gt.getZoom())/100,wt=Math.ceil((vt*Math.LN2+Math.log(512/360/.5))/Math.LN10),Ct=Math.pow(10,wt),Dt=Math.round(ft.lng*Ct)/Ct,zt=Math.round(ft.lat*Ct)/Ct,Nt=gt.getBearing(),Zt=gt.getPitch();let qt=ut?`/${Dt}/${zt}/${vt}`:`${vt}/${zt}/${Dt}`;return(Nt||Zt)&&(qt+="/"+Math.round(10*Nt)/10),Zt&&(qt+=`/${Math.round(Zt)}`),qt}const Cp={linearity:.3,easing:ot.bezier(0,0,.3,1)},pm=ot.extend({deceleration:2500,maxSpeed:1400},Cp),mm=ot.extend({deceleration:20,maxSpeed:1400},Cp),qn=ot.extend({deceleration:1e3,maxSpeed:360},Cp),Js=ot.extend({deceleration:1e3,maxSpeed:90},Cp);class Hy{constructor(ut){this._map=ut,this.clear()}clear(){this._inertiaBuffer=[]}record(ut){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:ot.exported.now(),settings:ut})}_drainInertiaBuffer(){const ut=this._inertiaBuffer,ft=ot.exported.now();for(;ut.length>0&&ft-ut[0].time>160;)ut.shift()}_onMoveEnd(ut){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const ft={zoom:0,bearing:0,pitch:0,pan:new ot.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:Ct}of this._inertiaBuffer)ft.zoom+=Ct.zoomDelta||0,ft.bearing+=Ct.bearingDelta||0,ft.pitch+=Ct.pitchDelta||0,Ct.panDelta&&ft.pan._add(Ct.panDelta),Ct.around&&(ft.around=Ct.around),Ct.pinchAround&&(ft.pinchAround=Ct.pinchAround);const vt=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,wt={};if(ft.pan.mag()){const Ct=Rp(ft.pan.mag(),vt,ot.extend({},pm,ut||{}));wt.offset=ft.pan.mult(Ct.amount/ft.pan.mag()),wt.center=this._map.transform.center,Tp(wt,Ct)}if(ft.zoom){const Ct=Rp(ft.zoom,vt,mm);wt.zoom=this._map.transform.zoom+Ct.amount,Tp(wt,Ct)}if(ft.bearing){const Ct=Rp(ft.bearing,vt,qn);wt.bearing=this._map.transform.bearing+ot.clamp(Ct.amount,-179,179),Tp(wt,Ct)}if(ft.pitch){const Ct=Rp(ft.pitch,vt,Js);wt.pitch=this._map.transform.pitch+Ct.amount,Tp(wt,Ct)}if(wt.zoom||wt.bearing){const Ct=ft.pinchAround===void 0?ft.around:ft.pinchAround;wt.around=Ct?this._map.unproject(Ct):this._map.getCenter()}return this.clear(),wt.noMoveStart=!0,wt}}function Tp(gt,ut){(!gt.duration||gt.duration<ut.duration)&&(gt.duration=ut.duration,gt.easing=ut.easing)}function Rp(gt,ut,ft){const{maxSpeed:vt,linearity:wt,deceleration:Ct}=ft,Dt=ot.clamp(gt*wt/(ut/1e3),-vt,vt),zt=Math.abs(Dt)/(Ct*wt);return{easing:ft.easing,duration:1e3*zt,amount:Dt*(zt/2)}}class _s extends ot.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(ut,ft,vt,wt={}){const Ct=Vt(ft.getCanvasContainer(),vt),Dt=ft.unproject(Ct);super(ut,ot.extend({point:Ct,lngLat:Dt,originalEvent:vt},wt)),this._defaultPrevented=!1,this.target=ft}}class Pp extends ot.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(ut,ft,vt){const wt=ut==="touchend"?vt.changedTouches:vt.touches,Ct=Ut(ft.getCanvasContainer(),wt),Dt=Ct.map(Nt=>ft.unproject(Nt)),zt=Ct.reduce((Nt,Zt,qt,rr)=>Nt.add(Zt.div(rr.length)),new ot.Point(0,0));super(ut,{points:Ct,point:zt,lngLats:Dt,lngLat:ft.unproject(zt),originalEvent:vt}),this._defaultPrevented=!1}}class gm extends ot.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(ut,ft,vt){super(ut,{originalEvent:vt}),this._defaultPrevented=!1}}class S0{constructor(ut,ft){this._map=ut,this._clickTolerance=ft.clickTolerance}reset(){this._mousedownPos=void 0}wheel(ut){return this._firePreventable(new gm(ut.type,this._map,ut))}mousedown(ut,ft){return this._mousedownPos=ft,this._firePreventable(new _s(ut.type,this._map,ut))}mouseup(ut){this._map.fire(new _s(ut.type,this._map,ut))}preclick(ut){const ft=ot.extend({},ut);ft.type="preclick",this._map.fire(new _s(ft.type,this._map,ft))}click(ut,ft){this._mousedownPos&&this._mousedownPos.dist(ft)>=this._clickTolerance||(this.preclick(ut),this._map.fire(new _s(ut.type,this._map,ut)))}dblclick(ut){return this._firePreventable(new _s(ut.type,this._map,ut))}mouseover(ut){this._map.fire(new _s(ut.type,this._map,ut))}mouseout(ut){this._map.fire(new _s(ut.type,this._map,ut))}touchstart(ut){return this._firePreventable(new Pp(ut.type,this._map,ut))}touchmove(ut){this._map.fire(new Pp(ut.type,this._map,ut))}touchend(ut){this._map.fire(new Pp(ut.type,this._map,ut))}touchcancel(ut){this._map.fire(new Pp(ut.type,this._map,ut))}_firePreventable(ut){if(this._map.fire(ut),ut.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ym{constructor(ut){this._map=ut}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(ut){this._map.fire(new _s(ut.type,this._map,ut))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new _s("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(ut){this._delayContextMenu?this._contextMenuEvent=ut:this._map.fire(new _s(ut.type,this._map,ut)),this._map.listens("contextmenu")&&ut.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class qy{constructor(ut,ft){this._map=ut,this._el=ut.getCanvasContainer(),this._container=ut.getContainer(),this._clickTolerance=ft.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(ut,ft){this.isEnabled()&&ut.shiftKey&&ut.button===0&&(Pt(),this._startPos=this._lastPos=ft,this._active=!0)}mousemoveWindow(ut,ft){if(!this._active)return;const vt=ft,wt=this._startPos,Ct=this._lastPos;if(!wt||!Ct||Ct.equals(vt)||!this._box&&vt.dist(wt)<this._clickTolerance)return;this._lastPos=vt,this._box||(this._box=Tt("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",ut));const Dt=Math.min(wt.x,vt.x),zt=Math.max(wt.x,vt.x),Nt=Math.min(wt.y,vt.y),Zt=Math.max(wt.y,vt.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${Dt}px,${Nt}px)`,this._box.style.width=zt-Dt+"px",this._box.style.height=Zt-Nt+"px")})}mouseupWindow(ut,ft){if(!this._active)return;const vt=this._startPos,wt=ft;if(vt&&ut.button===0){if(this.reset(),Ot(),vt.x!==wt.x||vt.y!==wt.y)return this._map.fire(new ot.Event("boxzoomend",{originalEvent:ut})),{cameraAnimation:Ct=>Ct.fitScreenCoordinates(vt,wt,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",ut)}}keydown(ut){this._active&&ut.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",ut))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),$t(),delete this._startPos,delete this._lastPos}_fireEvent(ut,ft){return this._map.fire(new ot.Event(ut,{originalEvent:ft}))}}function vm(gt,ut){const ft={};for(let vt=0;vt<gt.length;vt++)ft[gt[vt].identifier]=ut[vt];return ft}class Wu{constructor(ut){this.reset(),this.numTouches=ut.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(ut,ft,vt){(this.centroid||vt.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=ut.timeStamp),vt.length===this.numTouches&&(this.centroid=function(wt){const Ct=new ot.Point(0,0);for(const Dt of wt)Ct._add(Dt);return Ct.div(wt.length)}(ft),this.touches=vm(vt,ft)))}touchmove(ut,ft,vt){if(this.aborted||!this.centroid)return;const wt=vm(vt,ft);for(const Ct in this.touches){const Dt=wt[Ct];(!Dt||Dt.dist(this.touches[Ct])>30)&&(this.aborted=!0)}}touchend(ut,ft,vt){if((!this.centroid||ut.timeStamp-this.startTime>500)&&(this.aborted=!0),vt.length===0){const wt=!this.aborted&&this.centroid;if(this.reset(),wt)return wt}}}class E0{constructor(ut){this.singleTap=new Wu(ut),this.numTaps=ut.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(ut,ft,vt){this.singleTap.touchstart(ut,ft,vt)}touchmove(ut,ft,vt){this.singleTap.touchmove(ut,ft,vt)}touchend(ut,ft,vt){const wt=this.singleTap.touchend(ut,ft,vt);if(wt){const Ct=ut.timeStamp-this.lastTime<500,Dt=!this.lastTap||this.lastTap.dist(wt)<30;if(Ct&&Dt||this.reset(),this.count++,this.lastTime=ut.timeStamp,this.lastTap=wt,this.count===this.numTaps)return this.reset(),wt}}}class ov{constructor(){this._zoomIn=new E0({numTouches:1,numTaps:2}),this._zoomOut=new E0({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(ut,ft,vt){this._zoomIn.touchstart(ut,ft,vt),this._zoomOut.touchstart(ut,ft,vt)}touchmove(ut,ft,vt){this._zoomIn.touchmove(ut,ft,vt),this._zoomOut.touchmove(ut,ft,vt)}touchend(ut,ft,vt){const wt=this._zoomIn.touchend(ut,ft,vt),Ct=this._zoomOut.touchend(ut,ft,vt);return wt?(this._active=!0,ut.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:Dt=>Dt.easeTo({duration:300,zoom:Dt.getZoom()+1,around:Dt.unproject(wt)},{originalEvent:ut})}):Ct?(this._active=!0,ut.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:Dt=>Dt.easeTo({duration:300,zoom:Dt.getZoom()-1,around:Dt.unproject(Ct)},{originalEvent:ut})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Zy={0:1,2:2};class Hu{constructor(ut){this.reset(),this._clickTolerance=ut.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(ut,ft){return!1}_move(ut,ft){return{}}mousedown(ut,ft){if(this._lastPoint)return;const vt=Wt(ut);this._correctButton(ut,vt)&&(this._lastPoint=ft,this._eventButton=vt)}mousemoveWindow(ut,ft){const vt=this._lastPoint;if(vt){if(ut.preventDefault(),this._eventButton!=null&&function(wt,Ct){const Dt=Zy[Ct];return wt.buttons===void 0||(wt.buttons&Dt)!==Dt}(ut,this._eventButton))this.reset();else if(this._moved||!(ft.dist(vt)<this._clickTolerance))return this._moved=!0,this._lastPoint=ft,this._move(vt,ft)}}mouseupWindow(ut){this._lastPoint&&Wt(ut)===this._eventButton&&(this._moved&&Ot(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class C0 extends Hu{mousedown(ut,ft){super.mousedown(ut,ft),this._lastPoint&&(this._active=!0)}_correctButton(ut,ft){return ft===0&&!ut.ctrlKey}_move(ut,ft){return{around:ft,panDelta:ft.sub(ut)}}}class T0 extends Hu{_correctButton(ut,ft){return ft===0&&ut.ctrlKey||ft===2}_move(ut,ft){const vt=.8*(ft.x-ut.x);if(vt)return this._active=!0,{bearingDelta:vt}}contextmenu(ut){ut.preventDefault()}}class R0 extends Hu{_correctButton(ut,ft){return ft===0&&ut.ctrlKey||ft===2}_move(ut,ft){const vt=-.5*(ft.y-ut.y);if(vt)return this._active=!0,{pitchDelta:vt}}contextmenu(ut){ut.preventDefault()}}class _m{constructor(ut,ft){this._map=ut,this._el=ut.getCanvasContainer(),this._minTouches=1,this._clickTolerance=ft.clickTolerance||1,this.reset(),ot.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new ot.Point(0,0)}touchstart(ut,ft,vt){return this._calculateTransform(ut,ft,vt)}touchmove(ut,ft,vt){if(this._active&&!(vt.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(vt.length===1&&!ot.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return ut.cancelable&&ut.preventDefault(),this._calculateTransform(ut,ft,vt)}}touchend(ut,ft,vt){this._calculateTransform(ut,ft,vt),this._active&&vt.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(ut,ft,vt){vt.length>0&&(this._active=!0);const wt=vm(vt,ft),Ct=new ot.Point(0,0),Dt=new ot.Point(0,0);let zt=0;for(const Zt in wt){const qt=wt[Zt],rr=this._touches[Zt];rr&&(Ct._add(qt),Dt._add(qt.sub(rr)),zt++,wt[Zt]=qt)}if(this._touches=wt,zt<this._minTouches||!Dt.mag())return;const Nt=Dt.div(zt);return this._sum._add(Nt),this._sum.mag()<this._clickTolerance?void 0:{around:Ct.div(zt),panDelta:Nt}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=Tt("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Ap{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(ut){}_move(ut,ft,vt){return{}}touchstart(ut,ft,vt){this._firstTwoTouches||vt.length<2||(this._firstTwoTouches=[vt[0].identifier,vt[1].identifier],this._start([ft[0],ft[1]]))}touchmove(ut,ft,vt){const wt=this._firstTwoTouches;if(!wt)return;ut.preventDefault();const[Ct,Dt]=wt,zt=Mp(vt,ft,Ct),Nt=Mp(vt,ft,Dt);if(!zt||!Nt)return;const Zt=this._aroundCenter?null:zt.add(Nt).div(2);return this._move([zt,Nt],Zt,ut)}touchend(ut,ft,vt){if(!this._firstTwoTouches)return;const[wt,Ct]=this._firstTwoTouches,Dt=Mp(vt,ft,wt),zt=Mp(vt,ft,Ct);Dt&&zt||(this._active&&Ot(),this.reset())}touchcancel(){this.reset()}enable(ut){this._enabled=!0,this._aroundCenter=!!ut&&ut.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Mp(gt,ut,ft){for(let vt=0;vt<gt.length;vt++)if(gt[vt].identifier===ft)return ut[vt]}function P0(gt,ut){return Math.log(gt/ut)/Math.LN2}class Ky extends Ap{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(ut){this._startDistance=this._distance=ut[0].dist(ut[1])}_move(ut,ft){const vt=this._distance;if(this._distance=ut[0].dist(ut[1]),this._active||!(Math.abs(P0(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:P0(this._distance,vt),pinchAround:ft}}}function A0(gt,ut){return 180*gt.angleWith(ut)/Math.PI}class Xy extends Ap{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(ut){this._startVector=this._vector=ut[0].sub(ut[1]),this._minDiameter=ut[0].dist(ut[1])}_move(ut,ft){const vt=this._vector;if(this._vector=ut[0].sub(ut[1]),vt&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:A0(this._vector,vt),pinchAround:ft}}_isBelowThreshold(ut){this._minDiameter=Math.min(this._minDiameter,ut.mag());const ft=25/(Math.PI*this._minDiameter)*360,vt=this._startVector;if(!vt)return!1;const wt=A0(ut,vt);return Math.abs(wt)<ft}}function nu(gt){return Math.abs(gt.y)>Math.abs(gt.x)}class Yy extends Ap{constructor(ut){super(),this._map=ut}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(ut){this._lastPoints=ut,nu(ut[0].sub(ut[1]))&&(this._valid=!1)}_move(ut,ft,vt){const wt=this._lastPoints;if(!wt)return;const Ct=ut[0].sub(wt[0]),Dt=ut[1].sub(wt[1]);return this._map._cooperativeGestures&&!ot.isFullscreen()&&vt.touches.length<3||(this._valid=this.gestureBeginsVertically(Ct,Dt,vt.timeStamp),!this._valid)?void 0:(this._lastPoints=ut,this._active=!0,{pitchDelta:(Ct.y+Dt.y)/2*-.5})}gestureBeginsVertically(ut,ft,vt){if(this._valid!==void 0)return this._valid;const wt=ut.mag()>=2,Ct=ft.mag()>=2;if(!wt&&!Ct)return;if(!wt||!Ct)return this._firstMove==null&&(this._firstMove=vt),vt-this._firstMove<100&&void 0;const Dt=ut.y>0==ft.y>0;return nu(ut)&&nu(ft)&&Dt}}const Qy={panStep:100,bearingStep:15,pitchStep:10};class av{constructor(){const ut=Qy;this._panStep=ut.panStep,this._bearingStep=ut.bearingStep,this._pitchStep=ut.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(ut){if(ut.altKey||ut.ctrlKey||ut.metaKey)return;let ft=0,vt=0,wt=0,Ct=0,Dt=0;switch(ut.keyCode){case 61:case 107:case 171:case 187:ft=1;break;case 189:case 109:case 173:ft=-1;break;case 37:ut.shiftKey?vt=-1:(ut.preventDefault(),Ct=-1);break;case 39:ut.shiftKey?vt=1:(ut.preventDefault(),Ct=1);break;case 38:ut.shiftKey?wt=1:(ut.preventDefault(),Dt=-1);break;case 40:ut.shiftKey?wt=-1:(ut.preventDefault(),Dt=1);break;default:return}return this._rotationDisabled&&(vt=0,wt=0),{cameraAnimation:zt=>{const Nt=zt.getZoom();zt.easeTo({duration:300,easeId:"keyboardHandler",easing:Jy,zoom:ft?Math.round(Nt)+ft*(ut.shiftKey?2:1):Nt,bearing:zt.getBearing()+vt*this._bearingStep,pitch:zt.getPitch()+wt*this._pitchStep,offset:[-Ct*this._panStep,-Dt*this._panStep],center:zt.getCenter()},{originalEvent:ut})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Jy(gt){return gt*(2-gt)}const M0=4.000244140625;class e1{constructor(ut,ft){this._map=ut,this._el=ut.getCanvasContainer(),this._handler=ft,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,ot.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(ut){this._defaultZoomRate=ut}setWheelZoomRate(ut){this._wheelZoomRate=ut}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(ut){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!ut&&ut.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(ut){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(ut.ctrlKey||ut.metaKey||this.isZooming()||ot.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let ft=ut.deltaMode===ot.window.WheelEvent.DOM_DELTA_LINE?40*ut.deltaY:ut.deltaY;const vt=ot.exported.now(),wt=vt-(this._lastWheelEventTime||0);this._lastWheelEventTime=vt,ft!==0&&ft%M0==0?this._type="wheel":ft!==0&&Math.abs(ft)<4?this._type="trackpad":wt>400?(this._type=null,this._lastValue=ft,this._timeout=setTimeout(this._onTimeout,40,ut)):this._type||(this._type=Math.abs(wt*ft)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ft+=this._lastValue)),ut.shiftKey&&ft&&(ft/=4),this._type&&(this._lastWheelEvent=ut,this._delta-=ft,this._active||this._start(ut)),ut.preventDefault()}_onTimeout(ut){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(ut)}_start(ut){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const ft=Vt(this._el,ut);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:ft,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const ut=this._map.transform;this._type==="wheel"&&ut.projection.wrap&&(ut._center.lng>=180||ut._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const ft=()=>ut._terrainEnabled()&&this._aroundCoord?ut.computeZoomRelativeTo(this._aroundCoord):ut.zoom;if(this._delta!==0){const Nt=this._type==="wheel"&&Math.abs(this._delta)>M0?this._wheelZoomRate:this._defaultZoomRate;let Zt=2/(1+Math.exp(-Math.abs(this._delta*Nt)));this._delta<0&&Zt!==0&&(Zt=1/Zt);const qt=ft(),rr=Math.pow(2,qt),pr=typeof this._targetZoom=="number"?ut.zoomScale(this._targetZoom):rr;this._targetZoom=Math.min(ut.maxZoom,Math.max(ut.minZoom,ut.scaleZoom(pr*Zt))),this._type==="wheel"&&(this._startZoom=qt,this._easing=this._smoothOutEasing(200)),this._delta=0}const vt=typeof this._targetZoom=="number"?this._targetZoom:ft(),wt=this._startZoom,Ct=this._easing;let Dt,zt=!1;if(this._type==="wheel"&&wt&&Ct){const Nt=Math.min((ot.exported.now()-this._lastWheelEventTime)/200,1),Zt=Ct(Nt);Dt=ot.number(wt,vt,Zt),Nt<1?this._frameId||(this._frameId=!0):zt=!0}else Dt=vt,zt=!0;return this._active=!0,zt&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!zt,zoomDelta:Dt-ft(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(ut){let ft=ot.ease;if(this._prevEase){const vt=this._prevEase,wt=(ot.exported.now()-vt.start)/vt.duration,Ct=vt.easing(wt+.01)-vt.easing(wt),Dt=.27/Math.sqrt(Ct*Ct+1e-4)*.01,zt=Math.sqrt(.0729-Dt*Dt);ft=ot.bezier(Dt,zt,.25,1)}return this._prevEase={start:ot.exported.now(),duration:ut,easing:ft},ft}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=Tt("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(ot.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class t1{constructor(ut,ft){this._clickZoom=ut,this._tapZoom=ft}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Rs{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(ut,ft){return ut.preventDefault(),{cameraAnimation:vt=>{vt.easeTo({duration:300,zoom:vt.getZoom()+(ut.shiftKey?-1:1),around:vt.unproject(ft)},{originalEvent:ut})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class sv{constructor(){this._tap=new E0({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(ut,ft,vt){this._swipePoint||(this._tapTime&&ut.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?vt.length>0&&(this._swipePoint=ft[0],this._swipeTouch=vt[0].identifier):this._tap.touchstart(ut,ft,vt))}touchmove(ut,ft,vt){if(this._tapTime){if(this._swipePoint){if(vt[0].identifier!==this._swipeTouch)return;const wt=ft[0],Ct=wt.y-this._swipePoint.y;return this._swipePoint=wt,ut.preventDefault(),this._active=!0,{zoomDelta:Ct/128}}}else this._tap.touchmove(ut,ft,vt)}touchend(ut,ft,vt){this._tapTime?this._swipePoint&&vt.length===0&&this.reset():this._tap.touchend(ut,ft,vt)&&(this._tapTime=ut.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class r1{constructor(ut,ft,vt){this._el=ut,this._mousePan=ft,this._touchPan=vt}enable(ut){this._inertiaOptions=ut||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class lv{constructor(ut,ft,vt){this._pitchWithRotate=ut.pitchWithRotate,this._mouseRotate=ft,this._mousePitch=vt}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class cv{constructor(ut,ft,vt,wt){this._el=ut,this._touchZoom=ft,this._touchRotate=vt,this._tapDragZoom=wt,this._rotationDisabled=!1,this._enabled=!0}enable(ut){this._touchZoom.enable(ut),this._rotationDisabled||this._touchRotate.enable(ut),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Hs=gt=>gt.zoom||gt.drag||gt.pitch||gt.rotate;class n1 extends ot.Event{}class uv{constructor(){this.constants=[1,1,.01],this.radius=0}setup(ut,ft){const vt=ot.sub([],ft,ut);this.radius=ot.length(vt[2]<0?ot.div([],vt,this.constants):[vt[0],vt[1],0])}projectRay(ut){ot.div(ut,ut,this.constants),ot.normalize(ut,ut),ot.mul$1(ut,ut,this.constants);const ft=ot.scale$2([],ut,this.radius);if(ft[2]>0){const vt=ot.scale$2([],[0,0,1],ot.dot(ft,[0,0,1])),wt=ot.scale$2([],ot.normalize([],[ft[0],ft[1],0]),this.radius),Ct=ot.add([],ft,ot.scale$2([],ot.sub([],ot.add([],wt,vt),ft),2));ft[0]=Ct[0],ft[1]=Ct[1]}return ft}}function yl(gt){return gt.panDelta&&gt.panDelta.mag()||gt.zoomDelta||gt.bearingDelta||gt.pitchDelta}class Pl{constructor(ut,ft){this._map=ut,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Hy(ut),this._bearingSnap=ft.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new uv,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(ft),ot.bindAll(["handleEvent","handleWindowEvent"],this);const vt=this._el;this._listeners=[[vt,"touchstart",{passive:!0}],[vt,"touchmove",{passive:!1}],[vt,"touchend",void 0],[vt,"touchcancel",void 0],[vt,"mousedown",void 0],[vt,"mousemove",void 0],[vt,"mouseup",void 0],[ot.window.document,"mousemove",{capture:!0}],[ot.window.document,"mouseup",void 0],[vt,"mouseover",void 0],[vt,"mouseout",void 0],[vt,"dblclick",void 0],[vt,"click",void 0],[vt,"keydown",{capture:!1}],[vt,"keyup",void 0],[vt,"wheel",{passive:!1}],[vt,"contextmenu",void 0],[ot.window,"blur",void 0]];for(const[wt,Ct,Dt]of this._listeners)wt.addEventListener(Ct,wt===ot.window.document?this.handleWindowEvent:this.handleEvent,Dt)}destroy(){for(const[ut,ft,vt]of this._listeners)ut.removeEventListener(ft,ut===ot.window.document?this.handleWindowEvent:this.handleEvent,vt)}_addDefaultHandlers(ut){const ft=this._map,vt=ft.getCanvasContainer();this._add("mapEvent",new S0(ft,ut));const wt=ft.boxZoom=new qy(ft,ut);this._add("boxZoom",wt);const Ct=new ov,Dt=new Rs;ft.doubleClickZoom=new t1(Dt,Ct),this._add("tapZoom",Ct),this._add("clickZoom",Dt);const zt=new sv;this._add("tapDragZoom",zt);const Nt=ft.touchPitch=new Yy(ft);this._add("touchPitch",Nt);const Zt=new T0(ut),qt=new R0(ut);ft.dragRotate=new lv(ut,Zt,qt),this._add("mouseRotate",Zt,["mousePitch"]),this._add("mousePitch",qt,["mouseRotate"]);const rr=new C0(ut),pr=new _m(ft,ut);ft.dragPan=new r1(vt,rr,pr),this._add("mousePan",rr),this._add("touchPan",pr,["touchZoom","touchRotate"]);const xr=new Xy,wr=new Ky;ft.touchZoomRotate=new cv(vt,wr,xr,zt),this._add("touchRotate",xr,["touchPan","touchZoom"]),this._add("touchZoom",wr,["touchPan","touchRotate"]),this._add("blockableMapEvent",new ym(ft));const br=ft.scrollZoom=new e1(ft,this);this._add("scrollZoom",br,["mousePan"]);const Pr=ft.keyboard=new av;this._add("keyboard",Pr);for(const ir of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])ut.interactive&&ut[ir]&&ft[ir].enable(ut[ir])}_add(ut,ft,vt){this._handlers.push({handlerName:ut,handler:ft,allowed:vt}),this._handlersById[ut]=ft}stop(ut){if(!this._updatingCamera){for(const{handler:ft}of this._handlers)ft.reset();this._inertia.clear(),this._fireEvents({},{},ut),this._changes=[]}}isActive(){for(const{handler:ut}of this._handlers)if(ut.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Hs(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(ut,ft,vt){for(const wt in ut)if(wt!==vt&&(!ft||ft.indexOf(wt)<0))return!0;return!1}handleWindowEvent(ut){this.handleEvent(ut,`${ut.type}Window`)}_getMapTouches(ut){const ft=[];for(const vt of ut)this._el.contains(vt.target)&&ft.push(vt);return ft}handleEvent(ut,ft){this._updatingCamera=!0;const vt=ut.type==="renderFrame",wt=vt?void 0:ut,Ct={needsRenderFrame:!1},Dt={},zt={},Nt=ut.touches?this._getMapTouches(ut.touches):void 0,Zt=Nt?Ut(this._el,Nt):vt?void 0:Vt(this._el,ut);for(const{handlerName:pr,handler:xr,allowed:wr}of this._handlers){if(!xr.isEnabled())continue;let br;this._blockedByActive(zt,wr,pr)?xr.reset():xr[ft||ut.type]&&(br=xr[ft||ut.type](ut,Zt,Nt),this.mergeHandlerResult(Ct,Dt,br,pr,wt),br&&br.needsRenderFrame&&this._triggerRenderFrame()),(br||xr.isActive())&&(zt[pr]=xr)}const qt={};for(const pr in this._previousActiveHandlers)zt[pr]||(qt[pr]=wt);this._previousActiveHandlers=zt,(Object.keys(qt).length||yl(Ct))&&(this._changes.push([Ct,Dt,qt]),this._triggerRenderFrame()),(Object.keys(zt).length||yl(Ct))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:rr}=Ct;rr&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],rr(this._map))}mergeHandlerResult(ut,ft,vt,wt,Ct){if(!vt)return;ot.extend(ut,vt);const Dt={handlerName:wt,originalEvent:vt.originalEvent||Ct};vt.zoomDelta!==void 0&&(ft.zoom=Dt),vt.panDelta!==void 0&&(ft.drag=Dt),vt.pitchDelta!==void 0&&(ft.pitch=Dt),vt.bearingDelta!==void 0&&(ft.rotate=Dt)}_applyChanges(){const ut={},ft={},vt={};for(const[wt,Ct,Dt]of this._changes)wt.panDelta&&(ut.panDelta=(ut.panDelta||new ot.Point(0,0))._add(wt.panDelta)),wt.zoomDelta&&(ut.zoomDelta=(ut.zoomDelta||0)+wt.zoomDelta),wt.bearingDelta&&(ut.bearingDelta=(ut.bearingDelta||0)+wt.bearingDelta),wt.pitchDelta&&(ut.pitchDelta=(ut.pitchDelta||0)+wt.pitchDelta),wt.around!==void 0&&(ut.around=wt.around),wt.aroundCoord!==void 0&&(ut.aroundCoord=wt.aroundCoord),wt.pinchAround!==void 0&&(ut.pinchAround=wt.pinchAround),wt.noInertia&&(ut.noInertia=wt.noInertia),ot.extend(ft,Ct),ot.extend(vt,Dt);this._updateMapTransform(ut,ft,vt),this._changes=[]}_updateMapTransform(ut,ft,vt){const wt=this._map,Ct=wt.transform,Dt=_r=>[_r.x,_r.y,_r.z];if((_r=>{const $r=this._eventsInProgress.drag;return $r&&!this._handlersById[$r.handlerName].isActive()})()&&!yl(ut)){const _r=Ct.zoom;Ct.cameraElevationReference="sea",Ct.recenterOnTerrain(),Ct.cameraElevationReference="ground",_r!==Ct.zoom&&this._map._update(!0)}if(Ct._isCameraConstrained&&wt._stop(!0),!yl(ut))return void this._fireEvents(ft,vt,!0);let{panDelta:zt,zoomDelta:Nt,bearingDelta:Zt,pitchDelta:qt,around:rr,aroundCoord:pr,pinchAround:xr}=ut;Ct._isCameraConstrained&&(Nt>0&&(Nt=0),Ct._isCameraConstrained=!1),xr!==void 0&&(rr=xr),(Nt||(_r=>ft[_r]&&!this._eventsInProgress[_r])("drag"))&&rr&&(this._dragOrigin=Dt(Ct.pointCoordinate3D(rr)),this._trackingEllipsoid.setup(Ct._camera.position,this._dragOrigin)),Ct.cameraElevationReference="sea",wt._stop(!0),rr=rr||wt.transform.centerPoint,Zt&&(Ct.bearing+=Zt),qt&&(Ct.pitch+=qt),Ct._updateCameraState();const wr=[0,0,0];if(zt)if(Ct.projection.name==="mercator"){const _r=this._trackingEllipsoid.projectRay(Ct.screenPointToMercatorRay(rr).dir),$r=this._trackingEllipsoid.projectRay(Ct.screenPointToMercatorRay(rr.sub(zt)).dir);wr[0]=$r[0]-_r[0],wr[1]=$r[1]-_r[1]}else{const _r=Ct.pointCoordinate(rr);if(Ct.projection.name==="globe"){zt=zt.rotate(-Ct.angle);const $r=Ct._pixelsPerMercatorPixel/Ct.worldSize;wr[0]=-zt.x*ot.mercatorScale(ot.latFromMercatorY(_r.y))*$r,wr[1]=-zt.y*ot.mercatorScale(Ct.center.lat)*$r}else{const $r=Ct.pointCoordinate(rr.sub(zt));_r&&$r&&(wr[0]=$r.x-_r.x,wr[1]=$r.y-_r.y)}}const br=Ct.zoom,Pr=[0,0,0];if(Nt){const _r=Dt(pr||Ct.pointCoordinate3D(rr)),$r={dir:ot.normalize([],ot.sub([],_r,Ct._camera.position))};if($r.dir[2]<0){const Ir=Ct.zoomDeltaToMovement(_r,Nt);ot.scale$2(Pr,$r.dir,Ir)}}const ir=ot.add(wr,wr,Pr);Ct._translateCameraConstrained(ir),Nt&&Math.abs(Ct.zoom-br)>1e-4&&Ct.recenterOnTerrain(),Ct.cameraElevationReference="ground",this._map._update(),ut.noInertia||this._inertia.record(ut),this._fireEvents(ft,vt,!0)}_fireEvents(ut,ft,vt){const wt=Hs(this._eventsInProgress),Ct=Hs(ut),Dt={};for(const qt in ut){const{originalEvent:rr}=ut[qt];this._eventsInProgress[qt]||(Dt[`${qt}start`]=rr),this._eventsInProgress[qt]=ut[qt]}!wt&&Ct&&this._fireEvent("movestart",Ct.originalEvent);for(const qt in Dt)this._fireEvent(qt,Dt[qt]);Ct&&this._fireEvent("move",Ct.originalEvent);for(const qt in ut){const{originalEvent:rr}=ut[qt];this._fireEvent(qt,rr)}const zt={};let Nt;for(const qt in this._eventsInProgress){const{handlerName:rr,originalEvent:pr}=this._eventsInProgress[qt];this._handlersById[rr].isActive()||(delete this._eventsInProgress[qt],Nt=ft[rr]||pr,zt[`${qt}end`]=Nt)}for(const qt in zt)this._fireEvent(qt,zt[qt]);const Zt=Hs(this._eventsInProgress);if(vt&&(wt||Ct)&&!Zt){this._updatingCamera=!0;const qt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),rr=pr=>pr!==0&&-this._bearingSnap<pr&&pr<this._bearingSnap;qt?(rr(qt.bearing||this._map.getBearing())&&(qt.bearing=0),this._map.easeTo(qt,{originalEvent:Nt})):(this._map.fire(new ot.Event("moveend",{originalEvent:Nt})),rr(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(ut,ft){this._map.fire(new ot.Event(ut,ft?{originalEvent:ft}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(ut=>{this._frameId=void 0,this.handleEvent(new n1("renderFrame",{timeStamp:ut})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const xu="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class xm extends ot.Evented{constructor(ut,ft){super(),this._moving=!1,this._zooming=!1,this.transform=ut,this._bearingSnap=ft.bearingSnap,this._respectPrefersReducedMotion=ft.respectPrefersReducedMotion!==!1,ot.bindAll(["_renderFrameCallback"],this)}getCenter(){return new ot.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(ut,ft){return this.jumpTo({center:ut},ft)}panBy(ut,ft,vt){return ut=ot.Point.convert(ut).mult(-1),this.panTo(this.transform.center,ot.extend({offset:ut},ft),vt)}panTo(ut,ft,vt){return this.easeTo(ot.extend({center:ut},ft),vt)}getZoom(){return this.transform.zoom}setZoom(ut,ft){return this.jumpTo({zoom:ut},ft),this}zoomTo(ut,ft,vt){return this.easeTo(ot.extend({zoom:ut},ft),vt)}zoomIn(ut,ft){return this.zoomTo(this.getZoom()+1,ut,ft),this}zoomOut(ut,ft){return this.zoomTo(this.getZoom()-1,ut,ft),this}getBearing(){return this.transform.bearing}setBearing(ut,ft){return this.jumpTo({bearing:ut},ft),this}getPadding(){return this.transform.padding}setPadding(ut,ft){return this.jumpTo({padding:ut},ft),this}rotateTo(ut,ft,vt){return this.easeTo(ot.extend({bearing:ut},ft),vt)}resetNorth(ut,ft){return this.rotateTo(0,ot.extend({duration:1e3},ut),ft),this}resetNorthPitch(ut,ft){return this.easeTo(ot.extend({bearing:0,pitch:0,duration:1e3},ut),ft),this}snapToNorth(ut,ft){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ut,ft):this}getPitch(){return this.transform.pitch}setPitch(ut,ft){return this.jumpTo({pitch:ut},ft),this}cameraForBounds(ut,ft){ut=ot.LngLatBounds.convert(ut);const vt=ft&&ft.bearing||0,wt=ft&&ft.pitch||0,Ct=ut.getNorthWest(),Dt=ut.getSouthEast();return this._cameraForBounds(this.transform,Ct,Dt,vt,wt,ft)}_extendCameraOptions(ut){const ft={top:0,bottom:0,right:0,left:0};if(typeof(ut=ot.extend({padding:ft,offset:[0,0],maxZoom:this.transform.maxZoom},ut)).padding=="number"){const vt=ut.padding;ut.padding={top:vt,bottom:vt,right:vt,left:vt}}return ut.padding=ot.extend(ft,ut.padding),ut}_minimumAABBFrustumDistance(ut,ft){const vt=ft.max[0]-ft.min[0],wt=ft.max[1]-ft.min[1];return vt/wt>ut.aspect?vt/(2*Math.tan(.5*ut.fovX)*ut.aspect):wt/(2*Math.tan(.5*ut.fovY)*ut.aspect)}_cameraForBoundsOnGlobe(ut,ft,vt,wt,Ct,Dt){const zt=ut.clone(),Nt=this._extendCameraOptions(Dt);zt.bearing=wt,zt.pitch=Ct;const Zt=ot.LngLat.convert(ft),qt=ot.LngLat.convert(vt),rr=.5*(Zt.lat+qt.lat),pr=.5*(Zt.lng+qt.lng),xr=ot.latLngToECEF(rr,pr),wr=ot.normalize([],xr),br=ot.normalize([],ot.cross([],wr,[0,1,0])),Pr=ot.cross([],br,wr),ir=[br[0],br[1],br[2],0,Pr[0],Pr[1],Pr[2],0,wr[0],wr[1],wr[2],0,0,0,0,1],_r=[xr,ot.latLngToECEF(Zt.lat,Zt.lng),ot.latLngToECEF(qt.lat,Zt.lng),ot.latLngToECEF(qt.lat,qt.lng),ot.latLngToECEF(Zt.lat,qt.lng),ot.latLngToECEF(rr,Zt.lng),ot.latLngToECEF(rr,qt.lng),ot.latLngToECEF(Zt.lat,pr),ot.latLngToECEF(qt.lat,pr)];let $r=ot.Aabb.fromPoints(_r.map(An=>[ot.dot(br,An),ot.dot(Pr,An),ot.dot(wr,An)]));const Ir=ot.transformMat4([],$r.center,ir);ot.squaredLength(Ir)===0&&ot.set(Ir,0,0,1),ot.normalize(Ir,Ir),ot.scale$2(Ir,Ir,ot.GLOBE_RADIUS),zt.center=ot.ecefToLatLng(Ir);const Vr=zt.getWorldToCameraMatrix(),Wr=ot.invert(new Float64Array(16),Vr);$r=ot.Aabb.applyTransform($r,ot.multiply([],Vr,ir)),ot.transformMat4(Ir,Ir,Vr);const Gr=.5*($r.max[2]-$r.min[2]),Jr=this._minimumAABBFrustumDistance(zt,$r),Yr=ot.scale$2([],[0,0,1],Gr),an=ot.add(Yr,Ir,Yr),In=Jr+(zt.pitch===0?0:ot.distance(Ir,an)),rn=zt.globeCenterInViewSpace,Sn=ot.sub([],Ir,[rn[0],rn[1],rn[2]]);ot.normalize(Sn,Sn),ot.scale$2(Sn,Sn,In);const un=ot.add([],Ir,Sn);ot.transformMat4(un,un,Wr);const $n=ot.earthRadius/ot.GLOBE_RADIUS,on=ot.length(un),wn=ot.mercatorZfromAltitude(Math.max(on*$n-ot.earthRadius,Number.EPSILON),0),Dn=Math.min(zt.zoomFromMercatorZAdjusted(wn),Nt.maxZoom);return Dn>.5*(ot.GLOBE_ZOOM_THRESHOLD_MIN+ot.GLOBE_ZOOM_THRESHOLD_MAX)?(zt.setProjection({name:"mercator"}),zt.zoom=Dn,this._cameraForBounds(zt,ft,vt,wt,Ct,Dt)):{center:zt.center,zoom:Dn,bearing:wt,pitch:Ct}}queryTerrainElevation(ut,ft){const vt=this.transform.elevation;return vt?(ft=ot.extend({},{exaggerated:!0},ft),vt.getAtPoint(ot.MercatorCoordinate.fromLngLat(ut),null,ft.exaggerated)):null}_cameraForBounds(ut,ft,vt,wt,Ct,Dt){if(ut.projection.name==="globe")return this._cameraForBoundsOnGlobe(ut,ft,vt,wt,Ct,Dt);const zt=ut.clone(),Nt=this._extendCameraOptions(Dt),Zt=zt.padding;zt.bearing=wt,zt.pitch=Ct;const qt=ot.LngLat.convert(ft),rr=ot.LngLat.convert(vt),pr=new ot.LngLat(qt.lng,rr.lat),xr=new ot.LngLat(rr.lng,qt.lat),wr=zt.project(qt),br=zt.project(rr),Pr=this.queryTerrainElevation(qt),ir=this.queryTerrainElevation(rr),_r=this.queryTerrainElevation(pr),$r=this.queryTerrainElevation(xr),Ir=[[wr.x,wr.y,Math.min(Pr||0,ir||0,_r||0,$r||0)],[br.x,br.y,Math.max(Pr||0,ir||0,_r||0,$r||0)]];let Vr=ot.Aabb.fromPoints(Ir);const Wr=zt.getWorldToCameraMatrix(),Gr=ot.invert(new Float64Array(16),Wr);Vr=ot.Aabb.applyTransform(Vr,Wr);const Jr=ot.sub([],Vr.max,Vr.min),Yr=Zt.left||0,an=Zt.right||0,In=Zt.bottom||0,rn=Zt.top||0,{left:Sn,right:un,top:$n,bottom:on}=Nt.padding,wn=.5*(Yr+an),Dn=.5*(rn+In),An=Math.min(zt.scaleZoom(zt.scale*Math.min((zt.width-(Yr+an+Sn+un))/Jr[0],(zt.height-(In+rn+on+$n))/Jr[1])),Nt.maxZoom),On=zt.scale/zt.zoomScale(An);Vr=new ot.Aabb([Vr.min[0]-(Sn+wn)*On,Vr.min[1]-(on+Dn)*On,Vr.min[2]],[Vr.max[0]+(un+wn)*On,Vr.max[1]+($n+Dn)*On,Vr.max[2]]);const oo=.5*Jr[2],go=this._minimumAABBFrustumDistance(zt,Vr),Qn=[0,0,1,0];ot.transformMat4$1(Qn,Qn,Wr),ot.normalize$2(Qn,Qn);const uo=ot.scale$2([],Qn,go+oo),Ao=ot.add([],Vr.center,uo),To=(typeof Nt.offset.x=="number"&&typeof Nt.offset.y=="number"?new ot.Point(Nt.offset.x,Nt.offset.y):ot.Point.convert(Nt.offset)).rotate(-ot.degToRad(wt));Vr.center[0]-=To.x*On,Vr.center[1]+=To.y*On,ot.transformMat4(Vr.center,Vr.center,Gr),ot.transformMat4(Ao,Ao,Gr);const io=[Vr.center[0],Vr.center[1],Ao[2]*zt.pixelsPerMeter];ot.scale$2(io,io,1/zt.worldSize);const Vo=ot.lngFromMercatorX(io[0]),Go=ot.latFromMercatorY(io[1]),Wo=Math.min(zt._zoomFromMercatorZ(io[2]),Nt.maxZoom),Ho=new ot.LngLat(Vo,Go);return zt.mercatorFromTransition&&Wo<.5*(ot.GLOBE_ZOOM_THRESHOLD_MIN+ot.GLOBE_ZOOM_THRESHOLD_MAX)?(zt.setProjection({name:"globe"}),zt.zoom=Wo,this._cameraForBounds(zt,ft,vt,wt,Ct,Dt)):{center:Ho,zoom:Wo,bearing:wt,pitch:Ct}}fitBounds(ut,ft,vt){const wt=this.cameraForBounds(ut,ft);return this._fitInternal(wt,ft,vt)}fitScreenCoordinates(ut,ft,vt,wt,Ct){const Dt=ot.Point.convert(ut),zt=ot.Point.convert(ft),Nt=new ot.Point(Math.min(Dt.x,zt.x),Math.min(Dt.y,zt.y)),Zt=new ot.Point(Math.max(Dt.x,zt.x),Math.max(Dt.y,zt.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(Dt,zt))return this;const qt=this.transform.pointLocation3D(Nt),rr=this.transform.pointLocation3D(Zt),pr=this.transform.pointLocation3D(new ot.Point(Nt.x,Zt.y)),xr=this.transform.pointLocation3D(new ot.Point(Zt.x,Nt.y)),wr=[Math.min(qt.lng,rr.lng,pr.lng,xr.lng),Math.min(qt.lat,rr.lat,pr.lat,xr.lat)],br=[Math.max(qt.lng,rr.lng,pr.lng,xr.lng),Math.max(qt.lat,rr.lat,pr.lat,xr.lat)],Pr=wt&&wt.pitch?wt.pitch:this.getPitch(),ir=this._cameraForBounds(this.transform,wr,br,vt,Pr,wt);return this._fitInternal(ir,wt,Ct)}_fitInternal(ut,ft,vt){return ut?(delete(ft=ot.extend(ut,ft)).padding,ft.linear?this.easeTo(ft,vt):this.flyTo(ft,vt)):this}jumpTo(ut,ft){this.stop();const vt=ut.preloadOnly?this.transform.clone():this.transform;let wt=!1,Ct=!1,Dt=!1;return"zoom"in ut&&vt.zoom!==+ut.zoom&&(wt=!0,vt.zoom=+ut.zoom),ut.center!==void 0&&(vt.center=ot.LngLat.convert(ut.center)),"bearing"in ut&&vt.bearing!==+ut.bearing&&(Ct=!0,vt.bearing=+ut.bearing),"pitch"in ut&&vt.pitch!==+ut.pitch&&(Dt=!0,vt.pitch=+ut.pitch),ut.padding==null||vt.isPaddingEqual(ut.padding)||(vt.padding=ut.padding),ut.preloadOnly?(this._preloadTiles(vt),this):(this.fire(new ot.Event("movestart",ft)).fire(new ot.Event("move",ft)),wt&&this.fire(new ot.Event("zoomstart",ft)).fire(new ot.Event("zoom",ft)).fire(new ot.Event("zoomend",ft)),Ct&&this.fire(new ot.Event("rotatestart",ft)).fire(new ot.Event("rotate",ft)).fire(new ot.Event("rotateend",ft)),Dt&&this.fire(new ot.Event("pitchstart",ft)).fire(new ot.Event("pitch",ft)).fire(new ot.Event("pitchend",ft)),this.fire(new ot.Event("moveend",ft)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||ot.warnOnce(xu),this.transform.getFreeCameraOptions()}setFreeCameraOptions(ut,ft){const vt=this.transform;if(!vt.projection.supportsFreeCamera)return ot.warnOnce(xu),this;this.stop();const wt=vt.zoom,Ct=vt.pitch,Dt=vt.bearing;vt.setFreeCameraOptions(ut);const zt=wt!==vt.zoom,Nt=Ct!==vt.pitch,Zt=Dt!==vt.bearing;return this.fire(new ot.Event("movestart",ft)).fire(new ot.Event("move",ft)),zt&&this.fire(new ot.Event("zoomstart",ft)).fire(new ot.Event("zoom",ft)).fire(new ot.Event("zoomend",ft)),Zt&&this.fire(new ot.Event("rotatestart",ft)).fire(new ot.Event("rotate",ft)).fire(new ot.Event("rotateend",ft)),Nt&&this.fire(new ot.Event("pitchstart",ft)).fire(new ot.Event("pitch",ft)).fire(new ot.Event("pitchend",ft)),this.fire(new ot.Event("moveend",ft)),this}easeTo(ut,ft){this._stop(!1,ut.easeId),((ut=ot.extend({offset:[0,0],duration:500,easing:ot.ease},ut)).animate===!1||this._prefersReducedMotion(ut))&&(ut.duration=0);const vt=this.transform,wt=this.getZoom(),Ct=this.getBearing(),Dt=this.getPitch(),zt=this.getPadding(),Nt="zoom"in ut?+ut.zoom:wt,Zt="bearing"in ut?this._normalizeBearing(ut.bearing,Ct):Ct,qt="pitch"in ut?+ut.pitch:Dt,rr="padding"in ut?ut.padding:vt.padding,pr=ot.Point.convert(ut.offset);let xr,wr,br;if(vt.projection.name==="globe"){const Yr=ot.MercatorCoordinate.fromLngLat(vt.center),an=pr.rotate(-vt.angle);Yr.x+=an.x/vt.worldSize,Yr.y+=an.y/vt.worldSize;const In=Yr.toLngLat(),rn=ot.LngLat.convert(ut.center||In);this._normalizeCenter(rn),xr=vt.centerPoint.add(an),wr=new ot.Point(Yr.x,Yr.y).mult(vt.worldSize),br=new ot.Point(ot.mercatorXfromLng(rn.lng),ot.mercatorYfromLat(rn.lat)).mult(vt.worldSize).sub(wr)}else{xr=vt.centerPoint.add(pr);const Yr=vt.pointLocation(xr),an=ot.LngLat.convert(ut.center||Yr);this._normalizeCenter(an),wr=vt.project(Yr),br=vt.project(an).sub(wr)}const Pr=vt.zoomScale(Nt-wt);let ir,_r;ut.around&&(ir=ot.LngLat.convert(ut.around),_r=vt.locationPoint(ir));const $r=this._zooming||Nt!==wt,Ir=this._rotating||Ct!==Zt,Vr=this._pitching||qt!==Dt,Wr=!vt.isPaddingEqual(rr),Gr=Yr=>an=>{if($r&&(Yr.zoom=ot.number(wt,Nt,an)),Ir&&(Yr.bearing=ot.number(Ct,Zt,an)),Vr&&(Yr.pitch=ot.number(Dt,qt,an)),Wr&&(Yr.interpolatePadding(zt,rr,an),xr=Yr.centerPoint.add(pr)),ir)Yr.setLocationAtPoint(ir,_r);else{const In=Yr.zoomScale(Yr.zoom-wt),rn=Nt>wt?Math.min(2,Pr):Math.max(.5,Pr),Sn=Math.pow(rn,1-an),un=Yr.unproject(wr.add(br.mult(an*Sn)).mult(In));Yr.setLocationAtPoint(Yr.renderWorldCopies?un.wrap():un,xr)}return ut.preloadOnly||this._fireMoveEvents(ft),Yr};if(ut.preloadOnly){const Yr=this._emulate(Gr,ut.duration,vt);return this._preloadTiles(Yr),this}const Jr={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=$r,this._rotating=Ir,this._pitching=Vr,this._padding=Wr,this._easeId=ut.easeId,this._prepareEase(ft,ut.noMoveStart,Jr),this._ease(Gr(vt),Yr=>{vt.recenterOnTerrain(),this._afterEase(ft,Yr)},ut),this}_prepareEase(ut,ft,vt={}){this._moving=!0,this.transform.cameraElevationReference="sea",ft||vt.moving||this.fire(new ot.Event("movestart",ut)),this._zooming&&!vt.zooming&&this.fire(new ot.Event("zoomstart",ut)),this._rotating&&!vt.rotating&&this.fire(new ot.Event("rotatestart",ut)),this._pitching&&!vt.pitching&&this.fire(new ot.Event("pitchstart",ut))}_fireMoveEvents(ut){this.fire(new ot.Event("move",ut)),this._zooming&&this.fire(new ot.Event("zoom",ut)),this._rotating&&this.fire(new ot.Event("rotate",ut)),this._pitching&&this.fire(new ot.Event("pitch",ut))}_afterEase(ut,ft){if(this._easeId&&ft&&this._easeId===ft)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const vt=this._zooming,wt=this._rotating,Ct=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,vt&&this.fire(new ot.Event("zoomend",ut)),wt&&this.fire(new ot.Event("rotateend",ut)),Ct&&this.fire(new ot.Event("pitchend",ut)),this.fire(new ot.Event("moveend",ut))}flyTo(ut,ft){if(this._prefersReducedMotion(ut)){const An=ot.pick(ut,["center","zoom","bearing","pitch","around"]);return this.jumpTo(An,ft)}this.stop(),ut=ot.extend({offset:[0,0],speed:1.2,curve:1.42,easing:ot.ease},ut);const vt=this.transform,wt=this.getZoom(),Ct=this.getBearing(),Dt=this.getPitch(),zt=this.getPadding(),Nt="zoom"in ut?ot.clamp(+ut.zoom,vt.minZoom,vt.maxZoom):wt,Zt="bearing"in ut?this._normalizeBearing(ut.bearing,Ct):Ct,qt="pitch"in ut?+ut.pitch:Dt,rr="padding"in ut?ut.padding:vt.padding,pr=vt.zoomScale(Nt-wt),xr=ot.Point.convert(ut.offset);let wr=vt.centerPoint.add(xr);const br=vt.pointLocation(wr),Pr=ot.LngLat.convert(ut.center||br);this._normalizeCenter(Pr);const ir=vt.project(br),_r=vt.project(Pr).sub(ir);let $r=ut.curve;const Ir=Math.max(vt.width,vt.height),Vr=Ir/pr,Wr=_r.mag();if("minZoom"in ut){const An=ot.clamp(Math.min(ut.minZoom,wt,Nt),vt.minZoom,vt.maxZoom),On=Ir/vt.zoomScale(An-wt);$r=Math.sqrt(On/Wr*2)}const Gr=$r*$r;function Jr(An){const On=(Vr*Vr-Ir*Ir+(An?-1:1)*Gr*Gr*Wr*Wr)/(2*(An?Vr:Ir)*Gr*Wr);return Math.log(Math.sqrt(On*On+1)-On)}function Yr(An){return(Math.exp(An)-Math.exp(-An))/2}function an(An){return(Math.exp(An)+Math.exp(-An))/2}const In=Jr(0);let rn=function(An){return an(In)/an(In+$r*An)},Sn=function(An){return Ir*((an(In)*(Yr(On=In+$r*An)/an(On))-Yr(In))/Gr)/Wr;var On},un=(Jr(1)-In)/$r;if(Math.abs(Wr)<1e-6||!isFinite(un)){if(Math.abs(Ir-Vr)<1e-6)return this.easeTo(ut,ft);const An=Vr<Ir?-1:1;un=Math.abs(Math.log(Vr/Ir))/$r,Sn=function(){return 0},rn=function(On){return Math.exp(An*$r*On)}}ut.duration="duration"in ut?+ut.duration:1e3*un/("screenSpeed"in ut?+ut.screenSpeed/$r:+ut.speed),ut.maxDuration&&ut.duration>ut.maxDuration&&(ut.duration=0);const $n=Ct!==Zt,on=qt!==Dt,wn=!vt.isPaddingEqual(rr),Dn=An=>On=>{const oo=On*un,go=1/rn(oo);An.zoom=On===1?Nt:wt+An.scaleZoom(go),$n&&(An.bearing=ot.number(Ct,Zt,On)),on&&(An.pitch=ot.number(Dt,qt,On)),wn&&(An.interpolatePadding(zt,rr,On),wr=An.centerPoint.add(xr));const Qn=On===1?Pr:An.unproject(ir.add(_r.mult(Sn(oo))).mult(go));return An.setLocationAtPoint(An.renderWorldCopies?Qn.wrap():Qn,wr),An._updateCameraOnTerrain(),ut.preloadOnly||this._fireMoveEvents(ft),An};if(ut.preloadOnly){const An=this._emulate(Dn,ut.duration,vt);return this._preloadTiles(An),this}return this._zooming=!0,this._rotating=$n,this._pitching=on,this._padding=wn,this._prepareEase(ft,!1),this._ease(Dn(vt),()=>this._afterEase(ft),ut),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(ut,ft){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const vt=this._onEaseEnd;this._onEaseEnd=void 0,vt.call(this,ft)}if(!ut){const vt=this.handlers;vt&&vt.stop(!1)}return this}_ease(ut,ft,vt){vt.animate===!1||vt.duration===0?(ut(1),ft()):(this._easeStart=ot.exported.now(),this._easeOptions=vt,this._onEaseFrame=ut,this._onEaseEnd=ft,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const ut=Math.min((ot.exported.now()-this._easeStart)/this._easeOptions.duration,1),ft=this._onEaseFrame;ft&&ft(this._easeOptions.easing(ut)),ut<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(ut,ft){ut=ot.wrap(ut,-180,180);const vt=Math.abs(ut-ft);return Math.abs(ut-360-ft)<vt&&(ut-=360),Math.abs(ut+360-ft)<vt&&(ut+=360),ut}_normalizeCenter(ut){const ft=this.transform;if(!ft.renderWorldCopies||ft.maxBounds)return;const vt=ut.lng-ft.center.lng;ut.lng+=vt>180?-360:vt<-180?360:0}_prefersReducedMotion(ut){return this._respectPrefersReducedMotion&&ot.exported.prefersReducedMotion&&!(ut&&ut.essential)}_emulate(ut,ft,vt){const wt=Math.ceil(15*ft/1e3),Ct=[],Dt=ut(vt.clone());for(let zt=0;zt<=wt;zt++){const Nt=Dt(zt/wt);Ct.push(Nt.clone())}return Ct}}class Xn{constructor(ut={}){this.options=ut,ot.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(ut){const ft=this.options&&this.options.compact;return this._map=ut,this._container=Tt("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=Tt("button","mapboxgl-ctrl-attrib-button",this._container),Tt("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=Tt("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),ft&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),ft===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(ut,ft){const vt=this._map._getUIString(`AttributionControl.${ft}`);ut.setAttribute("aria-label",vt),ut.removeAttribute("title"),ut.firstElementChild&&ut.firstElementChild.setAttribute("title",vt)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let ut=this._editLink;ut||(ut=this._editLink=this._container.querySelector(".mapbox-improve-map"));const ft=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||ot.config.ACCESS_TOKEN}];if(ut){const vt=ft.reduce((wt,Ct,Dt)=>(Ct.value&&(wt+=`${Ct.key}=${Ct.value}${Dt<ft.length-1?"&":""}`),wt),"?");ut.href=`${ot.config.FEEDBACK_URL}/${vt}#${Ep(this._map,!0)}`,ut.rel="noopener nofollow",this._setElementTitle(ut,"MapFeedback")}}_updateData(ut){!ut||ut.sourceDataType!=="metadata"&&ut.sourceDataType!=="visibility"&&ut.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let ut=[];if(this._map.style.stylesheet){const wt=this._map.style.stylesheet;this.styleOwner=wt.owner,this.styleId=wt.id}const ft=this._map.style._sourceCaches;for(const wt in ft){const Ct=ft[wt];if(Ct.used){const Dt=Ct.getSource();Dt.attribution&&ut.indexOf(Dt.attribution)<0&&ut.push(Dt.attribution)}}ut.sort((wt,Ct)=>wt.length-Ct.length),ut=ut.filter((wt,Ct)=>{for(let Dt=Ct+1;Dt<ut.length;Dt++)if(ut[Dt].indexOf(wt)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?ut=[...this.options.customAttribution,...ut]:ut.unshift(this.options.customAttribution));const vt=ut.join(" | ");vt!==this._attribHTML&&(this._attribHTML=vt,ut.length?(this._innerContainer.innerHTML=vt,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class k0{constructor(){ot.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(ut){this._map=ut,this._container=Tt("div","mapboxgl-ctrl");const ft=Tt("a","mapboxgl-ctrl-logo");return ft.target="_blank",ft.rel="noopener nofollow",ft.href="https://www.mapbox.com/",ft.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ft.setAttribute("rel","noopener nofollow"),this._container.appendChild(ft),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(ut){ut&&ut.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const ut=this._map.style._sourceCaches;if(Object.entries(ut).length===0)return!0;for(const ft in ut){const vt=ut[ft].getSource();if(vt.hasOwnProperty("mapbox_logo")&&!vt.mapbox_logo)return!1}return!0}_updateCompact(){const ut=this._container.children;if(ut.length){const ft=ut[0];this._map.getCanvasContainer().offsetWidth<250?ft.classList.add("mapboxgl-compact"):ft.classList.remove("mapboxgl-compact")}}}class $0{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(ut){const ft=++this._id;return this._queue.push({callback:ut,id:ft,cancelled:!1}),ft}remove(ut){const ft=this._currentlyRunning,vt=ft?this._queue.concat(ft):this._queue;for(const wt of vt)if(wt.id===ut)return void(wt.cancelled=!0)}run(ut=0){const ft=this._currentlyRunning=this._queue;this._queue=[];for(const vt of ft)if(!vt.cancelled&&(vt.callback(ut),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function qu(gt,ut,ft){if(gt=new ot.LngLat(gt.lng,gt.lat),ut){const vt=new ot.LngLat(gt.lng-360,gt.lat),wt=new ot.LngLat(gt.lng+360,gt.lat),Ct=360*Math.ceil(Math.abs(gt.lng-ft.center.lng)/360),Dt=ft.locationPoint(gt).distSqr(ut),zt=ut.x<0||ut.y<0||ut.x>ft.width||ut.y>ft.height;ft.locationPoint(vt).distSqr(ut)<Dt&&(zt||Math.abs(vt.lng-ft.center.lng)<Ct)?gt=vt:ft.locationPoint(wt).distSqr(ut)<Dt&&(zt||Math.abs(wt.lng-ft.center.lng)<Ct)&&(gt=wt)}for(;Math.abs(gt.lng-ft.center.lng)>180;){const vt=ft.locationPoint(gt);if(vt.x>=0&&vt.y>=0&&vt.x<=ft.width&&vt.y<=ft.height)break;gt.lng>ft.center.lng?gt.lng-=360:gt.lng+=360}return gt}const bu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Wn extends ot.Evented{constructor(ut,ft){if(super(),(ut instanceof ot.window.HTMLElement||ft)&&(ut=ot.extend({element:ut},ft)),ot.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=ut&&ut.anchor||"center",this._color=ut&&ut.color||"#3FB1CE",this._scale=ut&&ut.scale||1,this._draggable=ut&&ut.draggable||!1,this._clickTolerance=ut&&ut.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=ut&&ut.rotation||0,this._rotationAlignment=ut&&ut.rotationAlignment||"auto",this._pitchAlignment=ut&&ut.pitchAlignment&&ut.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=ut&&ut.occludedOpacity||.2,ut&&ut.element)this._element=ut.element,this._offset=ot.Point.convert(ut&&ut.offset||[0,0]);else{this._defaultMarker=!0,this._element=Tt("div");const wt=41,Ct=27,Dt=Ft("svg",{display:"block",height:wt*this._scale+"px",width:Ct*this._scale+"px",viewBox:`0 0 ${Ct} ${wt}`},this._element),zt=Ft("radialGradient",{id:"shadowGradient"},Ft("defs",{},Dt));Ft("stop",{offset:"10%","stop-opacity":.4},zt),Ft("stop",{offset:"100%","stop-opacity":.05},zt),Ft("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},Dt),Ft("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},Dt),Ft("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},Dt),Ft("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},Dt),this._offset=ot.Point.convert(ut&&ut.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",wt=>{wt.preventDefault()}),this._element.addEventListener("mousedown",wt=>{wt.preventDefault()});const vt=this._element.classList;for(const wt in bu)vt.remove(`mapboxgl-marker-anchor-${wt}`);vt.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(ut){return ut===this._map||(this.remove(),this._map=ut,ut.getCanvasContainer().appendChild(this._element),ut.on("move",this._updateMoving),ut.on("moveend",this._update),ut.on("remove",this._clearFadeTimer),ut._addMarker(this),this.setDraggable(this._draggable),this._update(),ut.on("click",this._onMapClick)),this}remove(){const ut=this._map;return ut&&(ut.off("click",this._onMapClick),ut.off("move",this._updateMoving),ut.off("moveend",this._update),ut.off("mousedown",this._addDragHandler),ut.off("touchstart",this._addDragHandler),ut.off("mouseup",this._onUp),ut.off("touchend",this._onUp),ut.off("mousemove",this._onMove),ut.off("touchmove",this._onMove),ut.off("remove",this._clearFadeTimer),ut._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(ut){return this._lngLat=ot.LngLat.convert(ut),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(ut){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ut){if(!("offset"in ut.options)){const wt=Math.sqrt(Math.pow(13.5,2)/2);ut.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[wt,-1*(38.1-13.5+wt)],"bottom-right":[-wt,-1*(38.1-13.5+wt)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=ut,ut._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(ut){const ft=ut.code,vt=ut.charCode||ut.keyCode;ft!=="Space"&&ft!=="Enter"&&vt!==32&&vt!==13||this.togglePopup()}_onMapClick(ut){const ft=ut.originalEvent.target,vt=this._element;this._popup&&(ft===vt||vt.contains(ft))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const ut=this._popup;return ut?(ut.isOpen()?(ut.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(ut.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const ut=this._map,ft=this._pos;if(!ut||!ft)return!1;const vt=ut.unproject(ft),wt=ut.getFreeCameraOptions();if(!wt.position)return!1;const Ct=wt.position.toLngLat();return Ct.distanceTo(vt)<.9*Ct.distanceTo(this._lngLat)}_evaluateOpacity(){const ut=this._map;if(!ut)return;const ft=this._pos;if(!ft||ft.x<0||ft.x>ut.transform.width||ft.y<0||ft.y>ut.transform.height)return void this._clearFadeTimer();const vt=ut.unproject(ft);let wt;ut._showingGlobe()&&ot.isLngLatBehindGlobe(ut.transform,this._lngLat)?wt=0:(wt=1-ut._queryFogOpacity(vt),ut.transform._terrainEnabled()&&ut.getTerrain()&&this._behindTerrain()&&(wt*=this._occludedOpacity)),this._element.style.opacity=`${wt}`,this._element.style.pointerEvents=wt>0?"auto":"none",this._popup&&this._popup._setOpacity(wt),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const ut=this._pos;if(!ut||!this._map)return;const ft=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${ut.x}px,${ut.y}px)
            ${bu[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${ft.x}px,${ft.y}px)
        `}_calculateXYTransform(){const ut=this._pos,ft=this._map,vt=this.getPitchAlignment();if(!ft||!ut||vt!=="map")return"";if(!ft._showingGlobe()){const Nt=ft.getPitch();return Nt?`rotateX(${Nt}deg)`:""}const wt=ot.radToDeg(ot.globeTiltAtLngLat(ft.transform,this._lngLat)),Ct=ut.sub(ot.globeCenterToScreenPoint(ft.transform)),Dt=Math.abs(Ct.x)+Math.abs(Ct.y);if(Dt===0)return"";const zt=wt/Dt;return`rotateX(${-Ct.y*zt}deg) rotateY(${Ct.x*zt}deg)`}_calculateZTransform(){const ut=this._pos,ft=this._map;if(!ft||!ut)return"";let vt=0;const wt=this.getRotationAlignment();if(wt==="map")if(ft._showingGlobe()){const Ct=ft.project(new ot.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),Dt=ft.project(new ot.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(Ct);vt=ot.radToDeg(Math.atan2(Dt.y,Dt.x))-90}else vt=-ft.getBearing();else if(wt==="horizon"){const Ct=ot.smoothstep(4,6,ft.getZoom()),Dt=ot.globeCenterToScreenPoint(ft.transform);Dt.y+=Ct*ft.transform.height;const zt=ut.sub(Dt),Nt=ot.radToDeg(Math.atan2(zt.y,zt.x));vt=(Nt>90?Nt-270:Nt+90)*(1-Ct)}return vt+=this._rotation,vt?`rotateZ(${vt}deg)`:""}_update(ut){ot.window.cancelAnimationFrame(this._updateFrameId);const ft=this._map;ft&&(ft.transform.renderWorldCopies&&(this._lngLat=qu(this._lngLat,this._pos,ft.transform)),this._pos=ft.project(this._lngLat),ut===!0?this._updateFrameId=ot.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),ft._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(ft._showingGlobe()||ft.getTerrain()||ft.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(ut){return this._offset=ot.Point.convert(ut),this._update(),this}_onMove(ut){const ft=this._map;if(!ft)return;const vt=this._pointerdownPos,wt=this._positionDelta;if(vt&&wt){if(!this._isDragging){const Ct=this._clickTolerance||ft._clickTolerance;if(ut.point.dist(vt)<Ct)return;this._isDragging=!0}this._pos=ut.point.sub(wt),this._lngLat=ft.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new ot.Event("dragstart"))),this.fire(new ot.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const ut=this._map;ut&&(ut.off("mousemove",this._onMove),ut.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new ot.Event("dragend")),this._state="inactive"}_addDragHandler(ut){const ft=this._map,vt=this._pos;ft&&vt&&this._element.contains(ut.originalEvent.target)&&(ut.preventDefault(),this._positionDelta=ut.point.sub(vt),this._pointerdownPos=ut.point,this._state="pending",ft.on("mousemove",this._onMove),ft.on("touchmove",this._onMove),ft.once("mouseup",this._onUp),ft.once("touchend",this._onUp))}setDraggable(ut){this._draggable=!!ut;const ft=this._map;return ft&&(ut?(ft.on("mousedown",this._addDragHandler),ft.on("touchstart",this._addDragHandler)):(ft.off("mousedown",this._addDragHandler),ft.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(ut){return this._rotation=ut||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(ut){return this._rotationAlignment=ut||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(ut){return this._pitchAlignment=ut||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(ut){return this._occludedOpacity=ut||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const I0={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},hv=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function i1(gt=new ot.Point(0,0),ut="bottom"){if(typeof gt=="number"){const ft=Math.round(Math.sqrt(.5*Math.pow(gt,2)));switch(ut){case"top":return new ot.Point(0,gt);case"top-left":return new ot.Point(ft,ft);case"top-right":return new ot.Point(-ft,ft);case"bottom":return new ot.Point(0,-gt);case"bottom-left":return new ot.Point(ft,-ft);case"bottom-right":return new ot.Point(-ft,-ft);case"left":return new ot.Point(gt,0);case"right":return new ot.Point(-gt,0)}return new ot.Point(0,0)}return gt instanceof ot.Point||Array.isArray(gt)?ot.Point.convert(gt):ot.Point.convert(gt[ut]||[0,0])}class L0{constructor(ut){this.jumpTo(ut)}getValue(ut){if(ut<=this._startTime)return this._start;if(ut>=this._endTime)return this._end;const ft=ot.easeCubicInOut((ut-this._startTime)/(this._endTime-this._startTime));return this._start*(1-ft)+this._end*ft}isEasing(ut){return ut>=this._startTime&&ut<=this._endTime}jumpTo(ut){this._startTime=-1/0,this._endTime=-1/0,this._start=ut,this._end=ut}easeTo(ut,ft,vt){this._start=this.getValue(ft),this._end=ut,this._startTime=ft,this._endTime=ft+vt}}const o1={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},a1={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},dv={showCompass:!0,showZoom:!0,visualizePitch:!1};class fv{constructor(ut,ft,vt=!1){this._clickTolerance=10,this.element=ft,this.mouseRotate=new T0({clickTolerance:ut.dragRotate._mouseRotate._clickTolerance}),this.map=ut,vt&&(this.mousePitch=new R0({clickTolerance:ut.dragRotate._mousePitch._clickTolerance})),ot.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),ft.addEventListener("mousedown",this.mousedown),ft.addEventListener("touchstart",this.touchstart,{passive:!1}),ft.addEventListener("touchmove",this.touchmove),ft.addEventListener("touchend",this.touchend),ft.addEventListener("touchcancel",this.reset)}down(ut,ft){this.mouseRotate.mousedown(ut,ft),this.mousePitch&&this.mousePitch.mousedown(ut,ft),Pt()}move(ut,ft){const vt=this.map,wt=this.mouseRotate.mousemoveWindow(ut,ft),Ct=wt&&wt.bearingDelta;if(Ct&&vt.setBearing(vt.getBearing()+Ct),this.mousePitch){const Dt=this.mousePitch.mousemoveWindow(ut,ft),zt=Dt&&Dt.pitchDelta;zt&&vt.setPitch(vt.getPitch()+zt)}}off(){const ut=this.element;ut.removeEventListener("mousedown",this.mousedown),ut.removeEventListener("touchstart",this.touchstart,{passive:!1}),ut.removeEventListener("touchmove",this.touchmove),ut.removeEventListener("touchend",this.touchend),ut.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){$t(),ot.window.removeEventListener("mousemove",this.mousemove),ot.window.removeEventListener("mouseup",this.mouseup)}mousedown(ut){this.down(ot.extend({},ut,{ctrlKey:!0,preventDefault:()=>ut.preventDefault()}),Vt(this.element,ut)),ot.window.addEventListener("mousemove",this.mousemove),ot.window.addEventListener("mouseup",this.mouseup)}mousemove(ut){this.move(ut,Vt(this.element,ut))}mouseup(ut){this.mouseRotate.mouseupWindow(ut),this.mousePitch&&this.mousePitch.mouseupWindow(ut),this.offTemp()}touchstart(ut){ut.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Ut(this.element,ut.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>ut.preventDefault()},this._startPos))}touchmove(ut){ut.targetTouches.length!==1?this.reset():(this._lastPos=Ut(this.element,ut.targetTouches)[0],this.move({preventDefault:()=>ut.preventDefault()},this._lastPos))}touchend(ut){ut.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const D0={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},O0={maxWidth:100,unit:"metric"},F0={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},Zu={version:ot.version,supported:xt,setRTLTextPlugin:ot.setRTLTextPlugin,getRTLTextPluginStatus:ot.getRTLTextPluginStatus,Map:class extends xm{constructor(gt){if(ot.LivePerformanceUtils.mark(ot.PerformanceMarkers.create),(gt=ot.extend({},a1,gt)).minZoom!=null&&gt.maxZoom!=null&&gt.minZoom>gt.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(gt.minPitch!=null&&gt.maxPitch!=null&&gt.minPitch>gt.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(gt.minPitch!=null&&gt.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(gt.maxPitch!=null&&gt.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(gt.antialias&&ot.isSafariWithAntialiasingBug(ot.window)&&(gt.antialias=!1,ot.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Uu(gt.minZoom,gt.maxZoom,gt.minPitch,gt.maxPitch,gt.renderWorldCopies),gt),this._interactive=gt.interactive,this._minTileCacheSize=gt.minTileCacheSize,this._maxTileCacheSize=gt.maxTileCacheSize,this._failIfMajorPerformanceCaveat=gt.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=gt.preserveDrawingBuffer,this._antialias=gt.antialias,this._useWebGL2=gt.useWebGL2,this._trackResize=gt.trackResize,this._bearingSnap=gt.bearingSnap,this._refreshExpiredTiles=gt.refreshExpiredTiles,this._fadeDuration=gt.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=gt.crossSourceCollisions,this._collectResourceTiming=gt.collectResourceTiming,this._optimizeForTerrain=gt.optimizeForTerrain,this._language=this._parseLanguage(gt.language),this._worldview=gt.worldview,this._renderTaskQueue=new $0,this._domRenderTaskQueue=new $0,this._controls=[],this._markers=[],this._popups=[],this._mapId=ot.uniqueId(),this._locale=ot.extend({},o1,gt.locale),this._clickTolerance=gt.clickTolerance,this._cooperativeGestures=gt.cooperativeGestures,this._performanceMetricsCollection=gt.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new L0(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new ot.RequestManager(gt.transformRequest,gt.accessToken,gt.testMode),this._silenceAuthErrors=!!gt.testMode,typeof gt.container=="string"){if(this._container=ot.window.document.getElementById(gt.container),!this._container)throw new Error(`Container '${gt.container}' not found.`)}else{if(!(gt.container instanceof ot.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=gt.container}if(this._container.childNodes.length>0&&ot.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),gt.maxBounds&&this.setMaxBounds(gt.maxBounds),ot.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),ot.window!==void 0&&(ot.window.addEventListener("online",this._onWindowOnline,!1),ot.window.addEventListener("resize",this._onWindowResize,!1),ot.window.addEventListener("orientationchange",this._onWindowResize,!1),ot.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),ot.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Pl(this,gt),this._localFontFamily=gt.localFontFamily,this._localIdeographFontFamily=gt.localIdeographFontFamily,gt.style&&this.setStyle(gt.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),gt.projection&&this.setProjection(gt.projection),this._hash=gt.hash&&new w0(typeof gt.hash=="string"&&gt.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:gt.center,zoom:gt.zoom,bearing:gt.bearing,pitch:gt.pitch}),gt.bounds&&(this.resize(),this.fitBounds(gt.bounds,ot.extend({},gt.fitBoundsOptions,{duration:0})))),this.resize(),gt.attributionControl&&this.addControl(new Xn({customAttribution:gt.customAttribution})),this._logoControl=new k0,this.addControl(this._logoControl,gt.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",ut=>{this._update(ut.dataType==="style"),this.fire(new ot.Event(`${ut.dataType}data`,ut))}),this.on("dataloading",ut=>{this.fire(new ot.Event(`${ut.dataType}dataloading`,ut))})}_getMapId(){return this._mapId}addControl(gt,ut){if(ut===void 0&&(ut=gt.getDefaultPosition?gt.getDefaultPosition():"top-right"),!gt||!gt.onAdd)return this.fire(new ot.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const ft=gt.onAdd(this);this._controls.push(gt);const vt=this._controlPositions[ut];return ut.indexOf("bottom")!==-1?vt.insertBefore(ft,vt.firstChild):vt.appendChild(ft),this}removeControl(gt){if(!gt||!gt.onRemove)return this.fire(new ot.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const ut=this._controls.indexOf(gt);return ut>-1&&this._controls.splice(ut,1),gt.onRemove(this),this}hasControl(gt){return this._controls.indexOf(gt)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(gt){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const ut=!this._moving;return ut&&this.fire(new ot.Event("movestart",gt)).fire(new ot.Event("move",gt)),this.fire(new ot.Event("resize",gt)),ut&&this.fire(new ot.Event("moveend",gt)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(gt){return this.transform.setMaxBounds(ot.LngLatBounds.convert(gt)),this._update()}setMinZoom(gt){if((gt=gt??-2)>=-2&&gt<=this.transform.maxZoom)return this.transform.minZoom=gt,this._update(),this.getZoom()<gt?this.setZoom(gt):this.fire(new ot.Event("zoomstart")).fire(new ot.Event("zoom")).fire(new ot.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(gt){if((gt=gt??22)>=this.transform.minZoom)return this.transform.maxZoom=gt,this._update(),this.getZoom()>gt?this.setZoom(gt):this.fire(new ot.Event("zoomstart")).fire(new ot.Event("zoom")).fire(new ot.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(gt){if((gt=gt??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(gt>=0&&gt<=this.transform.maxPitch)return this.transform.minPitch=gt,this._update(),this.getPitch()<gt?this.setPitch(gt):this.fire(new ot.Event("pitchstart")).fire(new ot.Event("pitch")).fire(new ot.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(gt){if((gt=gt??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(gt>=this.transform.minPitch)return this.transform.maxPitch=gt,this._update(),this.getPitch()>gt?this.setPitch(gt):this.fire(new ot.Event("pitchstart")).fire(new ot.Event("pitch")).fire(new ot.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(gt){return this.transform.renderWorldCopies=gt,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(gt){return gt==="auto"?ot.window.navigator.language:Array.isArray(gt)?gt.length===0?void 0:gt.map(ut=>ut==="auto"?ot.window.navigator.language:ut):gt}setLanguage(gt){const ut=this._parseLanguage(gt);if(!this.style||ut===this._language)return this;this._language=ut,this.style._reloadSources();for(const ft of this._controls)ft._setLanguage&&ft._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(gt){return this.style&&gt!==this._worldview?(this._worldview=gt,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(gt){return this._lazyInitEmptyStyle(),gt?typeof gt=="string"&&(gt={name:gt}):gt=null,this._useExplicitProjection=!!gt,this._prioritizeAndUpdateProjection(gt,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const gt=this.transform,ut=gt.projection.name;let ft;ut==="globe"&&gt.zoom>=ot.GLOBE_ZOOM_THRESHOLD_MAX?(gt.setMercatorFromTransition(),ft=!0):ut==="mercator"&&gt.zoom<ot.GLOBE_ZOOM_THRESHOLD_MAX&&(gt.setProjection({name:"globe"}),ft=!0),ft&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(gt,ut){return this._updateProjection(gt||ut||{name:"mercator"})}_updateProjection(gt){let ut;if(ut=gt.name==="globe"&&this.transform.zoom>=ot.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(gt),this.style.applyProjectionUpdate(),ut){this.painter.clearBackgroundTiles();for(const ft in this.style._sourceCaches)this.style._sourceCaches[ft].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(gt){return this.transform.locationPoint3D(ot.LngLat.convert(gt))}unproject(gt){return this.transform.pointLocation3D(ot.Point.convert(gt))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(gt,ut,ft){if(gt==="mouseenter"||gt==="mouseover"){let vt=!1;const wt=Dt=>{const zt=ut.filter(Zt=>this.getLayer(Zt)),Nt=zt.length?this.queryRenderedFeatures(Dt.point,{layers:zt}):[];Nt.length?vt||(vt=!0,ft.call(this,new _s(gt,this,Dt.originalEvent,{features:Nt}))):vt=!1},Ct=()=>{vt=!1};return{layers:new Set(ut),listener:ft,delegates:{mousemove:wt,mouseout:Ct}}}if(gt==="mouseleave"||gt==="mouseout"){let vt=!1;const wt=Dt=>{const zt=ut.filter(Nt=>this.getLayer(Nt));(zt.length?this.queryRenderedFeatures(Dt.point,{layers:zt}):[]).length?vt=!0:vt&&(vt=!1,ft.call(this,new _s(gt,this,Dt.originalEvent)))},Ct=Dt=>{vt&&(vt=!1,ft.call(this,new _s(gt,this,Dt.originalEvent)))};return{layers:new Set(ut),listener:ft,delegates:{mousemove:wt,mouseout:Ct}}}{const vt=wt=>{const Ct=ut.filter(zt=>this.getLayer(zt)),Dt=Ct.length?this.queryRenderedFeatures(wt.point,{layers:Ct}):[];Dt.length&&(wt.features=Dt,ft.call(this,wt),delete wt.features)};return{layers:new Set(ut),listener:ft,delegates:{[gt]:vt}}}}on(gt,ut,ft){if(ft===void 0)return super.on(gt,ut);Array.isArray(ut)||(ut=[ut]);const vt=this._createDelegatedListener(gt,ut,ft);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[gt]=this._delegatedListeners[gt]||[],this._delegatedListeners[gt].push(vt);for(const wt in vt.delegates)this.on(wt,vt.delegates[wt]);return this}once(gt,ut,ft){if(ft===void 0)return super.once(gt,ut);Array.isArray(ut)||(ut=[ut]);const vt=this._createDelegatedListener(gt,ut,ft);for(const wt in vt.delegates)this.once(wt,vt.delegates[wt]);return this}off(gt,ut,ft){if(ft===void 0)return super.off(gt,ut);ut=new Set(Array.isArray(ut)?ut:[ut]);const vt=(Ct,Dt)=>{if(Ct.size!==Dt.size)return!1;for(const zt of Ct)if(!Dt.has(zt))return!1;return!0},wt=this._delegatedListeners?this._delegatedListeners[gt]:void 0;return wt&&(Ct=>{for(let Dt=0;Dt<Ct.length;Dt++){const zt=Ct[Dt];if(zt.listener===ft&&vt(zt.layers,ut)){for(const Nt in zt.delegates)this.off(Nt,zt.delegates[Nt]);return Ct.splice(Dt,1),this}}})(wt),this}queryRenderedFeatures(gt,ut){return this.style?(ut!==void 0||gt===void 0||gt instanceof ot.Point||Array.isArray(gt)||(ut=gt,gt=void 0),this.style.queryRenderedFeatures(gt=gt||[[0,0],[this.transform.width,this.transform.height]],ut=ut||{},this.transform)):[]}querySourceFeatures(gt,ut){return this.style.querySourceFeatures(gt,ut)}isPointOnSurface(gt){const{name:ut}=this.transform.projection;return ut!=="globe"&&ut!=="mercator"&&ot.warnOnce(`${ut} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(ot.Point.convert(gt))}setStyle(gt,ut){return(ut=ot.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},ut)).diff!==!1&&ut.localIdeographFontFamily===this._localIdeographFontFamily&&ut.localFontFamily===this._localFontFamily&&this.style&&gt?(this._diffStyle(gt,ut),this):(this._localIdeographFontFamily=ut.localIdeographFontFamily,this._localFontFamily=ut.localFontFamily,this._updateStyle(gt,ut))}_getUIString(gt){const ut=this._locale[gt];if(ut==null)throw new Error(`Missing UI string '${gt}'`);return ut}_updateStyle(gt,ut){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),gt&&(this.style=new Tl(this,ut||{}),this.style.setEventedParent(this,{style:this.style}),typeof gt=="string"?this.style.loadURL(gt):this.style.loadJSON(gt)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Tl(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(gt,ut){if(typeof gt=="string"){const ft=this._requestManager.normalizeStyleURL(gt),vt=this._requestManager.transformRequest(ft,ot.ResourceType.Style);ot.getJSON(vt,(wt,Ct)=>{wt?this.fire(new ot.ErrorEvent(wt)):Ct&&this._updateDiff(Ct,ut)})}else typeof gt=="object"&&this._updateDiff(gt,ut)}_updateDiff(gt,ut){try{this.style.setState(gt)&&this._update(!0)}catch(ft){ot.warnOnce(`Unable to perform style diff: ${ft.message||ft.error||ft}.  Rebuilding the style from scratch.`),this._updateStyle(gt,ut)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(ot.warnOnce("There is no style added to the map."),!1)}addSource(gt,ut){return this._lazyInitEmptyStyle(),this.style.addSource(gt,ut),this._update(!0)}isSourceLoaded(gt){return!!this.style&&this.style._isSourceCacheLoaded(gt)}areTilesLoaded(){const gt=this.style&&this.style._sourceCaches;for(const ut in gt){const ft=gt[ut]._tiles;for(const vt in ft){const wt=ft[vt];if(wt.state!=="loaded"&&wt.state!=="errored")return!1}}return!0}addSourceType(gt,ut,ft){this._lazyInitEmptyStyle(),this.style.addSourceType(gt,ut,ft)}removeSource(gt){return this.style.removeSource(gt),this._updateTerrain(),this._update(!0)}getSource(gt){return this.style.getSource(gt)}addImage(gt,ut,{pixelRatio:ft=1,sdf:vt=!1,stretchX:wt,stretchY:Ct,content:Dt}={}){if(this._lazyInitEmptyStyle(),ut instanceof ot.window.HTMLImageElement||ot.window.ImageBitmap&&ut instanceof ot.window.ImageBitmap){const{width:zt,height:Nt,data:Zt}=ot.exported.getImageData(ut);this.style.addImage(gt,{data:new ot.RGBAImage({width:zt,height:Nt},Zt),pixelRatio:ft,stretchX:wt,stretchY:Ct,content:Dt,sdf:vt,version:0})}else if(ut.width===void 0||ut.height===void 0)this.fire(new ot.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:zt,height:Nt}=ut,Zt=ut;this.style.addImage(gt,{data:new ot.RGBAImage({width:zt,height:Nt},new Uint8Array(Zt.data)),pixelRatio:ft,stretchX:wt,stretchY:Ct,content:Dt,sdf:vt,version:0,userImage:Zt}),Zt.onAdd&&Zt.onAdd(this,gt)}}updateImage(gt,ut){const ft=this.style.getImage(gt);if(!ft)return void this.fire(new ot.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const vt=ut instanceof ot.window.HTMLImageElement||ot.window.ImageBitmap&&ut instanceof ot.window.ImageBitmap?ot.exported.getImageData(ut):ut,{width:wt,height:Ct}=vt;wt!==void 0&&Ct!==void 0?wt===ft.data.width&&Ct===ft.data.height?(ft.data.replace(vt.data,!(ut instanceof ot.window.HTMLImageElement||ot.window.ImageBitmap&&ut instanceof ot.window.ImageBitmap)),this.style.updateImage(gt,ft)):this.fire(new ot.ErrorEvent(new Error(`The width and height of the updated image (${wt}, ${Ct})
                must be that same as the previous version of the image
                (${ft.data.width}, ${ft.data.height})`))):this.fire(new ot.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(gt){return gt?!!this.style.getImage(gt):(this.fire(new ot.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(gt){this.style.removeImage(gt)}loadImage(gt,ut){ot.getImage(this._requestManager.transformRequest(gt,ot.ResourceType.Image),(ft,vt)=>{ut(ft,vt instanceof ot.window.HTMLImageElement?ot.exported.getImageData(vt):vt)})}listImages(){return this.style.listImages()}addLayer(gt,ut){return this._lazyInitEmptyStyle(),this.style.addLayer(gt,ut),this._update(!0)}moveLayer(gt,ut){return this.style.moveLayer(gt,ut),this._update(!0)}removeLayer(gt){return this.style.removeLayer(gt),this._update(!0)}getLayer(gt){return this.style.getLayer(gt)}setLayerZoomRange(gt,ut,ft){return this.style.setLayerZoomRange(gt,ut,ft),this._update(!0)}setFilter(gt,ut,ft={}){return this.style.setFilter(gt,ut,ft),this._update(!0)}getFilter(gt){return this.style.getFilter(gt)}setPaintProperty(gt,ut,ft,vt={}){return this.style.setPaintProperty(gt,ut,ft,vt),this._update(!0)}getPaintProperty(gt,ut){return this.style.getPaintProperty(gt,ut)}setLayoutProperty(gt,ut,ft,vt={}){return this.style.setLayoutProperty(gt,ut,ft,vt),this._update(!0)}getLayoutProperty(gt,ut){return this.style.getLayoutProperty(gt,ut)}setLight(gt,ut={}){return this._lazyInitEmptyStyle(),this.style.setLight(gt,ut),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(gt){return this._lazyInitEmptyStyle(),!gt&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(gt),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(gt){return this._lazyInitEmptyStyle(),this.style.setFog(gt),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(gt){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(ot.LngLat.convert(gt),this.transform):0}setFeatureState(gt,ut){return this.style.setFeatureState(gt,ut),this._update()}removeFeatureState(gt,ut){return this.style.removeFeatureState(gt,ut),this._update()}getFeatureState(gt){return this.style.getFeatureState(gt)}_updateContainerDimensions(){if(!this._container)return;const gt=this._container.getBoundingClientRect().width||400,ut=this._container.getBoundingClientRect().height||300;let ft,vt,wt,Ct=this._container;for(;Ct&&(!vt||!wt);){const Dt=ot.window.getComputedStyle(Ct).transform;Dt&&Dt!=="none"&&(ft=Dt.match(/matrix.*\((.+)\)/)[1].split(", "),ft[0]&&ft[0]!=="0"&&ft[0]!=="1"&&(vt=ft[0]),ft[3]&&ft[3]!=="0"&&ft[3]!=="1"&&(wt=ft[3])),Ct=Ct.parentElement}this._containerWidth=vt?Math.abs(gt/vt):gt,this._containerHeight=wt?Math.abs(ut/wt):ut}_detectMissingCSS(){ot.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&ot.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const gt=this._container;gt.classList.add("mapboxgl-map"),(this._missingCSSCanary=Tt("div","mapboxgl-canary",gt)).style.visibility="hidden",this._detectMissingCSS();const ut=this._canvasContainer=Tt("div","mapboxgl-canvas-container",gt);this._interactive&&ut.classList.add("mapboxgl-interactive"),this._canvas=Tt("canvas","mapboxgl-canvas",ut),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const ft=this._controlContainer=Tt("div","mapboxgl-control-container",gt),vt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(wt=>{vt[wt]=Tt("div",`mapboxgl-ctrl-${wt}`,ft)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(gt,ut){const ft=ot.exported.devicePixelRatio||1;this._canvas.width=ft*Math.ceil(gt),this._canvas.height=ft*Math.ceil(ut),this._canvas.style.width=`${gt}px`,this._canvas.style.height=`${ut}px`}_addMarker(gt){this._markers.push(gt)}_removeMarker(gt){const ut=this._markers.indexOf(gt);ut!==-1&&this._markers.splice(ut,1)}_addPopup(gt){this._popups.push(gt)}_removePopup(gt){const ut=this._popups.indexOf(gt);ut!==-1&&this._popups.splice(ut,1)}_setupPainter(){const gt=ot.extend({},xt.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ut=this._useWebGL2&&this._canvas.getContext("webgl2",gt),ft=ut||this._canvas.getContext("webgl",gt)||this._canvas.getContext("experimental-webgl",gt);ft?(this._useWebGL2&&!ut&&ot.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),ot.storeAuthState(ft,!0),this.painter=new ju(ft,this.transform,!!ut),this.on("data",vt=>{vt.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),ot.exported$1.testSupport(ft)):this.fire(new ot.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(gt){gt.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new ot.Event("webglcontextlost",{originalEvent:gt}))}_contextRestored(gt){this._setupPainter(),this.resize(),this._update(),this.fire(new ot.Event("webglcontextrestored",{originalEvent:gt}))}_onMapScroll(gt){if(gt.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(gt){return this.style?(this._styleDirty=this._styleDirty||gt,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(gt){return this._update(),this._renderTaskQueue.add(gt)}_cancelRenderFrame(gt){this._renderTaskQueue.remove(gt)}_requestDomTask(gt){!this.loaded()||this.loaded()&&!this.isMoving()?gt():this._domRenderTaskQueue.add(gt)}_render(gt){let ut;const ft=this.painter.context.extTimerQuery,vt=ot.exported.now();if(this.listens("gpu-timing-frame")&&(ut=ft.createQueryEXT(),ft.beginQueryEXT(ft.TIME_ELAPSED_EXT,ut)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],ot.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],ot.window.performance.now())),this._renderTaskQueue.run(gt),this._domRenderTaskQueue.run(gt),this._removed)return;this._updateProjectionTransition();const wt=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const zt=this.transform.zoom,Nt=this.transform.pitch,Zt=ot.exported.now(),qt=new ot.EvaluationParameters(zt,{now:Zt,fadeDuration:wt,pitch:Nt,transition:this.style.getTransition()});this.style.update(qt)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let Ct=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),Ct=this._updateAverageElevation(vt),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):Ct=this._updateAverageElevation(vt),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,wt,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:wt,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new ot.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new ot.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),ut){const zt=ot.exported.now()-vt;ft.endQueryEXT(ft.TIME_ELAPSED_EXT,ut),setTimeout(()=>{const Nt=ft.getQueryObjectEXT(ut,ft.QUERY_RESULT_EXT)/1e6;ft.deleteQueryEXT(ut),this.fire(new ot.Event("gpu-timing-frame",{cpuTime:zt,gpuTime:Nt})),ot.window.performance.mark("frame-gpu",{startTime:vt,detail:{gpuTime:Nt}})},50)}if(this.listens("gpu-timing-layer")){const zt=this.painter.collectGpuTimers();setTimeout(()=>{const Nt=this.painter.queryGpuTimers(zt);this.fire(new ot.Event("gpu-timing-layer",{layerTimes:Nt}))},50)}if(this.listens("gpu-timing-deferred-render")){const zt=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const Nt=this.painter.queryGpuTimeDeferredRender(zt);this.fire(new ot.Event("gpu-timing-deferred-render",{gpuTime:Nt}))},50)}const Dt=this._sourcesDirty||this._styleDirty||this._placementDirty||Ct;if(Dt||this._repaint)this.triggerRepaint();else{const zt=!this.isMoving()&&this.loaded();if(zt&&(Ct=this._updateAverageElevation(vt,!0)),Ct)this.triggerRepaint();else if(this._triggerFrame(!1),zt&&(this.fire(new ot.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const Nt=this._calculateSpeedIndex();this.fire(new ot.Event("speedindexcompleted",{speedIndex:Nt})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||Dt||(this._fullyLoaded=!0,ot.LivePerformanceUtils.mark(ot.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&ot.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(gt){for(const ut of this._markers)gt&&!this.getRenderWorldCopies()&&(ut._lngLat=ut._lngLat.wrap()),ut._update();for(const ut of this._popups)!gt||this.getRenderWorldCopies()||ut._trackPointer||(ut._lngLat=ut._lngLat.wrap()),ut._update()}_updateAverageElevation(gt,ut=!1){const ft=vt=>(this.transform.averageElevation=vt,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&ft(0);if((ut||gt-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(gt)){const vt=this.transform.averageElevation;let wt=this.transform.sampleAverageElevation(),Ct=!1;this.transform.elevation&&(Ct=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(wt)?wt=0:this._averageElevationLastSampledAt=gt;const Dt=Math.abs(vt-wt);if(Dt>1){if(this._isInitialLoad||Ct)return this._averageElevation.jumpTo(wt),ft(wt);this._averageElevation.easeTo(wt,gt,300)}else if(Dt>1e-4)return this._averageElevation.jumpTo(wt),ft(wt)}return!!this._averageElevation.isEasing(gt)&&ft(this._averageElevation.getValue(gt))}_authenticate(){ot.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,gt=>{if(gt&&(gt.message===ot.AUTH_ERR_MSG||gt.status===401)){const ut=this.painter.context.gl;ot.storeAuthState(ut,!1),this._logoControl instanceof k0&&this._logoControl._updateLogo(),ut&&ut.clear(ut.DEPTH_BUFFER_BIT|ut.COLOR_BUFFER_BIT|ut.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new ot.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),ot.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const gt=this._isDragging();this.painter.updateTerrain(this.style,gt)}_calculateSpeedIndex(){const gt=this.painter.canvasCopy(),ut=this.painter.getCanvasCopiesAndTimestamps();ut.timeStamps.push(performance.now());const ft=this.painter.context.gl,vt=ft.createFramebuffer();function wt(Ct){ft.framebufferTexture2D(ft.FRAMEBUFFER,ft.COLOR_ATTACHMENT0,ft.TEXTURE_2D,Ct,0);const Dt=new Uint8Array(ft.drawingBufferWidth*ft.drawingBufferHeight*4);return ft.readPixels(0,0,ft.drawingBufferWidth,ft.drawingBufferHeight,ft.RGBA,ft.UNSIGNED_BYTE,Dt),Dt}return ft.bindFramebuffer(ft.FRAMEBUFFER,vt),this._canvasPixelComparison(wt(gt),ut.canvasCopies.map(wt),ut.timeStamps)}_canvasPixelComparison(gt,ut,ft){let vt=ft[1]-ft[0];const wt=gt.length/4;for(let Ct=0;Ct<ut.length;Ct++){const Dt=ut[Ct];let zt=0;for(let Nt=0;Nt<Dt.length;Nt+=4)Dt[Nt]===gt[Nt]&&Dt[Nt+1]===gt[Nt+1]&&Dt[Nt+2]===gt[Nt+2]&&Dt[Nt+3]===gt[Nt+3]&&(zt+=1);vt+=(ft[Ct+2]-ft[Ct+1])*(1-zt/wt)}return vt}remove(){this._hash&&this._hash.remove();for(const ut of this._controls)ut.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),ot.window!==void 0&&(ot.window.removeEventListener("resize",this._onWindowResize,!1),ot.window.removeEventListener("orientationchange",this._onWindowResize,!1),ot.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),ot.window.removeEventListener("online",this._onWindowOnline,!1),ot.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const gt=this.painter.context.gl.getExtension("WEBGL_lose_context");gt&&gt.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),ot.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new ot.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(gt){this._renderNextFrame=this._renderNextFrame||gt,this.style&&!this._frame&&(this._frame=ot.exported.frame(ut=>{const ft=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,ft&&this._render(ut)}))}_preloadTiles(gt){const ut=this.style?Object.values(this.style._sourceCaches):[];return ot.asyncAll(ut,(ft,vt)=>ft._preloadTiles(gt,vt),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(gt){this._trackResize&&this.resize({originalEvent:gt})._update()}_onVisibilityChange(){ot.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(gt){this._showTileBoundaries!==gt&&(this._showTileBoundaries=gt,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(gt){this._showTerrainWireframe!==gt&&(this._showTerrainWireframe=gt,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(gt){this._speedIndexTiming!==gt&&(this._speedIndexTiming=gt,this._update())}get showPadding(){return!!this._showPadding}set showPadding(gt){this._showPadding!==gt&&(this._showPadding=gt,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(gt){this._showCollisionBoxes!==gt&&(this._showCollisionBoxes=gt,gt?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(gt){this._showOverdrawInspector!==gt&&(this._showOverdrawInspector=gt,this._update())}get repaint(){return!!this._repaint}set repaint(gt){this._repaint!==gt&&(this._repaint=gt,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(gt){this._vertices=gt,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(gt){this._showTileAABBs!==gt&&(this._showTileAABBs=gt,gt&&this._update())}_setCacheLimits(gt,ut){ot.setCacheLimits(gt,ut)}get version(){return ot.version}},NavigationControl:class{constructor(gt){this.options=ot.extend({},dv,gt),this._container=Tt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",ut=>ut.preventDefault()),this.options.showZoom&&(ot.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",ut=>{this._map&&this._map.zoomIn({},{originalEvent:ut})}),Tt("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",ut=>{this._map&&this._map.zoomOut({},{originalEvent:ut})}),Tt("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(ot.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",ut=>{const ft=this._map;ft&&(this.options.visualizePitch?ft.resetNorthPitch({},{originalEvent:ut}):ft.resetNorth({},{originalEvent:ut}))}),this._compassIcon=Tt("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const gt=this._map;if(!gt)return;const ut=gt.getZoom(),ft=ut===gt.getMaxZoom(),vt=ut===gt.getMinZoom();this._zoomInButton.disabled=ft,this._zoomOutButton.disabled=vt,this._zoomInButton.setAttribute("aria-disabled",ft.toString()),this._zoomOutButton.setAttribute("aria-disabled",vt.toString())}_rotateCompassArrow(){const gt=this._map;if(!gt)return;const ut=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(gt.transform.pitch*(Math.PI/180)),.5)}) rotateX(${gt.transform.pitch}deg) rotateZ(${gt.transform.angle*(180/Math.PI)}deg)`:`rotate(${gt.transform.angle*(180/Math.PI)}deg)`;gt._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=ut)})}onAdd(gt){return this._map=gt,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),gt.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&gt.on("pitch",this._rotateCompassArrow),gt.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new fv(gt,this._compass,this.options.visualizePitch)),this._container}onRemove(){const gt=this._map;gt&&(this._container.remove(),this.options.showZoom&&gt.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&gt.off("pitch",this._rotateCompassArrow),gt.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(gt,ut){const ft=Tt("button",gt,this._container);return ft.type="button",ft.addEventListener("click",ut),ft}_setButtonTitle(gt,ut){if(!this._map)return;const ft=this._map._getUIString(`NavigationControl.${ut}`);gt.setAttribute("aria-label",ft),gt.firstElementChild&&gt.firstElementChild.setAttribute("title",ft)}},GeolocateControl:class extends ot.Evented{constructor(gt){super(),this.options=ot.extend({geolocation:ot.window.navigator.geolocation},D0,gt),ot.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Gu(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(gt){return this._map=gt,this._container=Tt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(gt){const ut=(ft=!!this.options.geolocation)=>{this._supportsGeolocation=ft,gt(ft)};this._supportsGeolocation!==void 0?gt(this._supportsGeolocation):ot.window.navigator.permissions!==void 0?ot.window.navigator.permissions.query({name:"geolocation"}).then(ft=>ut(ft.state!=="denied")).catch(()=>ut()):ut()}_isOutOfMapMaxBounds(gt){const ut=this._map.getMaxBounds(),ft=gt.coords;return!!ut&&(ft.longitude<ut.getWest()||ft.longitude>ut.getEast()||ft.latitude<ut.getSouth()||ft.latitude>ut.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(gt){if(this._map){if(this._isOutOfMapMaxBounds(gt))return this._setErrorState(),this.fire(new ot.Event("outofmaxbounds",gt)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=gt,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(gt),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(gt),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new ot.Event("geolocate",gt)),this._finish()}}_updateCamera(gt){const ut=new ot.LngLat(gt.coords.longitude,gt.coords.latitude),ft=gt.coords.accuracy,vt=this._map.getBearing(),wt=ot.extend({bearing:vt},this.options.fitBoundsOptions);this._map.fitBounds(ut.toBounds(ft),wt,{geolocateSource:!0})}_updateMarker(gt){if(gt){const ut=new ot.LngLat(gt.coords.longitude,gt.coords.latitude);this._accuracyCircleMarker.setLngLat(ut).addTo(this._map),this._userLocationDotMarker.setLngLat(ut).addTo(this._map),this._accuracy=gt.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const gt=this._map.transform,ut=ot.mercatorZfromAltitude(1,gt._center.lat)*gt.worldSize,ft=Math.ceil(2*this._accuracy*ut);this._circleElement.style.width=`${ft}px`,this._circleElement.style.height=`${ft}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(gt){if(this._map){if(this.options.trackUserLocation)if(gt.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const ut=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",ut),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",ut),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(gt.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new ot.Event("error",gt)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(gt){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",ut=>ut.preventDefault()),this._geolocateButton=Tt("button","mapboxgl-ctrl-geolocate",this._container),Tt("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",gt===!1){ot.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const ut=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",ut),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",ut)}else{const ut=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",ut),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",ut)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=Tt("div","mapboxgl-user-location"),this._dotElement.appendChild(Tt("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(Tt("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Wn({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=Tt("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Wn({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",ut=>{ut.geolocateSource||this._watchState!=="ACTIVE_LOCK"||ut.originalEvent&&ut.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new ot.Event("trackuserlocationend")))})}}_onDeviceOrientation(gt){this._userLocationDotMarker&&(gt.webkitCompassHeading?this._heading=gt.webkitCompassHeading:gt.absolute===!0&&(this._heading=-1*gt.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return ot.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new ot.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new ot.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new ot.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let gt;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(gt={maximumAge:6e5,timeout:0},this._noTimeout=!0):(gt=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,gt),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const gt=()=>{ot.window.addEventListener("ondeviceorientationabsolute"in ot.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};ot.window.DeviceMotionEvent!==void 0&&typeof ot.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(ut=>{ut==="granted"&&gt()}).catch(console.error):gt()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),ot.window.removeEventListener("deviceorientation",this._onDeviceOrientation),ot.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Xn,ScaleControl:class{constructor(gt){this.options=ot.extend({},O0,gt),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),ot.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const gt=this.options.maxWidth||100,ut=this._map,ft=ut._containerHeight/2,vt=ut._containerWidth/2-gt/2,wt=ut.unproject([vt,ft]),Ct=ut.unproject([vt+gt,ft]),Dt=wt.distanceTo(Ct);if(this.options.unit==="imperial"){const zt=3.2808*Dt;zt>5280?this._setScale(gt,zt/5280,"mile"):this._setScale(gt,zt,"foot")}else this.options.unit==="nautical"?this._setScale(gt,Dt/1852,"nautical-mile"):Dt>=1e3?this._setScale(gt,Dt/1e3,"kilometer"):this._setScale(gt,Dt,"meter")}_setScale(gt,ut,ft){this._map._requestDomTask(()=>{const vt=function(Ct){const Dt=Math.pow(10,`${Math.floor(Ct)}`.length-1);let zt=Ct/Dt;return zt=zt>=10?10:zt>=5?5:zt>=3?3:zt>=2?2:zt>=1?1:function(Nt){const Zt=Math.pow(10,Math.ceil(-Math.log(Nt)/Math.LN10));return Math.round(Nt*Zt)/Zt}(zt),Dt*zt}(ut),wt=vt/ut;this._container.innerHTML=this._isNumberFormatSupported&&ft!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:ft}).format(vt):`${vt}&nbsp;${F0[ft]}`,this._container.style.width=gt*wt+"px"})}onAdd(gt){return this._map=gt,this._language=gt.getLanguage(),this._container=Tt("div","mapboxgl-ctrl mapboxgl-ctrl-scale",gt.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(gt){this._language=gt,this._update()}setUnit(gt){this.options.unit=gt,this._update()}},FullscreenControl:class{constructor(gt){this._fullscreen=!1,gt&&gt.container&&(gt.container instanceof ot.window.HTMLElement?this._container=gt.container:ot.warnOnce("Full screen control 'container' must be a DOM element.")),ot.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in ot.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in ot.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(gt){return this._map=gt,this._container||(this._container=this._map.getContainer()),this._controlContainer=Tt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",ot.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,ot.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!ot.window.document.fullscreenEnabled&&!ot.window.document.webkitFullscreenEnabled)}_setupUI(){const gt=this._fullscreenButton=Tt("button","mapboxgl-ctrl-fullscreen",this._controlContainer);Tt("span","mapboxgl-ctrl-icon",gt).setAttribute("aria-hidden","true"),gt.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),ot.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const gt=this._getTitle();this._fullscreenButton.setAttribute("aria-label",gt),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",gt)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(ot.window.document.fullscreenElement||ot.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?ot.window.document.exitFullscreen?ot.window.document.exitFullscreen():ot.window.document.webkitCancelFullScreen&&ot.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends ot.Evented{constructor(gt){super(),this.options=ot.extend(Object.create(I0),gt),ot.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(gt&&gt.className?gt.className.trim().split(/\s+/):[])}addTo(gt){return this._map&&this.remove(),this._map=gt,this.options.closeOnClick&&gt.on("preclick",this._onClose),this.options.closeOnMove&&gt.on("move",this._onClose),gt.on("remove",this.remove),this._update(),gt._addPopup(this),this._focusFirstElement(),this._trackPointer?(gt.on("mousemove",this._onMouseEvent),gt.on("mouseup",this._onMouseEvent),gt._canvasContainer.classList.add("mapboxgl-track-pointer")):gt.on("move",this._update),this.fire(new ot.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const gt=this._map;return gt&&(gt.off("move",this._update),gt.off("move",this._onClose),gt.off("preclick",this._onClose),gt.off("click",this._onClose),gt.off("remove",this.remove),gt.off("mousemove",this._onMouseEvent),gt.off("mouseup",this._onMouseEvent),gt.off("drag",this._onMouseEvent),gt._canvasContainer&&gt._canvasContainer.classList.remove("mapboxgl-track-pointer"),gt._removePopup(this),this._map=void 0),this.fire(new ot.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(gt){this._lngLat=ot.LngLat.convert(gt),this._pos=null,this._trackPointer=!1,this._update();const ut=this._map;return ut&&(ut.on("move",this._update),ut.off("mousemove",this._onMouseEvent),ut._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const gt=this._map;return gt&&(gt.off("move",this._update),gt.on("mousemove",this._onMouseEvent),gt.on("drag",this._onMouseEvent),gt._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(gt){return this.setDOMContent(ot.window.document.createTextNode(gt))}setHTML(gt){const ut=ot.window.document.createDocumentFragment(),ft=ot.window.document.createElement("body");let vt;for(ft.innerHTML=gt;vt=ft.firstChild,vt;)ut.appendChild(vt);return this.setDOMContent(ut)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(gt){return this.options.maxWidth=gt,this._update(),this}setDOMContent(gt){let ut=this._content;if(ut)for(;ut.hasChildNodes();)ut.firstChild&&ut.removeChild(ut.firstChild);else ut=this._content=Tt("div","mapboxgl-popup-content",this._container||void 0);if(ut.appendChild(gt),this.options.closeButton){const ft=this._closeButton=Tt("button","mapboxgl-popup-close-button",ut);ft.type="button",ft.setAttribute("aria-label","Close popup"),ft.setAttribute("aria-hidden","true"),ft.innerHTML="&#215;",ft.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(gt){return this._classList.add(gt),this._updateClassList(),this}removeClassName(gt){return this._classList.delete(gt),this._updateClassList(),this}setOffset(gt){return this.options.offset=gt,this._update(),this}toggleClassName(gt){let ut;return this._classList.delete(gt)?ut=!1:(this._classList.add(gt),ut=!0),this._updateClassList(),ut}_onMouseEvent(gt){this._update(gt.point)}_getAnchor(gt){if(this.options.anchor)return this.options.anchor;const ut=this._map,ft=this._container,vt=this._pos;if(!ut||!ft||!vt)return"bottom";const wt=ft.offsetWidth,Ct=ft.offsetHeight,Dt=vt.x<wt/2,zt=vt.x>ut.transform.width-wt/2;if(vt.y+gt<Ct)return Dt?"top-left":zt?"top-right":"top";if(vt.y>ut.transform.height-Ct){if(Dt)return"bottom-left";if(zt)return"bottom-right"}return Dt?"left":zt?"right":"bottom"}_updateClassList(){const gt=this._container;if(!gt)return;const ut=[...this._classList];ut.push("mapboxgl-popup"),this._anchor&&ut.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&ut.push("mapboxgl-popup-track-pointer"),gt.className=ut.join(" ")}_update(gt){const ut=this._map,ft=this._content;if(!ut||!this._lngLat&&!this._trackPointer||!ft)return;let vt=this._container;if(vt||(vt=this._container=Tt("div","mapboxgl-popup",ut.getContainer()),this._tip=Tt("div","mapboxgl-popup-tip",vt),vt.appendChild(ft)),this.options.maxWidth&&vt.style.maxWidth!==this.options.maxWidth&&(vt.style.maxWidth=this.options.maxWidth),ut.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=qu(this._lngLat,this._pos,ut.transform)),!this._trackPointer||gt){const wt=this._pos=this._trackPointer&&gt?gt:ut.project(this._lngLat),Ct=i1(this.options.offset),Dt=this._anchor=this._getAnchor(Ct.y),zt=i1(this.options.offset,Dt),Nt=wt.add(zt).round();ut._requestDomTask(()=>{this._container&&Dt&&(this._container.style.transform=`${bu[Dt]} translate(${Nt.x}px,${Nt.y}px)`)})}if(!this._marker&&ut._showingGlobe()){const wt=ot.isLngLatBehindGlobe(ut.transform,this._lngLat)?0:1;this._setOpacity(wt)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const gt=this._container.querySelector(hv);gt&&gt.focus()}_onClose(){this.remove()}_setOpacity(gt){this._container&&(this._container.style.opacity=`${gt}`),this._content&&(this._content.style.pointerEvents=gt?"auto":"none")}},Marker:Wn,Style:Tl,LngLat:ot.LngLat,LngLatBounds:ot.LngLatBounds,Point:ot.Point,MercatorCoordinate:ot.MercatorCoordinate,FreeCameraOptions:Uy,Evented:ot.Evented,config:ot.config,prewarm:function(){Ts().acquire(Uo)},clearPrewarmedResources:function(){const gt=gs;gt&&(gt.isPreloaded()&&gt.numActive()===1?(gt.release(Uo),gs=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return ot.config.ACCESS_TOKEN},set accessToken(gt){ot.config.ACCESS_TOKEN=gt},get baseApiUrl(){return ot.config.API_URL},set baseApiUrl(gt){ot.config.API_URL=gt},get workerCount(){return os.workerCount},set workerCount(gt){os.workerCount=gt},get maxParallelImageRequests(){return ot.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(gt){ot.config.MAX_PARALLEL_IMAGE_REQUESTS=gt},clearStorage(gt){ot.clearTileCache(gt)},workerUrl:"",workerClass:null,setNow:ot.exported.setNow,restoreNow:ot.exported.restoreNow};return Zu});var dt=at;return dt})})(mapboxGl$1);var mapboxGlExports=mapboxGl$1.exports;const mapboxgl=getDefaultExportFromCjs(mapboxGlExports),mapboxGl=_mergeNamespaces({__proto__:null,default:mapboxgl},[mapboxGlExports]);var lib={},runtime={exports:{}};(function(et){var tt=function(rt){var nt=Object.prototype,at=nt.hasOwnProperty,lt=Object.defineProperty||function(Qt,lr,cr){Qt[lr]=cr.value},dt,ot=typeof Symbol=="function"?Symbol:{},mt=ot.iterator||"@@iterator",xt=ot.asyncIterator||"@@asyncIterator",Et=ot.toStringTag||"@@toStringTag";function At(Qt,lr,cr){return Object.defineProperty(Qt,lr,{value:cr,enumerable:!0,configurable:!0,writable:!0}),Qt[lr]}try{At({},"")}catch{At=function(lr,cr,sr){return lr[cr]=sr}}function Tt(Qt,lr,cr,sr){var dr=lr&&lr.prototype instanceof It?lr:It,Rr=Object.create(dr.prototype),jr=new hr(sr||[]);return lt(Rr,"_invoke",{value:vr(Qt,cr,jr)}),Rr}rt.wrap=Tt;function Ft(Qt,lr,cr){try{return{type:"normal",arg:Qt.call(lr,cr)}}catch(sr){return{type:"throw",arg:sr}}}var Mt="suspendedStart",Lt="suspendedYield",Gt="executing",Pt="completed",$t={};function It(){}function Ot(){}function Vt(){}var Ut={};At(Ut,mt,function(){return this});var Wt=Object.getPrototypeOf,nr=Wt&&Wt(Wt(Tr([])));nr&&nr!==nt&&at.call(nr,mt)&&(Ut=nr);var er=Vt.prototype=It.prototype=Object.create(Ut);Ot.prototype=Vt,lt(er,"constructor",{value:Vt,configurable:!0}),lt(Vt,"constructor",{value:Ot,configurable:!0}),Ot.displayName=At(Vt,Et,"GeneratorFunction");function Kt(Qt){["next","throw","return"].forEach(function(lr){At(Qt,lr,function(cr){return this._invoke(lr,cr)})})}rt.isGeneratorFunction=function(Qt){var lr=typeof Qt=="function"&&Qt.constructor;return lr?lr===Ot||(lr.displayName||lr.name)==="GeneratorFunction":!1},rt.mark=function(Qt){return Object.setPrototypeOf?Object.setPrototypeOf(Qt,Vt):(Qt.__proto__=Vt,At(Qt,Et,"GeneratorFunction")),Qt.prototype=Object.create(er),Qt},rt.awrap=function(Qt){return{__await:Qt}};function ur(Qt,lr){function cr(Rr,jr,Sr,dn){var Qr=Ft(Qt[Rr],Qt,jr);if(Qr.type==="throw")dn(Qr.arg);else{var gn=Qr.arg,ln=gn.value;return ln&&typeof ln=="object"&&at.call(ln,"__await")?lr.resolve(ln.__await).then(function(Kr){cr("next",Kr,Sr,dn)},function(Kr){cr("throw",Kr,Sr,dn)}):lr.resolve(ln).then(function(Kr){gn.value=Kr,Sr(gn)},function(Kr){return cr("throw",Kr,Sr,dn)})}}var sr;function dr(Rr,jr){function Sr(){return new lr(function(dn,Qr){cr(Rr,jr,dn,Qr)})}return sr=sr?sr.then(Sr,Sr):Sr()}lt(this,"_invoke",{value:dr})}Kt(ur.prototype),At(ur.prototype,xt,function(){return this}),rt.AsyncIterator=ur,rt.async=function(Qt,lr,cr,sr,dr){dr===void 0&&(dr=Promise);var Rr=new ur(Tt(Qt,lr,cr,sr),dr);return rt.isGeneratorFunction(lr)?Rr:Rr.next().then(function(jr){return jr.done?jr.value:Rr.next()})};function vr(Qt,lr,cr){var sr=Mt;return function(Rr,jr){if(sr===Gt)throw new Error("Generator is already running");if(sr===Pt){if(Rr==="throw")throw jr;return Xt()}for(cr.method=Rr,cr.arg=jr;;){var Sr=cr.delegate;if(Sr){var dn=Lr(Sr,cr);if(dn){if(dn===$t)continue;return dn}}if(cr.method==="next")cr.sent=cr._sent=cr.arg;else if(cr.method==="throw"){if(sr===Mt)throw sr=Pt,cr.arg;cr.dispatchException(cr.arg)}else cr.method==="return"&&cr.abrupt("return",cr.arg);sr=Gt;var Qr=Ft(Qt,lr,cr);if(Qr.type==="normal"){if(sr=cr.done?Pt:Lt,Qr.arg===$t)continue;return{value:Qr.arg,done:cr.done}}else Qr.type==="throw"&&(sr=Pt,cr.method="throw",cr.arg=Qr.arg)}}}function Lr(Qt,lr){var cr=lr.method,sr=Qt.iterator[cr];if(sr===dt)return lr.delegate=null,cr==="throw"&&Qt.iterator.return&&(lr.method="return",lr.arg=dt,Lr(Qt,lr),lr.method==="throw")||cr!=="return"&&(lr.method="throw",lr.arg=new TypeError("The iterator does not provide a '"+cr+"' method")),$t;var dr=Ft(sr,Qt.iterator,lr.arg);if(dr.type==="throw")return lr.method="throw",lr.arg=dr.arg,lr.delegate=null,$t;var Rr=dr.arg;if(!Rr)return lr.method="throw",lr.arg=new TypeError("iterator result is not an object"),lr.delegate=null,$t;if(Rr.done)lr[Qt.resultName]=Rr.value,lr.next=Qt.nextLoc,lr.method!=="return"&&(lr.method="next",lr.arg=dt);else return Rr;return lr.delegate=null,$t}Kt(er),At(er,Et,"Generator"),At(er,mt,function(){return this}),At(er,"toString",function(){return"[object Generator]"});function Er(Qt){var lr={tryLoc:Qt[0]};1 in Qt&&(lr.catchLoc=Qt[1]),2 in Qt&&(lr.finallyLoc=Qt[2],lr.afterLoc=Qt[3]),this.tryEntries.push(lr)}function Cr(Qt){var lr=Qt.completion||{};lr.type="normal",delete lr.arg,Qt.completion=lr}function hr(Qt){this.tryEntries=[{tryLoc:"root"}],Qt.forEach(Er,this),this.reset(!0)}rt.keys=function(Qt){var lr=Object(Qt),cr=[];for(var sr in lr)cr.push(sr);return cr.reverse(),function dr(){for(;cr.length;){var Rr=cr.pop();if(Rr in lr)return dr.value=Rr,dr.done=!1,dr}return dr.done=!0,dr}};function Tr(Qt){if(Qt){var lr=Qt[mt];if(lr)return lr.call(Qt);if(typeof Qt.next=="function")return Qt;if(!isNaN(Qt.length)){var cr=-1,sr=function dr(){for(;++cr<Qt.length;)if(at.call(Qt,cr))return dr.value=Qt[cr],dr.done=!1,dr;return dr.value=dt,dr.done=!0,dr};return sr.next=sr}}return{next:Xt}}rt.values=Tr;function Xt(){return{value:dt,done:!0}}return hr.prototype={constructor:hr,reset:function(Qt){if(this.prev=0,this.next=0,this.sent=this._sent=dt,this.done=!1,this.delegate=null,this.method="next",this.arg=dt,this.tryEntries.forEach(Cr),!Qt)for(var lr in this)lr.charAt(0)==="t"&&at.call(this,lr)&&!isNaN(+lr.slice(1))&&(this[lr]=dt)},stop:function(){this.done=!0;var Qt=this.tryEntries[0],lr=Qt.completion;if(lr.type==="throw")throw lr.arg;return this.rval},dispatchException:function(Qt){if(this.done)throw Qt;var lr=this;function cr(dn,Qr){return Rr.type="throw",Rr.arg=Qt,lr.next=dn,Qr&&(lr.method="next",lr.arg=dt),!!Qr}for(var sr=this.tryEntries.length-1;sr>=0;--sr){var dr=this.tryEntries[sr],Rr=dr.completion;if(dr.tryLoc==="root")return cr("end");if(dr.tryLoc<=this.prev){var jr=at.call(dr,"catchLoc"),Sr=at.call(dr,"finallyLoc");if(jr&&Sr){if(this.prev<dr.catchLoc)return cr(dr.catchLoc,!0);if(this.prev<dr.finallyLoc)return cr(dr.finallyLoc)}else if(jr){if(this.prev<dr.catchLoc)return cr(dr.catchLoc,!0)}else if(Sr){if(this.prev<dr.finallyLoc)return cr(dr.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Qt,lr){for(var cr=this.tryEntries.length-1;cr>=0;--cr){var sr=this.tryEntries[cr];if(sr.tryLoc<=this.prev&&at.call(sr,"finallyLoc")&&this.prev<sr.finallyLoc){var dr=sr;break}}dr&&(Qt==="break"||Qt==="continue")&&dr.tryLoc<=lr&&lr<=dr.finallyLoc&&(dr=null);var Rr=dr?dr.completion:{};return Rr.type=Qt,Rr.arg=lr,dr?(this.method="next",this.next=dr.finallyLoc,$t):this.complete(Rr)},complete:function(Qt,lr){if(Qt.type==="throw")throw Qt.arg;return Qt.type==="break"||Qt.type==="continue"?this.next=Qt.arg:Qt.type==="return"?(this.rval=this.arg=Qt.arg,this.method="return",this.next="end"):Qt.type==="normal"&&lr&&(this.next=lr),$t},finish:function(Qt){for(var lr=this.tryEntries.length-1;lr>=0;--lr){var cr=this.tryEntries[lr];if(cr.finallyLoc===Qt)return this.complete(cr.completion,cr.afterLoc),Cr(cr),$t}},catch:function(Qt){for(var lr=this.tryEntries.length-1;lr>=0;--lr){var cr=this.tryEntries[lr];if(cr.tryLoc===Qt){var sr=cr.completion;if(sr.type==="throw"){var dr=sr.arg;Cr(cr)}return dr}}throw new Error("illegal catch attempt")},delegateYield:function(Qt,lr,cr){return this.delegate={iterator:Tr(Qt),resultName:lr,nextLoc:cr},this.method==="next"&&(this.arg=dt),$t}},rt}(et.exports);try{regeneratorRuntime=tt}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=tt:Function("r","regeneratorRuntime = r")(tt)}})(runtime);var runtimeExports=runtime.exports;(function(et){var tt=runtimeExports;function rt(Mt,Lt,Gt,Pt,$t,It,Ot){try{var Vt=Mt[It](Ot),Ut=Vt.value}catch(Wt){return void Gt(Wt)}Vt.done?Lt(Ut):Promise.resolve(Ut).then(Pt,$t)}function nt(Mt){return function(){var Lt=this,Gt=arguments;return new Promise(function(Pt,$t){var It=Mt.apply(Lt,Gt);function Ot(Ut){rt(It,Pt,$t,Ot,Vt,"next",Ut)}function Vt(Ut){rt(It,Pt,$t,Ot,Vt,"throw",Ut)}Ot(void 0)})}}Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var at=!1,lt=null,dt="en",ot=null,mt=null,xt="https://maps.googleapis.com/maps/api/geocode/json";function Et(Mt){var Lt=arguments.length>1&&arguments[1]!==void 0&&arguments[1];at&&(Lt?console.warn(Mt):console.log(Mt))}function At(Mt){return Tt.apply(this,arguments)}function Tt(){return(Tt=nt(tt.mark(function Mt(Lt){var Gt,Pt;return tt.wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:return $t.next=2,fetch(Lt).catch(function(){return Promise.reject(new Error("Error fetching data"))});case 2:return Gt=$t.sent,$t.next=5,Gt.json().catch(function(){return Et("Error parsing server response"),Promise.reject(new Error("Error parsing server response"))});case 5:if((Pt=$t.sent).status!=="OK"){$t.next=9;break}return Et(Pt),$t.abrupt("return",Pt);case 9:return Et("".concat(Pt.error_message,`.
Server returned status code `).concat(Pt.status),!0),$t.abrupt("return",Promise.reject(new Error("".concat(Pt.error_message,`.
Server returned status code `).concat(Pt.status))));case 11:case"end":return $t.stop()}},Mt)}))).apply(this,arguments)}var Ft={setApiKey:function(Mt){lt=Mt},setLanguage:function(Mt){dt=Mt},setRegion:function(Mt){ot=Mt},setLocationType:function(Mt){mt=Mt},enableDebug:function(){var Mt=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];at=Mt},fromLatLng:function(Mt,Lt,Gt,Pt,$t,It){return nt(tt.mark(function Ot(){var Vt,Ut;return tt.wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:if(Mt&&Lt){Wt.next=3;break}return Et("Provided coordinates are invalid",!0),Wt.abrupt("return",Promise.reject(new Error("Provided coordinates are invalid")));case 3:return Vt="".concat(Mt,",").concat(Lt),Ut="".concat(xt,"?latlng=").concat(encodeURIComponent(Vt)),(Gt||lt)&&(Ut+="&key=".concat(lt=Gt||lt)),(Pt||dt)&&(Ut+="&language=".concat(dt=Pt||dt)),($t||ot)&&(ot=$t||ot,Ut+="&region=".concat(encodeURIComponent(ot))),(It||mt)&&(mt=It||mt,Ut+="&location_type=".concat(encodeURIComponent(mt))),Wt.abrupt("return",At(Ut));case 9:case"end":return Wt.stop()}},Ot)}))()},fromAddress:function(Mt,Lt,Gt,Pt){return nt(tt.mark(function $t(){var It;return tt.wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:if(Mt){Ot.next=3;break}return Et("Provided address is invalid",!0),Ot.abrupt("return",Promise.reject(new Error("Provided address is invalid")));case 3:return It="".concat(xt,"?address=").concat(encodeURIComponent(Mt)),(Lt||lt)&&(It+="&key=".concat(lt=Lt||lt)),(Gt||dt)&&(It+="&language=".concat(dt=Gt||dt)),(Pt||ot)&&(ot=Pt||ot,It+="&region=".concat(encodeURIComponent(ot))),Ot.abrupt("return",At(It));case 8:case"end":return Ot.stop()}},$t)}))()}};et.default=Ft})(lib);const Geocode=getDefaultExportFromCjs(lib);function getCurrentLocation({setViewState:et}){navigator.geolocation.getCurrentPosition(tt=>{et({latitude:tt.coords.latitude,longitude:tt.coords.longitude,zoom:15})})}async function getCurrentGeocode(et){const tt=[];Geocode.setApiKey("AIzaSyAgl2juFj3hlySKnJ9J7kWsYy9e9TFNKOM"),Geocode.setLanguage("ko"),Geocode.setRegion("ko");try{return(await Geocode.fromLatLng(String(et.latitude),String(et.longitude))).results[1].address_components.map(nt=>{nt.types.map(at=>{switch(at){case"sublocality":tt.push(nt.long_name),console.log(typeof tt);break;case"administrative_area_level_1":tt.push(nt.long_name);break;case"administrative_area_level_2":tt.push(nt.long_name);break}})}),tt}catch(rt){return console.error(rt),[]}}const getPastWooyeon=async(et,tt)=>await fetch(`${BACK_URL}/post/viewed?month=${et}&year=${tt}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYjRmMDUxNTAtOGNiMC00NzVhLWIzYzYtZDM4MjM0OWM5NTNjIiwibmFtZSI6IuydtOuPhOqyvSIsImVtYWlsIjoiZG85OEBrYWthby5jb20iLCJyb2xlIjoiVVNFUiIsImlhdCI6MTY4NjExNDk1MSwiZXhwIjoxNjg2MjAxMzUxfQ.yHoGiXAFZt_a4A0RMyGVFC3kDvz1W8hjxfAHBDaG-_c"}}).then(nt=>nt.json()),Past=()=>{const{open:et,Drawer:tt,toggleDrawer:rt}=useDrawer(),nt=useTheme(),at=new Date,[lt,dt]=reactExports.useState(`${at.getFullYear()}.${at.getMonth()<10?"0"+at.getMonth():at.getMonth()}`),ot="ontouchstart"in window,[mt,xt]=reactExports.useState({year:at.getFullYear(),month:at.getMonth()+1,date:at.getDate()}),Et={longitude:127.9068,latitude:35.6699,zoom:6},At=reactExports.useRef(null),[Tt,Ft]=React.useState(Et);reactExports.useEffect(()=>{Gt.current==Et&&getCurrentLocation({setViewState:Ft}),console.log("searchDate: ",mt),Pt()},[navigator,mt]);const[Mt,Lt]=reactExports.useState(void 0),Gt=reactExports.useRef(Et),{mutate:Pt}=useMutation("get",()=>getPastWooyeon(mt.month,mt.year),{onMutate(){},onSuccess:$t=>{console.log("조회된 우연들: ",$t),console.log("searchDate: ",mt)}});return reactExports.useEffect(()=>{Gt.current=Tt,Gt.current!==void 0&&getCurrentGeocode(Gt.current).then($t=>{Lt($t.reverse().join(" "))})},[Tt]),jsxs(Fragment,{children:[jsx(Box$1,{sx:{"& .mapboxgl-map":{touchAction:"none"}},children:jsx(Map$1,{ref:At,mapboxAccessToken:"pk.eyJ1IjoiM28xNCIsImEiOiJjbGdxZjhldTUwMHIzM3NxdmcxNHY5dzA4In0.zfZX942Gc86CfIXcM5G9Vw",...Tt,onMove:$t=>Ft($t.viewState),mapStyle:`mapbox://styles/mapbox/${nt.palette.mode}-v9`,style:{backgroundColor:nt.palette.mode==="light"?"#f6f6f4":"#343332",width:"100%",height:"100vh"},mapLib:mapboxgl,children:jsx(Marker$1,{longitude:Tt.longitude,latitude:Tt.latitude,anchor:"center",children:jsx(Typography$1,{variant:"h5",sx:{marginBottom:"40px"},children:"🍀"})})})}),!ot&&jsx(Box$1,{onClick:rt,sx:forUntouchableStyle}),jsx(tt,{open:et,toggleDrawer:rt,headerChildren:CalendarHeader(lt),drawerBleeding:100,children:jsx(Calendar,{setDisplayDate:dt,setSearchDate:xt})})]})};function HeaderAddPost(){const{setHeadOpt:et,navigate:tt,setWrapperOpt:rt,setCategory:nt,shaking:at,setShaking:lt,post:dt,setPost:ot}=useOutletContext(),mt={menus:[{key:"위치",value:"/add-post"},{key:"카테고리",value:"/add-post/category"},{key:"내용",value:"/add-post/content"}],isForward:!1,icon_R:u,fn_R:()=>tt("/")},xt={isFullWidth:!0,isNoneHeadPadding:!1,isBtn:!0};return reactExports.useEffect(()=>{et(mt),rt(xt)},[]),reactExports.useEffect(()=>{console.log("[header]업로드할 우연 정보: ",dt),nt(dt==null?void 0:dt.category)},[dt]),jsx(Outlet,{context:{setHeadOpt:et,post:dt,setPost:ot,shaking:at,setShaking:lt}})}const markerImg="/assets/marker-49ceeaf3.png",initPosition={longitude:127.9068,latitude:35.6699,zoom:6},MapAddPost=()=>{const{post:et,setPost:tt}=useOutletContext(),rt=reactExports.useRef(null),[nt,at]=React.useState(initPosition);reactExports.useEffect(()=>{ot.current==initPosition&&getCurrentLocation({setViewState:at})},[navigator]);const[lt,dt]=reactExports.useState(void 0),ot=reactExports.useRef(initPosition),mt=useTheme();return reactExports.useEffect(()=>{ot.current=nt,ot.current!==void 0&&getCurrentGeocode(ot.current).then(xt=>{dt(xt.reverse().join(" "))})},[nt,navigator]),reactExports.useEffect(()=>{tt(xt=>({...xt,latitude:nt==null?void 0:nt.latitude,longitude:nt==null?void 0:nt.longitude,address:lt}))},[lt]),jsxs(Box$1,{sx:{padding:"1rem 0",maxHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between","& .mapboxgl-ctrl, & .mapboxgl-ctrl-logo ":{display:"none"}},children:[jsxs(Box$1,{sx:{padding:"1rem 1.5rem"},children:[jsxs(Typography$1,{variant:"h5",fontWeight:600,children:["지도를 움직여 추가할 ",jsx("br",{}),"우연의 장소를 지정해 주세요"]}),jsx(Typography$1,{variant:"subtitle1",sx:{color:"#A2A2A2"},children:lt||jsx(Skeleton$1,{variant:"text",animation:"wave",width:250})})]}),jsx(Box$1,{padding:0,sx:{width:"100%",maxWidth:500,"@media (max-width: 375px)":{height:350},height:530,overflow:"hidden"},children:ot.current!==initPosition?jsx(Map$1,{ref:rt,mapboxAccessToken:"pk.eyJ1IjoiM28xNCIsImEiOiJjbGdxZjhldTUwMHIzM3NxdmcxNHY5dzA4In0.zfZX942Gc86CfIXcM5G9Vw",...nt,onMove:xt=>at(xt.viewState),mapStyle:`mapbox://styles/mapbox/${mt.palette.mode}-v9`,style:{backgroundColor:mt.palette.mode==="light"?"#f6f6f4":"#343332"},mapLib:mapboxgl,children:jsx(Marker$1,{longitude:nt.longitude,latitude:nt.latitude,anchor:"center",children:jsx("img",{src:markerImg,alt:"marker",style:{width:"2.5rem"}})})}):jsx(Skeleton$1,{variant:"rectangular",height:600,sx:{maxHeight:"65vh"}})})]})},CategoryBtn=({category:et})=>{const tt=useTheme(),[rt,nt]=reactExports.useState(tt.palette.background.paper),at=xt=>{switch(xt){case"일상":return"DAILY";case"모임":return"GROUP";case"광고":return"ADS";case"정보":return"INFO";case"이벤트":return"EVENT";case"선물":return"PRESENT"}},{post:lt,setPost:dt}=useOutletContext(),{setShaking:ot}=useOutletContext(),mt=()=>{lt!=null&&lt.category?lt.category===at(et.id)?(dt(xt=>({...xt,category:null})),nt(rt===mainPrimary?tt.palette.background.paper:mainPrimary),ot(!1)):(console.log("님 이미 선택함"),ot(!0)):(dt(xt=>({...xt,category:at(et.id)})),nt(rt===mainPrimary?tt.palette.background.paper:mainPrimary))};return reactExports.useEffect(()=>{(lt==null?void 0:lt.category)===at(et.id)&&nt(mainPrimary)},[]),jsx(CategoryBtnUI,{activeColor:rt,handleButtonClick:mt,category:et})},CategoryAddPost=()=>{const{shaking:et}=useOutletContext();reactExports.useEffect(()=>{console.log("흔들어?",et)},[]);const tt=styled$4(Typography$1)(({shaking:rt})=>({animation:rt===!0?"shake 1s":"none","@keyframes shake":{"0%":{transform:"translateX(0)"},"25%":{transform:"translateX(-5px)"},"50%":{transform:"translateX(5px)"},"75%":{transform:"translateX(-5px)"},"100%":{transform:"translateX(0)"}}}));return jsxs(Box$1,{sx:{maxHeight:"100vh",padding:"1rem",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[jsxs(Box$1,{sx:{padding:"1rem 0.5rem"},children:[jsx(Typography$1,{variant:"h5",fontWeight:600,children:"추가할 우연의 카테고리를"}),jsx(Typography$1,{variant:"h5",fontWeight:600,paddingBottom:"1rem",children:"선택해주세요"}),jsx(tt,{variant:"subtitle1",fontWeight:500,sx:{color:"#A2A2A2"},shaking:et,children:"1개의 카테고리를 선택해 주세요."})]}),jsx(Box$1,{sx:{pt:"10rem","@media (max-width: 375px)":{pt:"3rem"}},children:jsx(Grid,{container:!0,rowSpacing:3,columnSpacing:2,margin:"0 auto",children:categoryArr.map(rt=>jsx(Grid,{xs:6,sx:{height:"7rem","@media (max-width: 375px)":{height:"6rem"}},children:jsx(CategoryBtn,{category:rt})},categoryArr.indexOf(rt)))})})]})};var dist={},utils={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.getListFiles=et.getImage=et.getBase64=et.getAcceptTypeString=et.openFileDialog=void 0,et.openFileDialog=function(tt){tt.current&&tt.current.click()},et.getAcceptTypeString=function(tt,rt){return tt!=null&&tt.length?tt.map(function(nt){return"."+nt}).join(", "):rt?"":"image/*"},et.getBase64=function(tt){var rt=new FileReader;return new Promise(function(nt){rt.addEventListener("load",function(){return nt(String(rt.result))}),rt.readAsDataURL(tt)})},et.getImage=function(tt){var rt=new Image;return new Promise(function(nt){rt.addEventListener("load",function(){return nt(rt)}),rt.src=URL.createObjectURL(tt)})},et.getListFiles=function(tt,rt){for(var nt=[],at=0;at<tt.length;at+=1)nt.push(et.getBase64(tt[at]));return Promise.all(nt).then(function(lt){var dt=lt.map(function(ot,mt){var xt;return xt={},xt[rt]=ot,xt.file=tt[mt],xt});return dt})}})(utils);var validation={},constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.DEFAULT_DATA_URL_KEY=constants.INIT_MAX_NUMBER=constants.DEFAULT_NULL_INDEX=void 0;constants.DEFAULT_NULL_INDEX=-1;constants.INIT_MAX_NUMBER=1e3;constants.DEFAULT_DATA_URL_KEY="dataURL";(function(et){var tt=commonjsGlobal&&commonjsGlobal.__awaiter||function(lt,dt,ot,mt){function xt(Et){return Et instanceof ot?Et:new ot(function(At){At(Et)})}return new(ot||(ot=Promise))(function(Et,At){function Tt(Lt){try{Mt(mt.next(Lt))}catch(Gt){At(Gt)}}function Ft(Lt){try{Mt(mt.throw(Lt))}catch(Gt){At(Gt)}}function Mt(Lt){Lt.done?Et(Lt.value):xt(Lt.value).then(Tt,Ft)}Mt((mt=mt.apply(lt,dt||[])).next())})},rt=commonjsGlobal&&commonjsGlobal.__generator||function(lt,dt){var ot={label:0,sent:function(){if(Et[0]&1)throw Et[1];return Et[1]},trys:[],ops:[]},mt,xt,Et,At;return At={next:Tt(0),throw:Tt(1),return:Tt(2)},typeof Symbol=="function"&&(At[Symbol.iterator]=function(){return this}),At;function Tt(Mt){return function(Lt){return Ft([Mt,Lt])}}function Ft(Mt){if(mt)throw new TypeError("Generator is already executing.");for(;ot;)try{if(mt=1,xt&&(Et=Mt[0]&2?xt.return:Mt[0]?xt.throw||((Et=xt.return)&&Et.call(xt),0):xt.next)&&!(Et=Et.call(xt,Mt[1])).done)return Et;switch(xt=0,Et&&(Mt=[Mt[0]&2,Et.value]),Mt[0]){case 0:case 1:Et=Mt;break;case 4:return ot.label++,{value:Mt[1],done:!1};case 5:ot.label++,xt=Mt[1],Mt=[0];continue;case 7:Mt=ot.ops.pop(),ot.trys.pop();continue;default:if(Et=ot.trys,!(Et=Et.length>0&&Et[Et.length-1])&&(Mt[0]===6||Mt[0]===2)){ot=0;continue}if(Mt[0]===3&&(!Et||Mt[1]>Et[0]&&Mt[1]<Et[3])){ot.label=Mt[1];break}if(Mt[0]===6&&ot.label<Et[1]){ot.label=Et[1],Et=Mt;break}if(Et&&ot.label<Et[2]){ot.label=Et[2],ot.ops.push(Mt);break}Et[2]&&ot.ops.pop(),ot.trys.pop();continue}Mt=dt.call(lt,ot)}catch(Lt){Mt=[6,Lt],xt=0}finally{mt=Et=0}if(Mt[0]&5)throw Mt[1];return{value:Mt[0]?Mt[1]:void 0,done:!0}}};Object.defineProperty(et,"__esModule",{value:!0}),et.getErrorValidation=et.isMaxNumberValid=et.isAcceptTypeValid=et.isMaxFileSizeValid=et.isImageValid=et.isResolutionValid=void 0;var nt=constants,at=utils;et.isResolutionValid=function(lt,dt,ot,mt){if(ot===void 0&&(ot=0),mt===void 0&&(mt=1),!ot||!mt||!lt.width||!lt.height)return!0;switch(dt){case"absolute":{if(lt.width===ot&&lt.height===mt)return!0;break}case"ratio":{var xt=ot/mt;if(lt.width/lt.height===xt)return!0;break}case"less":{if(lt.width<=ot&&lt.height<=mt)return!0;break}case"more":{if(lt.width>=ot&&lt.height>=mt)return!0;break}}return!1},et.isImageValid=function(lt){return!!lt.includes("image")},et.isMaxFileSizeValid=function(lt,dt){return dt?lt<=dt:!0},et.isAcceptTypeValid=function(lt,dt){if(lt&&lt.length>0){var ot=dt.split(".").pop()||"";if(lt.findIndex(function(mt){return mt.toLowerCase()===ot.toLowerCase()})<0)return!1}return!0},et.isMaxNumberValid=function(lt,dt,ot){if(dt!==0&&!dt)return!0;if(ot===nt.DEFAULT_NULL_INDEX){if(lt<=dt)return!0}else if(lt<=dt+1)return!0;return!1},et.getErrorValidation=function(lt){var dt=lt.fileList,ot=lt.value,mt=lt.maxNumber,xt=lt.keyUpdate,Et=lt.acceptType,At=lt.maxFileSize,Tt=lt.resolutionType,Ft=lt.resolutionWidth,Mt=lt.resolutionHeight,Lt=lt.allowNonImageType;return tt(void 0,void 0,void 0,function(){var Gt,Pt,$t,It,Ot;return rt(this,function(Vt){switch(Vt.label){case 0:return Gt={},et.isMaxNumberValid(dt.length+ot.length,mt,xt)?[3,1]:(Gt.maxNumber=!0,[3,5]);case 1:Pt=0,Vt.label=2;case 2:return Pt<dt.length?($t=dt[Pt].file,$t?!Lt&&!et.isImageValid($t.type)?(Gt.acceptType=!0,[3,5]):et.isAcceptTypeValid(Et,$t.name)?et.isMaxFileSizeValid($t.size,At)?Tt?[4,at.getImage($t)]:[3,4]:(Gt.maxFileSize=!0,[3,5]):(Gt.acceptType=!0,[3,5]):[3,4]):[3,5];case 3:if(It=Vt.sent(),Ot=et.isResolutionValid(It,Tt,Ft,Mt),!Ot)return Gt.resolution=!0,[3,5];Vt.label=4;case 4:return Pt+=1,[3,2];case 5:return Object.values(Gt).find(Boolean)?[2,Gt]:[2,null]}})})}})(validation);var __assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(et){for(var tt,rt=1,nt=arguments.length;rt<nt;rt++){tt=arguments[rt];for(var at in tt)Object.prototype.hasOwnProperty.call(tt,at)&&(et[at]=tt[at])}return et},__assign.apply(this,arguments)},__createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(et,tt,rt,nt){nt===void 0&&(nt=rt),Object.defineProperty(et,nt,{enumerable:!0,get:function(){return tt[rt]}})}:function(et,tt,rt,nt){nt===void 0&&(nt=rt),et[nt]=tt[rt]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(et,tt){Object.defineProperty(et,"default",{enumerable:!0,value:tt})}:function(et,tt){et.default=tt}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(et){if(et&&et.__esModule)return et;var tt={};if(et!=null)for(var rt in et)rt!=="default"&&Object.prototype.hasOwnProperty.call(et,rt)&&__createBinding(tt,et,rt);return __setModuleDefault(tt,et),tt},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(et,tt,rt,nt){function at(lt){return lt instanceof rt?lt:new rt(function(dt){dt(lt)})}return new(rt||(rt=Promise))(function(lt,dt){function ot(Et){try{xt(nt.next(Et))}catch(At){dt(At)}}function mt(Et){try{xt(nt.throw(Et))}catch(At){dt(At)}}function xt(Et){Et.done?lt(Et.value):at(Et.value).then(ot,mt)}xt((nt=nt.apply(et,tt||[])).next())})},__generator=commonjsGlobal&&commonjsGlobal.__generator||function(et,tt){var rt={label:0,sent:function(){if(lt[0]&1)throw lt[1];return lt[1]},trys:[],ops:[]},nt,at,lt,dt;return dt={next:ot(0),throw:ot(1),return:ot(2)},typeof Symbol=="function"&&(dt[Symbol.iterator]=function(){return this}),dt;function ot(xt){return function(Et){return mt([xt,Et])}}function mt(xt){if(nt)throw new TypeError("Generator is already executing.");for(;rt;)try{if(nt=1,at&&(lt=xt[0]&2?at.return:xt[0]?at.throw||((lt=at.return)&&lt.call(at),0):at.next)&&!(lt=lt.call(at,xt[1])).done)return lt;switch(at=0,lt&&(xt=[xt[0]&2,lt.value]),xt[0]){case 0:case 1:lt=xt;break;case 4:return rt.label++,{value:xt[1],done:!1};case 5:rt.label++,at=xt[1],xt=[0];continue;case 7:xt=rt.ops.pop(),rt.trys.pop();continue;default:if(lt=rt.trys,!(lt=lt.length>0&&lt[lt.length-1])&&(xt[0]===6||xt[0]===2)){rt=0;continue}if(xt[0]===3&&(!lt||xt[1]>lt[0]&&xt[1]<lt[3])){rt.label=xt[1];break}if(xt[0]===6&&rt.label<lt[1]){rt.label=lt[1],lt=xt;break}if(lt&&rt.label<lt[2]){rt.label=lt[2],rt.ops.push(xt);break}lt[2]&&rt.ops.pop(),rt.trys.pop();continue}xt=tt.call(et,rt)}catch(Et){xt=[6,Et],at=0}finally{nt=lt=0}if(xt[0]&5)throw xt[1];return{value:xt[0]?xt[1]:void 0,done:!0}}},__spreadArrays=commonjsGlobal&&commonjsGlobal.__spreadArrays||function(){for(var et=0,tt=0,rt=arguments.length;tt<rt;tt++)et+=arguments[tt].length;for(var nt=Array(et),at=0,tt=0;tt<rt;tt++)for(var lt=arguments[tt],dt=0,ot=lt.length;dt<ot;dt++,at++)nt[at]=lt[dt];return nt};Object.defineProperty(dist,"__esModule",{value:!0});var react_1=__importStar(reactExports),utils_1=utils,validation_1=validation,constants_1=constants,ReactImageUploading=function(et){var tt=et.value,rt=tt===void 0?[]:tt,nt=et.onChange,at=et.onError,lt=et.children,dt=et.dataURLKey,ot=dt===void 0?constants_1.DEFAULT_DATA_URL_KEY:dt,mt=et.multiple,xt=mt===void 0?!1:mt,Et=et.maxNumber,At=Et===void 0?constants_1.INIT_MAX_NUMBER:Et,Tt=et.acceptType,Ft=et.maxFileSize,Mt=et.resolutionWidth,Lt=et.resolutionHeight,Gt=et.resolutionType,Pt=et.inputProps,$t=Pt===void 0?{}:Pt,It=et.allowNonImageType,Ot=It===void 0?!1:It,Vt=rt||[],Ut=react_1.useRef(null),Wt=react_1.useState(constants_1.DEFAULT_NULL_INDEX),nr=Wt[0],er=Wt[1],Kt=react_1.useState(null),ur=Kt[0],vr=Kt[1],Lr=react_1.useState(!1),Er=Lr[0],Cr=Lr[1],hr=react_1.useCallback(function(){return utils_1.openFileDialog(Ut)},[Ut]),Tr=react_1.useCallback(function(){er(constants_1.DEFAULT_NULL_INDEX),hr()},[hr]),Xt=react_1.useCallback(function(){nt==null||nt([])},[nt]),Qt=function(ln){var Kr=__spreadArrays(Vt);Array.isArray(ln)?ln.forEach(function(cn){Kr.splice(cn,1)}):Kr.splice(ln,1),nt==null||nt(Kr)},lr=function(ln){er(ln),hr()},cr=function(ln){return __awaiter(void 0,void 0,void 0,function(){var Kr;return __generator(this,function(cn){switch(cn.label){case 0:return[4,validation_1.getErrorValidation({fileList:ln,maxFileSize:Ft,maxNumber:At,acceptType:Tt,keyUpdate:nr,resolutionType:Gt,resolutionWidth:Mt,resolutionHeight:Lt,value:Vt,allowNonImageType:Ot})];case 1:return Kr=cn.sent(),Kr?(vr(Kr),at==null||at(Kr,ln),[2,!1]):(ur&&vr(null),[2,!0])}})})},sr=function(ln){return __awaiter(void 0,void 0,void 0,function(){var Kr,cn,En,yn,Rn,Zn;return __generator(this,function(jn){switch(jn.label){case 0:return ln?[4,utils_1.getListFiles(ln,ot)]:[2];case 1:return Kr=jn.sent(),Kr.length?[4,cr(Kr)]:[2];case 2:if(cn=jn.sent(),!cn)return[2];if(yn=[],nr>constants_1.DEFAULT_NULL_INDEX)Rn=Kr[0],En=__spreadArrays(Vt),En[nr]=Rn,yn.push(nr);else if(xt)for(En=__spreadArrays(Vt,Kr),Zn=Vt.length;Zn<En.length;Zn+=1)yn.push(Zn);else En=[Kr[0]],yn.push(0);return nt==null||nt(En,yn),[2]}})})},dr=function(ln){return __awaiter(void 0,void 0,void 0,function(){return __generator(this,function(Kr){switch(Kr.label){case 0:return[4,sr(ln.target.files)];case 1:return Kr.sent(),nr>constants_1.DEFAULT_NULL_INDEX&&er(constants_1.DEFAULT_NULL_INDEX),Ut.current&&(Ut.current.value=""),[2]}})})},Rr=react_1.useMemo(function(){return utils_1.getAcceptTypeString(Tt,Ot)},[Tt,Ot]),jr=function(ln){ln.preventDefault(),ln.stopPropagation()},Sr=function(ln){ln.preventDefault(),ln.stopPropagation(),ln.dataTransfer.items&&ln.dataTransfer.items.length>0&&Cr(!0)},dn=function(ln){ln.preventDefault(),ln.stopPropagation(),Cr(!1)},Qr=function(ln){ln.preventDefault(),ln.stopPropagation(),Cr(!1),ln.dataTransfer.files&&ln.dataTransfer.files.length>0&&sr(ln.dataTransfer.files)},gn=function(ln){ln.preventDefault(),ln.stopPropagation(),ln.dataTransfer.clearData()};return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",__assign({type:"file",accept:Rr,ref:Ut,multiple:xt&&nr===constants_1.DEFAULT_NULL_INDEX,onChange:dr,style:{display:"none"}},$t)),lt==null?void 0:lt({imageList:Vt,onImageUpload:Tr,onImageRemoveAll:Xt,onImageUpdate:lr,onImageRemove:Qt,errors:ur,dragProps:{onDrop:Qr,onDragEnter:Sr,onDragLeave:dn,onDragOver:jr,onDragStart:gn},isDragging:Er}))},_default=dist.default=ReactImageUploading;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n=function(et,tt){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rt,nt){rt.__proto__=nt}||function(rt,nt){for(var at in nt)nt.hasOwnProperty(at)&&(rt[at]=nt[at])})(et,tt)},o,r,i=(function(et){/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var tt={}.hasOwnProperty;function rt(){for(var nt=[],at=0;at<arguments.length;at++){var lt=arguments[at];if(lt){var dt=typeof lt;if(dt==="string"||dt==="number")nt.push(lt);else if(Array.isArray(lt)&&lt.length){var ot=rt.apply(null,lt);ot&&nt.push(ot)}else if(dt==="object")for(var mt in lt)tt.call(lt,mt)&&lt[mt]&&nt.push(mt)}}return nt.join(" ")}et.exports?(rt.default=rt,et.exports=rt):window.classNames=rt})()}(r={path:o,exports:{},require:function(et,tt){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(tt==null&&r.path)}},r.exports),r.exports);function s(et,tt,rt){var nt,at,lt,dt,ot;function mt(){var Et=Date.now()-dt;Et<tt&&Et>=0?nt=setTimeout(mt,tt-Et):(nt=null,rt||(ot=et.apply(lt,at),lt=at=null))}tt==null&&(tt=100);var xt=function(){lt=this,at=arguments,dt=Date.now();var Et=rt&&!nt;return nt||(nt=setTimeout(mt,tt)),Et&&(ot=et.apply(lt,at),lt=at=null),ot};return xt.clear=function(){nt&&(clearTimeout(nt),nt=null)},xt.flush=function(){nt&&(ot=et.apply(lt,at),lt=at=null,clearTimeout(nt),nt=null)},xt}s.debounce=s;var l=s;(function(et,tt){tt===void 0&&(tt={});var rt=tt.insertAt;if(et&&typeof document<"u"){var nt=document.head||document.getElementsByTagName("head")[0],at=document.createElement("style");at.type="text/css",rt==="top"&&nt.firstChild?nt.insertBefore(at,nt.firstChild):nt.appendChild(at),at.styleSheet?at.styleSheet.cssText=et:at.appendChild(document.createTextNode(et))}})(`.indiana-scroll-container {
  overflow: auto; }
  .indiana-scroll-container--dragging {
    scroll-behavior: auto !important; }
    .indiana-scroll-container--dragging > * {
      pointer-events: none;
      cursor: -webkit-grab;
      cursor: grab; }
  .indiana-scroll-container--hide-scrollbars {
    overflow: hidden;
    overflow: -moz-scrollbars-none;
    -ms-overflow-style: none;
    scrollbar-width: none; }
    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {
      display: none !important;
      height: 0 !important;
      width: 0 !important;
      background: transparent !important;
      -webkit-appearance: none !important; }
  .indiana-scroll-container--native-scroll {
    overflow: auto; }

.indiana-dragging {
  cursor: -webkit-grab;
  cursor: grab; }
`);var a,c=(a="indiana-scroll-container",function(et,tt){if(!et)return a;var rt;typeof et=="string"?rt=et:tt=et;var nt=a;return rt&&(nt+="__"+rt),nt+(tt?Object.keys(tt).reduce(function(at,lt){var dt=tt[lt];return dt&&(at+=" "+(typeof dt=="boolean"?nt+"--"+lt:nt+"--"+lt+"_"+dt)),at},""):"")}),p=function(et){function tt(rt){var nt=et.call(this,rt)||this;return nt.onEndScroll=function(){nt.scrolling=!1,!nt.pressed&&nt.started&&nt.processEnd()},nt.onScroll=function(at){var lt=nt.container.current;lt.scrollLeft===nt.scrollLeft&&lt.scrollTop===nt.scrollTop||(nt.scrolling=!0,nt.processScroll(at),nt.onEndScroll())},nt.onTouchStart=function(at){var lt=nt.props.nativeMobileScroll;if(nt.isDraggable(at.target))if(nt.internal=!0,lt&&nt.scrolling)nt.pressed=!0;else{var dt=at.touches[0];nt.processClick(at,dt.clientX,dt.clientY),!lt&&nt.props.stopPropagation&&at.stopPropagation()}},nt.onTouchEnd=function(at){var lt=nt.props.nativeMobileScroll;nt.pressed&&(!nt.started||nt.scrolling&&lt?nt.pressed=!1:nt.processEnd(),nt.forceUpdate())},nt.onTouchMove=function(at){var lt=nt.props.nativeMobileScroll;if(nt.pressed&&(!lt||!nt.isMobile)){var dt=at.touches[0];dt&&nt.processMove(at,dt.clientX,dt.clientY),at.preventDefault(),nt.props.stopPropagation&&at.stopPropagation()}},nt.onMouseDown=function(at){nt.isDraggable(at.target)&&nt.isScrollable()&&(nt.internal=!0,nt.props.buttons.indexOf(at.button)!==-1&&(nt.processClick(at,at.clientX,at.clientY),at.preventDefault(),nt.props.stopPropagation&&at.stopPropagation()))},nt.onMouseMove=function(at){nt.pressed&&(nt.processMove(at,at.clientX,at.clientY),at.preventDefault(),nt.props.stopPropagation&&at.stopPropagation())},nt.onMouseUp=function(at){nt.pressed&&(nt.started?nt.processEnd():(nt.internal=!1,nt.pressed=!1,nt.forceUpdate(),nt.props.onClick&&nt.props.onClick(at)),at.preventDefault(),nt.props.stopPropagation&&at.stopPropagation())},nt.container=React.createRef(),nt.onEndScroll=l(nt.onEndScroll,300),nt.scrolling=!1,nt.started=!1,nt.pressed=!1,nt.internal=!1,nt.getRef=nt.getRef.bind(nt),nt}return function(rt,nt){function at(){this.constructor=rt}n(rt,nt),rt.prototype=nt===null?Object.create(nt):(at.prototype=nt.prototype,new at)}(tt,et),tt.prototype.componentDidMount=function(){var rt=this.props.nativeMobileScroll,nt=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),nt.addEventListener("touchstart",this.onTouchStart,{passive:!1}),nt.addEventListener("mousedown",this.onMouseDown,{passive:!1}),rt&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},tt.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},tt.prototype.getElement=function(){return this.container.current},tt.prototype.isMobileDevice=function(){return window.orientation!==void 0||navigator.userAgent.indexOf("IEMobile")!==-1},tt.prototype.isDraggable=function(rt){var nt=this.props.ignoreElements;if(nt){var at=rt.closest(nt);return at===null||at.contains(this.getElement())}return!0},tt.prototype.isScrollable=function(){var rt=this.container.current;return rt&&(rt.scrollWidth>rt.clientWidth||rt.scrollHeight>rt.clientHeight)},tt.prototype.processClick=function(rt,nt,at){var lt=this.container.current;this.scrollLeft=lt.scrollLeft,this.scrollTop=lt.scrollTop,this.clientX=nt,this.clientY=at,this.pressed=!0},tt.prototype.processStart=function(rt){rt===void 0&&(rt=!0);var nt=this.props.onStartScroll;this.started=!0,rt&&document.body.classList.add("indiana-dragging"),nt&&nt({external:!this.internal}),this.forceUpdate()},tt.prototype.processScroll=function(rt){if(this.started){var nt=this.props.onScroll;nt&&nt({external:!this.internal})}else this.processStart(!1)},tt.prototype.processMove=function(rt,nt,at){var lt=this.props,dt=lt.horizontal,ot=lt.vertical,mt=lt.activationDistance,xt=lt.onScroll,Et=this.container.current;this.started?(dt&&(Et.scrollLeft-=nt-this.clientX),ot&&(Et.scrollTop-=at-this.clientY),xt&&xt({external:!this.internal}),this.clientX=nt,this.clientY=at,this.scrollLeft=Et.scrollLeft,this.scrollTop=Et.scrollTop):(dt&&Math.abs(nt-this.clientX)>mt||ot&&Math.abs(at-this.clientY)>mt)&&(this.clientX=nt,this.clientY=at,this.processStart())},tt.prototype.processEnd=function(){var rt=this.props.onEndScroll;this.container.current&&rt&&rt({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},tt.prototype.getRef=function(rt){[this.container,this.props.innerRef].forEach(function(nt){nt&&(typeof nt=="function"?nt(rt):nt.current=rt)})},tt.prototype.render=function(){var rt=this.props,nt=rt.children,at=rt.draggingClassName,lt=rt.className,dt=rt.style,ot=rt.hideScrollbars,mt=rt.component;return React.createElement(mt,{className:i(lt,this.pressed&&at,c({dragging:this.pressed,"hide-scrollbars":ot,"native-scroll":this.isMobile})),style:dt,ref:this.getRef,onScroll:this.onScroll},nt)},tt.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]},tt}(reactExports.PureComponent);const style="",customTheme=et=>createTheme({palette:{mode:et.palette.mode,primary:{main:mainPrimary},secondary:{main:secondary}},components:{MuiTextField:{styleOverrides:{root:{"--TextField-brandBorderColor":"#E0E3E7","--TextField-brandBorderHoverColor":"#B2BAC2","--TextField-brandBorderFocusedColor":"#6F7E8C","& label.Mui-focused":{color:"var(--TextField-brandBorderFocusedColor)"}}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:"var(--TextField-brandBorderColor)"}}},MuiFilledInput:{styleOverrides:{root:{"&:before, &:after":{borderBottom:"2px solid var(--TextField-brandBorderColor)"},"&:hover:not(.Mui-disabled, .Mui-error):before":{borderBottom:"2px solid var(--TextField-brandBorderHoverColor)"},"&.Mui-focused:after":{borderBottom:"2px solid var(--TextField-brandBorderFocusedColor)"}}}},MuiInput:{styleOverrides:{root:{"&:before":{borderBottom:"2px solid var(--TextField-brandBorderColor)"},"&:hover:not(.Mui-disabled, .Mui-error):before":{borderBottom:"2px solid var(--TextField-brandBorderHoverColor)"},"&.Mui-focused:after":{borderBottom:"2px solid var(--TextField-brandBorderFocusedColor)"}}}}}}),shapeStyles={bgcolor:"primary.main",width:30,height:30},shapeCircleStyles={borderRadius:"50%"},ContentAddPost=()=>{const{post:et,setPost:tt}=useOutletContext(),[rt,nt]=reactExports.useState(),at=useTheme(),[lt,dt]=reactExports.useState([]),ot=10,mt=(Pt,$t)=>{console.log("imageList: ",Pt),console.log("addUpdateIndex: ",$t),dt(Pt)},xt=Pt=>{nt(Pt.target.value)};reactExports.useEffect(()=>{tt(Pt=>({...Pt,content:rt,photo:lt})),console.log("최종: ",et),console.log("images's lenght: ",lt.length)},[rt,lt]);const[Et,At]=reactExports.useState(!1),[Tt,Ft]=reactExports.useState({}),[Mt,Lt]=reactExports.useState(),Gt=Pt=>{Lt(Pt),At($t=>!$t),Ft({filter:Tt==="brightness(50%)"?"none":"brightness(50%)"})};return jsx(ThemeProvider,{theme:customTheme(at),children:jsxs(Box$1,{sx:{maxHeight:"100vh",padding:"1rem 1.5rem",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[jsxs(Box$1,{sx:{display:"flex",flexDirection:"column"},children:[jsxs(Box$1,{sx:{display:"flex",pb:"1rem",justifyContent:"space-between",alignItems:"flex-end"},children:[jsx(Chip$1,{label:(et==null?void 0:et.category)&&`#${Category[et.category]}`,size:"medium",color:"primary",sx:{fontWeight:"800"}}),jsxs(Box$1,{sx:{display:"flex"},children:[jsx(C$1,{size:22,weight:"fill"}),jsx(Typography$1,{sx:{pl:"5px"},children:et==null?void 0:et.address})]})]}),jsx(TextField$1,{multiline:!0,rows:6,label:"어떤 일이 있었나요?",variant:"standard",InputProps:{disableUnderline:!0,style:{borderTop:"0.5px solid #E5E5E5"}},value:rt,onChange:xt})]}),jsx(_default,{multiple:!0,value:lt,onChange:mt,maxNumber:ot,children:({imageList:Pt,onImageUpload:$t,onImageRemove:It})=>jsx(Box$1,{sx:{position:"fixed",bottom:0,margin:"0 auto",left:0,right:0,pb:"7rem","@media (max-width: 375px)":{pb:"1rem"}},children:jsxs(p,{className:Pt.length?"scroll-container scrollContainer--imgExist":"scroll-container scrollContainer",horizontal:!0,vertical:!1,children:[Pt.map((Ot,Vt)=>jsxs(Box$1,{sx:{display:"flex",justifyContent:"center",alignItems:"center",p:20,"@media (max-width: 375px)":{p:14},position:"relative",mr:3,height:Pt.length?"100%":"75%"},onClick:()=>Gt(Vt),children:[jsx("img",{src:Ot.dataURL,style:{position:"absolute",width:"100%",height:"100%",objectFit:"cover",borderRadius:"15px",filter:Mt===Vt&&Et?"brightness(50%)":"none"}}),jsx(Badge$1,{color:"secondary",overlap:"circular",badgeContent:" ",invisible:!0,sx:{position:"absolute",top:"5%",left:"86%","@media (max-width: 375px)":{left:"83%"},transform:"translate(-50%, -50%)"},children:jsx(Box$1,{component:"span",sx:{...shapeStyles,...shapeCircleStyles,position:"absolute",display:"flex",justifyContent:"center",textAlign:"center",pt:.3,color:"white",fontWeight:"bold"},children:Vt+1})}),Mt===Vt?Et&&jsx("button",{onClick:()=>{It(Vt)},style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none",padding:0,color:"white",fontSize:"1.5rem",fontWeight:"bold"},children:"지우기"}):null]},Vt)),jsx(Box$1,{display:"flex",justifyContent:"center",alignItems:"center",children:jsxs(Button$1,{onClick:$t,className:Pt.length?"plusImage--imgExist":"plusImage",style:{background:at.palette.mode==="light"?"#ffffff":"#343332",boxShadow:at.palette.mode==="light"?"20px 20px 40px #bebebe":"20px 20px 40px #1f1f1f"},children:[jsx(H$2,{size:40,color:secondary}),jsx(Typography$1,{sx:{color:at.palette.mode==="light"?"black":"white",fontSize:"1.2rem",fontWeight:"medium"},children:"사진 추가"})]})})]})})})]})})};var defaultLocale$1="en",localesData$1={},lowercaseLocaleLookup={};function getDefaultLocale(){return defaultLocale$1}function setDefaultLocale(et){defaultLocale$1=et}function getLocaleData$1(et){return localesData$1[et]}function addLocaleData$1(et){if(!et)throw new Error("No locale data passed");localesData$1[et.locale]=et,lowercaseLocaleLookup[et.locale.toLowerCase()]=et.locale}function resolveLocale$1(et){if(localesData$1[et])return et;if(lowercaseLocaleLookup[et.toLowerCase()])return lowercaseLocaleLookup[et.toLowerCase()]}function resolveLocale(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=tt.localeMatcher||"lookup";switch(rt){case"lookup":return resolveLocaleLookup(et);case"best fit":return resolveLocaleLookup(et);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(rt))}}function resolveLocaleLookup(et){var tt=resolveLocale$1(et);if(tt)return tt;for(var rt=et.split("-");et.length>1;){rt.pop(),et=rt.join("-");var nt=resolveLocale$1(et);if(nt)return nt}}var $$1={af:function et(tt){return tt==1?"one":"other"},am:function et(tt){return tt>=0&&tt<=1?"one":"other"},ar:function et(tt){var rt=String(tt).split("."),nt=Number(rt[0])==tt,at=nt&&rt[0].slice(-2);return tt==0?"zero":tt==1?"one":tt==2?"two":at>=3&&at<=10?"few":at>=11&&at<=99?"many":"other"},ast:function et(tt){var rt=String(tt).split("."),nt=!rt[1];return tt==1&&nt?"one":"other"},be:function et(tt){var rt=String(tt).split("."),nt=Number(rt[0])==tt,at=nt&&rt[0].slice(-1),lt=nt&&rt[0].slice(-2);return at==1&&lt!=11?"one":at>=2&&at<=4&&(lt<12||lt>14)?"few":nt&&at==0||at>=5&&at<=9||lt>=11&&lt<=14?"many":"other"},br:function et(tt){var rt=String(tt).split("."),nt=Number(rt[0])==tt,at=nt&&rt[0].slice(-1),lt=nt&&rt[0].slice(-2),dt=nt&&rt[0].slice(-6);return at==1&&lt!=11&&lt!=71&&lt!=91?"one":at==2&&lt!=12&&lt!=72&&lt!=92?"two":(at==3||at==4||at==9)&&(lt<10||lt>19)&&(lt<70||lt>79)&&(lt<90||lt>99)?"few":tt!=0&&nt&&dt==0?"many":"other"},bs:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=rt[1]||"",lt=!rt[1],dt=nt.slice(-1),ot=nt.slice(-2),mt=at.slice(-1),xt=at.slice(-2);return lt&&dt==1&&ot!=11||mt==1&&xt!=11?"one":lt&&dt>=2&&dt<=4&&(ot<12||ot>14)||mt>=2&&mt<=4&&(xt<12||xt>14)?"few":"other"},ca:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=!rt[1],lt=nt.slice(-6);return tt==1&&at?"one":nt!=0&&lt==0&&at?"many":"other"},ceb:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=rt[1]||"",lt=!rt[1],dt=nt.slice(-1),ot=at.slice(-1);return lt&&(nt==1||nt==2||nt==3)||lt&&dt!=4&&dt!=6&&dt!=9||!lt&&ot!=4&&ot!=6&&ot!=9?"one":"other"},cs:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=!rt[1];return tt==1&&at?"one":nt>=2&&nt<=4&&at?"few":at?"other":"many"},cy:function et(tt){return tt==0?"zero":tt==1?"one":tt==2?"two":tt==3?"few":tt==6?"many":"other"},da:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=Number(rt[0])==tt;return tt==1||!at&&(nt==0||nt==1)?"one":"other"},dsb:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=rt[1]||"",lt=!rt[1],dt=nt.slice(-2),ot=at.slice(-2);return lt&&dt==1||ot==1?"one":lt&&dt==2||ot==2?"two":lt&&(dt==3||dt==4)||ot==3||ot==4?"few":"other"},dz:function et(tt){return"other"},es:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=!rt[1],lt=nt.slice(-6);return tt==1?"one":nt!=0&&lt==0&&at?"many":"other"},ff:function et(tt){return tt>=0&&tt<2?"one":"other"},fr:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=!rt[1],lt=nt.slice(-6);return tt>=0&&tt<2?"one":nt!=0&&lt==0&&at?"many":"other"},ga:function et(tt){var rt=String(tt).split("."),nt=Number(rt[0])==tt;return tt==1?"one":tt==2?"two":nt&&tt>=3&&tt<=6?"few":nt&&tt>=7&&tt<=10?"many":"other"},gd:function et(tt){var rt=String(tt).split("."),nt=Number(rt[0])==tt;return tt==1||tt==11?"one":tt==2||tt==12?"two":nt&&tt>=3&&tt<=10||nt&&tt>=13&&tt<=19?"few":"other"},he:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=!rt[1];return nt==1&&at||nt==0&&!at?"one":nt==2&&at?"two":"other"},is:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=(rt[1]||"").replace(/0+$/,""),lt=Number(rt[0])==tt,dt=nt.slice(-1),ot=nt.slice(-2);return lt&&dt==1&&ot!=11||at%10==1&&at%100!=11?"one":"other"},ksh:function et(tt){return tt==0?"zero":tt==1?"one":"other"},lt:function et(tt){var rt=String(tt).split("."),nt=rt[1]||"",at=Number(rt[0])==tt,lt=at&&rt[0].slice(-1),dt=at&&rt[0].slice(-2);return lt==1&&(dt<11||dt>19)?"one":lt>=2&&lt<=9&&(dt<11||dt>19)?"few":nt!=0?"many":"other"},lv:function et(tt){var rt=String(tt).split("."),nt=rt[1]||"",at=nt.length,lt=Number(rt[0])==tt,dt=lt&&rt[0].slice(-1),ot=lt&&rt[0].slice(-2),mt=nt.slice(-2),xt=nt.slice(-1);return lt&&dt==0||ot>=11&&ot<=19||at==2&&mt>=11&&mt<=19?"zero":dt==1&&ot!=11||at==2&&xt==1&&mt!=11||at!=2&&xt==1?"one":"other"},mk:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=rt[1]||"",lt=!rt[1],dt=nt.slice(-1),ot=nt.slice(-2),mt=at.slice(-1),xt=at.slice(-2);return lt&&dt==1&&ot!=11||mt==1&&xt!=11?"one":"other"},mt:function et(tt){var rt=String(tt).split("."),nt=Number(rt[0])==tt,at=nt&&rt[0].slice(-2);return tt==1?"one":tt==2?"two":tt==0||at>=3&&at<=10?"few":at>=11&&at<=19?"many":"other"},pa:function et(tt){return tt==0||tt==1?"one":"other"},pl:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=!rt[1],lt=nt.slice(-1),dt=nt.slice(-2);return tt==1&&at?"one":at&&lt>=2&&lt<=4&&(dt<12||dt>14)?"few":at&&nt!=1&&(lt==0||lt==1)||at&&lt>=5&&lt<=9||at&&dt>=12&&dt<=14?"many":"other"},pt:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=!rt[1],lt=nt.slice(-6);return nt==0||nt==1?"one":nt!=0&&lt==0&&at?"many":"other"},ro:function et(tt){var rt=String(tt).split("."),nt=!rt[1],at=Number(rt[0])==tt,lt=at&&rt[0].slice(-2);return tt==1&&nt?"one":!nt||tt==0||tt!=1&&lt>=1&&lt<=19?"few":"other"},ru:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=!rt[1],lt=nt.slice(-1),dt=nt.slice(-2);return at&&lt==1&&dt!=11?"one":at&&lt>=2&&lt<=4&&(dt<12||dt>14)?"few":at&&lt==0||at&&lt>=5&&lt<=9||at&&dt>=11&&dt<=14?"many":"other"},se:function et(tt){return tt==1?"one":tt==2?"two":"other"},si:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=rt[1]||"";return tt==0||tt==1||nt==0&&at==1?"one":"other"},sl:function et(tt){var rt=String(tt).split("."),nt=rt[0],at=!rt[1],lt=nt.slice(-2);return at&&lt==1?"one":at&&lt==2?"two":at&&(lt==3||lt==4)||!at?"few":"other"}};$$1.as=$$1.am;$$1.az=$$1.af;$$1.bg=$$1.af;$$1.bn=$$1.am;$$1.brx=$$1.af;$$1.ce=$$1.af;$$1.chr=$$1.af;$$1.de=$$1.ast;$$1.ee=$$1.af;$$1.el=$$1.af;$$1.en=$$1.ast;$$1.et=$$1.ast;$$1.eu=$$1.af;$$1.fa=$$1.am;$$1.fi=$$1.ast;$$1.fil=$$1.ceb;$$1.fo=$$1.af;$$1.fur=$$1.af;$$1.fy=$$1.ast;$$1.gl=$$1.ast;$$1.gu=$$1.am;$$1.ha=$$1.af;$$1.hi=$$1.am;$$1.hr=$$1.bs;$$1.hsb=$$1.dsb;$$1.hu=$$1.af;$$1.hy=$$1.ff;$$1.ia=$$1.ast;$$1.id=$$1.dz;$$1.ig=$$1.dz;$$1.it=$$1.ca;$$1.ja=$$1.dz;$$1.jgo=$$1.af;$$1.jv=$$1.dz;$$1.ka=$$1.af;$$1.kea=$$1.dz;$$1.kk=$$1.af;$$1.kl=$$1.af;$$1.km=$$1.dz;$$1.kn=$$1.am;$$1.ko=$$1.dz;$$1.ks=$$1.af;$$1.ku=$$1.af;$$1.ky=$$1.af;$$1.lb=$$1.af;$$1.lkt=$$1.dz;$$1.lo=$$1.dz;$$1.ml=$$1.af;$$1.mn=$$1.af;$$1.mr=$$1.af;$$1.ms=$$1.dz;$$1.my=$$1.dz;$$1.nb=$$1.af;$$1.ne=$$1.af;$$1.nl=$$1.ast;$$1.nn=$$1.af;$$1.no=$$1.af;$$1.or=$$1.af;$$1.pcm=$$1.am;$$1.ps=$$1.af;$$1.rm=$$1.af;$$1.sah=$$1.dz;$$1.sc=$$1.ast;$$1.sd=$$1.af;$$1.sk=$$1.cs;$$1.so=$$1.af;$$1.sq=$$1.af;$$1.sr=$$1.bs;$$1.su=$$1.dz;$$1.sv=$$1.ast;$$1.sw=$$1.ast;$$1.ta=$$1.af;$$1.te=$$1.af;$$1.th=$$1.dz;$$1.ti=$$1.pa;$$1.tk=$$1.af;$$1.to=$$1.dz;$$1.tr=$$1.af;$$1.ug=$$1.af;$$1.uk=$$1.ru;$$1.ur=$$1.ast;$$1.uz=$$1.af;$$1.vi=$$1.dz;$$1.wae=$$1.af;$$1.wo=$$1.dz;$$1.xh=$$1.af;$$1.yi=$$1.ast;$$1.yo=$$1.dz;$$1.yue=$$1.dz;$$1.zh=$$1.dz;$$1.zu=$$1.am;const PluralRuleFunctions=$$1;function getPluralRulesLocale(et){return et==="pt-PT"?et:getLanguageFromLanguageTag(et)}var LANGUAGE_REG_EXP=/^([a-z0-9]+)/i;function getLanguageFromLanguageTag(et){var tt=et.match(LANGUAGE_REG_EXP);if(!tt)throw new TypeError("Invalid locale: ".concat(et));return tt[1]}function _classCallCheck$3(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,nt.key,nt)}}function _createClass$3(et,tt,rt){return tt&&_defineProperties$3(et.prototype,tt),rt&&_defineProperties$3(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}var PluralRules=function(){function et(tt,rt){_classCallCheck$3(this,et);var nt=et.supportedLocalesOf(tt);if(nt.length===0)throw new RangeError("Unsupported locale: "+tt);if(rt&&rt.type!=="cardinal")throw new RangeError('Only "cardinal" "type" is supported');this.$=PluralRuleFunctions[getPluralRulesLocale(nt[0])]}return _createClass$3(et,[{key:"select",value:function(rt){return this.$(rt)}}],[{key:"supportedLocalesOf",value:function(rt){return typeof rt=="string"&&(rt=[rt]),rt.filter(function(nt){return PluralRuleFunctions[getPluralRulesLocale(nt)]})}}]),et}();function _typeof$5(et){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$5(et)}function ownKeys$9(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$9(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$9(Object(rt),!0).forEach(function(nt){_defineProperty$9(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$9(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$9(et,tt,rt){return tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function _slicedToArray$1(et,tt){return _arrayWithHoles$1(et)||_iterableToArrayLimit$1(et,tt)||_unsupportedIterableToArray$2(et,tt)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$2(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$2(et,tt)}}function _arrayLikeToArray$2(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit$1(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt=[],at=!0,lt=!1,dt,ot;try{for(rt=rt.call(et);!(at=(dt=rt.next()).done)&&(nt.push(dt.value),!(tt&&nt.length===tt));at=!0);}catch(mt){lt=!0,ot=mt}finally{try{!at&&rt.return!=null&&rt.return()}finally{if(lt)throw ot}}return nt}}function _arrayWithHoles$1(et){if(Array.isArray(et))return et}function _classCallCheck$2(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,nt.key,nt)}}function _createClass$2(et,tt,rt){return tt&&_defineProperties$2(et.prototype,tt),rt&&_defineProperties$2(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}var UNITS=["second","minute","hour","day","week","month","quarter","year"],NUMERIC_VALUES=["auto","always"],STYLE_VALUES=["long","short","narrow"],LOCALE_MATCHER_VALUES=["lookup","best fit"],RelativeTimeFormat=function(){function et(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$2(this,et);var nt=rt.numeric,at=rt.style,lt=rt.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",nt!==void 0){if(NUMERIC_VALUES.indexOf(nt)<0)throw new RangeError('Invalid "numeric" option: '.concat(nt));this.numeric=nt}if(at!==void 0){if(STYLE_VALUES.indexOf(at)<0)throw new RangeError('Invalid "style" option: '.concat(at));this.style=at}if(lt!==void 0){if(LOCALE_MATCHER_VALUES.indexOf(lt)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(lt));this.localeMatcher=lt}if(typeof tt=="string"&&(tt=[tt]),tt.push(getDefaultLocale()),this.locale=et.supportedLocalesOf(tt,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");PluralRules.supportedLocalesOf(this.locale).length>0?this.pluralRules=new PluralRules(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),typeof Intl<"u"&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=resolveLocale(this.locale,{localeMatcher:this.localeMatcher})}return _createClass$2(et,[{key:"format",value:function(){var rt=parseFormatArgs(arguments),nt=_slicedToArray$1(rt,2),at=nt[0],lt=nt[1];return this.getRule(at,lt).replace("{0}",this.formatNumber(Math.abs(at)))}},{key:"formatToParts",value:function(){var rt=parseFormatArgs(arguments),nt=_slicedToArray$1(rt,2),at=nt[0],lt=nt[1],dt=this.getRule(at,lt),ot=dt.indexOf("{0}");if(ot<0)return[{type:"literal",value:dt}];var mt=[];return ot>0&&mt.push({type:"literal",value:dt.slice(0,ot)}),mt=mt.concat(this.formatNumberToParts(Math.abs(at)).map(function(xt){return _objectSpread$9(_objectSpread$9({},xt),{},{unit:lt})})),ot+3<dt.length-1&&mt.push({type:"literal",value:dt.slice(ot+3)}),mt}},{key:"getRule",value:function(rt,nt){var at=getLocaleData$1(this.locale)[this.style][nt];if(typeof at=="string")return at;if(this.numeric==="auto"){if(rt===-2||rt===-1){var lt=at["previous".concat(rt===-1?"":"-"+Math.abs(rt))];if(lt)return lt}else if(rt===1||rt===2){var dt=at["next".concat(rt===1?"":"-"+Math.abs(rt))];if(dt)return dt}else if(rt===0&&at.current)return at.current}var ot=at[isNegative(rt)?"past":"future"];if(typeof ot=="string")return ot;var mt=this.pluralRules&&this.pluralRules.select(Math.abs(rt))||"other";return ot[mt]||ot.other}},{key:"formatNumber",value:function(rt){return this.numberFormat?this.numberFormat.format(rt):String(rt)}},{key:"formatNumberToParts",value:function(rt){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(rt):[{type:"integer",value:this.formatNumber(rt)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}]),et}();RelativeTimeFormat.supportedLocalesOf=function(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof et=="string")et=[et];else if(!Array.isArray(et))throw new TypeError('Invalid "locales" argument');return et.filter(function(rt){return resolveLocale(rt,tt)})};RelativeTimeFormat.addLocale=addLocaleData$1;RelativeTimeFormat.setDefaultLocale=setDefaultLocale;RelativeTimeFormat.getDefaultLocale=getDefaultLocale;RelativeTimeFormat.PluralRules=PluralRules;var UNIT_ERROR='Invalid "unit" argument';function parseUnit(et){if(_typeof$5(et)==="symbol")throw new TypeError(UNIT_ERROR);if(typeof et!="string")throw new RangeError("".concat(UNIT_ERROR,": ").concat(et));if(et[et.length-1]==="s"&&(et=et.slice(0,et.length-1)),UNITS.indexOf(et)<0)throw new RangeError("".concat(UNIT_ERROR,": ").concat(et));return et}var NUMBER_ERROR='Invalid "number" argument';function parseNumber(et){if(et=Number(et),Number.isFinite&&!Number.isFinite(et))throw new RangeError("".concat(NUMBER_ERROR,": ").concat(et));return et}function isNegativeZero(et){return 1/et===-1/0}function isNegative(et){return et<0||et===0&&isNegativeZero(et)}function parseFormatArgs(et){if(et.length<2)throw new TypeError('"unit" argument is required');return[parseNumber(et[0]),parseUnit(et[1])]}function _typeof$4(et){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$4(et)}function _classCallCheck$1(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,nt.key,nt)}}function _createClass$1(et,tt,rt){return tt&&_defineProperties$1(et.prototype,tt),rt&&_defineProperties$1(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}var Cache=function(){function et(){_classCallCheck$1(this,et),this.cache={}}return _createClass$1(et,[{key:"get",value:function(){for(var rt=this.cache,nt=arguments.length,at=new Array(nt),lt=0;lt<nt;lt++)at[lt]=arguments[lt];for(var dt=0,ot=at;dt<ot.length;dt++){var mt=ot[dt];if(_typeof$4(rt)!=="object")return;rt=rt[mt]}return rt}},{key:"put",value:function(){for(var rt=arguments.length,nt=new Array(rt),at=0;at<rt;at++)nt[at]=arguments[at];for(var lt=nt.pop(),dt=nt.pop(),ot=this.cache,mt=0,xt=nt;mt<xt.length;mt++){var Et=xt[mt];_typeof$4(ot[Et])!=="object"&&(ot[Et]={}),ot=ot[Et]}return ot[dt]=lt}}]),et}();function _typeof$3(et){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$3(et)}function _createForOfIteratorHelperLoose$1(et,tt){var rt=typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt)return(rt=rt.call(et)).next.bind(rt);if(Array.isArray(et)||(rt=_unsupportedIterableToArray$1(et))||tt&&et&&typeof et.length=="number"){rt&&(et=rt);var nt=0;return function(){return nt>=et.length?{done:!0}:{done:!1,value:et[nt++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray$1(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$1(et,tt)}}function _arrayLikeToArray$1(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function chooseLocale(et,tt){for(var rt=_createForOfIteratorHelperLoose$1(et),nt;!(nt=rt()).done;){var at=nt.value;if(tt(at))return at;for(var lt=at.split("-");lt.length>1;)if(lt.pop(),at=lt.join("-"),tt(at))return at}throw new Error("No locale data has been registered for any of the locales: ".concat(et.join(", ")))}function intlDateTimeFormatSupported(){var et=(typeof Intl>"u"?"undefined":_typeof$3(Intl))==="object";return et&&typeof Intl.DateTimeFormat=="function"}function _typeof$2(et){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$2(et)}function isStyleObject(et){return isObject(et)&&(Array.isArray(et.steps)||Array.isArray(et.gradation)||Array.isArray(et.flavour)||typeof et.flavour=="string"||Array.isArray(et.labels)||typeof et.labels=="string"||Array.isArray(et.units)||typeof et.custom=="function")}var OBJECT_CONSTRUCTOR={}.constructor;function isObject(et){return _typeof$2(et)!==void 0&&et!==null&&et.constructor===OBJECT_CONSTRUCTOR}var minute=60,hour=60*minute,day=24*hour,week=7*day,month=30.44*day,year=146097/400*day;function getSecondsInUnit(et){switch(et){case"second":return 1;case"minute":return minute;case"hour":return hour;case"day":return day;case"week":return week;case"month":return month;case"year":return year}}function getStepDenominator(et){return et.factor!==void 0?et.factor:getSecondsInUnit(et.unit||et.formatAs)||1}function getRoundFunction(et){switch(et){case"floor":return Math.floor;default:return Math.round}}function getDiffRatioToNextRoundedNumber(et){switch(et){case"floor":return 1;default:return .5}}function _typeof$1(et){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof$1(et)}function getStepMinTime(et,tt){var rt=tt.prevStep,nt=tt.timestamp,at=tt.now,lt=tt.future,dt=tt.round,ot;return rt&&(rt.id||rt.unit)&&(ot=et["threshold_for_".concat(rt.id||rt.unit)]),ot===void 0&&et.threshold!==void 0&&(ot=et.threshold,typeof ot=="function"&&(ot=ot(at,lt))),ot===void 0&&(ot=et.minTime),_typeof$1(ot)==="object"&&(rt&&rt.id&&ot[rt.id]!==void 0?ot=ot[rt.id]:ot=ot.default),typeof ot=="function"&&(ot=ot(nt,{future:lt,getMinTimeForUnit:function(xt,Et){return _getMinTimeForUnit(xt,Et||rt&&rt.formatAs,{round:dt})}})),ot===void 0&&et.test&&(et.test(nt,{now:at,future:lt})?ot=0:ot=9007199254740991),ot===void 0&&(rt?et.formatAs&&rt.formatAs&&(ot=_getMinTimeForUnit(et.formatAs,rt.formatAs,{round:dt})):ot=0),ot===void 0&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(et,null,2)),ot}function _getMinTimeForUnit(et,tt,rt){var nt=rt.round,at=getSecondsInUnit(et),lt;if(tt==="now"?lt=getSecondsInUnit(et):lt=getSecondsInUnit(tt),at!==void 0&&lt!==void 0)return at-lt*(1-getDiffRatioToNextRoundedNumber(nt))}function ownKeys$8(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$8(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$8(Object(rt),!0).forEach(function(nt){_defineProperty$8(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$8(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$8(et,tt,rt){return tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}function getStep(et,tt,rt){var nt=rt.now,at=rt.future,lt=rt.round,dt=rt.units,ot=rt.getNextStep;et=filterStepsByUnits(et,dt);var mt=_getStep(et,tt,{now:nt,future:at,round:lt});if(ot){if(mt){var xt=et[et.indexOf(mt)-1],Et=et[et.indexOf(mt)+1];return[xt,mt,Et]}return[void 0,void 0,et[0]]}return mt}function _getStep(et,tt,rt){var nt=rt.now,at=rt.future,lt=rt.round;if(et.length!==0){var dt=getStepIndex(et,tt,{now:nt,future:at||tt<0,round:lt});if(dt!==-1){var ot=et[dt];if(ot.granularity){var mt=getRoundFunction(lt)(Math.abs(tt)/getStepDenominator(ot)/ot.granularity)*ot.granularity;if(mt===0&&dt>0)return et[dt-1]}return ot}}}function getStepIndex(et,tt,rt){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,at=getStepMinTime(et[nt],_objectSpread$8({prevStep:et[nt-1],timestamp:rt.now-tt*1e3},rt));return at===void 0||Math.abs(tt)<at?nt-1:nt===et.length-1?nt:getStepIndex(et,tt,rt,nt+1)}function filterStepsByUnits(et,tt){return et.filter(function(rt){var nt=rt.unit,at=rt.formatAs;return nt=nt||at,nt?tt.indexOf(nt)>=0:!0})}function getTimeToNextUpdateForUnit(et,tt,rt){var nt=rt.now,at=rt.round;if(getSecondsInUnit(et)){var lt=getSecondsInUnit(et)*1e3,dt=tt>nt,ot=Math.abs(tt-nt),mt=getRoundFunction(at)(ot/lt)*lt;return dt?mt>0?ot-mt+getDiffToPreviousRoundedNumber(at,lt):ot-mt+1:-(ot-mt)+getDiffToNextRoundedNumber(at,lt)}}function getDiffToNextRoundedNumber(et,tt){return getDiffRatioToNextRoundedNumber(et)*tt}function getDiffToPreviousRoundedNumber(et,tt){return(1-getDiffRatioToNextRoundedNumber(et))*tt+1}var YEAR=365*24*60*60*1e3,INFINITY=1e3*YEAR;function getTimeToNextUpdate(et,tt,rt){var nt=rt.prevStep,at=rt.nextStep,lt=rt.now,dt=rt.future,ot=rt.round,mt=et.getTime?et.getTime():et,xt=function(Mt){return getTimeToNextUpdateForUnit(Mt,mt,{now:lt,round:ot})},Et=getTimeToStepChange(dt?tt:at,mt,{future:dt,now:lt,round:ot,prevStep:dt?nt:tt});if(Et!==void 0){var At;if(tt&&(tt.getTimeToNextUpdate&&(At=tt.getTimeToNextUpdate(mt,{getTimeToNextUpdateForUnit:xt,getRoundFunction,now:lt,future:dt,round:ot})),At===void 0)){var Tt=tt.unit||tt.formatAs;Tt&&(At=xt(Tt))}return At===void 0?Et:Math.min(At,Et)}}function getStepChangesAt(et,tt,rt){var nt=rt.now,at=rt.future,lt=rt.round,dt=rt.prevStep,ot=getStepMinTime(et,{timestamp:tt,now:nt,future:at,round:lt,prevStep:dt});if(ot!==void 0)return at?tt-ot*1e3+1:ot===0&&tt===nt?INFINITY:tt+ot*1e3}function getTimeToStepChange(et,tt,rt){var nt=rt.now,at=rt.future,lt=rt.round,dt=rt.prevStep;if(et){var ot=getStepChangesAt(et,tt,{now:nt,future:at,round:lt,prevStep:dt});return ot===void 0?void 0:ot-nt}else return at?tt-nt+1:INFINITY}var localesData={};function getLocaleData(et){return localesData[et]}function addLocaleData(et){if(!et)throw new Error("[javascript-time-ago] No locale data passed.");localesData[et.locale]=et}const round$1=[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],round={steps:round$1,labels:"long"};function ownKeys$7(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$7(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$7(Object(rt),!0).forEach(function(nt){_defineProperty$7(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$7(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$7(et,tt,rt){return tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}const defaultStyle=_objectSpread$7(_objectSpread$7({},round),{},{steps:round.steps.filter(function(et){return et.formatAs!=="second"})}),approximate$1=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:minute,unit:"minute"},{threshold:2.5*minute,granularity:5,factor:minute,unit:"minute"},{threshold:22.5*minute,factor:.5*hour,unit:"half-hour"},{threshold:42.5*minute,threshold_for_minute:52.5*minute,factor:hour,unit:"hour"},{threshold:20.5/24*day,factor:day,unit:"day"},{threshold:5.5*day,factor:week,unit:"week"},{threshold:3.5*week,factor:month,unit:"month"},{threshold:10.5*month,factor:year,unit:"year"}],approximate={gradation:approximate$1,flavour:"long",units:["now","minute","hour","day","week","month","year"]},approximateTime={gradation:approximate$1,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function getDate(et){return et instanceof Date?et:new Date(et)}var steps=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],formatters={},monthAndDay={minTime:function et(tt,rt){rt.future;var nt=rt.getMinTimeForUnit;return nt("day")},format:function et(tt,rt){return formatters[rt]||(formatters[rt]={}),formatters[rt].dayMonth||(formatters[rt].dayMonth=new Intl.DateTimeFormat(rt,{month:"short",day:"numeric"})),formatters[rt].dayMonth.format(getDate(tt))}},yearMonthAndDay={minTime:function et(tt,rt){var nt=rt.future;if(nt){var at=new Date(new Date(tt).getFullYear(),0).getTime()-1;return(tt-at)/1e3}else{var lt=new Date(new Date(tt).getFullYear()+1,0).getTime();return(lt-tt)/1e3}},format:function et(tt,rt){return formatters[rt]||(formatters[rt]={}),formatters[rt].dayMonthYear||(formatters[rt].dayMonthYear=new Intl.DateTimeFormat(rt,{year:"numeric",month:"short",day:"numeric"})),formatters[rt].dayMonthYear.format(getDate(tt))}};intlDateTimeFormatSupported()?steps.push(monthAndDay,yearMonthAndDay):steps.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const twitter={steps,labels:["mini","short-time","narrow","short"]};function ownKeys$6(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$6(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$6(Object(rt),!0).forEach(function(nt){_defineProperty$6(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$6(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$6(et,tt,rt){return tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}const twitterNow=_objectSpread$6(_objectSpread$6({},twitter),{},{steps:[{formatAs:"now"}].concat(twitter.steps)});function ownKeys$5(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$5(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$5(Object(rt),!0).forEach(function(nt){_defineProperty$5(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$5(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$5(et,tt,rt){return tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}const twitterMinute=_objectSpread$5(_objectSpread$5({},twitter),{},{steps:twitter.steps.filter(function(et){return et.formatAs!=="second"})});function ownKeys$4(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$4(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$4(Object(rt),!0).forEach(function(nt){_defineProperty$4(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$4(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$4(et,tt,rt){return tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}const twitterMinuteNow=_objectSpread$4(_objectSpread$4({},twitterMinute),{},{steps:[{formatAs:"now"}].concat(twitterMinute.steps)});function ownKeys$3(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$3(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$3(Object(rt),!0).forEach(function(nt){_defineProperty$3(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$3(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$3(et,tt,rt){return tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}const twitterFirstMinute=_objectSpread$3(_objectSpread$3({},twitter),{},{steps:twitter.steps.filter(function(et){return et.formatAs!=="second"}).map(function(et){return et.formatAs==="minute"?_objectSpread$3(_objectSpread$3({},et),{},{minTime:minute}):et})}),mini={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function ownKeys$2(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$2(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$2(Object(rt),!0).forEach(function(nt){_defineProperty$2(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$2(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$2(et,tt,rt){return tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}const miniNow=_objectSpread$2(_objectSpread$2({},mini),{},{steps:[{formatAs:"now"}].concat(mini.steps)});function ownKeys$1(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$1(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys$1(Object(rt),!0).forEach(function(nt){_defineProperty$1(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys$1(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty$1(et,tt,rt){return tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}const miniMinute=_objectSpread$1(_objectSpread$1({},mini),{},{steps:mini.steps.filter(function(et){return et.formatAs!=="second"})});function ownKeys(et,tt){var rt=Object.keys(et);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(et);tt&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt]!=null?arguments[tt]:{};tt%2?ownKeys(Object(rt),!0).forEach(function(nt){_defineProperty(et,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(rt)):ownKeys(Object(rt)).forEach(function(nt){Object.defineProperty(et,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return et}function _defineProperty(et,tt,rt){return tt in et?Object.defineProperty(et,tt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):et[tt]=rt,et}const miniMinuteNow=_objectSpread(_objectSpread({},miniMinute),{},{steps:[{formatAs:"now"}].concat(miniMinute.steps)});function getStyleByName(et){switch(et){case"default":case"round":return round;case"round-minute":return defaultStyle;case"approximate":return approximate;case"time":case"approximate-time":return approximateTime;case"mini":return mini;case"mini-now":return miniNow;case"mini-minute":return miniMinute;case"mini-minute-now":return miniMinuteNow;case"twitter":return twitter;case"twitter-now":return twitterNow;case"twitter-minute":return twitterMinute;case"twitter-minute-now":return twitterMinuteNow;case"twitter-first-minute":return twitterFirstMinute;default:return approximate}}function _typeof(et){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},_typeof(et)}function _createForOfIteratorHelperLoose(et,tt){var rt=typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt)return(rt=rt.call(et)).next.bind(rt);if(Array.isArray(et)||(rt=_unsupportedIterableToArray(et))||tt&&et&&typeof et.length=="number"){rt&&(et=rt);var nt=0;return function(){return nt>=et.length?{done:!0}:{done:!1,value:et[nt++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(et,tt){return _arrayWithHoles(et)||_iterableToArrayLimit(et,tt)||_unsupportedIterableToArray(et,tt)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(et,tt){if(et){if(typeof et=="string")return _arrayLikeToArray(et,tt);var rt=Object.prototype.toString.call(et).slice(8,-1);if(rt==="Object"&&et.constructor&&(rt=et.constructor.name),rt==="Map"||rt==="Set")return Array.from(et);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray(et,tt)}}function _arrayLikeToArray(et,tt){(tt==null||tt>et.length)&&(tt=et.length);for(var rt=0,nt=new Array(tt);rt<tt;rt++)nt[rt]=et[rt];return nt}function _iterableToArrayLimit(et,tt){var rt=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(rt!=null){var nt=[],at=!0,lt=!1,dt,ot;try{for(rt=rt.call(et);!(at=(dt=rt.next()).done)&&(nt.push(dt.value),!(tt&&nt.length===tt));at=!0);}catch(mt){lt=!0,ot=mt}finally{try{!at&&rt.return!=null&&rt.return()}finally{if(lt)throw ot}}return nt}}function _arrayWithHoles(et){if(Array.isArray(et))return et}function _classCallCheck(et,tt){if(!(et instanceof tt))throw new TypeError("Cannot call a class as a function")}function _defineProperties(et,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(et,nt.key,nt)}}function _createClass(et,tt,rt){return tt&&_defineProperties(et.prototype,tt),rt&&_defineProperties(et,rt),Object.defineProperty(et,"prototype",{writable:!1}),et}var TimeAgo=function(){function et(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=rt.polyfill;_classCallCheck(this,et),typeof tt=="string"&&(tt=[tt]),this.locale=chooseLocale(tt.concat(et.getDefaultLocale()),getLocaleData),typeof Intl<"u"&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),nt===!1?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=RelativeTimeFormat,this.IntlPluralRules=RelativeTimeFormat.PluralRules),this.relativeTimeFormatCache=new Cache,this.pluralRulesCache=new Cache}return _createClass(et,[{key:"format",value:function(rt,nt,at){at||(nt&&!isStyle(nt)?(at=nt,nt=void 0):at={}),nt||(nt=defaultStyle),typeof nt=="string"&&(nt=getStyleByName(nt));var lt=getTimestamp(rt),dt=this.getLabels(nt.flavour||nt.labels),ot=dt.labels,mt=dt.labelsType,xt;nt.now!==void 0&&(xt=nt.now),xt===void 0&&at.now!==void 0&&(xt=at.now),xt===void 0&&(xt=Date.now());var Et=(xt-lt)/1e3,At=at.future||Et<0,Tt=getNowLabel(ot,getLocaleData(this.locale).now,getLocaleData(this.locale).long,At);if(nt.custom){var Ft=nt.custom({now:xt,date:new Date(lt),time:lt,elapsed:Et,locale:this.locale});if(Ft!==void 0)return Ft}var Mt=getTimeIntervalMeasurementUnits(nt.units,ot,Tt),Lt=at.round||nt.round,Gt=getStep(nt.gradation||nt.steps||defaultStyle.steps,Et,{now:xt,units:Mt,round:Lt,future:At,getNextStep:!0}),Pt=_slicedToArray(Gt,3),$t=Pt[0],It=Pt[1],Ot=Pt[2],Vt=this.formatDateForStep(lt,It,Et,{labels:ot,labelsType:mt,nowLabel:Tt,now:xt,future:At,round:Lt})||"";if(at.getTimeToNextUpdate){var Ut=getTimeToNextUpdate(lt,It,{nextStep:Ot,prevStep:$t,now:xt,future:At,round:Lt});return[Vt,Ut]}return Vt}},{key:"formatDateForStep",value:function(rt,nt,at,lt){var dt=this,ot=lt.labels,mt=lt.labelsType,xt=lt.nowLabel,Et=lt.now,At=lt.future,Tt=lt.round;if(nt){if(nt.format)return nt.format(rt,this.locale,{formatAs:function(Pt,$t){return dt.formatValue($t,Pt,{labels:ot,future:At})},now:Et,future:At});var Ft=nt.unit||nt.formatAs;if(!Ft)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(nt)));if(Ft==="now")return xt;var Mt=Math.abs(at)/getStepDenominator(nt);nt.granularity&&(Mt=getRoundFunction(Tt)(Mt/nt.granularity)*nt.granularity);var Lt=-1*Math.sign(at)*getRoundFunction(Tt)(Mt);switch(Lt===0&&(At?Lt=0:Lt=-0),mt){case"long":case"short":case"narrow":return this.getFormatter(mt).format(Lt,Ft);default:return this.formatValue(Lt,Ft,{labels:ot,future:At})}}}},{key:"formatValue",value:function(rt,nt,at){var lt=at.labels,dt=at.future;return this.getFormattingRule(lt,nt,rt,{future:dt}).replace("{0}",this.formatNumber(Math.abs(rt)))}},{key:"getFormattingRule",value:function(rt,nt,at,lt){var dt=lt.future;if(this.locale,rt=rt[nt],typeof rt=="string")return rt;var ot=at===0?dt?"future":"past":at<0?"past":"future",mt=rt[ot]||rt;if(typeof mt=="string")return mt;var xt=this.getPluralRules().select(Math.abs(at));return mt[xt]||mt.other}},{key:"formatNumber",value:function(rt){return this.numberFormat?this.numberFormat.format(rt):String(rt)}},{key:"getFormatter",value:function(rt){return this.relativeTimeFormatCache.get(this.locale,rt)||this.relativeTimeFormatCache.put(this.locale,rt,new this.IntlRelativeTimeFormat(this.locale,{style:rt}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];typeof rt=="string"&&(rt=[rt]),rt=rt.map(function(ot){switch(ot){case"tiny":case"mini-time":return"mini";default:return ot}}),rt=rt.concat("long");for(var nt=getLocaleData(this.locale),at=_createForOfIteratorHelperLoose(rt),lt;!(lt=at()).done;){var dt=lt.value;if(nt[dt])return{labelsType:dt,labels:nt[dt]}}}}]),et}(),defaultLocale="en";TimeAgo.getDefaultLocale=function(){return defaultLocale};TimeAgo.setDefaultLocale=function(et){return defaultLocale=et};TimeAgo.addDefaultLocale=function(et){if(defaultLocaleHasBeenSpecified)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");defaultLocaleHasBeenSpecified=!0,TimeAgo.setDefaultLocale(et.locale),TimeAgo.addLocale(et)};var defaultLocaleHasBeenSpecified;TimeAgo.addLocale=function(et){addLocaleData(et),RelativeTimeFormat.addLocale(et)};TimeAgo.locale=TimeAgo.addLocale;TimeAgo.addLabels=function(et,tt,rt){var nt=getLocaleData(et);nt||(addLocaleData({locale:et}),nt=getLocaleData(et)),nt[tt]=rt};function getTimestamp(et){if(et.constructor===Date||isMockedDate(et))return et.getTime();if(typeof et=="number")return et;throw new Error("Unsupported relative time formatter input: ".concat(_typeof(et),", ").concat(et))}function isMockedDate(et){return _typeof(et)==="object"&&typeof et.getTime=="function"}function getTimeIntervalMeasurementUnits(et,tt,rt){var nt=Object.keys(tt);return rt&&nt.push("now"),et&&(nt=et.filter(function(at){return at==="now"||nt.indexOf(at)>=0})),nt}function getNowLabel(et,tt,rt,nt){var at=et.now||tt&&tt.now;if(at)return typeof at=="string"?at:nt?at.future:at.past;if(rt&&rt.second&&rt.second.current)return rt.second.current}function isStyle(et){return typeof et=="string"||isStyleObject(et)}const ko={locale:"ko",long:{year:{previous:"작년",current:"올해",next:"내년",past:"{0}년 전",future:"{0}년 후"},quarter:{previous:"지난 분기",current:"이번 분기",next:"다음 분기",past:"{0}분기 전",future:"{0}분기 후"},month:{previous:"지난달",current:"이번 달",next:"다음 달",past:"{0}개월 전",future:"{0}개월 후"},week:{previous:"지난주",current:"이번 주",next:"다음 주",past:"{0}주 전",future:"{0}주 후"},day:{previous:"어제","previous-2":"그저께",current:"오늘",next:"내일","next-2":"모레",past:"{0}일 전",future:"{0}일 후"},hour:{current:"현재 시간",past:"{0}시간 전",future:"{0}시간 후"},minute:{current:"현재 분",past:"{0}분 전",future:"{0}분 후"},second:{current:"지금",past:"{0}초 전",future:"{0}초 후"}},short:{year:{previous:"작년",current:"올해",next:"내년",past:"{0}년 전",future:"{0}년 후"},quarter:{previous:"지난 분기",current:"이번 분기",next:"다음 분기",past:"{0}분기 전",future:"{0}분기 후"},month:{previous:"지난달",current:"이번 달",next:"다음 달",past:"{0}개월 전",future:"{0}개월 후"},week:{previous:"지난주",current:"이번 주",next:"다음 주",past:"{0}주 전",future:"{0}주 후"},day:{previous:"어제","previous-2":"그저께",current:"오늘",next:"내일","next-2":"모레",past:"{0}일 전",future:"{0}일 후"},hour:{current:"현재 시간",past:"{0}시간 전",future:"{0}시간 후"},minute:{current:"현재 분",past:"{0}분 전",future:"{0}분 후"},second:{current:"지금",past:"{0}초 전",future:"{0}초 후"}},narrow:{year:{previous:"작년",current:"올해",next:"내년",past:"{0}년 전",future:"{0}년 후"},quarter:{previous:"지난 분기",current:"이번 분기",next:"다음 분기",past:"{0}분기 전",future:"{0}분기 후"},month:{previous:"지난달",current:"이번 달",next:"다음 달",past:"{0}개월 전",future:"{0}개월 후"},week:{previous:"지난주",current:"이번 주",next:"다음 주",past:"{0}주 전",future:"{0}주 후"},day:{previous:"어제","previous-2":"그저께",current:"오늘",next:"내일","next-2":"모레",past:"{0}일 전",future:"{0}일 후"},hour:{current:"현재 시간",past:"{0}시간 전",future:"{0}시간 후"},minute:{current:"현재 분",past:"{0}분 전",future:"{0}분 후"},second:{current:"지금",past:"{0}초 전",future:"{0}초 후"}},now:{now:{current:"지금",future:"잠시 후",past:"방금"}},mini:{year:"{0}년",quarter:"{0}분기",month:"{0}개월",week:"{0}주",day:"{0}일",hour:"{0}시간",minute:"{0}분",second:"{0}초",now:"지금"}},StyledNoti=newStyled(Box$1)(({theme:et})=>({display:"flex",flexDirection:"column",padding:"0.5rem",gap:1,color:et.palette.text.primary,"& .description":{width:"100%"},"& .notiHead":{display:"flex",flexDirection:"row",justifyContent:"space-between",paddingRight:.5},"& .notiHead .date":{fontSize:"0.8rem"},"&:hover":{backgroundColor:alpha(grey$1[800],.2)}}));function NotiItem({prop:et}){TimeAgo.addLocale(ko);const tt=new TimeAgo("ko");return tt.format(new Date),jsxs(StyledNoti,{onClick:()=>console.log("hello"),children:[jsxs(Box$1,{className:"notiHead",children:[jsxs(Typography$1,{variant:"subtitle2",children:["🍀 ",et.title]}),jsx(Typography$1,{variant:"body2",className:"date",children:tt.format(et.alertAt)})]}),jsx(Typography$1,{variant:"body2",className:"description",children:et.data})]})}function Notification(){const{headOpt:et,setHeadOpt:tt,navigate:rt,setWrapperOpt:nt}=useOutletContext(),at={menus:[{key:"알림",value:"/notification"}],icon_R:u,fn_R:()=>rt(-1),headerType:"V3"},lt={isNoneHeadPadding:!1};reactExports.useLayoutEffect(()=>{tt(at),nt(lt)},[]);const dt={title:"근처의 우연 발견!!",data:"신당동 주변의 우연을 사라지기 전에 확인해봐요!",alertAt:new Date},ot={title:"근처의 우연 발견!!",data:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod, nisi a egestas ultrices , nisl urna viverra diam, a ultricies ante nunc sit amet nisl. Sed euismod, nisi a egestas ultrices , nisl urna viverra diam, a ultricies ante nunc sit amet nisl. (장문 테스트)",alertAt:new Date(2023,4,3,23,55)};return et?jsx(Stack$1,{sx:{padding:0,maxHeight:"calc(100vh - 56px)",overflow:"hidden","@media (min-width: 600px)":{maxHeight:"calc(100vh - 64px)"}},children:jsxs(Box$1,{sx:{maxHeight:"calc(100vh - 56px)",overflow:"scroll",paddingBottom:10,"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{background:"#ddd",borderRadius:"5px"},"&::-webkit-scrollbar-button:vertical:end:decrement":{display:"block",height:"20px"},"&::-webkit-scrollbar-corner":{display:"none"},"@media (min-width: 600px)":{maxHeight:"calc(100vh - 64px)"}},children:[jsx(NotiItem,{prop:dt}),jsx(NotiItem,{prop:dt}),jsx(NotiItem,{prop:dt}),jsx(NotiItem,{prop:dt}),jsx(NotiItem,{prop:ot}),jsx(NotiItem,{prop:dt}),jsx(NotiItem,{prop:dt}),jsx(NotiItem,{prop:dt}),jsx(NotiItem,{prop:ot}),jsx(NotiItem,{prop:dt}),jsx(NotiItem,{prop:dt}),jsx(NotiItem,{prop:dt}),jsx(NotiItem,{prop:ot}),jsx(NotiItem,{prop:dt}),jsx(NotiItem,{prop:dt})]})}):jsx(Box$1,{})}function Mypage(){const{setHeadOpt:et,navigate:tt,setWrapperOpt:rt}=useOutletContext(),nt=Recoil_index_25(userState),at=Recoil_index_25(filterState),lt=Recoil_index_25(envState),dt={menus:[{key:"마이페이지",value:"/mypage"}],icon_L:M$5,fn_L:()=>tt(-1),icon_R:i$2,fn_R:()=>tt("/mypage/setting"),headerType:"V3"},ot={isNoneHeadPadding:!1};return reactExports.useLayoutEffect(()=>{et(dt),rt(ot)},[]),jsxs(Stack$1,{children:[jsx(Box$1,{sx:{height:"20rem"},children:jsx(Typography$1,{variant:"h3",children:"HELLO"})}),jsx(Button$1,{fullWidth:!0,onClick:()=>tt("/mypage/edit"),children:"프로필 수정"}),jsx(Button$1,{fullWidth:!0,onClick:()=>{nt(),at(),lt()},children:"로그아웃"})]})}function EditProfile(){const{setHeadOpt:et,navigate:tt}=useOutletContext(),rt={menus:[{key:"프로필 수정",value:"/mypage/edit"}],icon_L:u,fn_L:()=>tt(-1),headerType:"V3"};return reactExports.useLayoutEffect(()=>{et(rt)},[]),jsx(Stack$1,{children:jsx(Box$1,{sx:{height:"20rem"},children:jsx(Typography$1,{variant:"h3",children:"프로필 수정"})})})}function stylis_min(et){function tt(sr,dr,Rr,jr,Sr){for(var dn=0,Qr=0,gn=0,ln=0,Kr,cn,En=0,yn=0,Rn,Zn=Rn=Kr=0,jn=0,so=0,Eo=0,_i=0,po=Rr.length,Mo=po-1,yo,mn="",Bn="",no="",eo="",to;jn<po;){if(cn=Rr.charCodeAt(jn),jn===Mo&&Qr+ln+gn+dn!==0&&(Qr!==0&&(cn=Qr===47?10:47),ln=gn=dn=0,po++,Mo++),Qr+ln+gn+dn===0){if(jn===Mo&&(0<so&&(mn=mn.replace(Tt,"")),0<mn.trim().length)){switch(cn){case 32:case 9:case 59:case 13:case 10:break;default:mn+=Rr.charAt(jn)}cn=59}switch(cn){case 123:for(mn=mn.trim(),Kr=mn.charCodeAt(0),Rn=1,_i=++jn;jn<po;){switch(cn=Rr.charCodeAt(jn)){case 123:Rn++;break;case 125:Rn--;break;case 47:switch(cn=Rr.charCodeAt(jn+1)){case 42:case 47:e:{for(Zn=jn+1;Zn<Mo;++Zn)switch(Rr.charCodeAt(Zn)){case 47:if(cn===42&&Rr.charCodeAt(Zn-1)===42&&jn+2!==Zn){jn=Zn+1;break e}break;case 10:if(cn===47){jn=Zn+1;break e}}jn=Zn}}break;case 91:cn++;case 40:cn++;case 34:case 39:for(;jn++<Mo&&Rr.charCodeAt(jn)!==cn;);}if(Rn===0)break;jn++}switch(Rn=Rr.substring(_i,jn),Kr===0&&(Kr=(mn=mn.replace(At,"").trim()).charCodeAt(0)),Kr){case 64:switch(0<so&&(mn=mn.replace(Tt,"")),cn=mn.charCodeAt(1),cn){case 100:case 109:case 115:case 45:so=dr;break;default:so=hr}if(Rn=tt(dr,so,Rn,cn,Sr+1),_i=Rn.length,0<Xt&&(so=rt(hr,mn,Eo),to=ot(3,Rn,so,dr,Lr,vr,_i,cn,Sr,jr),mn=so.join(""),to!==void 0&&(_i=(Rn=to.trim()).length)===0&&(cn=0,Rn="")),0<_i)switch(cn){case 115:mn=mn.replace(Ut,dt);case 100:case 109:case 45:Rn=mn+"{"+Rn+"}";break;case 107:mn=mn.replace($t,"$1 $2"),Rn=mn+"{"+Rn+"}",Rn=Cr===1||Cr===2&&lt("@"+Rn,3)?"@-webkit-"+Rn+"@"+Rn:"@"+Rn;break;default:Rn=mn+Rn,jr===112&&(Rn=(Bn+=Rn,""))}else Rn="";break;default:Rn=tt(dr,rt(dr,mn,Eo),Rn,jr,Sr+1)}no+=Rn,Rn=Eo=so=Zn=Kr=0,mn="",cn=Rr.charCodeAt(++jn);break;case 125:case 59:if(mn=(0<so?mn.replace(Tt,""):mn).trim(),1<(_i=mn.length))switch(Zn===0&&(Kr=mn.charCodeAt(0),Kr===45||96<Kr&&123>Kr)&&(_i=(mn=mn.replace(" ",":")).length),0<Xt&&(to=ot(1,mn,dr,sr,Lr,vr,Bn.length,jr,Sr,jr))!==void 0&&(_i=(mn=to.trim()).length)===0&&(mn="\0\0"),Kr=mn.charCodeAt(0),cn=mn.charCodeAt(1),Kr){case 0:break;case 64:if(cn===105||cn===99){eo+=mn+Rr.charAt(jn);break}default:mn.charCodeAt(_i-1)!==58&&(Bn+=at(mn,Kr,cn,mn.charCodeAt(2)))}Eo=so=Zn=Kr=0,mn="",cn=Rr.charCodeAt(++jn)}}switch(cn){case 13:case 10:Qr===47?Qr=0:1+Kr===0&&jr!==107&&0<mn.length&&(so=1,mn+="\0"),0<Xt*lr&&ot(0,mn,dr,sr,Lr,vr,Bn.length,jr,Sr,jr),vr=1,Lr++;break;case 59:case 125:if(Qr+ln+gn+dn===0){vr++;break}default:switch(vr++,yo=Rr.charAt(jn),cn){case 9:case 32:if(ln+dn+Qr===0)switch(En){case 44:case 58:case 9:case 32:yo="";break;default:cn!==32&&(yo=" ")}break;case 0:yo="\\0";break;case 12:yo="\\f";break;case 11:yo="\\v";break;case 38:ln+Qr+dn===0&&(so=Eo=1,yo="\f"+yo);break;case 108:if(ln+Qr+dn+Er===0&&0<Zn)switch(jn-Zn){case 2:En===112&&Rr.charCodeAt(jn-3)===58&&(Er=En);case 8:yn===111&&(Er=yn)}break;case 58:ln+Qr+dn===0&&(Zn=jn);break;case 44:Qr+gn+ln+dn===0&&(so=1,yo+="\r");break;case 34:case 39:Qr===0&&(ln=ln===cn?0:ln===0?cn:ln);break;case 91:ln+Qr+gn===0&&dn++;break;case 93:ln+Qr+gn===0&&dn--;break;case 41:ln+Qr+dn===0&&gn--;break;case 40:if(ln+Qr+dn===0){if(Kr===0)switch(2*En+3*yn){case 533:break;default:Kr=1}gn++}break;case 64:Qr+gn+ln+dn+Zn+Rn===0&&(Rn=1);break;case 42:case 47:if(!(0<ln+dn+gn))switch(Qr){case 0:switch(2*cn+3*Rr.charCodeAt(jn+1)){case 235:Qr=47;break;case 220:_i=jn,Qr=42}break;case 42:cn===47&&En===42&&_i+2!==jn&&(Rr.charCodeAt(_i+2)===33&&(Bn+=Rr.substring(_i,jn+1)),yo="",Qr=0)}}Qr===0&&(mn+=yo)}yn=En,En=cn,jn++}if(_i=Bn.length,0<_i){if(so=dr,0<Xt&&(to=ot(2,Bn,so,sr,Lr,vr,_i,jr,Sr,jr),to!==void 0&&(Bn=to).length===0))return eo+Bn+no;if(Bn=so.join(",")+"{"+Bn+"}",Cr*Er!==0){switch(Cr!==2||lt(Bn,2)||(Er=0),Er){case 111:Bn=Bn.replace(Ot,":-moz-$1")+Bn;break;case 112:Bn=Bn.replace(It,"::-webkit-input-$1")+Bn.replace(It,"::-moz-$1")+Bn.replace(It,":-ms-input-$1")+Bn}Er=0}}return eo+Bn+no}function rt(sr,dr,Rr){var jr=dr.trim().split(Gt);dr=jr;var Sr=jr.length,dn=sr.length;switch(dn){case 0:case 1:var Qr=0;for(sr=dn===0?"":sr[0]+" ";Qr<Sr;++Qr)dr[Qr]=nt(sr,dr[Qr],Rr).trim();break;default:var gn=Qr=0;for(dr=[];Qr<Sr;++Qr)for(var ln=0;ln<dn;++ln)dr[gn++]=nt(sr[ln]+" ",jr[Qr],Rr).trim()}return dr}function nt(sr,dr,Rr){var jr=dr.charCodeAt(0);switch(33>jr&&(jr=(dr=dr.trim()).charCodeAt(0)),jr){case 38:return dr.replace(Pt,"$1"+sr.trim());case 58:return sr.trim()+dr.replace(Pt,"$1"+sr.trim());default:if(0<1*Rr&&0<dr.indexOf("\f"))return dr.replace(Pt,(sr.charCodeAt(0)===58?"":"$1")+sr.trim())}return sr+dr}function at(sr,dr,Rr,jr){var Sr=sr+";",dn=2*dr+3*Rr+4*jr;if(dn===944){sr=Sr.indexOf(":",9)+1;var Qr=Sr.substring(sr,Sr.length-1).trim();return Qr=Sr.substring(0,sr).trim()+Qr+";",Cr===1||Cr===2&&lt(Qr,1)?"-webkit-"+Qr+Qr:Qr}if(Cr===0||Cr===2&&!lt(Sr,1))return Sr;switch(dn){case 1015:return Sr.charCodeAt(10)===97?"-webkit-"+Sr+Sr:Sr;case 951:return Sr.charCodeAt(3)===116?"-webkit-"+Sr+Sr:Sr;case 963:return Sr.charCodeAt(5)===110?"-webkit-"+Sr+Sr:Sr;case 1009:if(Sr.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Sr+Sr;case 978:return"-webkit-"+Sr+"-moz-"+Sr+Sr;case 1019:case 983:return"-webkit-"+Sr+"-moz-"+Sr+"-ms-"+Sr+Sr;case 883:if(Sr.charCodeAt(8)===45)return"-webkit-"+Sr+Sr;if(0<Sr.indexOf("image-set(",11))return Sr.replace(ur,"$1-webkit-$2")+Sr;break;case 932:if(Sr.charCodeAt(4)===45)switch(Sr.charCodeAt(5)){case 103:return"-webkit-box-"+Sr.replace("-grow","")+"-webkit-"+Sr+"-ms-"+Sr.replace("grow","positive")+Sr;case 115:return"-webkit-"+Sr+"-ms-"+Sr.replace("shrink","negative")+Sr;case 98:return"-webkit-"+Sr+"-ms-"+Sr.replace("basis","preferred-size")+Sr}return"-webkit-"+Sr+"-ms-"+Sr+Sr;case 964:return"-webkit-"+Sr+"-ms-flex-"+Sr+Sr;case 1023:if(Sr.charCodeAt(8)!==99)break;return Qr=Sr.substring(Sr.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Qr+"-webkit-"+Sr+"-ms-flex-pack"+Qr+Sr;case 1005:return Mt.test(Sr)?Sr.replace(Ft,":-webkit-")+Sr.replace(Ft,":-moz-")+Sr:Sr;case 1e3:switch(Qr=Sr.substring(13).trim(),dr=Qr.indexOf("-")+1,Qr.charCodeAt(0)+Qr.charCodeAt(dr)){case 226:Qr=Sr.replace(Vt,"tb");break;case 232:Qr=Sr.replace(Vt,"tb-rl");break;case 220:Qr=Sr.replace(Vt,"lr");break;default:return Sr}return"-webkit-"+Sr+"-ms-"+Qr+Sr;case 1017:if(Sr.indexOf("sticky",9)===-1)break;case 975:switch(dr=(Sr=sr).length-10,Qr=(Sr.charCodeAt(dr)===33?Sr.substring(0,dr):Sr).substring(sr.indexOf(":",7)+1).trim(),dn=Qr.charCodeAt(0)+(Qr.charCodeAt(7)|0)){case 203:if(111>Qr.charCodeAt(8))break;case 115:Sr=Sr.replace(Qr,"-webkit-"+Qr)+";"+Sr;break;case 207:case 102:Sr=Sr.replace(Qr,"-webkit-"+(102<dn?"inline-":"")+"box")+";"+Sr.replace(Qr,"-webkit-"+Qr)+";"+Sr.replace(Qr,"-ms-"+Qr+"box")+";"+Sr}return Sr+";";case 938:if(Sr.charCodeAt(5)===45)switch(Sr.charCodeAt(6)){case 105:return Qr=Sr.replace("-items",""),"-webkit-"+Sr+"-webkit-box-"+Qr+"-ms-flex-"+Qr+Sr;case 115:return"-webkit-"+Sr+"-ms-flex-item-"+Sr.replace(nr,"")+Sr;default:return"-webkit-"+Sr+"-ms-flex-line-pack"+Sr.replace("align-content","").replace(nr,"")+Sr}break;case 973:case 989:if(Sr.charCodeAt(3)!==45||Sr.charCodeAt(4)===122)break;case 931:case 953:if(Kt.test(sr)===!0)return(Qr=sr.substring(sr.indexOf(":")+1)).charCodeAt(0)===115?at(sr.replace("stretch","fill-available"),dr,Rr,jr).replace(":fill-available",":stretch"):Sr.replace(Qr,"-webkit-"+Qr)+Sr.replace(Qr,"-moz-"+Qr.replace("fill-",""))+Sr;break;case 962:if(Sr="-webkit-"+Sr+(Sr.charCodeAt(5)===102?"-ms-"+Sr:"")+Sr,Rr+jr===211&&Sr.charCodeAt(13)===105&&0<Sr.indexOf("transform",10))return Sr.substring(0,Sr.indexOf(";",27)+1).replace(Lt,"$1-webkit-$2")+Sr}return Sr}function lt(sr,dr){var Rr=sr.indexOf(dr===1?":":"{"),jr=sr.substring(0,dr!==3?Rr:10);return Rr=sr.substring(Rr+1,sr.length-1),Qt(dr!==2?jr:jr.replace(er,"$1"),Rr,dr)}function dt(sr,dr){var Rr=at(dr,dr.charCodeAt(0),dr.charCodeAt(1),dr.charCodeAt(2));return Rr!==dr+";"?Rr.replace(Wt," or ($1)").substring(4):"("+dr+")"}function ot(sr,dr,Rr,jr,Sr,dn,Qr,gn,ln,Kr){for(var cn=0,En=dr,yn;cn<Xt;++cn)switch(yn=Tr[cn].call(Et,sr,En,Rr,jr,Sr,dn,Qr,gn,ln,Kr)){case void 0:case!1:case!0:case null:break;default:En=yn}if(En!==dr)return En}function mt(sr){switch(sr){case void 0:case null:Xt=Tr.length=0;break;default:if(typeof sr=="function")Tr[Xt++]=sr;else if(typeof sr=="object")for(var dr=0,Rr=sr.length;dr<Rr;++dr)mt(sr[dr]);else lr=!!sr|0}return mt}function xt(sr){return sr=sr.prefix,sr!==void 0&&(Qt=null,sr?typeof sr!="function"?Cr=1:(Cr=2,Qt=sr):Cr=0),xt}function Et(sr,dr){var Rr=sr;if(33>Rr.charCodeAt(0)&&(Rr=Rr.trim()),cr=Rr,Rr=[cr],0<Xt){var jr=ot(-1,dr,Rr,Rr,Lr,vr,0,0,0,0);jr!==void 0&&typeof jr=="string"&&(dr=jr)}var Sr=tt(hr,Rr,dr,0,0);return 0<Xt&&(jr=ot(-2,Sr,Rr,Rr,Lr,vr,Sr.length,0,0,0),jr!==void 0&&(Sr=jr)),cr="",Er=0,vr=Lr=1,Sr}var At=/^\0+/g,Tt=/[\0\r\f]/g,Ft=/: */g,Mt=/zoo|gra/,Lt=/([,: ])(transform)/g,Gt=/,\r+?/g,Pt=/([\t\r\n ])*\f?&/g,$t=/@(k\w+)\s*(\S*)\s*/,It=/::(place)/g,Ot=/:(read-only)/g,Vt=/[svh]\w+-[tblr]{2}/,Ut=/\(\s*(.*)\s*\)/g,Wt=/([\s\S]*?);/g,nr=/-self|flex-/g,er=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Kt=/stretch|:\s*\w+\-(?:conte|avail)/,ur=/([^-])(image-set\()/,vr=1,Lr=1,Er=0,Cr=1,hr=[],Tr=[],Xt=0,Qt=null,lr=0,cr="";return Et.use=mt,Et.set=xt,et!==void 0&&xt(et),Et}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function y(){return(y=Object.assign||function(et){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(et[nt]=rt[nt])}return et}).apply(this,arguments)}var v=function(et,tt){for(var rt=[et[0]],nt=0,at=tt.length;nt<at;nt+=1)rt.push(tt[nt],et[nt+1]);return rt},g=function(et){return et!==null&&typeof et=="object"&&(et.toString?et.toString():Object.prototype.toString.call(et))==="[object Object]"&&!reactIsExports$1.typeOf(et)},S=Object.freeze([]),w=Object.freeze({});function E(et){return typeof et=="function"}function b(et){return et.displayName||et.name||"Component"}function _(et){return et&&typeof et.styledComponentId=="string"}var N=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",C=typeof window<"u"&&"HTMLElement"in window,I=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY));function D(et){for(var tt=arguments.length,rt=new Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)rt[nt-1]=arguments[nt];throw new Error("An error occurred. See https://git.io/JUIaE#"+et+" for more information."+(rt.length>0?" Args: "+rt.join(", "):""))}var j=function(){function et(rt){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=rt}var tt=et.prototype;return tt.indexOfGroup=function(rt){for(var nt=0,at=0;at<rt;at++)nt+=this.groupSizes[at];return nt},tt.insertRules=function(rt,nt){if(rt>=this.groupSizes.length){for(var at=this.groupSizes,lt=at.length,dt=lt;rt>=dt;)(dt<<=1)<0&&D(16,""+rt);this.groupSizes=new Uint32Array(dt),this.groupSizes.set(at),this.length=dt;for(var ot=lt;ot<dt;ot++)this.groupSizes[ot]=0}for(var mt=this.indexOfGroup(rt+1),xt=0,Et=nt.length;xt<Et;xt++)this.tag.insertRule(mt,nt[xt])&&(this.groupSizes[rt]++,mt++)},tt.clearGroup=function(rt){if(rt<this.length){var nt=this.groupSizes[rt],at=this.indexOfGroup(rt),lt=at+nt;this.groupSizes[rt]=0;for(var dt=at;dt<lt;dt++)this.tag.deleteRule(at)}},tt.getGroup=function(rt){var nt="";if(rt>=this.length||this.groupSizes[rt]===0)return nt;for(var at=this.groupSizes[rt],lt=this.indexOfGroup(rt),dt=lt+at,ot=lt;ot<dt;ot++)nt+=this.tag.getRule(ot)+`/*!sc*/
`;return nt},et}(),T=new Map,x=new Map,k=1,V=function(et){if(T.has(et))return T.get(et);for(;x.has(k);)k++;var tt=k++;return T.set(et,tt),x.set(tt,et),tt},B=function(et){return x.get(et)},z=function(et,tt){tt>=k&&(k=tt+1),T.set(et,tt),x.set(tt,et)},M="style["+N+'][data-styled-version="5.3.11"]',G=new RegExp("^"+N+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(et,tt,rt){for(var nt,at=rt.split(","),lt=0,dt=at.length;lt<dt;lt++)(nt=at[lt])&&et.registerName(tt,nt)},F=function(et,tt){for(var rt=(tt.textContent||"").split(`/*!sc*/
`),nt=[],at=0,lt=rt.length;at<lt;at++){var dt=rt[at].trim();if(dt){var ot=dt.match(G);if(ot){var mt=0|parseInt(ot[1],10),xt=ot[2];mt!==0&&(z(xt,mt),L(et,xt,ot[3]),et.getTag().insertRules(mt,nt)),nt.length=0}else nt.push(dt)}}},Y=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},q=function(et){var tt=document.head,rt=et||tt,nt=document.createElement("style"),at=function(ot){for(var mt=ot.childNodes,xt=mt.length;xt>=0;xt--){var Et=mt[xt];if(Et&&Et.nodeType===1&&Et.hasAttribute(N))return Et}}(rt),lt=at!==void 0?at.nextSibling:null;nt.setAttribute(N,"active"),nt.setAttribute("data-styled-version","5.3.11");var dt=Y();return dt&&nt.setAttribute("nonce",dt),rt.insertBefore(nt,lt),nt},H=function(){function et(rt){var nt=this.element=q(rt);nt.appendChild(document.createTextNode("")),this.sheet=function(at){if(at.sheet)return at.sheet;for(var lt=document.styleSheets,dt=0,ot=lt.length;dt<ot;dt++){var mt=lt[dt];if(mt.ownerNode===at)return mt}D(17)}(nt),this.length=0}var tt=et.prototype;return tt.insertRule=function(rt,nt){try{return this.sheet.insertRule(nt,rt),this.length++,!0}catch{return!1}},tt.deleteRule=function(rt){this.sheet.deleteRule(rt),this.length--},tt.getRule=function(rt){var nt=this.sheet.cssRules[rt];return nt!==void 0&&typeof nt.cssText=="string"?nt.cssText:""},et}(),$=function(){function et(rt){var nt=this.element=q(rt);this.nodes=nt.childNodes,this.length=0}var tt=et.prototype;return tt.insertRule=function(rt,nt){if(rt<=this.length&&rt>=0){var at=document.createTextNode(nt),lt=this.nodes[rt];return this.element.insertBefore(at,lt||null),this.length++,!0}return!1},tt.deleteRule=function(rt){this.element.removeChild(this.nodes[rt]),this.length--},tt.getRule=function(rt){return rt<this.length?this.nodes[rt].textContent:""},et}(),W=function(){function et(rt){this.rules=[],this.length=0}var tt=et.prototype;return tt.insertRule=function(rt,nt){return rt<=this.length&&(this.rules.splice(rt,0,nt),this.length++,!0)},tt.deleteRule=function(rt){this.rules.splice(rt,1),this.length--},tt.getRule=function(rt){return rt<this.length?this.rules[rt]:""},et}(),U=C,J={isServer:!C,useCSSOMInjection:!I},X=function(){function et(rt,nt,at){rt===void 0&&(rt=w),nt===void 0&&(nt={}),this.options=y({},J,{},rt),this.gs=nt,this.names=new Map(at),this.server=!!rt.isServer,!this.server&&C&&U&&(U=!1,function(lt){for(var dt=document.querySelectorAll(M),ot=0,mt=dt.length;ot<mt;ot++){var xt=dt[ot];xt&&xt.getAttribute(N)!=="active"&&(F(lt,xt),xt.parentNode&&xt.parentNode.removeChild(xt))}}(this))}et.registerId=function(rt){return V(rt)};var tt=et.prototype;return tt.reconstructWithOptions=function(rt,nt){return nt===void 0&&(nt=!0),new et(y({},this.options,{},rt),this.gs,nt&&this.names||void 0)},tt.allocateGSInstance=function(rt){return this.gs[rt]=(this.gs[rt]||0)+1},tt.getTag=function(){return this.tag||(this.tag=(at=(nt=this.options).isServer,lt=nt.useCSSOMInjection,dt=nt.target,rt=at?new W(dt):lt?new H(dt):new $(dt),new j(rt)));var rt,nt,at,lt,dt},tt.hasNameForId=function(rt,nt){return this.names.has(rt)&&this.names.get(rt).has(nt)},tt.registerName=function(rt,nt){if(V(rt),this.names.has(rt))this.names.get(rt).add(nt);else{var at=new Set;at.add(nt),this.names.set(rt,at)}},tt.insertRules=function(rt,nt,at){this.registerName(rt,nt),this.getTag().insertRules(V(rt),at)},tt.clearNames=function(rt){this.names.has(rt)&&this.names.get(rt).clear()},tt.clearRules=function(rt){this.getTag().clearGroup(V(rt)),this.clearNames(rt)},tt.clearTag=function(){this.tag=void 0},tt.toString=function(){return function(rt){for(var nt=rt.getTag(),at=nt.length,lt="",dt=0;dt<at;dt++){var ot=B(dt);if(ot!==void 0){var mt=rt.names.get(ot),xt=nt.getGroup(dt);if(mt&&xt&&mt.size){var Et=N+".g"+dt+'[id="'+ot+'"]',At="";mt!==void 0&&mt.forEach(function(Tt){Tt.length>0&&(At+=Tt+",")}),lt+=""+xt+Et+'{content:"'+At+`"}/*!sc*/
`}}}return lt}(this)},et}(),Z=/(a)(d)/gi,K=function(et){return String.fromCharCode(et+(et>25?39:97))};function Q(et){var tt,rt="";for(tt=Math.abs(et);tt>52;tt=tt/52|0)rt=K(tt%52)+rt;return(K(tt%52)+rt).replace(Z,"$1-$2")}var ee=function(et,tt){for(var rt=tt.length;rt;)et=33*et^tt.charCodeAt(--rt);return et},te=function(et){return ee(5381,et)};function ne(et){for(var tt=0;tt<et.length;tt+=1){var rt=et[tt];if(E(rt)&&!_(rt))return!1}return!0}var re=te("5.3.11"),oe=function(){function et(tt,rt,nt){this.rules=tt,this.staticRulesId="",this.isStatic=(nt===void 0||nt.isStatic)&&ne(tt),this.componentId=rt,this.baseHash=ee(re,rt),this.baseStyle=nt,X.registerId(rt)}return et.prototype.generateAndInjectStyles=function(tt,rt,nt){var at=this.componentId,lt=[];if(this.baseStyle&&lt.push(this.baseStyle.generateAndInjectStyles(tt,rt,nt)),this.isStatic&&!nt.hash)if(this.staticRulesId&&rt.hasNameForId(at,this.staticRulesId))lt.push(this.staticRulesId);else{var dt=_e(this.rules,tt,rt,nt).join(""),ot=Q(ee(this.baseHash,dt)>>>0);if(!rt.hasNameForId(at,ot)){var mt=nt(dt,"."+ot,void 0,at);rt.insertRules(at,ot,mt)}lt.push(ot),this.staticRulesId=ot}else{for(var xt=this.rules.length,Et=ee(this.baseHash,nt.hash),At="",Tt=0;Tt<xt;Tt++){var Ft=this.rules[Tt];if(typeof Ft=="string")At+=Ft;else if(Ft){var Mt=_e(Ft,tt,rt,nt),Lt=Array.isArray(Mt)?Mt.join(""):Mt;Et=ee(Et,Lt+Tt),At+=Lt}}if(At){var Gt=Q(Et>>>0);if(!rt.hasNameForId(at,Gt)){var Pt=nt(At,"."+Gt,void 0,at);rt.insertRules(at,Gt,Pt)}lt.push(Gt)}}return lt.join(" ")},et}(),se=/^\s*\/\/.*$/gm,ie=[":","[",".","#"];function ae(et){var tt,rt,nt,at,lt=et===void 0?w:et,dt=lt.options,ot=dt===void 0?w:dt,mt=lt.plugins,xt=mt===void 0?S:mt,Et=new stylis_min(ot),At=[],Tt=function(Lt){function Gt(Pt){if(Pt)try{Lt(Pt+"}")}catch{}}return function(Pt,$t,It,Ot,Vt,Ut,Wt,nr,er,Kt){switch(Pt){case 1:if(er===0&&$t.charCodeAt(0)===64)return Lt($t+";"),"";break;case 2:if(nr===0)return $t+"/*|*/";break;case 3:switch(nr){case 102:case 112:return Lt(It[0]+$t),"";default:return $t+(Kt===0?"/*|*/":"")}case-2:$t.split("/*|*/}").forEach(Gt)}}}(function(Lt){At.push(Lt)}),Ft=function(Lt,Gt,Pt){return Gt===0&&ie.indexOf(Pt[rt.length])!==-1||Pt.match(at)?Lt:"."+tt};function Mt(Lt,Gt,Pt,$t){$t===void 0&&($t="&");var It=Lt.replace(se,""),Ot=Gt&&Pt?Pt+" "+Gt+" { "+It+" }":It;return tt=$t,rt=Gt,nt=new RegExp("\\"+rt+"\\b","g"),at=new RegExp("(\\"+rt+"\\b){2,}"),Et(Pt||!Gt?"":Gt,Ot)}return Et.use([].concat(xt,[function(Lt,Gt,Pt){Lt===2&&Pt.length&&Pt[0].lastIndexOf(rt)>0&&(Pt[0]=Pt[0].replace(nt,Ft))},Tt,function(Lt){if(Lt===-2){var Gt=At;return At=[],Gt}}])),Mt.hash=xt.length?xt.reduce(function(Lt,Gt){return Gt.name||D(15),ee(Lt,Gt.name)},5381).toString():"",Mt}var ce=React.createContext();ce.Consumer;var le=React.createContext(),de=(le.Consumer,new X),he=ae();function pe(){return reactExports.useContext(ce)||de}function fe(){return reactExports.useContext(le)||he}var ye=function(){function et(tt,rt){var nt=this;this.inject=function(at,lt){lt===void 0&&(lt=he);var dt=nt.name+lt.hash;at.hasNameForId(nt.id,dt)||at.insertRules(nt.id,dt,lt(nt.rules,dt,"@keyframes"))},this.toString=function(){return D(12,String(nt.name))},this.name=tt,this.id="sc-keyframes-"+tt,this.rules=rt}return et.prototype.getName=function(tt){return tt===void 0&&(tt=he),this.name+tt.hash},et}(),ve=/([A-Z])/,ge=/([A-Z])/g,Se=/^ms-/,we=function(et){return"-"+et.toLowerCase()};function Ee(et){return ve.test(et)?et.replace(ge,we).replace(Se,"-ms-"):et}var be=function(et){return et==null||et===!1||et===""};function _e(et,tt,rt,nt){if(Array.isArray(et)){for(var at,lt=[],dt=0,ot=et.length;dt<ot;dt+=1)(at=_e(et[dt],tt,rt,nt))!==""&&(Array.isArray(at)?lt.push.apply(lt,at):lt.push(at));return lt}if(be(et))return"";if(_(et))return"."+et.styledComponentId;if(E(et)){if(typeof(xt=et)!="function"||xt.prototype&&xt.prototype.isReactComponent||!tt)return et;var mt=et(tt);return _e(mt,tt,rt,nt)}var xt;return et instanceof ye?rt?(et.inject(rt,nt),et.getName(nt)):et:g(et)?function Et(At,Tt){var Ft,Mt,Lt=[];for(var Gt in At)At.hasOwnProperty(Gt)&&!be(At[Gt])&&(Array.isArray(At[Gt])&&At[Gt].isCss||E(At[Gt])?Lt.push(Ee(Gt)+":",At[Gt],";"):g(At[Gt])?Lt.push.apply(Lt,Et(At[Gt],Gt)):Lt.push(Ee(Gt)+": "+(Ft=Gt,(Mt=At[Gt])==null||typeof Mt=="boolean"||Mt===""?"":typeof Mt!="number"||Mt===0||Ft in unitlessKeys||Ft.startsWith("--")?String(Mt).trim():Mt+"px")+";"));return Tt?[Tt+" {"].concat(Lt,["}"]):Lt}(et):et.toString()}var Ne=function(et){return Array.isArray(et)&&(et.isCss=!0),et};function Ae(et){for(var tt=arguments.length,rt=new Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)rt[nt-1]=arguments[nt];return E(et)||g(et)?Ne(_e(v(S,[et].concat(rt)))):rt.length===0&&et.length===1&&typeof et[0]=="string"?et:Ne(_e(v(et,rt)))}var Oe=function(et,tt,rt){return rt===void 0&&(rt=w),et.theme!==rt.theme&&et.theme||tt||rt.theme},Re=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,De=/(^-|-$)/g;function je(et){return et.replace(Re,"-").replace(De,"")}var Te=function(et){return Q(te(et)>>>0)};function xe(et){return typeof et=="string"&&!0}var ke=function(et){return typeof et=="function"||typeof et=="object"&&et!==null&&!Array.isArray(et)},Ve=function(et){return et!=="__proto__"&&et!=="constructor"&&et!=="prototype"};function Be(et,tt,rt){var nt=et[rt];ke(tt)&&ke(nt)?ze(nt,tt):et[rt]=tt}function ze(et){for(var tt=arguments.length,rt=new Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)rt[nt-1]=arguments[nt];for(var at=0,lt=rt;at<lt.length;at++){var dt=lt[at];if(ke(dt))for(var ot in dt)Ve(ot)&&Be(et,dt[ot],ot)}return et}var Me=React.createContext();Me.Consumer;var Fe={};function Ye(et,tt,rt){var nt=_(et),at=!xe(et),lt=tt.attrs,dt=lt===void 0?S:lt,ot=tt.componentId,mt=ot===void 0?function($t,It){var Ot=typeof $t!="string"?"sc":je($t);Fe[Ot]=(Fe[Ot]||0)+1;var Vt=Ot+"-"+Te("5.3.11"+Ot+Fe[Ot]);return It?It+"-"+Vt:Vt}(tt.displayName,tt.parentComponentId):ot,xt=tt.displayName,Et=xt===void 0?function($t){return xe($t)?"styled."+$t:"Styled("+b($t)+")"}(et):xt,At=tt.displayName&&tt.componentId?je(tt.displayName)+"-"+tt.componentId:tt.componentId||mt,Tt=nt&&et.attrs?Array.prototype.concat(et.attrs,dt).filter(Boolean):dt,Ft=tt.shouldForwardProp;nt&&et.shouldForwardProp&&(Ft=tt.shouldForwardProp?function($t,It,Ot){return et.shouldForwardProp($t,It,Ot)&&tt.shouldForwardProp($t,It,Ot)}:et.shouldForwardProp);var Mt,Lt=new oe(rt,At,nt?et.componentStyle:void 0),Gt=Lt.isStatic&&dt.length===0,Pt=function($t,It){return function(Ot,Vt,Ut,Wt){var nr=Ot.attrs,er=Ot.componentStyle,Kt=Ot.defaultProps,ur=Ot.foldedComponentIds,vr=Ot.shouldForwardProp,Lr=Ot.styledComponentId,Er=Ot.target,Cr=function(jr,Sr,dn){jr===void 0&&(jr=w);var Qr=y({},Sr,{theme:jr}),gn={};return dn.forEach(function(ln){var Kr,cn,En,yn=ln;for(Kr in E(yn)&&(yn=yn(Qr)),yn)Qr[Kr]=gn[Kr]=Kr==="className"?(cn=gn[Kr],En=yn[Kr],cn&&En?cn+" "+En:cn||En):yn[Kr]}),[Qr,gn]}(Oe(Vt,reactExports.useContext(Me),Kt)||w,Vt,nr),hr=Cr[0],Tr=Cr[1],Xt=function(jr,Sr,dn,Qr){var gn=pe(),ln=fe(),Kr=Sr?jr.generateAndInjectStyles(w,gn,ln):jr.generateAndInjectStyles(dn,gn,ln);return Kr}(er,Wt,hr),Qt=Ut,lr=Tr.$as||Vt.$as||Tr.as||Vt.as||Er,cr=xe(lr),sr=Tr!==Vt?y({},Vt,{},Tr):Vt,dr={};for(var Rr in sr)Rr[0]!=="$"&&Rr!=="as"&&(Rr==="forwardedAs"?dr.as=sr[Rr]:(vr?vr(Rr,isPropValid,lr):!cr||isPropValid(Rr))&&(dr[Rr]=sr[Rr]));return Vt.style&&Tr.style!==Vt.style&&(dr.style=y({},Vt.style,{},Tr.style)),dr.className=Array.prototype.concat(ur,Lr,Xt!==Lr?Xt:null,Vt.className,Tr.className).filter(Boolean).join(" "),dr.ref=Qt,reactExports.createElement(lr,dr)}(Mt,$t,It,Gt)};return Pt.displayName=Et,(Mt=React.forwardRef(Pt)).attrs=Tt,Mt.componentStyle=Lt,Mt.displayName=Et,Mt.shouldForwardProp=Ft,Mt.foldedComponentIds=nt?Array.prototype.concat(et.foldedComponentIds,et.styledComponentId):S,Mt.styledComponentId=At,Mt.target=nt?et.target:et,Mt.withComponent=function($t){var It=tt.componentId,Ot=function(Ut,Wt){if(Ut==null)return{};var nr,er,Kt={},ur=Object.keys(Ut);for(er=0;er<ur.length;er++)nr=ur[er],Wt.indexOf(nr)>=0||(Kt[nr]=Ut[nr]);return Kt}(tt,["componentId"]),Vt=It&&It+"-"+(xe($t)?$t:je(b($t)));return Ye($t,y({},Ot,{attrs:Tt,componentId:Vt}),rt)},Object.defineProperty(Mt,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function($t){this._foldedDefaultProps=nt?ze({},et.defaultProps,$t):$t}}),Object.defineProperty(Mt,"toString",{value:function(){return"."+Mt.styledComponentId}}),at&&m$9(Mt,et,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),Mt}var qe=function(et){return function tt(rt,nt,at){if(at===void 0&&(at=w),!reactIsExports$1.isValidElementType(nt))return D(1,String(nt));var lt=function(){return rt(nt,at,Ae.apply(void 0,arguments))};return lt.withConfig=function(dt){return tt(rt,nt,y({},at,{},dt))},lt.attrs=function(dt){return tt(rt,nt,y({},at,{attrs:Array.prototype.concat(at.attrs,dt).filter(Boolean)}))},lt}(Ye,et)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(et){qe[et]=qe(et)});const styled=qe,StyledSwitch=styled(Switch$1)(()=>({height:"55px",width:"75px","& .MuiButtonBase-root":{padding:"14px"},"& .Mui-checked+.MuiSwitch-track":{opacity:"1 !important"},"& .MuiSwitch-track":{borderRadius:"30px"},"& .MuiSwitch-thumb":{backgroundColor:"#fff",width:"27px",height:"27px"}})),SettingStyle={"& .themeSetting .MuiToggleButtonGroup-root":{width:"100%",py:"1rem"},"& .themeSetting .MuiToggleButtonGroup-root .MuiButtonBase-root":{width:"100%",py:"1rem",borderRadius:"0.75rem"},"& .themeSetting .MuiToggleButtonGroup-root .MuiButtonBase-root.MuiToggleButtonGroup-grouped:not(:last-of-type), ":{borderTopRightRadius:0,borderBottomRightRadius:0},"& .themeSetting .MuiToggleButtonGroup-root .MuiButtonBase-root.MuiToggleButtonGroup-grouped:not(:first-of-type)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"& .themeSetting .MuiToggleButtonGroup-root .MuiButtonBase-root.Mui-selected":{color:mainPrimary},"& .themeSetting .MuiToggleButtonGroup-root .MuiButtonBase-root .MuiTypography-root":{pl:"0.5rem"},"& .backgroundNotification .MuiBox-root":{display:"flex",justifyContent:"space-between",alignItems:"center",px:"0.5rem",py:"0.2rem"},"& .NofificationCategory .MuiBox-root":{display:"flex",flexWrap:"wrap",gap:"1rem",padding:"1rem 0"},"& .NofificationCategory .MuiBox-root .MuiButtonBase-root ":{width:"calc(50% - 0.5rem)",padding:"1rem",fontSize:"1.1rem",borderRadius:"0.75rem"},"& .NofificationCategory .MuiBox-root .MuiButtonBase-root.MuiButton-contained":{border:"1px solid #00000000"}},wooyeonCategory$1=[{id:"DAILY",value:"일상"},{id:"GROUP",value:"모임"},{id:"INFO",value:"정보"},{id:"EVENT",value:"이벤트"},{id:"ADS",value:"광고"},{id:"PRESENT",value:"선물"}],SettingPage=()=>{const{setHeadOpt:et,navigate:tt}=useOutletContext(),[rt,nt]=Recoil_index_22(filterState),[at]=Recoil_index_22(userState),[lt,dt]=Recoil_index_22(envState),ot={menus:[{key:"설정",value:"/mypage/setting"}],icon_R:u,fn_R:()=>tt(-1),headerType:"V2"};reactExports.useLayoutEffect(()=>{et(ot)},[]);const mt=(Tt,Ft)=>{Ft!==null&&(dt(Mt=>({...Mt,theme:Ft})),localStorage.getItem("isFlutter")==="1"&&Theming.postMessage(Ft))},xt=Tt=>{dt(Ft=>({...Ft,backNoti:!Ft.backNoti})),localStorage.getItem("isFlutter")==="1"&&Notifing.postMessage(Tt.target.checked)},Et=(Tt,Ft)=>{Ft!==null&&At(Ft)},{mutate:At}=useMutation("updateCategory",Tt=>PatchUser({name:at.name,message:"hello",category:rt.preferCategory}),{onSuccess:(Tt,Ft)=>{nt(Mt=>{let Lt=Mt.preferCategory;const Gt=Lt.indexOf(Ft);if(Gt===-1)Lt=[...Lt,Ft];else if(Gt!==-1){if(Mt.preferCategory.length===1)return{...Mt,preferCategory:Lt};Lt=Mt.preferCategory.filter(Pt=>Pt!==Ft)}return{...Mt,preferCategory:Lt}})}});return jsxs(Stack$1,{spacing:2,divider:jsx(Divider$1,{orientation:"horizontal",flexItem:!0}),sx:SettingStyle,children:[jsxs(Box$1,{className:"themeSetting",children:[jsx(Typography$1,{variant:"h5",children:"밝기 테마"}),jsxs(ToggleButtonGroup$1,{value:lt.theme,exclusive:!0,onChange:mt,children:[jsxs(ToggleButton$1,{value:"light",children:[jsx(E$2,{size:24}),jsx(Typography$1,{variant:"button",children:"라이트"})]}),jsxs(ToggleButton$1,{value:"system",children:[jsx(i$5,{size:24}),jsx(Typography$1,{variant:"button",children:"시스템"})]}),jsxs(ToggleButton$1,{value:"dark",children:[jsx(g$1,{size:24}),jsx(Typography$1,{variant:"button",children:"다크"})]})]})]}),jsxs(Box$1,{className:"backgroundNotification",children:[jsx(Typography$1,{variant:"h5",children:"알람 수신 여부"}),jsxs(Box$1,{children:[jsx(Typography$1,{variant:"body1",children:"백그라운드 알림"}),jsx(StyledSwitch,{checked:lt.backNoti,value:"backgroundNotification",onChange:xt})]}),jsx(Typography$1,{variant:"body2",sx:{px:"0.5rem"},children:"어플을 실행하지 않았을 때, 내 주변의 새로운 우연을 알려드립니다."})]}),jsxs(Box$1,{className:"NofificationCategory",children:[jsx(Typography$1,{variant:"h5",children:"수신 받을 카테고리"}),jsx(Box$1,{children:wooyeonCategory$1.map(Tt=>{const Ft=rt.preferCategory.includes(Tt.id);return jsx(Button$1,{variant:Ft?"contained":"outlined",onClick:Mt=>Et(Mt,Tt.id),children:Tt.value},Tt.id)})}),jsx(Typography$1,{variant:"body2",sx:{px:"0.5rem"},children:"최소 한 개의 카테고리는 선택되어야 합니다."})]})]})},SettingPage$1=reactExports.memo(SettingPage),getDetailWooyeon=async et=>await fetch(`${BACK_URL}/post?post_id=${et}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYjRmMDUxNTAtOGNiMC00NzVhLWIzYzYtZDM4MjM0OWM5NTNjIiwibmFtZSI6IuydtOuPhOqyvSIsImVtYWlsIjoiZG85OEBrYWthby5jb20iLCJyb2xlIjoiVVNFUiIsImlhdCI6MTY4NjExNDk1MSwiZXhwIjoxNjg2MjAxMzUxfQ.yHoGiXAFZt_a4A0RMyGVFC3kDvz1W8hjxfAHBDaG-_c"}}).then(rt=>rt.json()),StyledDetailContent=newStyled(Box$1)(({theme:et})=>({padding:"0 1rem",position:"relative","& .detail_header":{width:"100%",backgroundColor:et.palette.background.default,padding:"1rem",borderRadius:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},"& .detail_header .header_user .categoryTag":{minWidth:"4.5rem",height:"2rem",lineHeight:"2rem",borderRadius:"1rem",backgroundColor:mainPrimary,padding:"0rem 0.7rem",textAlign:"center",color:"#fff"},"& .detail_header .header_user":{display:"flex",gap:"1rem",alignItems:"center"},"& .detail_header .header_content":{minHeight:"3rem"},"& .detail_header .footer_content .favorite":{display:"flex",alignItems:"center"}})),LazyAvatar=React.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>index),void 0)),LazyTypography=React.lazy(()=>__vitePreload(()=>import("./index-629117b4.js"),[])),wooyeonCategory=[{id:"DAILY",value:"일상"},{id:"GROUP",value:"모임"},{id:"INFO",value:"정보"},{id:"EVENT",value:"이벤트"},{id:"ADS",value:"광고"},{id:"PRESENT",value:"선물"}];function getWooyeonCategory(et){const tt=wooyeonCategory.find(rt=>rt.id===et);return tt==null?void 0:tt.value}function DetailContent({wooyeon:et}){TimeAgo.addLocale(ko);const tt=new TimeAgo("ko");let rt;return et!==void 0&&(rt=new Date(et==null?void 0:et.created_at)),jsx(StyledDetailContent,{children:jsxs(Box$1,{className:"detail_header",children:[jsxs(Box$1,{className:"header_user",children:[jsx(reactExports.Suspense,{fallback:jsx(Skeleton$1,{variant:"circular",sx:{width:"48px",height:"48px",aspectRatio:"1/1"}}),children:jsx(Box$1,{children:jsx(LazyAvatar,{colors:avatarColors,variant:"beam",size:48,name:et==null?void 0:et.post_id})})}),jsx(Box$1,{sx:{width:"100%"},children:jsxs(reactExports.Suspense,{fallback:jsxs(Fragment,{children:[jsx(Skeleton$1,{variant:"text",sx:{fontSize:"1rem"}}),jsx(Skeleton$1,{variant:"text",sx:{fontSize:"1rem",width:"50%"}})]}),children:[jsx(LazyTypography,{variant:"body1",children:"뜨거운 감자"}),jsx(Typography$1,{variant:"body2",children:rt&&tt.format(rt==null?void 0:rt.getTime())})]})}),jsx(Box$1,{className:"categoryTag",children:jsxs(Typography$1,{variant:"button",children:["#",getWooyeonCategory(et==null?void 0:et.category)]})})]}),jsx(Box$1,{className:"header_content",children:et==null?void 0:et.content}),jsx(Box$1,{className:"footer_content",children:jsxs(Box$1,{className:"favorite",children:[jsx(IconButton$1,{children:jsx(h$6,{color:secondary,weight:et!=null&&et.own_emotion?"fill":"regular"})}),jsx(Typography$1,{variant:"body2",children:et==null?void 0:et.emotion_count})]})})]})})}const StyledCommentItem=newStyled(Box$1)(({theme:et})=>({display:"flex",alignItems:"row",justifyContent:"space-between",gap:"1rem","& .commentContent":{width:"100%",textAlign:"left"},"& .rightSide":{minWidth:"4rem"}}));function CommentItem({value:et,createAt:tt}){return jsxs(StyledCommentItem,{children:[jsx(Box$1,{children:jsx(Avatar,{name:"asd",variant:"beam",colors:avatarColors,size:36})}),jsxs(Box$1,{className:"commentContent",children:[jsx(Typography$1,{variant:"body2",children:et}),jsx(Typography$1,{variant:"caption",color:"#8e8e8e",children:"5분 전"})]}),jsx(Box$1,{className:"rightSide",children:tt})]})}const StyledComment=newStyled(Box$1)(({theme:et})=>({"& .comments":{padding:"1rem",backgroundColor:et.palette.background.default,borderRadius:"1rem"}}));function DetailComment({wooyeon:et}){TimeAgo.addLocale(ko);const tt=new TimeAgo("ko"),rt=new Date;return jsx(StyledComment,{sx:{padding:"0 1rem"},children:jsxs(Stack$1,{spacing:2,className:"comments",children:[jsx(CommentItem,{value:"여기 좋긴하죠?",createAt:tt.format(rt)}),jsx(CommentItem,{value:"맞아용",createAt:tt.format(rt)}),jsx(CommentItem,{value:"저는 반대편에 고쿠라는 카페도 좋더라구요",createAt:tt.format(rt)})]})})}const HeadBlinder=newStyled("div")(({theme:et})=>({width:"100%",height:54,position:"absolute",top:0,backgroundColor:et.palette.background.default,zIndex:1,background:"linear-gradient(0deg, rgba(0,0,0,0) 10%, #22222250 90%)"})),LazyImageCarousel=React.lazy(()=>__vitePreload(()=>import("./index-e0bef4f1.js"),[]));function DetailImg({wooyeon:et}){return jsxs(Box$1,{sx:{width:"100%",height:"100%",aspectRatio:"1/1",marginBottom:"2rem"},children:[jsx(HeadBlinder,{}),jsx(reactExports.Suspense,{fallback:jsx(Skeleton$1,{variant:"rectangular",sx:{display:"block",width:"100%",height:"100%"}}),children:jsx(LazyImageCarousel,{images:et==null?void 0:et.image})})]})}function Detail(){const{post_id:et}=useParams(),tt=useTheme(),{setHeadOpt:rt,navigate:nt,setWrapperOpt:at}=useOutletContext(),lt={menus:[{key:"",value:"/detail"}],icon_L:M$5,fn_L:()=>nt(-1),icon_R:()=>jsx(M$4,{weight:"bold"}),fn_R:()=>nt(-1),headerType:"V3",bgColor:"#ffffff00 !important",contentColor:"#fff"},dt={isFullWidth:!0,isNoneHeadPadding:!0,noneFullHeight:!0};reactExports.useLayoutEffect(()=>{rt(lt),at(dt),console.log(et)},[]);const{data:ot}=useQuery("getWooyeon",()=>getDetailWooyeon(et),{suspense:!0,useErrorBoundary:!0,onSuccess(mt){console.log(mt)}});return jsxs(Box$1,{sx:{position:"relative",top:0,backgroundColor:tt.palette.background.paper},children:[jsx(Box$1,{sx:{width:"100%",aspectRatio:"1/1"},children:jsx(DetailImg,{wooyeon:ot})}),jsxs(Stack$1,{sx:{top:"-24px",position:"relative",paddingTop:"1rem"},spacing:2,children:[jsx(DetailContent,{wooyeon:ot}),jsx(DetailComment,{wooyeon:ot})]})]})}function Auth(){const[et]=useSearchParams(),tt=et.get("access_token"),[,rt]=Recoil_index_22(userState),[nt,at]=Recoil_index_22(filterState),[lt,dt]=Recoil_index_22(envState),ot=Recoil_index_25(filterState),mt=Recoil_index_25(envState),xt=useLocation();return reactExports.useEffect(()=>{console.log("test token: ",tt),console.log(xt),tt!==null?(ot(),mt(),at(nt),dt(lt),rt(Et=>({...Et,first:!0,access_token:tt}))):(at(nt),dt(lt))},[]),jsxs(Box$1,{sx:{height:"calc(100vh - 4rem)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"5rem"},children:[jsx(Typography$1,{variant:"h4",children:"로그인 시도 중..."}),jsx(Box$1,{sx:{py:7},children:jsx(CircularProgress$1,{size:64,thickness:2})})]})}function Error$1(){const et=useNavigate();return jsxs(Box$1,{sx:{height:"100vh",display:"flex",flexDirection:"column",padding:"2.5rem 1rem"},children:[jsxs(Box$1,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"1rem"},children:[jsx(i$4,{size:64}),jsxs(Typography$1,{variant:"body1",sx:{textAlign:"center"},children:["에러가 발생 하였습니다.",jsx("br",{}),"잠시 후 다시 시도해 주세요."]})]}),jsx(Box$1,{children:jsx(Button$1,{variant:"contained",sx:{width:"100%",borderRadius:"0.5rem"},onClick:()=>et("/"),children:"돌아가기"})})]})}const getUser=async()=>await fetch(`${BACK_URL}/user`,{method:"GET",headers:{credentials:"include","Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYjRmMDUxNTAtOGNiMC00NzVhLWIzYzYtZDM4MjM0OWM5NTNjIiwibmFtZSI6IuydtOuPhOqyvSIsImVtYWlsIjoiZG85OEBrYWthby5jb20iLCJyb2xlIjoiVVNFUiIsImlhdCI6MTY4NjExNDk1MSwiZXhwIjoxNjg2MjAxMzUxfQ.yHoGiXAFZt_a4A0RMyGVFC3kDvz1W8hjxfAHBDaG-_c"}}).then(tt=>tt.json()),Router=()=>{const[et,tt]=Recoil_index_22(userState);useQuery("getUser",getUser,{onSuccess(nt){tt(at=>({...at,user_id:nt.user_id,name:nt.name,create_at:nt.create_at,role:nt.role}))}});const rt=createBrowserRouter([{path:"auth/",element:jsx(MainWrapper,{isHeader:!1}),children:[{index:!0,element:jsx(LoginPage,{}),loader:()=>!!et.first&&redirect("/auth/cate")},{path:"kakao/redirect",element:jsx(Auth,{}),loader:()=>!!et.first&&redirect("/auth/cate")},{path:"cate",element:jsx(CategoryPage,{})}],loader:()=>et.role!=="GUEST"&&redirect("/")},{path:"/",element:jsx(MainWrapper,{isHeader:!0}),errorElement:jsx(Error$1,{}),children:[{path:"/",element:jsx(Main,{}),children:[{index:!0,element:jsx(Search,{})},{path:"previous",element:jsx(Past,{})}]},{path:"add-post/",element:jsx(HeaderAddPost,{}),children:[{index:!0,element:jsx(MapAddPost,{})},{path:"category",element:jsx(CategoryAddPost,{})},{path:"content",element:jsx(ContentAddPost,{})}]},{path:"notification",element:jsx(Notification,{})},{path:"mypage/",children:[{index:!0,element:jsx(Mypage,{})},{path:"edit",element:jsx(EditProfile,{})},{path:"setting",element:jsx(SettingPage$1,{})}]},{path:"detail/:post_id",element:jsx(Detail,{})}],loader:()=>et.role==="GUEST"&&redirect("/auth")}]);return jsx(RouterProvider,{router:rt})},GlobalStyleWrapper=newStyled("div")(({theme:et})=>({height:"100%",backgroundColor:(et==null?void 0:et.palette.mode)==="dark"?"#262626":grey$1[100]})),ErrorBoundaryContext=reactExports.createContext(null),initialState={didCatch:!1,error:null};class ErrorBoundary extends reactExports.Component{constructor(tt){super(tt),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=initialState}static getDerivedStateFromError(tt){return{didCatch:!0,error:tt}}resetErrorBoundary(...tt){var nt,at;const{error:rt}=this.state;rt!==null&&((at=(nt=this.props).onReset)==null||at.call(nt,{args:tt,reason:"imperative-api"}),this.setState(initialState))}componentDidCatch(tt,rt){var nt,at;(at=(nt=this.props).onError)==null||at.call(nt,tt,rt)}componentDidUpdate(tt,rt){var lt,dt;const{didCatch:nt}=this.state,{resetKeys:at}=this.props;nt&&rt.error!==null&&hasArrayChanged(tt.resetKeys,at)&&((dt=(lt=this.props).onReset)==null||dt.call(lt,{next:at,prev:tt.resetKeys,reason:"keys"}),this.setState(initialState))}render(){const{children:tt,fallbackRender:rt,FallbackComponent:nt,fallback:at}=this.props,{didCatch:lt,error:dt}=this.state;let ot=tt;if(lt){const mt={error:dt,resetErrorBoundary:this.resetErrorBoundary};if(reactExports.isValidElement(at))ot=at;else if(typeof rt=="function")ot=rt(mt);else if(nt)ot=reactExports.createElement(nt,mt);else throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return reactExports.createElement(ErrorBoundaryContext.Provider,{value:{didCatch:lt,error:dt,resetErrorBoundary:this.resetErrorBoundary}},ot)}}function hasArrayChanged(et=[],tt=[]){return et.length!==tt.length||et.some((rt,nt)=>!Object.is(rt,tt[nt]))}function App(){const[et]=Recoil_index_22(envState),[tt]=Recoil_index_22(userState),rt=window.matchMedia("(prefers-color-scheme: dark)"),[nt,at]=reactExports.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches?darkTheme:lightTheme),lt=new QueryClient,dt=()=>{rt.matches===!0?at(darkTheme):at(lightTheme)};return reactExports.useEffect(()=>{et.theme!=="system"?et.theme==="dark"?at(darkTheme):at(lightTheme):dt()},[et]),reactExports.useEffect(()=>{if(localStorage.getItem("isFlutter")==="1"&&tt.role!=="GUEST"&&Synch.postMessage("run"),et.theme==="system")return rt.addEventListener("change",dt),()=>{rt.removeEventListener("change",dt)}},[]),jsxs(ThemeProvider,{theme:nt,children:[jsx(CssBaseline,{}),jsx(GlobalStyles,{styles:{body:{userSelect:"none",touchAction:"pan-x",backgroundColor:et.theme==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"#262626":grey$1[100]:et.theme==="dark"?"#262626":grey$1[100]},touchAction:"none"}}),jsx(GlobalStyleWrapper,{children:jsx(QueryErrorResetBoundary,{children:({reset:ot})=>jsx(ErrorBoundary,{onReset:ot,fallbackRender:({resetErrorBoundary:mt})=>jsxs("div",{children:["There was an error!",jsx(Button$1,{onClick:()=>mt(),children:"Try again"})]}),children:jsx(QueryClientProvider,{client:lt,children:jsx(Router,{})})})})})]})}client.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(Recoil_index_5,{children:jsx(StyledEngineProvider,{injectFirst:!0,children:jsx(App,{})})})}));export{Box$1 as B,Fragment as F,MobileStepper$1 as M,SwipeableViews as S,Typography$1 as T,jsx as a,getTypographyUtilityClass as g,jsxs as j,reactExports as r,typographyClasses$1 as t};
